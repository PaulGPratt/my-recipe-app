var UO=Object.defineProperty;var VO=(t,e,n)=>e in t?UO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yt=(t,e,n)=>(VO(t,typeof e!="symbol"?e+"":e,n),n);function _C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MC={exports:{}},Zh={},PC={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),WO=Symbol.for("react.portal"),HO=Symbol.for("react.fragment"),KO=Symbol.for("react.strict_mode"),GO=Symbol.for("react.profiler"),qO=Symbol.for("react.provider"),JO=Symbol.for("react.context"),YO=Symbol.for("react.forward_ref"),XO=Symbol.for("react.suspense"),QO=Symbol.for("react.memo"),ZO=Symbol.for("react.lazy"),u1=Symbol.iterator;function eD(t){return t===null||typeof t!="object"?null:(t=u1&&t[u1]||t["@@iterator"],typeof t=="function"?t:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OC=Object.assign,DC={};function pl(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||AC}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LC(){}LC.prototype=pl.prototype;function Hv(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||AC}var Kv=Hv.prototype=new LC;Kv.constructor=Hv;OC(Kv,pl.prototype);Kv.isPureReactComponent=!0;var d1=Array.isArray,jC=Object.prototype.hasOwnProperty,Gv={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function zC(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)jC.call(e,r)&&!FC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pu,type:t,key:o,ref:s,props:i,_owner:Gv.current}}function tD(t,e){return{$$typeof:Pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pu}function nD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f1=/\/+/g;function lm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nD(""+t.key):e.toString(36)}function qd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Pu:case WO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lm(s,0):r,d1(i)?(n="",t!=null&&(n=t.replace(f1,"$&/")+"/"),qd(i,e,n,"",function(c){return c})):i!=null&&(qv(i)&&(i=tD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(f1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",d1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+lm(o,a);s+=qd(o,e,n,l,i)}else if(l=eD(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+lm(o,a++),s+=qd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function md(t,e,n){if(t==null)return t;var r=[],i=0;return qd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function rD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Jd={transition:null},iD={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:Gv};be.Children={map:md,forEach:function(t,e,n){md(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return md(t,function(){e++}),e},toArray:function(t){return md(t,function(e){return e})||[]},only:function(t){if(!qv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=pl;be.Fragment=HO;be.Profiler=GO;be.PureComponent=Hv;be.StrictMode=KO;be.Suspense=XO;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Gv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jC.call(e,l)&&!FC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pu,type:t.type,key:i,ref:o,props:r,_owner:s}};be.createContext=function(t){return t={$$typeof:JO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qO,_context:t},t.Consumer=t};be.createElement=zC;be.createFactory=function(t){var e=zC.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:YO,render:t}};be.isValidElement=qv;be.lazy=function(t){return{$$typeof:ZO,_payload:{_status:-1,_result:t},_init:rD}};be.memo=function(t,e){return{$$typeof:QO,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Jd.transition;Jd.transition={};try{t()}finally{Jd.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return Qt.current.useCallback(t,e)};be.useContext=function(t){return Qt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Qt.current.useEffect(t,e)};be.useId=function(){return Qt.current.useId()};be.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Qt.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};be.useRef=function(t){return Qt.current.useRef(t)};be.useState=function(t){return Qt.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Qt.current.useTransition()};be.version="18.2.0";PC.exports=be;var m=PC.exports;const Pn=Qh(m),$C=_C({__proto__:null,default:Pn},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD=m,sD=Symbol.for("react.element"),aD=Symbol.for("react.fragment"),lD=Object.prototype.hasOwnProperty,cD=oD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uD={key:!0,ref:!0,__self:!0,__source:!0};function BC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)lD.call(e,r)&&!uD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sD,type:t,key:o,ref:s,props:i,_owner:cD.current}}Zh.Fragment=aD;Zh.jsx=BC;Zh.jsxs=BC;MC.exports=Zh;var y=MC.exports,$g={},UC={exports:{}},Tn={},VC={exports:{}},WC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,D){var E=j.length;j.push(D);e:for(;0<E;){var J=E-1>>>1,le=j[J];if(0<i(le,D))j[J]=D,j[E]=le,E=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],E=j.pop();if(E!==D){j[0]=E;e:for(var J=0,le=j.length,T=le>>>1;J<T;){var Se=2*(J+1)-1,Z=j[Se],ee=Se+1,Te=j[ee];if(0>i(Z,E))ee<le&&0>i(Te,Z)?(j[J]=Te,j[ee]=E,J=ee):(j[J]=Z,j[Se]=E,J=Se);else if(ee<le&&0>i(Te,E))j[J]=Te,j[ee]=E,J=ee;else break e}}return D}function i(j,D){var E=j.sortIndex-D.sortIndex;return E!==0?E:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=j)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function C(j){if(g=!1,S(j),!p)if(n(l)!==null)p=!0,q(I);else{var D=n(c);D!==null&&ne(C,D.startTime-j)}}function I(j,D){p=!1,g&&(g=!1,v(k),k=-1),h=!0;var E=f;try{for(S(D),d=n(l);d!==null&&(!(d.expirationTime>D)||j&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var le=J(d.expirationTime<=D);D=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),S(D)}else r(l);d=n(l)}if(d!==null)var T=!0;else{var Se=n(c);Se!==null&&ne(C,Se.startTime-D),T=!1}return T}finally{d=null,f=E,h=!1}}var b=!1,_=null,k=-1,R=5,P=-1;function O(){return!(t.unstable_now()-P<R)}function A(){if(_!==null){var j=t.unstable_now();P=j;var D=!0;try{D=_(!0,j)}finally{D?U():(b=!1,_=null)}}else b=!1}var U;if(typeof w=="function")U=function(){w(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=A,U=function(){K.postMessage(null)}}else U=function(){x(A,0)};function q(j){_=j,b||(b=!0,U())}function ne(j,D){k=x(function(){j(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,q(I))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var E=f;f=D;try{return j()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var E=f;f=j;try{return D()}finally{f=E}},t.unstable_scheduleCallback=function(j,D,E){var J=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?J+E:J):E=J,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=E+le,j={id:u++,callback:D,priorityLevel:j,startTime:E,expirationTime:le,sortIndex:-1},E>J?(j.sortIndex=E,e(c,j),n(l)===null&&j===n(c)&&(g?(v(k),k=-1):g=!0,ne(C,E-J))):(j.sortIndex=le,e(l,j),p||h||(p=!0,q(I))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var D=f;return function(){var E=f;f=D;try{return j.apply(this,arguments)}finally{f=E}}}})(WC);VC.exports=WC;var dD=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=m,En=dD;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KC=new Set,qc={};function js(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(qc[t]=e,t=0;t<e.length;t++)KC.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,fD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h1={},p1={};function hD(t){return Bg.call(p1,t)?!0:Bg.call(h1,t)?!1:fD.test(t)?p1[t]=!0:(h1[t]=!0,!1)}function pD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mD(t,e,n,r){if(e===null||typeof e>"u"||pD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,Yv);Dt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,Yv);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,Yv);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xv(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mD(e,n,i,r)&&(n=null),r||i===null?hD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),ew=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),m1=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,cm;function Yl(t){if(cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var um=!1;function dm(t,e){if(!t||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yl(t):""}function gD(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=dm(t.type,!1),t;case 11:return t=dm(t.type.render,!1),t;case 1:return t=dm(t.type,!0),t;default:return""}}function Hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case fa:return"Portal";case Ug:return"Profiler";case Qv:return"StrictMode";case Vg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qC:return(t.displayName||"Context")+".Consumer";case GC:return(t._context.displayName||"Context")+".Provider";case Zv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ew:return e=t.displayName||null,e!==null?e:Hg(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Hg(t(e))}catch{}}return null}function yD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hg(e);case 8:return e===Qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vD(t){var e=YC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=vD(t))}function XC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Io(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QC(t,e){e=e.checked,e!=null&&Xv(t,"checked",e,!1)}function Gg(t,e){QC(t,e);var n=Io(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&qg(t,e.type,Io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qg(t,e,n){(e!=="number"||Jf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function Ia(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Io(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Xl(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Io(n)}}function ZC(t,e){var n=Io(e.value),r=Io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,tE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wD=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){wD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function nE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function rE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xD=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xg(t,e){if(e){if(xD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=null;function tw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ey=null,Na=null,Ra=null;function x1(t){if(t=Du(t)){if(typeof ey!="function")throw Error(V(280));var e=t.stateNode;e&&(e=ip(e),ey(t.stateNode,t.type,e))}}function iE(t){Na?Ra?Ra.push(t):Ra=[t]:Na=t}function oE(){if(Na){var t=Na,e=Ra;if(Ra=Na=null,x1(t),e)for(t=0;t<e.length;t++)x1(e[t])}}function sE(t,e){return t(e)}function aE(){}var fm=!1;function lE(t,e,n){if(fm)return t(e,n);fm=!0;try{return sE(t,e,n)}finally{fm=!1,(Na!==null||Ra!==null)&&(aE(),oE())}}function Yc(t,e){var n=t.stateNode;if(n===null)return null;var r=ip(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var ty=!1;if(mi)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){ty=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{ty=!1}function SD(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ic=!1,Yf=null,Xf=!1,ny=null,kD={onError:function(t){Ic=!0,Yf=t}};function bD(t,e,n,r,i,o,s,a,l){Ic=!1,Yf=null,SD.apply(kD,arguments)}function CD(t,e,n,r,i,o,s,a,l){if(bD.apply(this,arguments),Ic){if(Ic){var c=Yf;Ic=!1,Yf=null}else throw Error(V(198));Xf||(Xf=!0,ny=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S1(t){if(Fs(t)!==t)throw Error(V(188))}function ED(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return S1(i),t;if(o===r)return S1(i),e;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function uE(t){return t=ED(t),t!==null?dE(t):null}function dE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dE(t);if(e!==null)return e;t=t.sibling}return null}var fE=En.unstable_scheduleCallback,k1=En.unstable_cancelCallback,TD=En.unstable_shouldYield,ID=En.unstable_requestPaint,ut=En.unstable_now,ND=En.unstable_getCurrentPriorityLevel,nw=En.unstable_ImmediatePriority,hE=En.unstable_UserBlockingPriority,Qf=En.unstable_NormalPriority,RD=En.unstable_LowPriority,pE=En.unstable_IdlePriority,ep=null,Dr=null;function _D(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(ep,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:AD,MD=Math.log,PD=Math.LN2;function AD(t){return t>>>=0,t===0?32:31-(MD(t)/PD|0)|0}var wd=64,xd=4194304;function Ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ql(a):(o&=s,o!==0&&(r=Ql(o)))}else s=n&~i,s!==0?r=Ql(s):o!==0&&(r=Ql(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function OD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=OD(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mE(){var t=wd;return wd<<=1,!(wd&4194240)&&(wd=64),t}function hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function LD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function gE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yE,iw,vE,wE,xE,iy=!1,Sd=[],fo=null,ho=null,po=null,Xc=new Map,Qc=new Map,Qi=[],jD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b1(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(e.pointerId)}}function Ll(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Du(e),e!==null&&iw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FD(t,e,n,r,i){switch(e){case"focusin":return fo=Ll(fo,t,e,n,r,i),!0;case"dragenter":return ho=Ll(ho,t,e,n,r,i),!0;case"mouseover":return po=Ll(po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xc.set(o,Ll(Xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qc.set(o,Ll(Qc.get(o)||null,t,e,n,r,i)),!0}return!1}function SE(t){var e=ls(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=cE(n),e!==null){t.blockedOn=e,xE(t.priority,function(){vE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zg=r,n.target.dispatchEvent(r),Zg=null}else return e=Du(n),e!==null&&iw(e),t.blockedOn=n,!1;e.shift()}return!0}function C1(t,e,n){Yd(t)&&n.delete(e)}function zD(){iy=!1,fo!==null&&Yd(fo)&&(fo=null),ho!==null&&Yd(ho)&&(ho=null),po!==null&&Yd(po)&&(po=null),Xc.forEach(C1),Qc.forEach(C1)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,iy||(iy=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,zD)))}function Zc(t){function e(i){return jl(i,t)}if(0<Sd.length){jl(Sd[0],t);for(var n=1;n<Sd.length;n++){var r=Sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&jl(fo,t),ho!==null&&jl(ho,t),po!==null&&jl(po,t),Xc.forEach(e),Qc.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)SE(n),n.blockedOn===null&&Qi.shift()}var _a=Ti.ReactCurrentBatchConfig,eh=!0;function $D(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=1,ow(t,e,n,r)}finally{je=i,_a.transition=o}}function BD(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=4,ow(t,e,n,r)}finally{je=i,_a.transition=o}}function ow(t,e,n,r){if(eh){var i=oy(t,e,n,r);if(i===null)bm(t,e,r,th,n),b1(t,r);else if(FD(i,t,e,n,r))r.stopPropagation();else if(b1(t,r),e&4&&-1<jD.indexOf(t)){for(;i!==null;){var o=Du(i);if(o!==null&&yE(o),o=oy(t,e,n,r),o===null&&bm(t,e,r,th,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bm(t,e,r,null,n)}}var th=null;function oy(t,e,n,r){if(th=null,t=tw(r),t=ls(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return th=t,null}function kE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ND()){case nw:return 1;case hE:return 4;case Qf:case RD:return 16;case pE:return 536870912;default:return 16}default:return 16}}var oo=null,sw=null,Xd=null;function bE(){if(Xd)return Xd;var t,e=sw,n=e.length,r,i="value"in oo?oo.value:oo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Xd=i.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function E1(){return!1}function In(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kd:E1,this.isPropagationStopped=E1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aw=In(ml),Ou=tt({},ml,{view:0,detail:0}),UD=In(Ou),pm,mm,Fl,tp=tt({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(pm=t.screenX-Fl.screenX,mm=t.screenY-Fl.screenY):mm=pm=0,Fl=t),pm)},movementY:function(t){return"movementY"in t?t.movementY:mm}}),T1=In(tp),VD=tt({},tp,{dataTransfer:0}),WD=In(VD),HD=tt({},Ou,{relatedTarget:0}),gm=In(HD),KD=tt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),GD=In(KD),qD=tt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JD=In(qD),YD=tt({},ml,{data:0}),I1=In(YD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZD[t])?!!e[t]:!1}function lw(){return eL}var tL=tt({},Ou,{key:function(t){if(t.key){var e=XD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lw,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nL=In(tL),rL=tt({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N1=In(rL),iL=tt({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lw}),oL=In(iL),sL=tt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),aL=In(sL),lL=tt({},tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cL=In(lL),uL=[9,13,27,32],cw=mi&&"CompositionEvent"in window,Nc=null;mi&&"documentMode"in document&&(Nc=document.documentMode);var dL=mi&&"TextEvent"in window&&!Nc,CE=mi&&(!cw||Nc&&8<Nc&&11>=Nc),R1=String.fromCharCode(32),_1=!1;function EE(t,e){switch(t){case"keyup":return uL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function fL(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(_1=!0,R1);case"textInput":return t=e.data,t===R1&&_1?null:t;default:return null}}function hL(t,e){if(pa)return t==="compositionend"||!cw&&EE(t,e)?(t=bE(),Xd=sw=oo=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CE&&e.locale!=="ko"?null:e.data;default:return null}}var pL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pL[t.type]:e==="textarea"}function IE(t,e,n,r){iE(r),e=nh(e,"onChange"),0<e.length&&(n=new aw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rc=null,eu=null;function mL(t){FE(t,0)}function np(t){var e=ya(t);if(XC(e))return t}function gL(t,e){if(t==="change")return e}var NE=!1;if(mi){var ym;if(mi){var vm="oninput"in document;if(!vm){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),vm=typeof P1.oninput=="function"}ym=vm}else ym=!1;NE=ym&&(!document.documentMode||9<document.documentMode)}function A1(){Rc&&(Rc.detachEvent("onpropertychange",RE),eu=Rc=null)}function RE(t){if(t.propertyName==="value"&&np(eu)){var e=[];IE(e,eu,t,tw(t)),lE(mL,e)}}function yL(t,e,n){t==="focusin"?(A1(),Rc=e,eu=n,Rc.attachEvent("onpropertychange",RE)):t==="focusout"&&A1()}function vL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return np(eu)}function wL(t,e){if(t==="click")return np(e)}function xL(t,e){if(t==="input"||t==="change")return np(e)}function SL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:SL;function tu(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bg.call(e,i)||!cr(t[i],e[i]))return!1}return!0}function O1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D1(t,e){var n=O1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ME(){for(var t=window,e=Jf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jf(t.document)}return e}function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kL(t){var e=ME(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_E(n.ownerDocument.documentElement,n)){if(r!==null&&uw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=D1(n,o);var s=D1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bL=mi&&"documentMode"in document&&11>=document.documentMode,ma=null,sy=null,_c=null,ay=!1;function L1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ay||ma==null||ma!==Jf(r)||(r=ma,"selectionStart"in r&&uw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&tu(_c,r)||(_c=r,r=nh(sy,"onSelect"),0<r.length&&(e=new aw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},wm={},PE={};mi&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function rp(t){if(wm[t])return wm[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PE)return wm[t]=e[n];return t}var AE=rp("animationend"),OE=rp("animationiteration"),DE=rp("animationstart"),LE=rp("transitionend"),jE=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){jE.set(t,e),js(e,[t])}for(var xm=0;xm<j1.length;xm++){var Sm=j1[xm],CL=Sm.toLowerCase(),EL=Sm[0].toUpperCase()+Sm.slice(1);Lo(CL,"on"+EL)}Lo(AE,"onAnimationEnd");Lo(OE,"onAnimationIteration");Lo(DE,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(LE,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function F1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CD(r,e,void 0,t),t.currentTarget=null}function FE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;F1(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;F1(i,a,c),o=l}}}if(Xf)throw t=ny,Xf=!1,ny=null,t}function Ge(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(zE(e,t,2,!1),n.add(r))}function km(t,e,n){var r=0;e&&(r|=4),zE(n,t,r,e)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Cd]){t[Cd]=!0,KC.forEach(function(n){n!=="selectionchange"&&(TL.has(n)||km(n,!1,t),km(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cd]||(e[Cd]=!0,km("selectionchange",!1,e))}}function zE(t,e,n,r){switch(kE(e)){case 1:var i=$D;break;case 4:i=BD;break;default:i=ow}n=i.bind(null,e,n,t),i=void 0,!ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ls(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}lE(function(){var c=o,u=tw(n),d=[];e:{var f=jE.get(t);if(f!==void 0){var h=aw,p=t;switch(t){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":h=nL;break;case"focusin":p="focus",h=gm;break;case"focusout":p="blur",h=gm;break;case"beforeblur":case"afterblur":h=gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=WD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=oL;break;case AE:case OE:case DE:h=GD;break;case LE:h=aL;break;case"scroll":h=UD;break;case"wheel":h=cL;break;case"copy":case"cut":case"paste":h=JD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=N1}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=Yc(w,v),C!=null&&g.push(ru(w,C,S)))),x)break;w=w.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Zg&&(p=n.relatedTarget||n.fromElement)&&(ls(p)||p[gi]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?ls(p):null,p!==null&&(x=Fs(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=T1,C="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=N1,C="onPointerLeave",v="onPointerEnter",w="pointer"),x=h==null?f:ya(h),S=p==null?f:ya(p),f=new g(C,w+"leave",h,n,u),f.target=x,f.relatedTarget=S,C=null,ls(u)===c&&(g=new g(v,w+"enter",p,n,u),g.target=S,g.relatedTarget=x,C=g),x=C,h&&p)t:{for(g=h,v=p,w=0,S=g;S;S=Js(S))w++;for(S=0,C=v;C;C=Js(C))S++;for(;0<w-S;)g=Js(g),w--;for(;0<S-w;)v=Js(v),S--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Js(g),v=Js(v)}g=null}else g=null;h!==null&&z1(d,f,h,g,!1),p!==null&&x!==null&&z1(d,x,p,g,!0)}}e:{if(f=c?ya(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=gL;else if(M1(f))if(NE)I=xL;else{I=vL;var b=yL}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=wL);if(I&&(I=I(t,c))){IE(d,I,n,u);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&qg(f,"number",f.value)}switch(b=c?ya(c):window,t){case"focusin":(M1(b)||b.contentEditable==="true")&&(ma=b,sy=c,_c=null);break;case"focusout":_c=sy=ma=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,L1(d,n,u);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":L1(d,n,u)}var _;if(cw)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else pa?EE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(CE&&n.locale!=="ko"&&(pa||k!=="onCompositionStart"?k==="onCompositionEnd"&&pa&&(_=bE()):(oo=u,sw="value"in oo?oo.value:oo.textContent,pa=!0)),b=nh(c,k),0<b.length&&(k=new I1(k,t,null,n,u),d.push({event:k,listeners:b}),_?k.data=_:(_=TE(n),_!==null&&(k.data=_)))),(_=dL?fL(t,n):hL(t,n))&&(c=nh(c,"onBeforeInput"),0<c.length&&(u=new I1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}FE(d,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yc(t,n),o!=null&&r.unshift(ru(t,o,i)),o=Yc(t,e),o!=null&&r.push(ru(t,o,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Yc(n,o),l!=null&&s.unshift(ru(n,l,a))):i||(l=Yc(n,o),l!=null&&s.push(ru(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var IL=/\r\n?/g,NL=/\u0000|\uFFFD/g;function $1(t){return(typeof t=="string"?t:""+t).replace(IL,`
`).replace(NL,"")}function Ed(t,e,n){if(e=$1(e),$1(t)!==e&&n)throw Error(V(425))}function rh(){}var ly=null,cy=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=typeof setTimeout=="function"?setTimeout:void 0,RL=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,_L=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(t){return B1.resolve(null).then(t).catch(ML)}:dy;function ML(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zc(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),_r="__reactFiber$"+gl,iu="__reactProps$"+gl,gi="__reactContainer$"+gl,fy="__reactEvents$"+gl,PL="__reactListeners$"+gl,AL="__reactHandles$"+gl;function ls(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U1(t);t!==null;){if(n=t[_r])return n;t=U1(t)}return e}t=n,n=t.parentNode}return null}function Du(t){return t=t[_r]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function ip(t){return t[iu]||null}var hy=[],va=-1;function jo(t){return{current:t}}function Je(t){0>va||(t.current=hy[va],hy[va]=null,va--)}function Ue(t,e){va++,hy[va]=t.current,t.current=e}var No={},Vt=jo(No),ln=jo(!1),Cs=No;function Qa(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function ih(){Je(ln),Je(Vt)}function V1(t,e,n){if(Vt.current!==No)throw Error(V(168));Ue(Vt,e),Ue(ln,n)}function $E(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,yD(t)||"Unknown",i));return tt({},n,r)}function oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Cs=Vt.current,Ue(Vt,t),Ue(ln,ln.current),!0}function W1(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=$E(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,Je(ln),Je(Vt),Ue(Vt,t)):Je(ln),Ue(ln,n)}var ri=null,op=!1,Em=!1;function BE(t){ri===null?ri=[t]:ri.push(t)}function OL(t){op=!0,BE(t)}function Fo(){if(!Em&&ri!==null){Em=!0;var t=0,e=je;try{var n=ri;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,op=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),fE(nw,Fo),i}finally{je=e,Em=!1}}return null}var wa=[],xa=0,sh=null,ah=0,On=[],Dn=0,Es=null,oi=1,si="";function Xo(t,e){wa[xa++]=ah,wa[xa++]=sh,sh=t,ah=e}function UE(t,e,n){On[Dn++]=oi,On[Dn++]=si,On[Dn++]=Es,Es=t;var r=oi;t=si;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oi=1<<32-ar(e)+i|n<<i|r,si=o+t}else oi=1<<o|n<<i|r,si=t}function dw(t){t.return!==null&&(Xo(t,1),UE(t,1,0))}function fw(t){for(;t===sh;)sh=wa[--xa],wa[xa]=null,ah=wa[--xa],wa[xa]=null;for(;t===Es;)Es=On[--Dn],On[Dn]=null,si=On[--Dn],On[Dn]=null,oi=On[--Dn],On[Dn]=null}var kn=null,xn=null,Ye=!1,nr=null;function VE(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,xn=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:oi,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,xn=null,!0):!1;default:return!1}}function py(t){return(t.mode&1)!==0&&(t.flags&128)===0}function my(t){if(Ye){var e=xn;if(e){var n=e;if(!H1(t,e)){if(py(t))throw Error(V(418));e=mo(n.nextSibling);var r=kn;e&&H1(t,e)?VE(r,n):(t.flags=t.flags&-4097|2,Ye=!1,kn=t)}}else{if(py(t))throw Error(V(418));t.flags=t.flags&-4097|2,Ye=!1,kn=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Td(t){if(t!==kn)return!1;if(!Ye)return K1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=xn)){if(py(t))throw WE(),Error(V(418));for(;e;)VE(t,e),e=mo(e.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=kn?mo(t.stateNode.nextSibling):null;return!0}function WE(){for(var t=xn;t;)t=mo(t.nextSibling)}function Za(){xn=kn=null,Ye=!1}function hw(t){nr===null?nr=[t]:nr.push(t)}var DL=Ti.ReactCurrentBatchConfig;function Zn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lh=jo(null),ch=null,Sa=null,pw=null;function mw(){pw=Sa=ch=null}function gw(t){var e=lh.current;Je(lh),t._currentValue=e}function gy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){ch=t,pw=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(pw!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(ch===null)throw Error(V(308));Sa=t,ch.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var cs=null;function yw(t){cs===null?cs=[t]:cs.push(t)}function HE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yw(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function vw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,yw(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}function G1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uh(t,e,n,r){var i=t.updateQueue;qi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=tt({},d,f);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Is|=s,t.lanes=s,t.memoizedState=d}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var GE=new HC.Component().refs;function yy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sp={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=vo(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=vo(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=vo(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=go(t,i,r),e!==null&&(lr(e,t,r,n),Zd(e,t,r))}};function J1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,o):!0}function qE(t,e,n){var r=!1,i=No,o=e.contextType;return typeof o=="object"&&o!==null?o=Vn(o):(i=cn(e)?Cs:Vt.current,r=e.contextTypes,o=(r=r!=null)?Qa(t,i):No),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sp.enqueueReplaceState(e,e.state,null)}function vy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=GE,vw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Vn(o):(o=cn(e)?Cs:Vt.current,i.context=Qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(yy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sp.enqueueReplaceState(i,i.state,null),uh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===GE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Id(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X1(t){var e=t._init;return e(t._payload)}function JE(t){function e(v,w){if(t){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=wo(v,w),v.index=0,v.sibling=null,v}function o(v,w,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,S,C){return w===null||w.tag!==6?(w=Pm(S,v.mode,C),w.return=v,w):(w=i(w,S),w.return=v,w)}function l(v,w,S,C){var I=S.type;return I===ha?u(v,w,S.props.children,C,S.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Gi&&X1(I)===w.type)?(C=i(w,S.props),C.ref=zl(v,w,S),C.return=v,C):(C=sf(S.type,S.key,S.props,null,v.mode,C),C.ref=zl(v,w,S),C.return=v,C)}function c(v,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Am(S,v.mode,C),w.return=v,w):(w=i(w,S.children||[]),w.return=v,w)}function u(v,w,S,C,I){return w===null||w.tag!==7?(w=ms(S,v.mode,C,I),w.return=v,w):(w=i(w,S),w.return=v,w)}function d(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pm(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:return S=sf(w.type,w.key,w.props,null,v.mode,S),S.ref=zl(v,null,w),S.return=v,S;case fa:return w=Am(w,v.mode,S),w.return=v,w;case Gi:var C=w._init;return d(v,C(w._payload),S)}if(Xl(w)||Ol(w))return w=ms(w,v.mode,S,null),w.return=v,w;Id(v,w)}return null}function f(v,w,S,C){var I=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:a(v,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gd:return S.key===I?l(v,w,S,C):null;case fa:return S.key===I?c(v,w,S,C):null;case Gi:return I=S._init,f(v,w,I(S._payload),C)}if(Xl(S)||Ol(S))return I!==null?null:u(v,w,S,C,null);Id(v,S)}return null}function h(v,w,S,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,a(w,v,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gd:return v=v.get(C.key===null?S:C.key)||null,l(w,v,C,I);case fa:return v=v.get(C.key===null?S:C.key)||null,c(w,v,C,I);case Gi:var b=C._init;return h(v,w,S,b(C._payload),I)}if(Xl(C)||Ol(C))return v=v.get(S)||null,u(w,v,C,I,null);Id(w,C)}return null}function p(v,w,S,C){for(var I=null,b=null,_=w,k=w=0,R=null;_!==null&&k<S.length;k++){_.index>k?(R=_,_=null):R=_.sibling;var P=f(v,_,S[k],C);if(P===null){_===null&&(_=R);break}t&&_&&P.alternate===null&&e(v,_),w=o(P,w,k),b===null?I=P:b.sibling=P,b=P,_=R}if(k===S.length)return n(v,_),Ye&&Xo(v,k),I;if(_===null){for(;k<S.length;k++)_=d(v,S[k],C),_!==null&&(w=o(_,w,k),b===null?I=_:b.sibling=_,b=_);return Ye&&Xo(v,k),I}for(_=r(v,_);k<S.length;k++)R=h(_,v,k,S[k],C),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?k:R.key),w=o(R,w,k),b===null?I=R:b.sibling=R,b=R);return t&&_.forEach(function(O){return e(v,O)}),Ye&&Xo(v,k),I}function g(v,w,S,C){var I=Ol(S);if(typeof I!="function")throw Error(V(150));if(S=I.call(S),S==null)throw Error(V(151));for(var b=I=null,_=w,k=w=0,R=null,P=S.next();_!==null&&!P.done;k++,P=S.next()){_.index>k?(R=_,_=null):R=_.sibling;var O=f(v,_,P.value,C);if(O===null){_===null&&(_=R);break}t&&_&&O.alternate===null&&e(v,_),w=o(O,w,k),b===null?I=O:b.sibling=O,b=O,_=R}if(P.done)return n(v,_),Ye&&Xo(v,k),I;if(_===null){for(;!P.done;k++,P=S.next())P=d(v,P.value,C),P!==null&&(w=o(P,w,k),b===null?I=P:b.sibling=P,b=P);return Ye&&Xo(v,k),I}for(_=r(v,_);!P.done;k++,P=S.next())P=h(_,v,k,P.value,C),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?k:P.key),w=o(P,w,k),b===null?I=P:b.sibling=P,b=P);return t&&_.forEach(function(A){return e(v,A)}),Ye&&Xo(v,k),I}function x(v,w,S,C){if(typeof S=="object"&&S!==null&&S.type===ha&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gd:e:{for(var I=S.key,b=w;b!==null;){if(b.key===I){if(I=S.type,I===ha){if(b.tag===7){n(v,b.sibling),w=i(b,S.props.children),w.return=v,v=w;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Gi&&X1(I)===b.type){n(v,b.sibling),w=i(b,S.props),w.ref=zl(v,b,S),w.return=v,v=w;break e}n(v,b);break}else e(v,b);b=b.sibling}S.type===ha?(w=ms(S.props.children,v.mode,C,S.key),w.return=v,v=w):(C=sf(S.type,S.key,S.props,null,v.mode,C),C.ref=zl(v,w,S),C.return=v,v=C)}return s(v);case fa:e:{for(b=S.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(v,w.sibling),w=i(w,S.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Am(S,v.mode,C),w.return=v,v=w}return s(v);case Gi:return b=S._init,x(v,w,b(S._payload),C)}if(Xl(S))return p(v,w,S,C);if(Ol(S))return g(v,w,S,C);Id(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,S),w.return=v,v=w):(n(v,w),w=Pm(S,v.mode,C),w.return=v,v=w),s(v)):n(v,w)}return x}var el=JE(!0),YE=JE(!1),Lu={},Lr=jo(Lu),ou=jo(Lu),su=jo(Lu);function us(t){if(t===Lu)throw Error(V(174));return t}function ww(t,e){switch(Ue(su,e),Ue(ou,t),Ue(Lr,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yg(e,t)}Je(Lr),Ue(Lr,e)}function tl(){Je(Lr),Je(ou),Je(su)}function XE(t){us(su.current);var e=us(Lr.current),n=Yg(e,t.type);e!==n&&(Ue(ou,t),Ue(Lr,n))}function xw(t){ou.current===t&&(Je(Lr),Je(ou))}var Ze=jo(0);function dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tm=[];function Sw(){for(var t=0;t<Tm.length;t++)Tm[t]._workInProgressVersionPrimary=null;Tm.length=0}var ef=Ti.ReactCurrentDispatcher,Im=Ti.ReactCurrentBatchConfig,Ts=0,et=null,vt=null,kt=null,fh=!1,Mc=!1,au=0,LL=0;function jt(){throw Error(V(321))}function kw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function bw(t,e,n,r,i,o){if(Ts=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?$L:BL,t=n(r,i),Mc){o=0;do{if(Mc=!1,au=0,25<=o)throw Error(V(301));o+=1,kt=vt=null,e.updateQueue=null,ef.current=UL,t=n(r,i)}while(Mc)}if(ef.current=hh,e=vt!==null&&vt.next!==null,Ts=0,kt=vt=et=null,fh=!1,e)throw Error(V(300));return t}function Cw(){var t=au!==0;return au=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?et.memoizedState=kt=t:kt=kt.next=t,kt}function Wn(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=kt===null?et.memoizedState:kt.next;if(e!==null)kt=e,vt=t;else{if(t===null)throw Error(V(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?et.memoizedState=kt=t:kt=kt.next=t}return kt}function lu(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ts&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,et.lanes|=u,Is|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,cr(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Is|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);cr(o,e.memoizedState)||(an=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function QE(){}function ZE(t,e){var n=et,r=Wn(),i=e(),o=!cr(r.memoizedState,i);if(o&&(r.memoizedState=i,an=!0),r=r.queue,Ew(nT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,cu(9,tT.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(V(349));Ts&30||eT(n,e,i)}return i}function eT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tT(t,e,n,r){e.value=n,e.getSnapshot=r,rT(e)&&iT(t)}function nT(t,e,n){return n(function(){rT(e)&&iT(t)})}function rT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function iT(t){var e=yi(t,1);e!==null&&lr(e,t,1,-1)}function Q1(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=zL.bind(null,et,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oT(){return Wn().memoizedState}function tf(t,e,n,r){var i=Ir();et.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function ap(t,e,n,r){var i=Wn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var s=vt.memoizedState;if(o=s.destroy,r!==null&&kw(r,s.deps)){i.memoizedState=cu(e,n,o,r);return}}et.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function Z1(t,e){return tf(8390656,8,t,e)}function Ew(t,e){return ap(2048,8,t,e)}function sT(t,e){return ap(4,2,t,e)}function aT(t,e){return ap(4,4,t,e)}function lT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cT(t,e,n){return n=n!=null?n.concat([t]):null,ap(4,4,lT.bind(null,e,t),n)}function Tw(){}function uT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fT(t,e,n){return Ts&21?(cr(n,e)||(n=mE(),et.lanes|=n,Is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function jL(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Im.transition;Im.transition={};try{t(!1),e()}finally{je=n,Im.transition=r}}function hT(){return Wn().memoizedState}function FL(t,e,n){var r=vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pT(t))mT(e,n);else if(n=HE(t,e,n,r),n!==null){var i=Gt();lr(n,t,r,i),gT(n,e,r)}}function zL(t,e,n){var r=vo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pT(t))mT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,cr(a,s)){var l=e.interleaved;l===null?(i.next=i,yw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=HE(t,e,i,r),n!==null&&(i=Gt(),lr(n,t,r,i),gT(n,e,r))}}function pT(t){var e=t.alternate;return t===et||e!==null&&e===et}function mT(t,e){Mc=fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}var hh={readContext:Vn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},$L={readContext:Vn,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:Z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,lT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FL.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:Q1,useDebugValue:Tw,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=Q1(!1),e=t[0];return t=jL.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Ir();if(Ye){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),bt===null)throw Error(V(349));Ts&30||eT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Z1(nT.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,tT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=bt.identifierPrefix;if(Ye){var n=si,r=oi;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BL={readContext:Vn,useCallback:uT,useContext:Vn,useEffect:Ew,useImperativeHandle:cT,useInsertionEffect:sT,useLayoutEffect:aT,useMemo:dT,useReducer:Nm,useRef:oT,useState:function(){return Nm(lu)},useDebugValue:Tw,useDeferredValue:function(t){var e=Wn();return fT(e,vt.memoizedState,t)},useTransition:function(){var t=Nm(lu)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:ZE,useId:hT,unstable_isNewReconciler:!1},UL={readContext:Vn,useCallback:uT,useContext:Vn,useEffect:Ew,useImperativeHandle:cT,useInsertionEffect:sT,useLayoutEffect:aT,useMemo:dT,useReducer:Rm,useRef:oT,useState:function(){return Rm(lu)},useDebugValue:Tw,useDeferredValue:function(t){var e=Wn();return vt===null?e.memoizedState=t:fT(e,vt.memoizedState,t)},useTransition:function(){var t=Rm(lu)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:ZE,useId:hT,unstable_isNewReconciler:!1};function nl(t,e){try{var n="",r=e;do n+=gD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function _m(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function yT(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mh||(mh=!0,Ry=r),wy(t,e)},n}function vT(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wy(t,e),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r2.bind(null,t,e,n),e.then(t,t))}function tS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var WL=Ti.ReactCurrentOwner,an=!1;function Kt(t,e,n,r){e.child=t===null?YE(e,null,n,r):el(e,t.child,n,r)}function rS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=bw(t,e,n,r,o,i),n=Cw(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ye&&n&&dw(e),e.flags|=1,Kt(t,e,r,i),e.child)}function iS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ow(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,wT(t,e,o,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(s,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function wT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tu(o,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,vi(t,e,i)}return xy(t,e,n,r,i)}function xT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ba,gn),gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(ba,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(ba,gn),gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(ba,gn),gn|=r;return Kt(t,e,i,n),e.child}function ST(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xy(t,e,n,r,i){var o=cn(n)?Cs:Vt.current;return o=Qa(e,o),Ma(e,i),n=bw(t,e,n,r,o,i),r=Cw(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ye&&r&&dw(e),e.flags|=1,Kt(t,e,n,i),e.child)}function oS(t,e,n,r,i){if(cn(n)){var o=!0;oh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)nf(t,e),qE(e,n,r),vy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vn(c):(c=cn(n)?Cs:Vt.current,c=Qa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Y1(e,s,r,c),qi=!1;var f=e.memoizedState;s.state=f,uh(e,r,s,i),l=e.memoizedState,a!==r||f!==l||ln.current||qi?(typeof u=="function"&&(yy(e,n,u,r),l=e.memoizedState),(a=qi||J1(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,KE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zn(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=cn(n)?Cs:Vt.current,l=Qa(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Y1(e,s,r,l),qi=!1,f=e.memoizedState,s.state=f,uh(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||ln.current||qi?(typeof h=="function"&&(yy(e,n,h,r),p=e.memoizedState),(c=qi||J1(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Sy(t,e,n,r,o,i)}function Sy(t,e,n,r,i,o){ST(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&W1(e,n,!1),vi(t,e,o);r=e.stateNode,WL.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=el(e,t.child,null,o),e.child=el(e,null,a,o)):Kt(t,e,a,o),e.memoizedState=r.state,i&&W1(e,n,!0),e.child}function kT(t){var e=t.stateNode;e.pendingContext?V1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V1(t,e.context,!1),ww(t,e.containerInfo)}function sS(t,e,n,r,i){return Za(),hw(i),e.flags|=256,Kt(t,e,n,r),e.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function bT(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ze,i&1),t===null)return my(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=up(s,r,0,null),t=ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=by(n),e.memoizedState=ky,t):Iw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HL(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wo(a,o):(o=ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?by(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ky,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iw(t,e){return e=up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nd(t,e,n,r){return r!==null&&hw(r),el(e,t.child,null,n),t=Iw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HL(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=_m(Error(V(422))),Nd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=up({mode:"visible",children:r.children},i,0,null),o=ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&el(e,t.child,null,s),e.child.memoizedState=by(s),e.memoizedState=ky,o);if(!(e.mode&1))return Nd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(V(419)),r=_m(o,r,void 0),Nd(t,e,s,r)}if(a=(s&t.childLanes)!==0,an||a){if(r=bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yi(t,i),lr(r,t,i,-1))}return Aw(),r=_m(Error(V(421))),Nd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xn=mo(i.nextSibling),kn=e,Ye=!0,nr=null,t!==null&&(On[Dn++]=oi,On[Dn++]=si,On[Dn++]=Es,oi=t.id,si=t.overflow,Es=e),e=Iw(e,r.children),e.flags|=4096,e)}function aS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gy(t.return,e,n)}function Mm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function CT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aS(t,n,e);else if(t.tag===19)aS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,o);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KL(t,e,n){switch(e.tag){case 3:kT(e),Za();break;case 5:XE(e);break;case 1:cn(e.type)&&oh(e);break;case 4:ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(lh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?bT(t,e,n):(Ue(Ze,Ze.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Ue(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,xT(t,e,n)}return vi(t,e,n)}var ET,Cy,TT,IT;ET=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cy=function(){};TT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(Lr.current);var o=null;switch(n){case"input":i=Kg(t,i),r=Kg(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Jg(t,i),r=Jg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rh)}Xg(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};IT=function(t,e,n,r){n!==r&&(e.flags|=4)};function $l(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GL(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return cn(e.type)&&ih(),Ft(e),null;case 3:return r=e.stateNode,tl(),Je(ln),Je(Vt),Sw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(Py(nr),nr=null))),Cy(t,e),Ft(e),null;case 5:xw(e);var i=us(su.current);if(n=e.type,t!==null&&e.stateNode!=null)TT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Ft(e),null}if(t=us(Lr.current),Td(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_r]=e,r[iu]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Zl.length;i++)Ge(Zl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":g1(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":v1(r,o),Ge("invalid",r)}Xg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),i=["children",""+a]):qc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":yd(r),y1(r,o,!0);break;case"textarea":yd(r),w1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_r]=e,t[iu]=r,ET(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qg(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zl.length;i++)Ge(Zl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":g1(t,r),i=Kg(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":v1(t,r),i=Jg(t,r),Ge("invalid",t);break;default:i=r}Xg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?rE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jc(t,l):typeof l=="number"&&Jc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&Xv(t,o,l,s))}switch(n){case"input":yd(t),y1(t,r,!1);break;case"textarea":yd(t),w1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Io(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ia(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)IT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=us(su.current),us(Lr.current),Td(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Ft(e),null;case 13:if(Je(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&xn!==null&&e.mode&1&&!(e.flags&128))WE(),Za(),e.flags|=98560,o=!1;else if(o=Td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(V(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[_r]=e}else Za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),o=!1}else nr!==null&&(Py(nr),nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?wt===0&&(wt=3):Aw())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return tl(),Cy(t,e),t===null&&nu(e.stateNode.containerInfo),Ft(e),null;case 10:return gw(e.type._context),Ft(e),null;case 17:return cn(e.type)&&ih(),Ft(e),null;case 19:if(Je(Ze),o=e.memoizedState,o===null)return Ft(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)$l(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=dh(t),s!==null){for(e.flags|=128,$l(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>rl&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304)}else{if(!r)if(t=dh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Ft(e),null}else 2*ut()-o.renderingStartTime>rl&&n!==1073741824&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=Ze.current,Ue(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function qL(t,e){switch(fw(e),e.tag){case 1:return cn(e.type)&&ih(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),Je(ln),Je(Vt),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xw(e),null;case 13:if(Je(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(Ze),null;case 4:return tl(),null;case 10:return gw(e.type._context),null;case 22:case 23:return Pw(),null;case 24:return null;default:return null}}var Rd=!1,$t=!1,JL=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Ey(t,e,n){try{n()}catch(r){ot(t,e,r)}}var lS=!1;function YL(t,e){if(ly=eh,t=ME(),uw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cy={focusedElem:t,selectionRange:n},eh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zn(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(C){ot(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=lS,lS=!1,p}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ey(e,n,o)}i=i.next}while(i!==r)}}function lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ty(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NT(t){var e=t.alternate;e!==null&&(t.alternate=null,NT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[iu],delete e[fy],delete e[PL],delete e[AL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RT(t){return t.tag===5||t.tag===3||t.tag===4}function cS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rh));else if(r!==4&&(t=t.child,t!==null))for(Iy(t,e,n),t=t.sibling;t!==null;)Iy(t,e,n),t=t.sibling}function Ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ny(t,e,n),t=t.sibling;t!==null;)Ny(t,e,n),t=t.sibling}var It=null,er=!1;function Ai(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(ep,n)}catch{}switch(n.tag){case 5:$t||ka(n,e);case 6:var r=It,i=er;It=null,Ai(t,e,n),It=r,er=i,It!==null&&(er?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(er?(t=It,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Zc(t)):Cm(It,n.stateNode));break;case 4:r=It,i=er,It=n.stateNode.containerInfo,er=!0,Ai(t,e,n),It=r,er=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ey(n,e,s),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!$t&&(ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Ai(t,e,n),$t=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function uS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JL),e.forEach(function(r){var i=o2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,er=!1;break e;case 3:It=a.stateNode.containerInfo,er=!0;break e;case 4:It=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(It===null)throw Error(V(160));_T(o,s,i),It=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ot(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MT(e,t),e=e.sibling}function MT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Cr(t),r&4){try{Pc(3,t,t.return),lp(3,t)}catch(g){ot(t,t.return,g)}try{Pc(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Xn(e,t),Cr(t),r&512&&n!==null&&ka(n,n.return);break;case 5:if(Xn(e,t),Cr(t),r&512&&n!==null&&ka(n,n.return),t.flags&32){var i=t.stateNode;try{Jc(i,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&QC(i,o),Qg(a,s);var c=Qg(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?rE(i,d):u==="dangerouslySetInnerHTML"?tE(i,d):u==="children"?Jc(i,d):Xv(i,u,d,c)}switch(a){case"input":Gg(i,o);break;case"textarea":ZC(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ia(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ia(i,!!o.multiple,o.defaultValue,!0):Ia(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(g){ot(t,t.return,g)}}break;case 6:if(Xn(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ot(t,t.return,g)}}break;case 3:if(Xn(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Xn(e,t),Cr(t);break;case 13:Xn(e,t),Cr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_w=ut())),r&4&&uS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||u,Xn(e,t),$t=c):Xn(e,t),Cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Pc(4,f,f.return);break;case 1:ka(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){fS(d);continue}}h!==null?(h.return=f,Q=h):fS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nE("display",s))}catch(g){ot(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ot(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(e,t),Cr(t),r&4&&uS(t);break;case 21:break;default:Xn(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RT(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jc(i,""),r.flags&=-33);var o=cS(t);Ny(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cS(t);Iy(t,a,s);break;default:throw Error(V(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XL(t,e,n){Q=t,PT(t)}function PT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Rd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Rd;var c=$t;if(Rd=s,($t=l)&&!c)for(Q=i;Q!==null;)s=Q,l=s.child,s.tag===22&&s.memoizedState!==null?hS(i):l!==null?(l.return=s,Q=l):hS(i);for(;o!==null;)Q=o,PT(o),o=o.sibling;Q=i,Rd=a,$t=c}dS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):dS(t)}}function dS(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||lp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&q1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Zc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}$t||e.flags&512&&Ty(e)}catch(f){ot(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function fS(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function hS(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lp(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var o=e.return;try{Ty(e)}catch(l){ot(e,o,l)}break;case 5:var s=e.return;try{Ty(e)}catch(l){ot(e,s,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var QL=Math.ceil,ph=Ti.ReactCurrentDispatcher,Nw=Ti.ReactCurrentOwner,$n=Ti.ReactCurrentBatchConfig,Re=0,bt=null,mt=null,Ot=0,gn=0,ba=jo(0),wt=0,uu=null,Is=0,cp=0,Rw=0,Ac=null,on=null,_w=0,rl=1/0,ti=null,mh=!1,Ry=null,yo=null,_d=!1,so=null,gh=0,Oc=0,_y=null,rf=-1,of=0;function Gt(){return Re&6?ut():rf!==-1?rf:rf=ut()}function vo(t){return t.mode&1?Re&2&&Ot!==0?Ot&-Ot:DL.transition!==null?(of===0&&(of=mE()),of):(t=je,t!==0||(t=window.event,t=t===void 0?16:kE(t.type)),t):1}function lr(t,e,n,r){if(50<Oc)throw Oc=0,_y=null,Error(V(185));Au(t,n,r),(!(Re&2)||t!==bt)&&(t===bt&&(!(Re&2)&&(cp|=n),wt===4&&Zi(t,Ot)),un(t,r),n===1&&Re===0&&!(e.mode&1)&&(rl=ut()+500,op&&Fo()))}function un(t,e){var n=t.callbackNode;DD(t,e);var r=Zf(t,t===bt?Ot:0);if(r===0)n!==null&&k1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k1(n),e===1)t.tag===0?OL(pS.bind(null,t)):BE(pS.bind(null,t)),_L(function(){!(Re&6)&&Fo()}),n=null;else{switch(gE(r)){case 1:n=nw;break;case 4:n=hE;break;case 16:n=Qf;break;case 536870912:n=pE;break;default:n=Qf}n=$T(n,AT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AT(t,e){if(rf=-1,of=0,Re&6)throw Error(V(327));var n=t.callbackNode;if(Pa()&&t.callbackNode!==n)return null;var r=Zf(t,t===bt?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yh(t,r);else{e=r;var i=Re;Re|=2;var o=DT();(bt!==t||Ot!==e)&&(ti=null,rl=ut()+500,ps(t,e));do try{t2();break}catch(a){OT(t,a)}while(1);mw(),ph.current=o,Re=i,mt!==null?e=0:(bt=null,Ot=0,e=wt)}if(e!==0){if(e===2&&(i=ry(t),i!==0&&(r=i,e=My(t,i))),e===1)throw n=uu,ps(t,0),Zi(t,r),un(t,ut()),n;if(e===6)Zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZL(i)&&(e=yh(t,r),e===2&&(o=ry(t),o!==0&&(r=o,e=My(t,o))),e===1))throw n=uu,ps(t,0),Zi(t,r),un(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Qo(t,on,ti);break;case 3:if(Zi(t,r),(r&130023424)===r&&(e=_w+500-ut(),10<e)){if(Zf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dy(Qo.bind(null,t,on,ti),e);break}Qo(t,on,ti);break;case 4:if(Zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QL(r/1960))-r,10<r){t.timeoutHandle=dy(Qo.bind(null,t,on,ti),r);break}Qo(t,on,ti);break;case 5:Qo(t,on,ti);break;default:throw Error(V(329))}}}return un(t,ut()),t.callbackNode===n?AT.bind(null,t):null}function My(t,e){var n=Ac;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=yh(t,e),t!==2&&(e=on,on=n,e!==null&&Py(e)),t}function Py(t){on===null?on=t:on.push.apply(on,t)}function ZL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e){for(e&=~Rw,e&=~cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function pS(t){if(Re&6)throw Error(V(327));Pa();var e=Zf(t,0);if(!(e&1))return un(t,ut()),null;var n=yh(t,e);if(t.tag!==0&&n===2){var r=ry(t);r!==0&&(e=r,n=My(t,r))}if(n===1)throw n=uu,ps(t,0),Zi(t,e),un(t,ut()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,on,ti),un(t,ut()),null}function Mw(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(rl=ut()+500,op&&Fo())}}function Ns(t){so!==null&&so.tag===0&&!(Re&6)&&Pa();var e=Re;Re|=1;var n=$n.transition,r=je;try{if($n.transition=null,je=1,t)return t()}finally{je=r,$n.transition=n,Re=e,!(Re&6)&&Fo()}}function Pw(){gn=ba.current,Je(ba)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RL(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ih();break;case 3:tl(),Je(ln),Je(Vt),Sw();break;case 5:xw(r);break;case 4:tl();break;case 13:Je(Ze);break;case 19:Je(Ze);break;case 10:gw(r.type._context);break;case 22:case 23:Pw()}n=n.return}if(bt=t,mt=t=wo(t.current,null),Ot=gn=e,wt=0,uu=null,Rw=cp=Is=0,on=Ac=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}cs=null}return t}function OT(t,e){do{var n=mt;try{if(mw(),ef.current=hh,fh){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fh=!1}if(Ts=0,kt=vt=et=null,Mc=!1,au=0,Nw.current=null,n===null||n.return===null){wt=1,uu=e,mt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=tS(s);if(h!==null){h.flags&=-257,nS(h,s,a,o,e),h.mode&1&&eS(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){eS(o,c,e),Aw();break e}l=Error(V(426))}}else if(Ye&&a.mode&1){var x=tS(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nS(x,s,a,o,e),hw(nl(l,a));break e}}o=l=nl(l,a),wt!==4&&(wt=2),Ac===null?Ac=[o]:Ac.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=yT(o,l,e);G1(o,v);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yo===null||!yo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=vT(o,a,e);G1(o,C);break e}}o=o.return}while(o!==null)}jT(n)}catch(I){e=I,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function DT(){var t=ph.current;return ph.current=hh,t===null?hh:t}function Aw(){(wt===0||wt===3||wt===2)&&(wt=4),bt===null||!(Is&268435455)&&!(cp&268435455)||Zi(bt,Ot)}function yh(t,e){var n=Re;Re|=2;var r=DT();(bt!==t||Ot!==e)&&(ti=null,ps(t,e));do try{e2();break}catch(i){OT(t,i)}while(1);if(mw(),Re=n,ph.current=r,mt!==null)throw Error(V(261));return bt=null,Ot=0,wt}function e2(){for(;mt!==null;)LT(mt)}function t2(){for(;mt!==null&&!TD();)LT(mt)}function LT(t){var e=zT(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?jT(t):mt=e,Nw.current=null}function jT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qL(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,mt=null;return}}else if(n=GL(n,e,gn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);wt===0&&(wt=5)}function Qo(t,e,n){var r=je,i=$n.transition;try{$n.transition=null,je=1,n2(t,e,n,r)}finally{$n.transition=i,je=r}return null}function n2(t,e,n,r){do Pa();while(so!==null);if(Re&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(LD(t,o),t===bt&&(mt=bt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,$T(Qf,function(){return Pa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var s=je;je=1;var a=Re;Re|=4,Nw.current=null,YL(t,n),MT(n,t),kL(cy),eh=!!ly,cy=ly=null,t.current=n,XL(n),ID(),Re=a,je=s,$n.transition=o}else t.current=n;if(_d&&(_d=!1,so=t,gh=i),o=t.pendingLanes,o===0&&(yo=null),_D(n.stateNode),un(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mh)throw mh=!1,t=Ry,Ry=null,t;return gh&1&&t.tag!==0&&Pa(),o=t.pendingLanes,o&1?t===_y?Oc++:(Oc=0,_y=t):Oc=0,Fo(),null}function Pa(){if(so!==null){var t=gE(gh),e=$n.transition,n=je;try{if($n.transition=null,je=16>t?16:t,so===null)var r=!1;else{if(t=so,so=null,gh=0,Re&6)throw Error(V(331));var i=Re;for(Re|=4,Q=t.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Pc(8,u,o)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,h=u.return;if(NT(u),u===c){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Q=v;break e}Q=o.return}}var w=t.current;for(Q=w;Q!==null;){s=Q;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Q=S;else e:for(s=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lp(9,a)}}catch(I){ot(a,a.return,I)}if(a===s){Q=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Q=C;break e}Q=a.return}}if(Re=i,Fo(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(ep,t)}catch{}r=!0}return r}finally{je=n,$n.transition=e}}return!1}function mS(t,e,n){e=nl(n,e),e=yT(t,e,1),t=go(t,e,1),e=Gt(),t!==null&&(Au(t,1,e),un(t,e))}function ot(t,e,n){if(t.tag===3)mS(t,t,n);else for(;e!==null;){if(e.tag===3){mS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){t=nl(n,t),t=vT(e,t,1),e=go(e,t,1),t=Gt(),e!==null&&(Au(e,1,t),un(e,t));break}}e=e.return}}function r2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Ot&n)===n&&(wt===4||wt===3&&(Ot&130023424)===Ot&&500>ut()-_w?ps(t,0):Rw|=n),un(t,e)}function FT(t,e){e===0&&(t.mode&1?(e=xd,xd<<=1,!(xd&130023424)&&(xd=4194304)):e=1);var n=Gt();t=yi(t,e),t!==null&&(Au(t,e,n),un(t,n))}function i2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FT(t,n)}function o2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),FT(t,n)}var zT;zT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,KL(t,e,n);an=!!(t.flags&131072)}else an=!1,Ye&&e.flags&1048576&&UE(e,ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nf(t,e),t=e.pendingProps;var i=Qa(e,Vt.current);Ma(e,n),i=bw(null,e,r,t,i,n);var o=Cw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(o=!0,oh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vw(e),i.updater=sp,e.stateNode=i,i._reactInternals=e,vy(e,r,t,n),e=Sy(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&dw(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=a2(r),t=Zn(r,t),i){case 0:e=xy(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=rS(null,e,r,t,n);break e;case 14:e=iS(null,e,r,Zn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),xy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),oS(t,e,r,i,n);case 3:e:{if(kT(e),t===null)throw Error(V(387));r=e.pendingProps,o=e.memoizedState,i=o.element,KE(t,e),uh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=nl(Error(V(423)),e),e=sS(t,e,r,n,i);break e}else if(r!==i){i=nl(Error(V(424)),e),e=sS(t,e,r,n,i);break e}else for(xn=mo(e.stateNode.containerInfo.firstChild),kn=e,Ye=!0,nr=null,n=YE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Za(),r===i){e=vi(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return XE(e),t===null&&my(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uy(r,i)?s=null:o!==null&&uy(r,o)&&(e.flags|=32),ST(t,e),Kt(t,e,s,n),e.child;case 6:return t===null&&my(e),null;case 13:return bT(t,e,n);case 4:return ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=el(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),rS(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ue(lh,r._currentValue),r._currentValue=s,o!==null)if(cr(o.value,s)){if(o.children===i.children&&!ln.current){e=vi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(V(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=Vn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),iS(t,e,r,i,n);case 15:return wT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),nf(t,e),e.tag=1,cn(r)?(t=!0,oh(e)):t=!1,Ma(e,n),qE(e,r,i),vy(e,r,i,n),Sy(null,e,r,!0,t,n);case 19:return CT(t,e,n);case 22:return xT(t,e,n)}throw Error(V(156,e.tag))};function $T(t,e){return fE(t,e)}function s2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new s2(t,e,n,r)}function Ow(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a2(t){if(typeof t=="function")return Ow(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zv)return 11;if(t===ew)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ow(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ha:return ms(n.children,i,o,e);case Qv:s=8,i|=8;break;case Ug:return t=Fn(12,n,e,i|2),t.elementType=Ug,t.lanes=o,t;case Vg:return t=Fn(13,n,e,i),t.elementType=Vg,t.lanes=o,t;case Wg:return t=Fn(19,n,e,i),t.elementType=Wg,t.lanes=o,t;case JC:return up(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GC:s=10;break e;case qC:s=9;break e;case Zv:s=11;break e;case ew:s=14;break e;case Gi:s=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Fn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ms(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function up(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=JC,t.lanes=n,t.stateNode={isHidden:!1},t}function Pm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dw(t,e,n,r,i,o,s,a,l){return t=new l2(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vw(o),t}function c2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BT(t){if(!t)return No;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(cn(n))return $E(t,n,e)}return e}function UT(t,e,n,r,i,o,s,a,l){return t=Dw(n,r,!0,t,i,o,s,a,l),t.context=BT(null),n=t.current,r=Gt(),i=vo(n),o=di(r,i),o.callback=e??null,go(n,o,i),t.current.lanes=i,Au(t,i,r),un(t,r),t}function dp(t,e,n,r){var i=e.current,o=Gt(),s=vo(i);return n=BT(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=go(i,e,s),t!==null&&(lr(t,i,s,o),Zd(t,i,s)),s}function vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lw(t,e){gS(t,e),(t=t.alternate)&&gS(t,e)}function u2(){return null}var VT=typeof reportError=="function"?reportError:function(t){console.error(t)};function jw(t){this._internalRoot=t}fp.prototype.render=jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));dp(t,e,null,null)};fp.prototype.unmount=jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){dp(null,t,null,null)}),e[gi]=null}};function fp(t){this._internalRoot=t}fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=wE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&SE(t)}};function Fw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yS(){}function d2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=vh(s);o.call(c)}}var s=UT(e,r,t,0,null,!1,!1,"",yS);return t._reactRootContainer=s,t[gi]=s.current,nu(t.nodeType===8?t.parentNode:t),Ns(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vh(l);a.call(c)}}var l=Dw(t,0,!1,null,null,!1,!1,"",yS);return t._reactRootContainer=l,t[gi]=l.current,nu(t.nodeType===8?t.parentNode:t),Ns(function(){dp(e,l,n,r)}),l}function pp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=vh(s);a.call(l)}}dp(e,s,t,i)}else s=d2(n,e,t,i,r);return vh(s)}yE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ql(e.pendingLanes);n!==0&&(rw(e,n|1),un(e,ut()),!(Re&6)&&(rl=ut()+500,Fo()))}break;case 13:Ns(function(){var r=yi(t,1);if(r!==null){var i=Gt();lr(r,t,1,i)}}),Lw(t,1)}};iw=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=Gt();lr(e,t,134217728,n)}Lw(t,134217728)}};vE=function(t){if(t.tag===13){var e=vo(t),n=yi(t,e);if(n!==null){var r=Gt();lr(n,t,e,r)}Lw(t,e)}};wE=function(){return je};xE=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};ey=function(t,e,n){switch(e){case"input":if(Gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ip(r);if(!i)throw Error(V(90));XC(r),Gg(r,i)}}}break;case"textarea":ZC(t,n);break;case"select":e=n.value,e!=null&&Ia(t,!!n.multiple,e,!1)}};sE=Mw;aE=Ns;var f2={usingClientEntryPoint:!1,Events:[Du,ya,ip,iE,oE,Mw]},Bl={findFiberByHostInstance:ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h2={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uE(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||u2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{ep=Md.inject(h2),Dr=Md}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fw(e))throw Error(V(200));return c2(t,e,null,n)};Tn.createRoot=function(t,e){if(!Fw(t))throw Error(V(299));var n=!1,r="",i=VT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dw(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,nu(t.nodeType===8?t.parentNode:t),new jw(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=uE(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Ns(t)};Tn.hydrate=function(t,e,n){if(!hp(e))throw Error(V(200));return pp(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!Fw(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=VT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UT(e,null,t,1,n??null,i,!1,o,s),t[gi]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fp(e)};Tn.render=function(t,e,n){if(!hp(e))throw Error(V(200));return pp(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!hp(t))throw Error(V(40));return t._reactRootContainer?(Ns(function(){pp(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Tn.unstable_batchedUpdates=Mw;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hp(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return pp(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function WT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WT)}catch(t){console.error(t)}}WT(),UC.exports=Tn;var yl=UC.exports;const HT=Qh(yl),p2=_C({__proto__:null,default:HT},[yl]);var vS=yl;$g.createRoot=vS.createRoot,$g.hydrateRoot=vS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const wS="popstate";function m2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return du("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rs(i)}return y2(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function il(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g2(){return Math.random().toString(36).substr(2,8)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function du(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||g2()})}function Rs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ct.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Qe({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=ct.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function f(x,v){a=ct.Push;let w=du(g.location,x,v);n&&n(w,x),c=u()+1;let S=xS(w,c),C=g.createHref(w);try{s.pushState(S,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function h(x,v){a=ct.Replace;let w=du(g.location,x,v);n&&n(w,x),c=u();let S=xS(w,c),C=g.createHref(w);s.replaceState(S,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function p(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Rs(x);return w=w.replace(/ $/,"%20"),we(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,d),l=x,()=>{i.removeEventListener(wS,d),l=null}},createHref(x){return e(i,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(x){return s.go(x)}};return g}var Fe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fe||(Fe={}));const v2=new Set(["lazy","caseSensitive","path","id","index","children"]);function w2(t){return t.index===!0}function fu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),w2(i)){let l=Qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=Qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=fu(i.children,e,s,r)),l}})}function ss(t,e,n){return n===void 0&&(n="/"),af(t,e,n,!1)}function af(t,e,n,r){let i=typeof e=="string"?Ii(e):e,o=vl(i.pathname||"/",n);if(o==null)return null;let s=KT(t);S2(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=P2(o);a=_2(s[l],c,r)}return a}function x2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function KT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fi([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KT(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:N2(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of GT(o.path))i(o,s,l)}),e}function GT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=GT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function S2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k2=/^:[\w-]+$/,b2=3,C2=2,E2=1,T2=10,I2=-2,SS=t=>t==="*";function N2(t,e){let n=t.split("/"),r=n.length;return n.some(SS)&&(r+=I2),e&&(r+=C2),n.filter(i=>!SS(i)).reduce((i,o)=>i+(k2.test(o)?b2:o===""?E2:T2),r)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=kS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=kS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:fi([o,d.pathname]),pathnameBase:D2(fi([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=fi([o,d.pathnameBase]))}return s}function kS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function M2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),il(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function P2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return il(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:O2(n,e):e,search:L2(r),hash:j2(i)}}function O2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mp(t,e){let n=qT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ii(t):(i=Qe({},t),we(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=A2(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),D2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class wh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JT=["post","put","patch","delete"],F2=new Set(JT),z2=["get",...JT],$2=new Set(z2),B2=new Set([301,302,303,307,308]),U2=new Set([307,308]),Dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},V2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),YT="remix-router-transitions";function H2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=W2;let o={},s=fu(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.unstable_dataStrategy||X2,u=t.unstable_patchRoutesOnNavigation,d=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=1e3,g=new Set,x=null,v=null,w=null,S=t.hydrationData!=null,C=ss(s,t.history.location,l),I=null;if(C==null&&!u){let N=Ht(404,{pathname:t.history.location.pathname}),{matches:M,route:L}=MS(s);C=M,I={[L.id]:N}}C&&!t.hydrationData&&ld(C,s,t.history.location.pathname).active&&(C=null);let b;if(C)if(C.some(N=>N.route.lazy))b=!1;else if(!C.some(N=>N.route.loader))b=!0;else if(d.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null,L=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:N&&N[B.route.id]!==void 0||M&&M[B.route.id]!==void 0:!0;if(M){let B=C.findIndex(Y=>M[Y.route.id]!==void 0);b=C.slice(0,B+1).every(L)}else b=C.every(L)}else b=t.hydrationData!=null;else if(b=!1,C=[],d.v7_partialHydration){let N=ld(null,s,t.history.location.pathname);N.active&&N.matches&&(C=N.matches)}let _,k={historyAction:t.history.action,location:t.history.location,matches:C,initialized:b,navigation:Dm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},R=ct.Pop,P=!1,O,A=!1,U=new Map,z=null,K=!1,q=!1,ne=[],j=new Set,D=new Map,E=0,J=-1,le=new Map,T=new Set,Se=new Map,Z=new Map,ee=new Set,Te=new Map,De=new Map,We=new Map,xt;function kr(){if(f=t.history.listen(N=>{let{action:M,location:L,delta:B}=N;if(xt){xt(),xt=void 0;return}il(De.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=o1({currentLocation:k.location,nextLocation:L,historyAction:M});if(Y&&B!=null){let se=new Promise(he=>{xt=he});t.history.go(B*-1),sd(Y,{state:"blocked",location:L,proceed(){sd(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),se.then(()=>t.history.go(B))},reset(){let he=new Map(k.blockers);he.set(Y,Ul),dt({blockers:he})}});return}return Yn(M,L)}),n){fj(e,U);let N=()=>hj(e,U);e.addEventListener("pagehide",N),z=()=>e.removeEventListener("pagehide",N)}return k.initialized||Yn(ct.Pop,k.location,{initialHydration:!0}),_}function Ks(){f&&f(),z&&z(),h.clear(),O&&O.abort(),k.fetchers.forEach((N,M)=>tn(M)),k.blockers.forEach((N,M)=>i1(M))}function Kr(N){return h.add(N),()=>h.delete(N)}function dt(N,M){M===void 0&&(M={}),k=Qe({},k,N);let L=[],B=[];d.v7_fetcherPersist&&k.fetchers.forEach((Y,se)=>{Y.state==="idle"&&(ee.has(se)?B.push(se):L.push(se))}),[...h].forEach(Y=>Y(k,{deletedFetchers:B,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),d.v7_fetcherPersist&&(L.forEach(Y=>k.fetchers.delete(Y)),B.forEach(Y=>tn(Y)))}function Jn(N,M,L){var B,Y;let{flushSync:se}=L===void 0?{}:L,he=k.actionData!=null&&k.navigation.formMethod!=null&&tr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((B=N.state)==null?void 0:B._isRedirect)!==!0,G;M.actionData?Object.keys(M.actionData).length>0?G=M.actionData:G=null:he?G=k.actionData:G=null;let ce=M.loaderData?RS(k.loaderData,M.loaderData,M.matches||[],M.errors):k.loaderData,te=k.blockers;te.size>0&&(te=new Map(te),te.forEach((Le,He)=>te.set(He,Ul)));let re=P===!0||k.navigation.formMethod!=null&&tr(k.navigation.formMethod)&&((Y=N.state)==null?void 0:Y._isRedirect)!==!0;a&&(s=a,a=void 0),K||R===ct.Pop||(R===ct.Push?t.history.push(N,N.state):R===ct.Replace&&t.history.replace(N,N.state));let Pe;if(R===ct.Pop){let Le=U.get(k.location.pathname);Le&&Le.has(N.pathname)?Pe={currentLocation:k.location,nextLocation:N}:U.has(N.pathname)&&(Pe={currentLocation:N,nextLocation:k.location})}else if(A){let Le=U.get(k.location.pathname);Le?Le.add(N.pathname):(Le=new Set([N.pathname]),U.set(k.location.pathname,Le)),Pe={currentLocation:k.location,nextLocation:N}}dt(Qe({},M,{actionData:G,loaderData:ce,historyAction:R,location:N,initialized:!0,navigation:Dm,revalidation:"idle",restoreScrollPosition:a1(N,M.matches||k.matches),preventScrollReset:re,blockers:te}),{viewTransitionOpts:Pe,flushSync:se===!0}),R=ct.Pop,P=!1,A=!1,K=!1,q=!1,ne=[]}async function qo(N,M){if(typeof N=="number"){t.history.go(N);return}let L=Ay(k.location,k.matches,l,d.v7_prependBasename,N,d.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:B,submission:Y,error:se}=bS(d.v7_normalizeFormMethod,!1,L,M),he=k.location,G=du(k.location,B,M&&M.state);G=Qe({},G,t.history.encodeLocation(G));let ce=M&&M.replace!=null?M.replace:void 0,te=ct.Push;ce===!0?te=ct.Replace:ce===!1||Y!=null&&tr(Y.formMethod)&&Y.formAction===k.location.pathname+k.location.search&&(te=ct.Replace);let re=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Pe=(M&&M.unstable_flushSync)===!0,Le=o1({currentLocation:he,nextLocation:G,historyAction:te});if(Le){sd(Le,{state:"blocked",location:G,proceed(){sd(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),qo(N,M)},reset(){let He=new Map(k.blockers);He.set(Le,Ul),dt({blockers:He})}});return}return await Yn(te,G,{submission:Y,pendingError:se,preventScrollReset:re,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:Pe})}function Gs(){if(ve(),dt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Yn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Yn(R||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:A===!0})}}async function Yn(N,M,L){O&&O.abort(),O=null,R=N,K=(L&&L.startUninterruptedRevalidation)===!0,FO(k.location,k.matches),P=(L&&L.preventScrollReset)===!0,A=(L&&L.enableViewTransition)===!0;let B=a||s,Y=L&&L.overrideNavigation,se=ss(B,M,l),he=(L&&L.flushSync)===!0,G=ld(se,B,M.pathname);if(G.active&&G.matches&&(se=G.matches),!se){let{error:Ie,notFoundMatches:St,route:ft}=sm(M.pathname);Jn(M,{matches:St,loaderData:{},errors:{[ft.id]:Ie}},{flushSync:he});return}if(k.initialized&&!q&&rj(k.location,M)&&!(L&&L.submission&&tr(L.submission.formMethod))){Jn(M,{matches:se},{flushSync:he});return}O=new AbortController;let ce=Ys(t.history,M,O.signal,L&&L.submission),te;if(L&&L.pendingError)te=[Ca(se).route.id,{type:Fe.error,error:L.pendingError}];else if(L&&L.submission&&tr(L.submission.formMethod)){let Ie=await Gr(ce,M,L.submission,se,G.active,{replace:L.replace,flushSync:he});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[St,ft]=Ie.pendingActionResult;if(yn(ft)&&yp(ft.error)&&ft.error.status===404){O=null,Jn(M,{matches:Ie.matches,loaderData:{},errors:{[St]:ft.error}});return}}se=Ie.matches||se,te=Ie.pendingActionResult,Y=Lm(M,L.submission),he=!1,G.active=!1,ce=Ys(t.history,ce.url,ce.signal)}let{shortCircuited:re,matches:Pe,loaderData:Le,errors:He}=await id(ce,M,se,G.active,Y,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,he,te);re||(O=null,Jn(M,Qe({matches:Pe||se},_S(te),{loaderData:Le,errors:He})))}async function Gr(N,M,L,B,Y,se){se===void 0&&(se={}),ve();let he=uj(M,L);if(dt({navigation:he},{flushSync:se.flushSync===!0}),Y){let te=await cd(B,M.pathname,N.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:re,error:Pe}=ad(M.pathname,te);return{matches:te.partialMatches,pendingActionResult:[re,{type:Fe.error,error:Pe}]}}else if(te.matches)B=te.matches;else{let{notFoundMatches:re,error:Pe,route:Le}=sm(M.pathname);return{matches:re,pendingActionResult:[Le.id,{type:Fe.error,error:Pe}]}}}let G,ce=ec(B,M);if(!ce.route.action&&!ce.route.lazy)G={type:Fe.error,error:Ht(405,{method:N.method,pathname:M.pathname,routeId:ce.route.id})};else if(G=(await H("action",k,N,[ce],B,null))[ce.route.id],N.signal.aborted)return{shortCircuited:!0};if(ds(G)){let te;return se&&se.replace!=null?te=se.replace:te=TS(G.response.headers.get("Location"),new URL(N.url),l)===k.location.pathname+k.location.search,await F(N,G,!0,{submission:L,replace:te}),{shortCircuited:!0}}if(ao(G))throw Ht(400,{type:"defer-action"});if(yn(G)){let te=Ca(B,ce.route.id);return(se&&se.replace)!==!0&&(R=ct.Push),{matches:B,pendingActionResult:[te.route.id,G]}}return{matches:B,pendingActionResult:[ce.route.id,G]}}async function id(N,M,L,B,Y,se,he,G,ce,te,re){let Pe=Y||Lm(M,se),Le=se||he||AS(Pe),He=!K&&(!d.v7_partialHydration||!ce);if(B){if(He){let rt=od(re);dt(Qe({navigation:Pe},rt!==void 0?{actionData:rt}:{}),{flushSync:te})}let ye=await cd(L,M.pathname,N.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:rt,error:pn}=ad(M.pathname,ye);return{matches:ye.partialMatches,loaderData:{},errors:{[rt]:pn}}}else if(ye.matches)L=ye.matches;else{let{error:rt,notFoundMatches:pn,route:it}=sm(M.pathname);return{matches:pn,loaderData:{},errors:{[it.id]:rt}}}}let Ie=a||s,[St,ft]=CS(t.history,k,L,Le,M,d.v7_partialHydration&&ce===!0,d.v7_skipActionErrorRevalidation,q,ne,j,ee,Se,T,Ie,l,re);if(am(ye=>!(L&&L.some(rt=>rt.route.id===ye))||St&&St.some(rt=>rt.route.id===ye)),J=++E,St.length===0&&ft.length===0){let ye=qr();return Jn(M,Qe({matches:L,loaderData:{},errors:re&&yn(re[1])?{[re[0]]:re[1].error}:null},_S(re),ye?{fetchers:new Map(k.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(He){let ye={};if(!B){ye.navigation=Pe;let rt=od(re);rt!==void 0&&(ye.actionData=rt)}ft.length>0&&(ye.fetchers=nm(ft)),dt(ye,{flushSync:te})}ft.forEach(ye=>{D.has(ye.key)&&nn(ye.key),ye.controller&&D.set(ye.key,ye.controller)});let Al=()=>ft.forEach(ye=>nn(ye.key));O&&O.signal.addEventListener("abort",Al);let{loaderResults:Jr,fetcherResults:qs}=await fe(k,L,St,ft,N);if(N.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Al),ft.forEach(ye=>D.delete(ye.key));let Pi=Pd(Jr);if(Pi)return await F(N,Pi.result,!0,{replace:G}),{shortCircuited:!0};if(Pi=Pd(qs),Pi)return T.add(Pi.key),await F(N,Pi.result,!0,{replace:G}),{shortCircuited:!0};let{loaderData:ud,errors:Yr}=NS(k,L,St,Jr,re,ft,qs,Te);Te.forEach((ye,rt)=>{ye.subscribe(pn=>{(pn||ye.done)&&Te.delete(rt)})}),d.v7_partialHydration&&ce&&k.errors&&Object.entries(k.errors).filter(ye=>{let[rt]=ye;return!St.some(pn=>pn.route.id===rt)}).forEach(ye=>{let[rt,pn]=ye;Yr=Object.assign(Yr||{},{[rt]:pn})});let dd=qr(),fd=_n(J),hd=dd||fd||ft.length>0;return Qe({matches:L,loaderData:ud,errors:Yr},hd?{fetchers:new Map(k.fetchers)}:{})}function od(N){if(N&&!yn(N[1]))return{[N[0]]:N[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function nm(N){return N.forEach(M=>{let L=k.fetchers.get(M.key),B=Vl(void 0,L?L.data:void 0);k.fetchers.set(M.key,B)}),new Map(k.fetchers)}function rm(N,M,L,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(N)&&nn(N);let Y=(B&&B.unstable_flushSync)===!0,se=a||s,he=Ay(k.location,k.matches,l,d.v7_prependBasename,L,d.v7_relativeSplatPath,M,B==null?void 0:B.relative),G=ss(se,he,l),ce=ld(G,se,he);if(ce.active&&ce.matches&&(G=ce.matches),!G){lt(N,M,Ht(404,{pathname:he}),{flushSync:Y});return}let{path:te,submission:re,error:Pe}=bS(d.v7_normalizeFormMethod,!0,he,B);if(Pe){lt(N,M,Pe,{flushSync:Y});return}let Le=ec(G,te);if(P=(B&&B.preventScrollReset)===!0,re&&tr(re.formMethod)){im(N,M,te,Le,G,ce.active,Y,re);return}Se.set(N,{routeId:M,path:te}),om(N,M,te,Le,G,ce.active,Y,re)}async function im(N,M,L,B,Y,se,he,G){ve(),Se.delete(N);function ce(it){if(!it.route.action&&!it.route.lazy){let Xr=Ht(405,{method:G.formMethod,pathname:L,routeId:M});return lt(N,M,Xr,{flushSync:he}),!0}return!1}if(!se&&ce(B))return;let te=k.fetchers.get(N);ke(N,dj(G,te),{flushSync:he});let re=new AbortController,Pe=Ys(t.history,L,re.signal,G);if(se){let it=await cd(Y,L,Pe.signal);if(it.type==="aborted")return;if(it.type==="error"){let{error:Xr}=ad(L,it);lt(N,M,Xr,{flushSync:he});return}else if(it.matches){if(Y=it.matches,B=ec(Y,L),ce(B))return}else{lt(N,M,Ht(404,{pathname:L}),{flushSync:he});return}}D.set(N,re);let Le=E,Ie=(await H("action",k,Pe,[B],Y,N))[B.route.id];if(Pe.signal.aborted){D.get(N)===re&&D.delete(N);return}if(d.v7_fetcherPersist&&ee.has(N)){if(ds(Ie)||yn(Ie)){ke(N,Fi(void 0));return}}else{if(ds(Ie))if(D.delete(N),J>Le){ke(N,Fi(void 0));return}else return T.add(N),ke(N,Vl(G)),F(Pe,Ie,!1,{fetcherSubmission:G});if(yn(Ie)){lt(N,M,Ie.error);return}}if(ao(Ie))throw Ht(400,{type:"defer-action"});let St=k.navigation.location||k.location,ft=Ys(t.history,St,re.signal),Al=a||s,Jr=k.navigation.state!=="idle"?ss(Al,k.navigation.location,l):k.matches;we(Jr,"Didn't find any matches after fetcher action");let qs=++E;le.set(N,qs);let Pi=Vl(G,Ie.data);k.fetchers.set(N,Pi);let[ud,Yr]=CS(t.history,k,Jr,G,St,!1,d.v7_skipActionErrorRevalidation,q,ne,j,ee,Se,T,Al,l,[B.route.id,Ie]);Yr.filter(it=>it.key!==N).forEach(it=>{let Xr=it.key,c1=k.fetchers.get(Xr),BO=Vl(void 0,c1?c1.data:void 0);k.fetchers.set(Xr,BO),D.has(Xr)&&nn(Xr),it.controller&&D.set(Xr,it.controller)}),dt({fetchers:new Map(k.fetchers)});let dd=()=>Yr.forEach(it=>nn(it.key));re.signal.addEventListener("abort",dd);let{loaderResults:fd,fetcherResults:hd}=await fe(k,Jr,ud,Yr,ft);if(re.signal.aborted)return;re.signal.removeEventListener("abort",dd),le.delete(N),D.delete(N),Yr.forEach(it=>D.delete(it.key));let ye=Pd(fd);if(ye)return F(ft,ye.result,!1);if(ye=Pd(hd),ye)return T.add(ye.key),F(ft,ye.result,!1);let{loaderData:rt,errors:pn}=NS(k,Jr,ud,fd,void 0,Yr,hd,Te);if(k.fetchers.has(N)){let it=Fi(Ie.data);k.fetchers.set(N,it)}_n(qs),k.navigation.state==="loading"&&qs>J?(we(R,"Expected pending action"),O&&O.abort(),Jn(k.navigation.location,{matches:Jr,loaderData:rt,errors:pn,fetchers:new Map(k.fetchers)})):(dt({errors:pn,loaderData:RS(k.loaderData,rt,Jr,pn),fetchers:new Map(k.fetchers)}),q=!1)}async function om(N,M,L,B,Y,se,he,G){let ce=k.fetchers.get(N);ke(N,Vl(G,ce?ce.data:void 0),{flushSync:he});let te=new AbortController,re=Ys(t.history,L,te.signal);if(se){let Ie=await cd(Y,L,re.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:St}=ad(L,Ie);lt(N,M,St,{flushSync:he});return}else if(Ie.matches)Y=Ie.matches,B=ec(Y,L);else{lt(N,M,Ht(404,{pathname:L}),{flushSync:he});return}}D.set(N,te);let Pe=E,He=(await H("loader",k,re,[B],Y,N))[B.route.id];if(ao(He)&&(He=await $w(He,re.signal,!0)||He),D.get(N)===te&&D.delete(N),!re.signal.aborted){if(ee.has(N)){ke(N,Fi(void 0));return}if(ds(He))if(J>Pe){ke(N,Fi(void 0));return}else{T.add(N),await F(re,He,!1);return}if(yn(He)){lt(N,M,He.error);return}we(!ao(He),"Unhandled fetcher deferred data"),ke(N,Fi(He.data))}}async function F(N,M,L,B){let{submission:Y,fetcherSubmission:se,replace:he}=B===void 0?{}:B;M.response.headers.has("X-Remix-Revalidate")&&(q=!0);let G=M.response.headers.get("Location");we(G,"Expected a Location header on the redirect Response"),G=TS(G,new URL(N.url),l);let ce=du(k.location,G,{_isRedirect:!0});if(n){let Ie=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(zw.test(G)){const St=t.history.createURL(G);Ie=St.origin!==e.location.origin||vl(St.pathname,l)==null}if(Ie){he?e.location.replace(G):e.location.assign(G);return}}O=null;let te=he===!0||M.response.headers.has("X-Remix-Replace")?ct.Replace:ct.Push,{formMethod:re,formAction:Pe,formEncType:Le}=k.navigation;!Y&&!se&&re&&Pe&&Le&&(Y=AS(k.navigation));let He=Y||se;if(U2.has(M.response.status)&&He&&tr(He.formMethod))await Yn(te,ce,{submission:Qe({},He,{formAction:G}),preventScrollReset:P,enableViewTransition:L?A:void 0});else{let Ie=Lm(ce,Y);await Yn(te,ce,{overrideNavigation:Ie,fetcherSubmission:se,preventScrollReset:P,enableViewTransition:L?A:void 0})}}async function H(N,M,L,B,Y,se){let he,G={};try{he=await Q2(c,N,M,L,B,Y,se,o,i)}catch(ce){return B.forEach(te=>{G[te.route.id]={type:Fe.error,error:ce}}),G}for(let[ce,te]of Object.entries(he))if(oj(te)){let re=te.result;G[ce]={type:Fe.redirect,response:tj(re,L,ce,Y,l,d.v7_relativeSplatPath)}}else G[ce]=await ej(te);return G}async function fe(N,M,L,B,Y){let se=N.matches,he=H("loader",N,Y,L,M,null),G=Promise.all(B.map(async re=>{if(re.matches&&re.match&&re.controller){let Le=(await H("loader",N,Ys(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:Le}}else return Promise.resolve({[re.key]:{type:Fe.error,error:Ht(404,{pathname:re.path})}})})),ce=await he,te=(await G).reduce((re,Pe)=>Object.assign(re,Pe),{});return await Promise.all([lj(M,ce,Y.signal,se,N.loaderData),cj(M,te,B)]),{loaderResults:ce,fetcherResults:te}}function ve(){q=!0,ne.push(...am()),Se.forEach((N,M)=>{D.has(M)&&(j.add(M),nn(M))})}function ke(N,M,L){L===void 0&&(L={}),k.fetchers.set(N,M),dt({fetchers:new Map(k.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function lt(N,M,L,B){B===void 0&&(B={});let Y=Ca(k.matches,M);tn(N),dt({errors:{[Y.route.id]:L},fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function br(N){return d.v7_fetcherPersist&&(Z.set(N,(Z.get(N)||0)+1),ee.has(N)&&ee.delete(N)),k.fetchers.get(N)||V2}function tn(N){let M=k.fetchers.get(N);D.has(N)&&!(M&&M.state==="loading"&&le.has(N))&&nn(N),Se.delete(N),le.delete(N),T.delete(N),ee.delete(N),j.delete(N),k.fetchers.delete(N)}function Jo(N){if(d.v7_fetcherPersist){let M=(Z.get(N)||0)-1;M<=0?(Z.delete(N),ee.add(N)):Z.set(N,M)}else tn(N);dt({fetchers:new Map(k.fetchers)})}function nn(N){let M=D.get(N);we(M,"Expected fetch controller: "+N),M.abort(),D.delete(N)}function Lt(N){for(let M of N){let L=br(M),B=Fi(L.data);k.fetchers.set(M,B)}}function qr(){let N=[],M=!1;for(let L of T){let B=k.fetchers.get(L);we(B,"Expected fetcher: "+L),B.state==="loading"&&(T.delete(L),N.push(L),M=!0)}return Lt(N),M}function _n(N){let M=[];for(let[L,B]of le)if(B<N){let Y=k.fetchers.get(L);we(Y,"Expected fetcher: "+L),Y.state==="loading"&&(nn(L),le.delete(L),M.push(L))}return Lt(M),M.length>0}function LO(N,M){let L=k.blockers.get(N)||Ul;return De.get(N)!==M&&De.set(N,M),L}function i1(N){k.blockers.delete(N),De.delete(N)}function sd(N,M){let L=k.blockers.get(N)||Ul;we(L.state==="unblocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="proceeding"||L.state==="blocked"&&M.state==="unblocked"||L.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+M.state);let B=new Map(k.blockers);B.set(N,M),dt({blockers:B})}function o1(N){let{currentLocation:M,nextLocation:L,historyAction:B}=N;if(De.size===0)return;De.size>1&&il(!1,"A router only supports one blocker at a time");let Y=Array.from(De.entries()),[se,he]=Y[Y.length-1],G=k.blockers.get(se);if(!(G&&G.state==="proceeding")&&he({currentLocation:M,nextLocation:L,historyAction:B}))return se}function sm(N){let M=Ht(404,{pathname:N}),L=a||s,{matches:B,route:Y}=MS(L);return am(),{notFoundMatches:B,route:Y,error:M}}function ad(N,M){return{boundaryId:Ca(M.partialMatches).route.id,error:Ht(400,{type:"route-discovery",pathname:N,message:M.error!=null&&"message"in M.error?M.error:String(M.error)})}}function am(N){let M=[];return Te.forEach((L,B)=>{(!N||N(B))&&(L.cancel(),M.push(B),Te.delete(B))}),M}function jO(N,M,L){if(x=N,w=M,v=L||null,!S&&k.navigation===Dm){S=!0;let B=a1(k.location,k.matches);B!=null&&dt({restoreScrollPosition:B})}return()=>{x=null,w=null,v=null}}function s1(N,M){return v&&v(N,M.map(B=>x2(B,k.loaderData)))||N.key}function FO(N,M){if(x&&w){let L=s1(N,M);x[L]=w()}}function a1(N,M){if(x){let L=s1(N,M),B=x[L];if(typeof B=="number")return B}return null}function ld(N,M,L){if(u){if(g.has(L))return{active:!1,matches:N};if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:af(M,L,l,!0)}}else return{active:!0,matches:af(M,L,l,!0)||[]}}return{active:!1,matches:null}}async function cd(N,M,L){let B=N;for(;;){let Y=a==null,se=a||s;try{await J2(u,M,B,se,o,i,We,L)}catch(ce){return{type:"error",error:ce,partialMatches:B}}finally{Y&&(s=[...s])}if(L.aborted)return{type:"aborted"};let he=ss(se,M,l);if(he)return l1(M,g),{type:"success",matches:he};let G=af(se,M,l,!0);if(!G||B.length===G.length&&B.every((ce,te)=>ce.route.id===G[te].route.id))return l1(M,g),{type:"success",matches:null};B=G}}function l1(N,M){if(M.size>=p){let L=M.values().next().value;M.delete(L)}M.add(N)}function zO(N){o={},a=fu(N,i,void 0,o)}function $O(N,M){let L=a==null;QT(N,M,a||s,o,i),L&&(s=[...s],dt({}))}return _={get basename(){return l},get future(){return d},get state(){return k},get routes(){return s},get window(){return e},initialize:kr,subscribe:Kr,enableScrollRestoration:jO,navigate:qo,fetch:rm,revalidate:Gs,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:br,deleteFetcher:Jo,dispose:Ks,getBlocker:LO,deleteBlocker:i1,patchRoutes:$O,_internalFetchControllers:D,_internalActiveDeferreds:Te,_internalSetRoutes:zO},_}function K2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ay(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=gp(i||".",mp(l,o),vl(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Bw(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:fi([n,u.pathname])),Rs(u)}function bS(t,e,n,r){if(!r||!K2(r))return{path:n};if(r.formMethod&&!aj(r.formMethod))return{path:n,error:Ht(405,{method:r.formMethod})};let i=()=>({path:n,error:Ht(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=ZT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!tr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[g,x]=p;return""+h+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!tr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Oy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Oy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=IS(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=IS(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(tr(u.formMethod))return{path:n,submission:u};let d=Ii(n);return e&&d.search&&Bw(d.search)&&l.append("index",""),d.search="?"+l,{path:Rs(d),submission:u}}function G2(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function CS(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p,g){let x=g?yn(g[1])?g[1].error:g[1].data:void 0,v=t.createURL(e.location),w=t.createURL(i),S=g&&yn(g[1])?g[0]:void 0,C=S?G2(n,S):n,I=g?g[1].statusCode:void 0,b=s&&I&&I>=400,_=C.filter((R,P)=>{let{route:O}=R;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return typeof O.loader!="function"||O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(q2(e.loaderData,e.matches[P],R)||l.some(z=>z===R.route.id))return!0;let A=e.matches[P],U=R;return ES(R,Qe({currentUrl:v,currentParams:A.params,nextUrl:w,nextParams:U.params},r,{actionResult:x,actionStatus:I,defaultShouldRevalidate:b?!1:a||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||XT(A,U)}))}),k=[];return d.forEach((R,P)=>{if(o||!n.some(K=>K.route.id===R.routeId)||u.has(P))return;let O=ss(h,R.path,p);if(!O){k.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(P),U=ec(O,R.path),z=!1;f.has(P)?z=!1:c.has(P)?(c.delete(P),z=!0):A&&A.state!=="idle"&&A.data===void 0?z=a:z=ES(U,Qe({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:I,defaultShouldRevalidate:b?!1:a})),z&&k.push({key:P,routeId:R.routeId,path:R.path,matches:O,match:U,controller:new AbortController})}),[_,k]}function q2(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function XT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ES(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function J2(t,e,n,r,i,o,s,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=s.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||QT(u,d,r,i,o)}}),s.set(l,c)),c&&ij(c)&&await c}finally{s.delete(l)}}function QT(t,e,n,r,i){if(t){var o;let s=r[t];we(s,"No route found to patch children into: routeId = "+t);let a=fu(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...a):s.children=a}else{let s=fu(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function Y2(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";il(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!v2.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Qe({},e(i),{lazy:void 0}))}async function X2(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function Q2(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?Y2(h.route,l,a):void 0),d=o.map((h,p)=>{let g=u[p],x=i.some(w=>w.route.id===h.route.id);return Qe({},h,{shouldLoad:x,resolve:async w=>(w&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(x=!0),x?Z2(e,r,h,g,w,c):Promise.resolve({type:Fe.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function Z2(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((p,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(g=>f(g)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Ht(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Fe.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Ht(404,{pathname:d})}we(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Fe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function ej(t){let{result:e,type:n}=t;if(eI(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Fe.error,error:u}}return n===Fe.error?{type:Fe.error,error:new wh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Fe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Fe.error){if(PS(e)){var r;if(e.data instanceof Error){var i;return{type:Fe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new wh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Fe.error,error:e,statusCode:yp(e)?e.status:void 0}}if(sj(e)){var o,s;return{type:Fe.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(PS(e)){var a,l;return{type:Fe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Fe.data,data:e}}function tj(t,e,n,r,i,o){let s=t.headers.get("Location");if(we(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!zw.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Ay(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function TS(t,e,n){if(zw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=vl(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Ys(t,e,n,r){let i=t.createURL(ZT(e)).toString(),o={signal:n};if(r&&tr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Oy(r.formData):o.body=r.formData}return new Request(i,o)}function Oy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function IS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function nj(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&yn(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(we(!ds(h),"Cannot handle redirect results in processLoaderData"),yn(h)){let p=h.error;if(u!==void 0&&(p=u,u=void 0),s=s||{},i)s[f]=p;else{let g=Ca(t,f);s[g.route.id]==null&&(s[g.route.id]=p)}o[f]=void 0,l||(l=!0,a=yp(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else ao(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function NS(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=nj(e,r,i,a,!1);return o.forEach(u=>{let{key:d,match:f,controller:h}=u,p=s[d];if(we(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(yn(p)){let g=Ca(t.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=Qe({},c,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(ds(p))we(!1,"Unhandled fetcher revalidation redirect");else if(ao(p))we(!1,"Unhandled fetcher deferred data");else{let g=Fi(p.data);t.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function RS(t,e,n,r){let i=Qe({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function _S(t){return t?yn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ca(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function MS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ht(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new wh(t||500,a,new Error(l),!0)}function Pd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ds(i))return{key:r,result:i}}}function ZT(t){let e=typeof t=="string"?Ii(t):t;return Rs(Qe({},e,{hash:""}))}function rj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ij(t){return typeof t=="object"&&t!=null&&"then"in t}function oj(t){return eI(t.result)&&B2.has(t.result.status)}function ao(t){return t.type===Fe.deferred}function yn(t){return t.type===Fe.error}function ds(t){return(t&&t.type)===Fe.redirect}function PS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function sj(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aj(t){return $2.has(t.toLowerCase())}function tr(t){return F2.has(t.toLowerCase())}async function lj(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!XT(u,c)&&(i&&i[c.route.id])!==void 0;ao(l)&&d&&await $w(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function cj(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&ao(a)&&(we(s,"Expected an AbortController for revalidating fetcher deferred result"),await $w(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function $w(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Fe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Fe.error,error:i}}return{type:Fe.data,data:t.deferredData.data}}}function Bw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ec(t,e){let n=typeof e=="string"?Ii(e).search:e.search;if(t[t.length-1].route.index&&Bw(n||""))return t[t.length-1];let r=qT(t);return r[r.length-1]}function AS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Lm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fj(t,e){try{let n=t.sessionStorage.getItem(YT);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function hj(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(YT,JSON.stringify(n))}catch(r){il(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const vp=m.createContext(null),tI=m.createContext(null),zo=m.createContext(null),wp=m.createContext(null),Ni=m.createContext({outlet:null,matches:[],isDataRoute:!1}),nI=m.createContext(null);function pj(t,e){let{relative:n}=e===void 0?{}:e;wl()||we(!1);let{basename:r,navigator:i}=m.useContext(zo),{hash:o,pathname:s,search:a}=iI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:fi([r,s])),i.createHref({pathname:l,search:a,hash:o})}function wl(){return m.useContext(wp)!=null}function ju(){return wl()||we(!1),m.useContext(wp).location}function rI(t){m.useContext(zo).static||m.useLayoutEffect(t)}function pr(){let{isDataRoute:t}=m.useContext(Ni);return t?Tj():mj()}function mj(){wl()||we(!1);let t=m.useContext(vp),{basename:e,future:n,navigator:r}=m.useContext(zo),{matches:i}=m.useContext(Ni),{pathname:o}=ju(),s=JSON.stringify(mp(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return rI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=gp(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}function xp(){let{matches:t}=m.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function iI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(zo),{matches:i}=m.useContext(Ni),{pathname:o}=ju(),s=JSON.stringify(mp(i,r.v7_relativeSplatPath));return m.useMemo(()=>gp(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function gj(t,e,n,r){wl()||we(!1);let{navigator:i}=m.useContext(zo),{matches:o}=m.useContext(Ni),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ju(),u;if(e){var d;let x=typeof e=="string"?Ii(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||we(!1),u=x}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=ss(t,{pathname:h}),g=Sj(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fi([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fi([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&g?m.createElement(wp.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ct.Pop}},g):g}function yj(){let t=Ej(),e=yp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const vj=m.createElement(yj,null);class wj extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ni.Provider,{value:this.props.routeContext},m.createElement(nI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xj(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(vp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ni.Provider,{value:e},r)}function Sj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||we(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,g=null,x=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||vj,l&&(c<0&&f===0?(Ij("route-fallback",!1),p=!0,x=null):c===f&&(p=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),w=()=>{let S;return h?S=g:p?S=x:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(xj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(wj,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var oI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oI||{}),xh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xh||{});function kj(t){let e=m.useContext(vp);return e||we(!1),e}function bj(t){let e=m.useContext(tI);return e||we(!1),e}function Cj(t){let e=m.useContext(Ni);return e||we(!1),e}function sI(t){let e=Cj(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function Ej(){var t;let e=m.useContext(nI),n=bj(xh.UseRouteError),r=sI(xh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Tj(){let{router:t}=kj(oI.UseNavigateStable),e=sI(xh.UseNavigateStable),n=m.useRef(!1);return rI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hu({fromRouteId:e},o)))},[t,e])}const OS={};function Ij(t,e,n){!e&&!OS[t]&&(OS[t]=!0)}function Nj(t){let{to:e,replace:n,state:r,relative:i}=t;wl()||we(!1);let{future:o,static:s}=m.useContext(zo),{matches:a}=m.useContext(Ni),{pathname:l}=ju(),c=pr(),u=gp(e,mp(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Rj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:o,static:s=!1,future:a}=t;wl()&&we(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:hu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ii(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,g=m.useMemo(()=>{let x=vl(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return g==null?null:m.createElement(zo.Provider,{value:c},m.createElement(wp.Provider,{children:n,value:g}))}new Promise(()=>{});function _j(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function Mj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Aj(t,e){return t.button===0&&(!e||e==="_self")&&!Pj(t)}const Oj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dj="6";try{window.__reactRouterVersion=Dj}catch{}function Lj(t,e){return H2({basename:e==null?void 0:e.basename,future:pu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:m2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jj(),routes:t,mapRouteProperties:_j,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function jj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=pu({},e,{errors:Fj(e.errors)})),e}function Fj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new wh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const zj=m.createContext({isTransitioning:!1}),$j=m.createContext(new Map),Bj="startTransition",DS=$C[Bj],Uj="flushSync",LS=p2[Uj];function Vj(t){DS?DS(t):t()}function Wl(t){LS?LS(t):t()}let Wj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Hj(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=m.useState(n.state),[s,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[f,h]=m.useState(),[p,g]=m.useState(),x=m.useRef(new Map),{v7_startTransition:v}=r||{},w=m.useCallback(k=>{v?Vj(k):k()},[v]),S=m.useCallback((k,R)=>{let{deletedFetchers:P,unstable_flushSync:O,unstable_viewTransitionOpts:A}=R;P.forEach(z=>x.current.delete(z)),k.fetchers.forEach((z,K)=>{z.data!==void 0&&x.current.set(K,z.data)});let U=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||U){O?Wl(()=>o(k)):w(()=>o(k));return}if(O){Wl(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let z=n.window.document.startViewTransition(()=>{Wl(()=>o(k))});z.finished.finally(()=>{Wl(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),Wl(()=>h(z));return}f?(u&&u.resolve(),f.skipTransition(),g({state:k,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,f,u,x,w]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Wj)},[l]),m.useEffect(()=>{if(u&&s&&n.window){let k=s,R=u.promise,P=n.window.document.startViewTransition(async()=>{w(()=>o(k)),await R});P.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(P)}},[w,s,u,n.window]),m.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),m.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),m.useEffect(()=>{},[]);let C=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,R,P)=>n.navigate(k,{state:R,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(k,R,P)=>n.navigate(k,{replace:!0,state:R,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),I=n.basename||"/",b=m.useMemo(()=>({router:n,navigator:C,static:!1,basename:I}),[n,C,I]),_=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(vp.Provider,{value:b},m.createElement(tI.Provider,{value:i},m.createElement($j.Provider,{value:x.current},m.createElement(zj.Provider,{value:l},m.createElement(Rj,{basename:I,location:i.location,navigationType:i.historyAction,navigator:C,future:_},i.initialized||n.future.v7_partialHydration?m.createElement(Kj,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Kj=m.memo(Gj);function Gj(t){let{routes:e,future:n,state:r}=t;return gj(e,void 0,r,n)}const qj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aI=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Mj(e,Oj),{basename:h}=m.useContext(zo),p,g=!1;if(typeof c=="string"&&Jj.test(c)&&(p=c,qj))try{let S=new URL(window.location.href),C=c.startsWith("//")?new URL(S.protocol+c):new URL(c),I=vl(C.pathname,h);C.origin===S.origin&&I!=null?c=I+C.search+C.hash:g=!0}catch{}let x=pj(c,{relative:i}),v=Yj(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(S){r&&r(S),S.defaultPrevented||v(S)}return m.createElement("a",pu({},f,{href:p||x,onClick:g||o?r:w,ref:n,target:l}))});var jS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jS||(jS={}));var FS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FS||(FS={}));function Yj(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=pr(),c=ju(),u=iI(t,{relative:s});return m.useCallback(d=>{if(Aj(d,n)){d.preventDefault();let f=r!==void 0?r:Rs(c)===Rs(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const Xj={theme:"system",setTheme:()=>null},Qj=m.createContext(Xj);function Zj({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,o]=m.useState(()=>localStorage.getItem(n)||e);m.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const s={theme:i,setTheme:a=>{localStorage.setItem(n,a),o(a)}};return y.jsx(Qj.Provider,{...r,value:s,children:t})}const eF=1,tF=1e6;let jm=0;function nF(){return jm=(jm+1)%Number.MAX_SAFE_INTEGER,jm.toString()}const Fm=new Map,zS=t=>{if(Fm.has(t))return;const e=setTimeout(()=>{Fm.delete(t),Dc({type:"REMOVE_TOAST",toastId:t})},tF);Fm.set(t,e)},rF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zS(n):t.toasts.forEach(r=>{zS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lf=[];let cf={toasts:[]};function Dc(t){cf=rF(cf,t),lf.forEach(e=>{e(cf)})}function iF({...t}){const e=nF(),n=i=>Dc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Dc({type:"DISMISS_TOAST",toastId:e});return Dc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function oF(){const[t,e]=m.useState(cf);return m.useEffect(()=>(lf.push(e),()=>{const n=lf.indexOf(e);n>-1&&lf.splice(n,1)}),[t]),{...t,toast:iF,dismiss:n=>Dc({type:"DISMISS_TOAST",toastId:n})}}function Sp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sF=["color"],aF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Sp(t,sF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lF=["color"],lI=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Sp(t,lF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cF=["color"],uF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Sp(t,cF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dF=["color"],fF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Sp(t,dF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function hF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kp(...t){return e=>t.forEach(n=>hF(n,e))}function Be(...t){return m.useCallback(kp(...t),t)}function pF(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,mF(i,...e)]}function mF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Ro=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(gF);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return y.jsx(Dy,{...r,ref:e,children:m.isValidElement(s)?m.cloneElement(s,void 0,a):null})}return y.jsx(Dy,{...r,ref:e,children:n})});Ro.displayName="Slot";var Dy=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=vF(n);return m.cloneElement(n,{...yF(r,n.props),ref:e?kp(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});Dy.displayName="SlotClone";var cI=({children:t})=>y.jsx(y.Fragment,{children:t});function gF(t){return m.isValidElement(t)&&t.type===cI}function yF(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function vF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uw(t){const e=t+"CollectionProvider",[n,r]=pF(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:p,children:g}=h,x=Pn.useRef(null),v=Pn.useRef(new Map).current;return y.jsx(i,{scope:p,itemMap:v,collectionRef:x,children:g})};s.displayName=e;const a=t+"CollectionSlot",l=Pn.forwardRef((h,p)=>{const{scope:g,children:x}=h,v=o(a,g),w=Be(p,v.collectionRef);return y.jsx(Ro,{ref:w,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Pn.forwardRef((h,p)=>{const{scope:g,children:x,...v}=h,w=Pn.useRef(null),S=Be(p,w),C=o(c,g);return Pn.useEffect(()=>(C.itemMap.set(w,{ref:w,...v}),()=>void C.itemMap.delete(w))),y.jsx(Ro,{[u]:"",ref:S,children:x})});d.displayName=c;function f(h){const p=o(t+"CollectionConsumer",h);return Pn.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((C,I)=>v.indexOf(C.ref.current)-v.indexOf(I.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,r]}function wF(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function xl(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=d=>{var v;const{scope:f,children:h,...p}=d,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})};c.displayName=o+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,xF(i,...e)]}function xF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var SF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=SF.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Ro:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Vw(t,e){t&&yl.flushSync(()=>t.dispatchEvent(e))}function at(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bF="DismissableLayer",Ly="dismissableLayer.update",CF="dismissableLayer.pointerDownOutside",EF="dismissableLayer.focusOutside",$S,uI=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(uI),[u,d]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),p=Be(e,_=>d(_)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),w=u?g.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=v,I=IF(_=>{const k=_.target,R=[...c.branches].some(P=>P.contains(k));!C||R||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},f),b=NF(_=>{const k=_.target;[...c.branches].some(P=>P.contains(k))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},f);return kF(_=>{w===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},f),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($S=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),BS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$S)}},[u,f,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),BS())},[u,c]),m.useEffect(()=>{const _=()=>h({});return document.addEventListener(Ly,_),()=>document.removeEventListener(Ly,_)},[]),y.jsx(Ee.div,{...l,ref:p,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,b.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,I.onPointerDownCapture)})});bp.displayName=bF;var TF="DismissableLayerBranch",dI=m.forwardRef((t,e)=>{const n=m.useContext(uI),r=m.useRef(null),i=Be(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(Ee.div,{...t,ref:i})});dI.displayName=TF;function IF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){fI(CF,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&fI(EF,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BS(){const t=new CustomEvent(Ly);document.dispatchEvent(t)}function fI(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Vw(i,o):i.dispatchEvent(o)}var RF=bp,_F=dI,wi=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},MF="Portal",Cp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);wi(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?HT.createPortal(y.jsx(Ee.div,{...r,ref:e}),s):null});Cp.displayName=MF;function PF(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Nn=t=>{const{present:e,children:n}=t,r=AF(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Be(r.ref,OF(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Nn.displayName="Presence";function AF(t){const[e,n]=m.useState(),r=m.useRef({}),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=PF(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Ad(r.current);o.current=a==="mounted"?c:"none"},[a]),wi(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,h=Ad(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),wi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=Ad(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=h=>{h.target===e&&(o.current=Ad(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ad(t){return(t==null?void 0:t.animationName)||"none"}function OF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ep({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=DF({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=at(n),l=m.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[o,t,i,a]);return[s,l]}function DF({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=at(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var LF="VisuallyHidden",Ww=m.forwardRef((t,e)=>y.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ww.displayName=LF;var Hw="ToastProvider",[Kw,jF,FF]=Uw("Toast"),[hI,OY]=xl("Toast",[FF]),[zF,Tp]=hI(Hw),pI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hw}\`. Expected non-empty \`string\`.`),y.jsx(Kw.Provider,{scope:e,children:y.jsx(zF,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(h=>h+1),[]),onToastRemove:m.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};pI.displayName=Hw;var mI="ToastViewport",$F=["F8"],jy="toast.viewportPause",Fy="toast.viewportResume",gI=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=$F,label:i="Notifications ({hotkey})",...o}=t,s=Tp(mI,n),a=jF(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=Be(e,d,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;m.useEffect(()=>{const x=v=>{var S;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,v=d.current;if(p&&x&&v){const w=()=>{if(!s.isClosePausedRef.current){const b=new CustomEvent(jy);v.dispatchEvent(b),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const b=new CustomEvent(Fy);v.dispatchEvent(b),s.isClosePausedRef.current=!1}},C=b=>{!x.contains(b.relatedTarget)&&S()},I=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",I),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[p,s.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const C=S.ref.current,I=[C,...ZF(C)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const x=d.current;if(x){const v=w=>{var I,b,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const k=document.activeElement,R=w.shiftKey;if(w.target===x&&R){(I=c.current)==null||I.focus();return}const A=g({tabbingDirection:R?"backwards":"forwards"}),U=A.findIndex(z=>z===k);zm(A.slice(U+1))?w.preventDefault():R?(b=c.current)==null||b.focus():(_=u.current)==null||_.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),y.jsxs(_F,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&y.jsx(zy,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});zm(x)}}),y.jsx(Kw.Slot,{scope:n,children:y.jsx(Ee.ol,{tabIndex:-1,...o,ref:f})}),p&&y.jsx(zy,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});zm(x)}})]})});gI.displayName=mI;var yI="ToastFocusProxy",zy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Tp(yI,n);return y.jsx(Ww,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});zy.displayName=yI;var Ip="Toast",BF="toast.swipeStart",UF="toast.swipeMove",VF="toast.swipeCancel",WF="toast.swipeEnd",vI=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Ep({prop:r,defaultProp:i,onChange:o});return y.jsx(Nn,{present:n||a,children:y.jsx(GF,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:at(t.onPause),onResume:at(t.onResume),onSwipeStart:oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});vI.displayName=Ip;var[HF,KF]=hI(Ip,{onClose(){}}),GF=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=t,g=Tp(Ip,n),[x,v]=m.useState(null),w=Be(e,z=>v(z)),S=m.useRef(null),C=m.useRef(null),I=i||g.duration,b=m.useRef(0),_=m.useRef(I),k=m.useRef(0),{onToastAdd:R,onToastRemove:P}=g,O=at(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),s()}),A=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(k.current),b.current=new Date().getTime(),k.current=window.setTimeout(O,z))},[O]);m.useEffect(()=>{const z=g.viewport;if(z){const K=()=>{A(_.current),c==null||c()},q=()=>{const ne=new Date().getTime()-b.current;_.current=_.current-ne,window.clearTimeout(k.current),l==null||l()};return z.addEventListener(jy,q),z.addEventListener(Fy,K),()=>{z.removeEventListener(jy,q),z.removeEventListener(Fy,K)}}},[g.viewport,I,l,c,A]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&A(I)},[o,I,g.isClosePausedRef,A]),m.useEffect(()=>(R(),()=>P()),[R,P]);const U=m.useMemo(()=>x?EI(x):null,[x]);return g.viewport?y.jsxs(y.Fragment,{children:[U&&y.jsx(qF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),y.jsx(HF,{scope:n,onClose:O,children:yl.createPortal(y.jsx(Kw.ItemSlot,{scope:n,children:y.jsx(RF,{asChild:!0,onEscapeKeyDown:oe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:oe(t.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:oe(t.onPointerMove,z=>{if(!S.current)return;const K=z.clientX-S.current.x,q=z.clientY-S.current.y,ne=!!C.current,j=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,E=j?D(0,K):0,J=j?0:D(0,q),le=z.pointerType==="touch"?10:2,T={x:E,y:J},Se={originalEvent:z,delta:T};ne?(C.current=T,Od(UF,d,Se,{discrete:!1})):US(T,g.swipeDirection,le)?(C.current=T,Od(BF,u,Se,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(K)>le||Math.abs(q)>le)&&(S.current=null)}),onPointerUp:oe(t.onPointerUp,z=>{const K=C.current,q=z.target;if(q.hasPointerCapture(z.pointerId)&&q.releasePointerCapture(z.pointerId),C.current=null,S.current=null,K){const ne=z.currentTarget,j={originalEvent:z,delta:K};US(K,g.swipeDirection,g.swipeThreshold)?Od(WF,h,j,{discrete:!0}):Od(VF,f,j,{discrete:!0}),ne.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),qF=t=>{const{__scopeToast:e,children:n,...r}=t,i=Tp(Ip,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return XF(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.jsx(Cp,{asChild:!0,children:y.jsx(Ww,{...r,children:o&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},JF="ToastTitle",wI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});wI.displayName=JF;var YF="ToastDescription",xI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});xI.displayName=YF;var SI="ToastAction",kI=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(CI,{altText:n,asChild:!0,children:y.jsx(Gw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SI}\`. Expected non-empty \`string\`.`),null)});kI.displayName=SI;var bI="ToastClose",Gw=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=KF(bI,n);return y.jsx(CI,{asChild:!0,children:y.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,i.onClose)})})});Gw.displayName=bI;var CI=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function EI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),QF(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...EI(r))}}),e}function Od(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Vw(i,o):i.dispatchEvent(o)}var US=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function XF(t=()=>{}){const e=at(t);wi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function QF(t){return t.nodeType===t.ELEMENT_NODE}function ZF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ez=pI,TI=gI,II=vI,NI=wI,RI=xI,_I=kI,MI=Gw;function PI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=PI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function tz(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=PI(t))&&(r&&(r+=" "),r+=e);return r}const VS=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,WS=tz,qw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return WS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=VS(u)||VS(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[g,x]=p;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...c,d,f]:c},[]);return WS(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function AI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nz(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AI(t))&&(r&&(r+=" "),r+=e);return r}const Jw="-",rz=t=>{const e=oz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(Jw);return a[0]===""&&a.length!==1&&a.shift(),OI(a,e)||iz(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},OI=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?OI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Jw);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},HS=/^\[(.+)\]$/,iz=t=>{if(HS.test(t)){const e=HS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return az(Object.entries(t.classGroups),n).forEach(([o,s])=>{$y(s,r,o,e)}),r},$y=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:KS(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(sz(i)){$y(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{$y(s,KS(e,o),n,r)})})},KS=(t,e)=>{let n=t;return e.split(Jw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sz=t=>t.isThemeGetter,az=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,lz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},DI="!",cz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(r||a.slice(x,x+o)===e)){l.push(a.slice(u,x)),u=x+o;continue}if(v==="/"){d=x;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(DI),p=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},uz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dz=t=>({cache:lz(t.cacheSize),parseClassName:cz(t),...rz(t)}),fz=/\s+/,hz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(fz);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const x=uz(u).join(":"),v=d?x+DI:x,w=v+g;if(o.includes(w))continue;o.push(w);const S=i(g,p);for(let C=0;C<S.length;++C){const I=S[C];o.push(v+I)}a=c+(a.length>0?" "+a:a)}return a};function pz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LI(e))&&(r&&(r+=" "),r+=n);return r}const LI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=LI(t[r]))&&(n&&(n+=" "),n+=e);return n};function mz(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=dz(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=hz(l,n);return i(l,u),u}return function(){return o(pz.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jI=/^\[(?:([a-z-]+):)?(.+)\]$/i,gz=/^\d+\/\d+$/,yz=new Set(["px","full","screen"]),vz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>Aa(t)||yz.has(t)||gz.test(t),Oi=t=>Sl(t,"length",_z),Aa=t=>!!t&&!Number.isNaN(Number(t)),$m=t=>Sl(t,"number",Aa),Hl=t=>!!t&&Number.isInteger(Number(t)),bz=t=>t.endsWith("%")&&Aa(t.slice(0,-1)),me=t=>jI.test(t),Di=t=>vz.test(t),Cz=new Set(["length","size","percentage"]),Ez=t=>Sl(t,Cz,FI),Tz=t=>Sl(t,"position",FI),Iz=new Set(["image","url"]),Nz=t=>Sl(t,Iz,Pz),Rz=t=>Sl(t,"",Mz),Kl=()=>!0,Sl=(t,e,n)=>{const r=jI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_z=t=>wz.test(t)&&!xz.test(t),FI=()=>!1,Mz=t=>Sz.test(t),Pz=t=>kz.test(t),Az=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),o=Ke("borderRadius"),s=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),c=Ke("grayscale"),u=Ke("hueRotate"),d=Ke("invert"),f=Ke("gap"),h=Ke("gradientColorStops"),p=Ke("gradientColorStopPositions"),g=Ke("inset"),x=Ke("margin"),v=Ke("opacity"),w=Ke("padding"),S=Ke("saturate"),C=Ke("scale"),I=Ke("sepia"),b=Ke("skew"),_=Ke("space"),k=Ke("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",me,e],A=()=>[me,e],U=()=>["",Qr,Oi],z=()=>["auto",Aa,me],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",me],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Aa,me];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[Qr,Oi],blur:["none","",Di,me],brightness:J(),borderColor:[t],borderRadius:["none","","full",Di,me],borderSpacing:A(),borderWidth:U(),contrast:J(),grayscale:D(),hueRotate:J(),invert:D(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[bz,Oi],inset:O(),margin:O(),opacity:J(),padding:A(),saturate:J(),scale:J(),sepia:D(),skew:J(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,me]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Hl,me]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Hl,me]},me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Hl,me]},me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$m]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Aa,$m]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Oi]}],"underline-offset":[{"underline-offset":["auto",Qr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Tz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ez]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Qr,me]}],"outline-w":[{outline:[Qr,Oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Qr,Oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Di,Rz]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Di,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Hl,me]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Oi,$m]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Oz=mz(Az);function ge(...t){return Oz(nz(t))}const Dz=ez,zI=m.forwardRef(({className:t,...e},n)=>y.jsx(TI,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zI.displayName=TI.displayName;const Lz=qw("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$I=m.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(II,{ref:r,className:ge(Lz({variant:e}),t),...n}));$I.displayName=II.displayName;const jz=m.forwardRef(({className:t,...e},n)=>y.jsx(_I,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jz.displayName=_I.displayName;const BI=m.forwardRef(({className:t,...e},n)=>y.jsx(MI,{ref:n,className:ge("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(uF,{className:"h-4 w-4"})}));BI.displayName=MI.displayName;const UI=m.forwardRef(({className:t,...e},n)=>y.jsx(NI,{ref:n,className:ge("text-sm font-semibold [&+div]:text-xs",t),...e}));UI.displayName=NI.displayName;const VI=m.forwardRef(({className:t,...e},n)=>y.jsx(RI,{ref:n,className:ge("text-sm opacity-90",t),...e}));VI.displayName=RI.displayName;function Fz(){const{toasts:t}=oF();return y.jsxs(Dz,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return y.jsxs($I,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(UI,{children:n}),r&&y.jsx(VI,{children:r})]}),i,y.jsx(BI,{})]},e)}),y.jsx(zI,{})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},HI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new $z;const f=o<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bz=function(t){const e=WI(t);return HI.encodeByteArray(e,!0)},KI=function(t){return Bz(t).replace(/\./g,"")},GI=function(t){try{return HI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=()=>Uz().__FIREBASE_DEFAULTS__,Wz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GI(t[1]);return e&&JSON.parse(e)},Yw=()=>{try{return Vz()||Wz()||Hz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kz=t=>{var e,n;return(n=(e=Yw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qI=()=>{var t;return(t=Yw())===null||t===void 0?void 0:t.config},JI=t=>{var e;return(e=Yw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function Jz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qz(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zz(){try{return typeof indexedDB=="object"}catch{return!1}}function e$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="FirebaseError";class $o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t$,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?n$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $o(i,a,r)}}function n$(t,e){return t.replace(r$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const r$=/\{\$([^}]+)}/g;function i$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GS(o)&&GS(s)){if(!Sh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function o$(t,e){const n=new s$(t,e);return n.subscribe.bind(n)}class s${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bm),i.error===void 0&&(i.error=Bm),i.complete===void 0&&(i.complete=Bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u$(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c$(t){return t===Zo?void 0:t}function u$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const f$={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},h$=ze.INFO,p$={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},m$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YI{constructor(e){this.name=e,this._logLevel=h$,this._logHandler=m$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const g$=(t,e)=>e.some(n=>t instanceof n);let qS,JS;function y$(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v$(){return JS||(JS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,By=new WeakMap,QI=new WeakMap,Um=new WeakMap,Xw=new WeakMap;function w$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}function x$(t){if(By.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});By.set(t,e)}let Uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S$(t){Uy=t(Uy)}function k$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vm(this),e,...n);return QI.set(r,e.sort?e.sort():[e]),xo(r)}:v$().includes(t)?function(...e){return t.apply(Vm(this),e),xo(XI.get(this))}:function(...e){return xo(t.apply(Vm(this),e))}}function b$(t){return typeof t=="function"?k$(t):(t instanceof IDBTransaction&&x$(t),g$(t,y$())?new Proxy(t,Uy):t)}function xo(t){if(t instanceof IDBRequest)return w$(t);if(Um.has(t))return Um.get(t);const e=b$(t);return e!==t&&(Um.set(t,e),Xw.set(e,t)),e}const Vm=t=>Xw.get(t);function C$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const E$=["get","getKey","getAll","getAllKeys","count"],T$=["put","add","delete","clear"],Wm=new Map;function YS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Wm.set(e,o),o}S$(t=>({...t,get:(e,n,r)=>YS(e,n)||t.get(e,n,r),has:(e,n)=>!!YS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vy="@firebase/app",XS="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new YI("@firebase/app"),R$="@firebase/app-compat",_$="@firebase/analytics-compat",M$="@firebase/analytics",P$="@firebase/app-check-compat",A$="@firebase/app-check",O$="@firebase/auth",D$="@firebase/auth-compat",L$="@firebase/database",j$="@firebase/data-connect",F$="@firebase/database-compat",z$="@firebase/functions",$$="@firebase/functions-compat",B$="@firebase/installations",U$="@firebase/installations-compat",V$="@firebase/messaging",W$="@firebase/messaging-compat",H$="@firebase/performance",K$="@firebase/performance-compat",G$="@firebase/remote-config",q$="@firebase/remote-config-compat",J$="@firebase/storage",Y$="@firebase/storage-compat",X$="@firebase/firestore",Q$="@firebase/vertexai",Z$="@firebase/firestore-compat",eB="firebase",tB="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="[DEFAULT]",nB={[Vy]:"fire-core",[R$]:"fire-core-compat",[M$]:"fire-analytics",[_$]:"fire-analytics-compat",[A$]:"fire-app-check",[P$]:"fire-app-check-compat",[O$]:"fire-auth",[D$]:"fire-auth-compat",[L$]:"fire-rtdb",[j$]:"fire-data-connect",[F$]:"fire-rtdb-compat",[z$]:"fire-fn",[$$]:"fire-fn-compat",[B$]:"fire-iid",[U$]:"fire-iid-compat",[V$]:"fire-fcm",[W$]:"fire-fcm-compat",[H$]:"fire-perf",[K$]:"fire-perf-compat",[G$]:"fire-rc",[q$]:"fire-rc-compat",[J$]:"fire-gcs",[Y$]:"fire-gcs-compat",[X$]:"fire-fst",[Z$]:"fire-fst-compat",[Q$]:"fire-vertex","fire-js":"fire-js",[eB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,rB=new Map,Hy=new Map;function QS(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mu(t){const e=t.name;if(Hy.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const n of kh.values())QS(n,t);for(const n of rB.values())QS(n,t);return!0}function ZI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ar(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new Fu("app","Firebase",iB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=tB;function eN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=qI()),!n)throw So.create("no-options");const o=kh.get(i);if(o){if(Sh(n,o.options)&&Sh(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new d$(i);for(const l of Hy.values())s.addComponent(l);const a=new oB(n,r,s);return kh.set(i,a),a}function sB(t=Wy){const e=kh.get(t);if(!e&&t===Wy&&qI())return eN();if(!e)throw So.create("no-app",{appName:t});return e}function Oa(t,e,n){var r;let i=(r=nB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}mu(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="firebase-heartbeat-database",lB=1,gu="firebase-heartbeat-store";let Hm=null;function tN(){return Hm||(Hm=C$(aB,lB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function cB(t){try{const n=(await tN()).transaction(gu),r=await n.objectStore(gu).get(nN(t));return await n.done,r}catch(e){if(e instanceof $o)xi.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function ZS(t,e){try{const r=(await tN()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,nN(t)),await r.done}catch(n){if(n instanceof $o)xi.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function nN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1024,dB=30*24*60*60*1e3;class fB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ek();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=dB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ek(),{heartbeatsToSend:r,unsentEntries:i}=hB(this._heartbeatsCache.heartbeats),o=KI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xi.warn(n),""}}}function ek(){return new Date().toISOString().substring(0,10)}function hB(t,e=uB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zz()?e$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tk(t){return KI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){mu(new ol("platform-logger",e=>new I$(e),"PRIVATE")),mu(new ol("heartbeat",e=>new fB(e),"PRIVATE")),Oa(Vy,XS,t),Oa(Vy,XS,"esm2017"),Oa("fire-js","")}mB("");var gB="firebase",yB="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(gB,yB,"app");var Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mr.apply(this,arguments)};function Bu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wB=rN,iN=new Fu("auth","Firebase",rN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new YI("@firebase/auth");function xB(t,...e){bh.logLevel<=ze.WARN&&bh.warn(`Auth (${$u}): ${t}`,...e)}function uf(t,...e){bh.logLevel<=ze.ERROR&&bh.error(`Auth (${$u}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw Qw(t,...e)}function jr(t,...e){return Qw(t,...e)}function oN(t,e,n){const r=Object.assign(Object.assign({},wB()),{[e]:n});return new Fu("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return oN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iN.create(t,...e)}function ue(t,e,...n){if(!t)throw Qw(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Si(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SB(){return nk()==="http:"||nk()==="https:"}function nk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SB()||Yz()||"connection"in navigator)?navigator.onLine:!0}function bB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=qz()||Xz()}get(){return kB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new Uu(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,i={}){return aN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=zu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Jz()||(c.referrerPolicy="no-referrer"),sN.fetch()(lN(t,t.config.apiHost,n,a),c)})}async function aN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CB),e);try{const i=new IB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Dd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oN(t,u,c);ur(t,u)}}catch(i){if(i instanceof $o)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function Vu(t,e,n,r,i={}){const o=await Vo(t,e,n,r,i);return"mfaPendingCredential"in o&&ur(t,"multi-factor-auth-required",{_serverResponse:o}),o}function lN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zw(t.config,i):`${t.config.apiScheme}://${i}`}function TB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),EB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function rk(t){return t!==void 0&&t.enterprise!==void 0}class NB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RB(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function cN(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MB(t,e=!1){const n=Bo(t),r=await n.getIdToken(e),i=e0(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Lc(Km(i.auth_time)),issuedAtTime:Lc(Km(i.iat)),expirationTime:Lc(Km(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Km(t){return Number(t)*1e3}function e0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const i=GI(n);return i?JSON.parse(i):(uf("Failed to decode base64 JWT payload"),null)}catch(i){return uf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ik(t){const e=e0(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $o&&PB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yu(t,cN(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uN(o.providerUserInfo):[],a=DB(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gy(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function OB(t){const e=Bo(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uN(t){return t.map(e=>{var{providerId:n}=e,r=Bu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e){const n=await aN(t,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=lN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sN.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jB(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ik(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=ik(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await LB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Da;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MB(this,e)}reload(){return OB(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await yu(this,_B(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:C,isAnonymous:I,providerData:b,stsTokenManager:_}=n;ue(S&&_,e,"internal-error");const k=Da.fromJSON(this.name,_);ue(typeof S=="string",e,"internal-error"),Li(d,e.name),Li(f,e.name),ue(typeof C=="boolean",e,"internal-error"),ue(typeof I=="boolean",e,"internal-error"),Li(h,e.name),Li(p,e.name),Li(g,e.name),Li(x,e.name),Li(v,e.name),Li(w,e.name);const R=new li({uid:S,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:w});return b&&Array.isArray(b)&&(R.providerData=b.map(P=>Object.assign({},P))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const o=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ch(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Da;a.updateFromIdToken(r);const l=new li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Map;function ci(t){Si(t instanceof Function,"Expected a class definition");let e=ok.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ok.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dN.type="NONE";const sk=dN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=df(this.userKey,i.apiKey,o),this.fullPersistenceKey=df("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(ci(sk),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ci(sk);const s=df(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=li._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new La(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new La(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yN(e))return"Blackberry";if(vN(e))return"Webos";if(hN(e))return"Safari";if((e.includes("chrome/")||pN(e))&&!e.includes("edge/"))return"Chrome";if(gN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fN(t=qt()){return/firefox\//i.test(t)}function hN(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pN(t=qt()){return/crios\//i.test(t)}function mN(t=qt()){return/iemobile/i.test(t)}function gN(t=qt()){return/android/i.test(t)}function yN(t=qt()){return/blackberry/i.test(t)}function vN(t=qt()){return/webos/i.test(t)}function t0(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FB(t=qt()){var e;return t0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zB(){return Qz()&&document.documentMode===10}function wN(t=qt()){return t0(t)||gN(t)||vN(t)||yN(t)||/windows phone/i.test(t)||mN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e=[]){let n;switch(t){case"Browser":n=ak(qt());break;case"Worker":n=`${ak(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$u}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=6;class VB{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:UB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lk(this),this.idTokenSubscription=new lk(this),this.beforeStateQueue=new $B(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cN(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(hi(this));const n=e?Bo(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BB(this),n=new VB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return Bo(t)}class lk{constructor(e){this.auth=e,this.observer=null,this.addObserver=o$(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HB(t){Np=t}function SN(t){return Np.loadJS(t)}function KB(){return Np.recaptchaEnterpriseScript}function GB(){return Np.gapiScript}function qB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JB{constructor(){this.enterprise=new YB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XB="recaptcha-enterprise",kN="NO_RECAPTCHA";class QB{constructor(e){this.type=XB,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{RB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new NB(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;rk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(kN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JB().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&rk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KB();l.length!==0&&(l+=a),SN(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Gl(t,e,n,r=!1,i=!1){const o=new QB(t);let s;if(i)s=kN;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qy(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Gl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Gl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Gl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t,e){const n=ZI(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Sh(o,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function e3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t3(t,e,n){const r=zs(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=bN(e),{host:s,port:a}=n3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||r3()}function bN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n3(t){const e=bN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ck(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:ck(s)}}}function ck(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function i3(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function a3(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends n0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",o3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return s3(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",i3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a3(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="http://localhost";class _s extends n0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Bu(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new _s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:l3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u3(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class r0{constructor(e){var n,r,i,o,s,a;const l=tc(nc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=c3((i=l.mode)!==null&&i!==void 0?i:null);ue(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=u3(e);try{return new r0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r0.parseLink(n);return ue(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends CN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Wu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return to.credential(n,r)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Wu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Wu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Vu(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),s=uk(r);return new Ms({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uk(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends $o{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eh(e,n,r,i)}}function EN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(t,o,e,r):o})}async function f3(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e,n=!1){const{auth:r}=t;if(Ar(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const o=await yu(t,EN(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=e0(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e,n=!1){if(Ar(t.app))return Promise.reject(hi(t));const r="signIn",i=await EN(t,r,e),o=await Ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function p3(t,e){return TN(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m3(t,e,n){if(Ar(t.app))return Promise.reject(hi(t));const r=zs(t),s=await qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&IN(t),l}),a=await Ms._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function g3(t,e,n){return Ar(t.app)?Promise.reject(hi(t)):p3(Bo(t),kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IN(t),r})}function y3(t,e,n,r){return Bo(t).onIdTokenChanged(e,n,r)}function v3(t,e,n){return Bo(t).beforeAuthStateChanged(e,n)}function w3(t){return Bo(t).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=1e3,S3=10;class RN extends NN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);zB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RN.type="LOCAL";const k3=RN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends NN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_N.type="SESSION";const MN=_N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await b3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=i0("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function E3(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function T3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N3(){return PN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebaseLocalStorageDb",R3=1,Ih="firebaseLocalStorage",ON="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function _3(){const t=indexedDB.deleteDatabase(AN);return new Hu(t).toPromise()}function Jy(){const t=indexedDB.open(AN,R3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ih,{keyPath:ON})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await _3(),e(await Jy()))})})}async function dk(t,e,n){const r=_p(t,!0).put({[ON]:e,value:n});return new Hu(r).toPromise()}async function M3(t,e){const n=_p(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function fk(t,e){const n=_p(t,!0).delete(e);return new Hu(n).toPromise()}const P3=800,A3=3;class DN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rp._getInstance(N3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new C3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jy();return await dk(e,Th,"1"),await fk(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=_p(i,!1).getAll();return new Hu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DN.type="LOCAL";const O3=DN;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e){return e?ci(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends n0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L3(t){return TN(t.auth,new o0(t),t.bypassAuthState)}function j3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),h3(n,new o0(t),t.bypassAuthState)}async function F3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),f3(n,new o0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return j3;default:ur(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Uu(2e3,1e4);class Ea extends LN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z3.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="pendingRedirect",ff=new Map;class B3 extends LN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await U3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U3(t,e){const n=H3(e),r=W3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V3(t,e){ff.set(t._key(),e)}function W3(t){return ci(t._redirectPersistence)}function H3(t){return df($3,t.config.apiKey,t.name)}async function K3(t,e,n=!1){if(Ar(t.app))return Promise.reject(hi(t));const r=zs(t),i=D3(r,e),s=await new B3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=10*60*1e3;class q3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G3&&this.cachedEventUids.clear(),this.cachedEventUids.has(hk(e))}saveEventToCache(e){this.cachedEventUids.add(hk(e)),this.lastProcessedEventTime=Date.now()}}function hk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q3=/^https?/;async function Z3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y3(t);for(const n of e)try{if(e4(n))return}catch{}ur(t,"unauthorized-domain")}function e4(t){const e=Ky(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Q3.test(n))return!1;if(X3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Uu(3e4,6e4);function pk(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n4(t){return new Promise((e,n)=>{var r,i,o;function s(){pk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pk(),n(jr(t,"network-request-failed"))},timeout:t4.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)s();else{const a=qB("iframefcb");return Fr()[a]=()=>{gapi.load?s():n(jr(t,"network-request-failed"))},SN(`${GB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function r4(t){return hf=hf||n4(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Uu(5e3,15e3),o4="__/auth/iframe",s4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c4(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zw(e,s4):`https://${t.config.authDomain}/${o4}`,r={apiKey:e.apiKey,appName:t.name,v:$u},i=l4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zu(r).slice(1)}`}async function u4(t){const e=await r4(t),n=Fr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:c4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jr(t,"network-request-failed"),a=Fr().setTimeout(()=>{o(s)},i4.get());function l(){Fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f4=500,h4=600,p4="_blank",m4="http://localhost";class mk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g4(t,e,n,r=f4,i=h4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},d4),{width:r.toString(),height:i.toString(),top:o,left:s}),c=qt().toLowerCase();n&&(a=pN(c)?p4:n),fN(c)&&(e=e||m4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(FB(c)&&a!=="_self")return y4(e||"",a),new mk(null);const d=window.open(e||"",a,u);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new mk(d)}function y4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="__/auth/handler",w4="emulator/auth/handler",x4=encodeURIComponent("fac");async function gk(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$u,eventId:i};if(e instanceof CN){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",i$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Wu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${x4}=${encodeURIComponent(l)}`:"";return`${S4(t)}?${zu(a).slice(1)}${c}`}function S4({config:t}){return t.emulator?Zw(t,w4):`https://${t.authDomain}/${v4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MN,this._completeRedirectFn=K3,this._overrideRedirectResult=V3}async _openPopup(e,n,r,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await gk(e,n,r,Ky(),i);return g4(e,s,i0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await gk(e,n,r,Ky(),i);return E3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u4(e),r=new q3(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gm];s!==void 0&&n(!!s),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wN()||hN()||t0()}}const b4=k4;var yk="@firebase/auth",vk="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T4(t){mu(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xN(t)},c=new WB(r,i,o,l);return e3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mu(new ol("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new C4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(yk,vk,E4(t)),Oa(yk,vk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=5*60,N4=JI("authIdTokenMaxAge")||I4;let wk=null;const R4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N4)return;const i=n==null?void 0:n.token;wk!==i&&(wk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _4(t=sB()){const e=ZI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZB(t,{popupRedirectResolver:b4,persistence:[O3,k3,MN]}),r=JI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=R4(o.toString());v3(n,s,()=>s(n.currentUser)),y3(n,a=>s(a))}}const i=Kz("auth");return i&&t3(n,`http://${i}`),n}function M4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",M4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T4("Browser");const P4={apiKey:"AIzaSyDKtINTR7UD_W_vD5J3Ot-6rqxZd0P_a0A",authDomain:"googleapis.com",projectId:"my-recipe-app-79c51",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:"5209797241"},A4=eN(P4),Ld=_4(A4),Ri=Pn.createContext({}),O4=({children:t})=>{const[e,n]=m.useState(),[r,i]=m.useState(!0);return m.useEffect(()=>{Ld==null||Ld.authStateReady().then(()=>{n(Ld),i(!1)})},[]),y.jsx(Ri.Provider,{value:{auth:e,isLoading:r},children:t})};var D4=m.createContext(void 0);function s0(t){const e=m.useContext(D4);return t||e||"ltr"}function L4(t,[e,n]){return Math.min(n,Math.max(e,t))}function j4(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var a0="ScrollArea",[FN,DY]=xl(a0),[F4,Hn]=FN(a0),zN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(null),[g,x]=m.useState(null),[v,w]=m.useState(0),[S,C]=m.useState(0),[I,b]=m.useState(!1),[_,k]=m.useState(!1),R=Be(e,O=>l(O)),P=s0(i);return y.jsx(F4,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:b,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:C,children:y.jsx(Ee.div,{dir:P,...s,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});zN.displayName=a0;var $N="ScrollAreaViewport",BN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...s}=t,a=Hn($N,n),l=m.useRef(null),c=Be(e,l,a.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),y.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:q4({asChild:i,children:r},u=>y.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});BN.displayName=$N;var Wr="ScrollAreaScrollbar",l0=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hn(Wr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?y.jsx(z4,{...r,ref:e,forceMount:n}):i.type==="scroll"?y.jsx($4,{...r,ref:e,forceMount:n}):i.type==="auto"?y.jsx(UN,{...r,ref:e,forceMount:n}):i.type==="always"?y.jsx(c0,{...r,ref:e}):null});l0.displayName=Wr;var z4=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hn(Wr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(Nn,{present:n||o,children:y.jsx(UN,{"data-state":o?"visible":"hidden",...r,ref:e})})}),$4=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hn(Wr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Pp(()=>l("SCROLL_END"),100),[a,l]=j4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),s()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,o,l,s]),y.jsx(Nn,{present:n||a!=="hidden",children:y.jsx(c0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),UN=m.forwardRef((t,e)=>{const n=Hn(Wr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Pp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return sl(n.viewport,l),sl(n.content,l),y.jsx(Nn,{present:r||o,children:y.jsx(c0,{"data-state":o?"visible":"hidden",...i,ref:e})})}),c0=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Hn(Wr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=GN(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function d(f,h){return K4(f,s.current,a,h)}return n==="horizontal"?y.jsx(B4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,h=xk(f,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?y.jsx(U4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,h=xk(f,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),B4=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hn(Wr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=Be(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(WN,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),JN(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Rh(s.paddingLeft),paddingEnd:Rh(s.paddingRight)}})}})}),U4=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hn(Wr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=Be(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(WN,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),JN(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Rh(s.paddingTop),paddingEnd:Rh(s.paddingBottom)}})}})}),[V4,VN]=FN(Wr),WN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=Hn(Wr,n),[p,g]=m.useState(null),x=Be(e,R=>g(R)),v=m.useRef(null),w=m.useRef(""),S=h.viewport,C=r.content-r.viewport,I=at(u),b=at(l),_=Pp(d,10);function k(R){if(v.current){const P=R.clientX-v.current.left,O=R.clientY-v.current.top;c({x:P,y:O})}}return m.useEffect(()=>{const R=P=>{const O=P.target;(p==null?void 0:p.contains(O))&&I(P,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[S,p,C,I]),m.useEffect(b,[r,b]),sl(p,_),sl(h.content,_),y.jsx(V4,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:at(o),onThumbPointerUp:at(s),onThumbPositionChange:b,onThumbPointerDown:at(a),children:y.jsx(Ee.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:oe(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),v.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(R))}),onPointerMove:oe(t.onPointerMove,k),onPointerUp:oe(t.onPointerUp,R=>{const P=R.target;P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Nh="ScrollAreaThumb",HN=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=VN(Nh,t.__scopeScrollArea);return y.jsx(Nn,{present:n||i.hasThumb,children:y.jsx(W4,{ref:e,...r})})}),W4=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Hn(Nh,n),s=VN(Nh,n),{onThumbPositionChange:a}=s,l=Be(e,d=>s.onThumbChange(d)),c=m.useRef(),u=Pp(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const d=o.viewport;if(d){const f=()=>{if(u(),!c.current){const h=G4(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[o.viewport,u,a]),y.jsx(Ee.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),p=d.clientX-h.left,g=d.clientY-h.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:oe(t.onPointerUp,s.onThumbPointerUp)})});HN.displayName=Nh;var u0="ScrollAreaCorner",KN=m.forwardRef((t,e)=>{const n=Hn(u0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(H4,{...t,ref:e}):null});KN.displayName=u0;var H4=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Hn(u0,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return sl(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),sl(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?y.jsx(Ee.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Rh(t){return t?parseInt(t,10):0}function GN(t,e){const n=t/e;return isNaN(n)?0:n}function Mp(t){const e=GN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function K4(t,e,n,r="ltr"){const i=Mp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return qN([l,c],d)(t)}function xk(t,e,n="ltr"){const r=Mp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=L4(t,l);return qN([0,s],[0,a])(c)}function qN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function JN(t,e){return t>0&&t<e}var G4=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Pp(t,e){const n=at(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sl(t,e){const n=at(e);wi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function q4(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=m.Children.only(r);return m.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var YN=zN,J4=BN,Y4=KN;const Ap=m.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(YN,{ref:r,className:ge("relative overflow-hidden",t),...n,children:[y.jsx(J4,{className:"h-full w-full rounded-[inherit]",children:e}),y.jsx(XN,{}),y.jsx(Y4,{})]}));Ap.displayName=YN.displayName;const XN=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>y.jsx(l0,{ref:r,orientation:e,className:ge("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:y.jsx(HN,{className:"relative flex-1 rounded-full bg-border"})}));XN.displayName=l0.displayName;/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>m.createElement("svg",{ref:l,...Q4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QN("lucide",i),...a},[...s.map(([c,u])=>m.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=(t,e)=>{const n=m.forwardRef(({className:r,...i},o)=>m.createElement(Z4,{ref:o,iconNode:e,className:QN(`lucide-${X4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Kn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Kn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Kn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Kn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Kn("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Kn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Kn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Kn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Kn("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Kn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Kn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Kn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function iR(t){return`https://${t}-my-recipe-app-3p6i.encr.app`}class iU{constructor(e="prod",n){yt(this,"api");!e.startsWith("http://")&&!e.startsWith("https://")&&(e=iR(e)),typeof n=="string"&&(n={auth:n});const r=new uU(e,n??{});this.api=new Yy.ServiceClient(r)}}var Yy;(t=>{class e{constructor(r){yt(this,"baseClient");this.baseClient=r}async CheckIfSlugIsAvailable(r){return await(await this.baseClient.callAPI("POST","/api/slug/available",JSON.stringify(r))).json()}async CheckIfUsernameIsAvailable(r){return await(await this.baseClient.callAPI("POST","/api/username/available",JSON.stringify(r))).json()}async DeleteRecipe(r){await this.baseClient.callAPI("DELETE",`/api/recipes/${encodeURIComponent(r)}`)}async GenerateFromImages(r){return await(await this.baseClient.callAPI("POST","/api/recipes/generate-from-images",JSON.stringify(r))).json()}async GenerateFromText(r){return await(await this.baseClient.callAPI("POST","/api/recipes/generate-from-text",JSON.stringify(r))).json()}async GetAllRecipes(){return await(await this.baseClient.callAPI("GET","/api/recipes")).json()}async GetMyProfile(){return await(await this.baseClient.callAPI("GET","/api/profile")).json()}async GetRecipe(r,i){return await(await this.baseClient.callAPI("GET",`/api/recipes/${encodeURIComponent(r)}/${encodeURIComponent(i)}`)).json()}async GetRecipesByProfileId(r){return await(await this.baseClient.callAPI("GET",`/api/recipes/${encodeURIComponent(r)}`)).json()}async SaveProfile(r){return await(await this.baseClient.callAPI("POST","/api/profile",JSON.stringify(r))).json()}async SaveRecipe(r){return await(await this.baseClient.callAPI("POST","/api/recipes",JSON.stringify(r))).json()}}t.ServiceClient=e})(Yy||(Yy={}));function jd(t){const e=[];for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const i of r)e.push(`${n}=${encodeURIComponent(i)}`)}return e.join("&")}function oU(t){return"encore.dev.headers."+btoa(JSON.stringify(t)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class d0{constructor(e,n){yt(this,"ws");yt(this,"hasUpdateHandlers",[]);let r=["encore-ws"];n&&r.push(oU(n)),this.ws=new WebSocket(e,r),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const e=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const n of e)n()}async hasUpdate(){await new Promise(e=>{this.hasUpdateHandlers.push(()=>e(null))})}on(e,n){this.ws.addEventListener(e,n)}off(e,n){this.ws.removeEventListener(e,n)}close(){this.ws.close()}}class sU{constructor(e,n){yt(this,"socket");yt(this,"buffer",[]);this.socket=new d0(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class aU{constructor(e,n){yt(this,"socket");yt(this,"buffer",[]);this.socket=new d0(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class lU{constructor(e,n){yt(this,"socket");yt(this,"responseValue");let r;this.responseValue=new Promise(i=>r=i),this.socket=new d0(e,n),this.socket.on("message",i=>{r(JSON.parse(i.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}}const cU=fetch.bind(void 0);class uU{constructor(e,n){yt(this,"baseURL");yt(this,"fetcher");yt(this,"headers");yt(this,"requestInit");yt(this,"authGenerator");if(this.baseURL=e,this.headers={"Content-Type":"application/json"},typeof window>"u"&&(this.headers["User-Agent"]="my-recipe-app-3p6i-Generated-TS-Client (Encore/v1.41.8)"),this.requestInit=n.requestInit??{},n.fetcher!==void 0?this.fetcher=n.fetcher:this.fetcher=cU,n.auth!==void 0){const r=n.auth;typeof r=="function"?this.authGenerator=r:this.authGenerator=()=>r}}async getAuthData(){let e;if(this.authGenerator){const n=this.authGenerator();n instanceof Promise?e=await n:e=n}if(e){const n={};return n.headers={},n.headers.Authorization="Bearer "+e,n}}async createStreamInOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+jd(r):"";return new sU(this.baseURL+e+s,i)}async createStreamIn(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+jd(r):"";return new aU(this.baseURL+e+s,i)}async createStreamOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+jd(r):"";return new lU(this.baseURL+e+s,i)}async callAPI(e,n,r,i){let{query:o,headers:s,...a}=i??{};const l={...this.requestInit,...a,method:e,body:r??null};l.headers={...this.headers,...l.headers,...s};const c=await this.getAuthData();c&&(c.query&&(o={...o,...c.query}),c.headers&&(l.headers={...l.headers,...c.headers}));const u=o?"?"+jd(o):"",d=await this.fetcher(this.baseURL+n+u,l);if(!d.ok){let f={code:"unknown",message:`request failed: status ${d.status}`};try{const h=await d.text();try{const p=JSON.parse(h);dU(p)?f=p:f.message+=": "+JSON.stringify(p)}catch{f.message+=": "+h}}catch(h){f.message+=": "+String(h)}throw new _h(d.status,f)}return d}}function dU(t){return t!=null&&fU(t.code)&&typeof t.message=="string"&&(t.details===void 0||t.details===null||typeof t.details=="object")}function fU(t){return t!==void 0&&Object.values(oR).includes(t)}class _h extends Error{constructor(n,r){super(r.message);yt(this,"status");yt(this,"code");yt(this,"details");Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=_h.prototype:Object.setPrototypeOf(this,_h.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=n,this.code=r.code,this.details=r.details}}var oR=(t=>(t.OK="ok",t.Canceled="canceled",t.Unknown="unknown",t.InvalidArgument="invalid_argument",t.DeadlineExceeded="deadline_exceeded",t.NotFound="not_found",t.AlreadyExists="already_exists",t.PermissionDenied="permission_denied",t.ResourceExhausted="resource_exhausted",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.Unimplemented="unimplemented",t.Internal="internal",t.Unavailable="unavailable",t.DataLoss="data_loss",t.Unauthenticated="unauthenticated",t))(oR||{});const zn=t=>{const e=iR("staging");return new iU(e,{auth:t})},Op=qw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-6 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",bae:"min-h-12 px-4 py-2 rounded-md text-2xl font-semibold",icon:"rounded-full h-10 min-w-10",header:"text-2xl h-10 px-3 font-semibold",tag:"rounded-full px-4 py-1 text-2xl font-semibold"}},defaultVariants:{variant:"secondary",size:"bae"}}),At=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?Ro:"button";return y.jsx(s,{className:ge(Op({variant:e,size:n,className:t})),ref:o,...i})});At.displayName="Button";var qm=0;function sR(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ck()),document.body.insertAdjacentElement("beforeend",t[1]??Ck()),qm++,()=>{qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qm--}},[])}function Ck(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jm="focusScope.autoFocusOnMount",Ym="focusScope.autoFocusOnUnmount",Ek={bubbles:!1,cancelable:!0},hU="FocusScope",f0=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=at(i),u=at(o),d=m.useRef(null),f=Be(e,g=>l(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(S){if(h.paused||!a)return;const C=S.target;a.contains(C)?d.current=C:zi(d.current,{select:!0})},x=function(S){if(h.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||zi(d.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const I of S)I.removedNodes.length>0&&zi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,h.paused]),m.useEffect(()=>{if(a){Ik.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Jm,Ek);a.addEventListener(Jm,c),a.dispatchEvent(v),v.defaultPrevented||(pU(wU(aR(a)),{select:!0}),document.activeElement===g&&zi(a))}return()=>{a.removeEventListener(Jm,c),setTimeout(()=>{const v=new CustomEvent(Ym,Ek);a.addEventListener(Ym,u),a.dispatchEvent(v),v.defaultPrevented||zi(g??document.body,{select:!0}),a.removeEventListener(Ym,u),Ik.remove(h)},0)}}},[a,c,u,h]);const p=m.useCallback(g=>{if(!n&&!r||h.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const w=g.currentTarget,[S,C]=mU(w);S&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&zi(S,{select:!0})):g.shiftKey&&v===S&&(g.preventDefault(),n&&zi(C,{select:!0})):v===w&&g.preventDefault()}},[n,r,h.paused]);return y.jsx(Ee.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});f0.displayName=hU;function pU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zi(r,{select:e}),document.activeElement!==n)return}function mU(t){const e=aR(t),n=Tk(e,t),r=Tk(e.reverse(),t);return[n,r]}function aR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Tk(t,e){for(const n of t)if(!gU(n,{upTo:e}))return n}function gU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yU(t){return t instanceof HTMLInputElement&&"select"in t}function zi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yU(t)&&e&&t.select()}}var Ik=vU();function vU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Nk(t,e),t.unshift(e)},remove(e){var n;t=Nk(t,e),(n=t[0])==null||n.resume()}}}function Nk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wU(t){return t.filter(e=>e.tagName!=="A")}var xU=$C["useId".toString()]||(()=>{}),SU=0;function Fa(t){const[e,n]=m.useState(xU());return wi(()=>{t||n(r=>r??String(SU++))},[t]),t||(e?`radix-${e}`:"")}const kU=["top","right","bottom","left"],_o=Math.min,vn=Math.max,Mh=Math.round,Fd=Math.floor,Mo=t=>({x:t,y:t}),bU={left:"right",right:"left",bottom:"top",top:"bottom"},CU={start:"end",end:"start"};function Xy(t,e,n){return vn(t,_o(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function bi(t){return t.split("-")[0]}function bl(t){return t.split("-")[1]}function h0(t){return t==="x"?"y":"x"}function p0(t){return t==="y"?"height":"width"}function Po(t){return["top","bottom"].includes(bi(t))?"y":"x"}function m0(t){return h0(Po(t))}function EU(t,e,n){n===void 0&&(n=!1);const r=bl(t),i=m0(t),o=p0(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ph(s)),[s,Ph(s)]}function TU(t){const e=Ph(t);return[Qy(t),e,Qy(e)]}function Qy(t){return t.replace(/start|end/g,e=>CU[e])}function IU(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function NU(t,e,n,r){const i=bl(t);let o=IU(bi(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Qy)))),o}function Ph(t){return t.replace(/left|right|bottom|top/g,e=>bU[e])}function RU(t){return{top:0,right:0,bottom:0,left:0,...t}}function lR(t){return typeof t!="number"?RU(t):{top:t,right:t,bottom:t,left:t}}function Ah(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Rk(t,e,n){let{reference:r,floating:i}=t;const o=Po(e),s=m0(e),a=p0(s),l=bi(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(bl(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const _U=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Rk(c,r,l),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:w,y:S,data:C,reset:I}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=S??d,h={...h,[x]:{...h[x],...C}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(c=I.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:u,y:d}=Rk(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function wu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=ki(e,t),p=lR(h),x=a[f?d==="floating"?"reference":"floating":d],v=Ah(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},I=Ah(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(v.top-I.top+p.top)/C.y,bottom:(I.bottom-v.bottom+p.bottom)/C.y,left:(v.left-I.left+p.left)/C.x,right:(I.right-v.right+p.right)/C.x}}const MU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ki(t,e)||{};if(c==null)return{};const d=lR(u),f={x:n,y:r},h=m0(i),p=p0(h),g=await s.getDimensions(c),x=h==="y",v=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",C=o.reference[p]+o.reference[h]-f[h]-o.floating[p],I=f[h]-o.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=b?b[S]:0;(!_||!await(s.isElement==null?void 0:s.isElement(b)))&&(_=a.floating[S]||o.floating[p]);const k=C/2-I/2,R=_/2-g[p]/2-1,P=_o(d[v],R),O=_o(d[w],R),A=P,U=_-g[p]-O,z=_/2-g[p]/2+k,K=Xy(A,z,U),q=!l.arrow&&bl(i)!=null&&z!==K&&o.reference[p]/2-(z<A?P:O)-g[p]/2<0,ne=q?z<A?z-A:z-U:0;return{[h]:f[h]+ne,data:{[h]:K,centerOffset:z-K-ne,...q&&{alignmentOffset:ne}},reset:q}}}),PU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...x}=ki(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=bi(i),w=Po(a),S=bi(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=f||(S||!g?[Ph(a)]:TU(a)),b=p!=="none";!f&&b&&I.push(...NU(a,g,p,C));const _=[a,...I],k=await wu(e,x),R=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&R.push(k[v]),d){const z=EU(i,s,C);R.push(k[z[0]],k[z[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(z=>z<=0)){var O,A;const z=(((O=o.flip)==null?void 0:O.index)||0)+1,K=_[z];if(K)return{data:{index:z,overflows:P},reset:{placement:K}};let q=(A=P.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:A.placement;if(!q)switch(h){case"bestFit":{var U;const ne=(U=P.filter(j=>{if(b){const D=Po(j.placement);return D===w||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,E)=>D+E,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:U[0];ne&&(q=ne);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function _k(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mk(t){return kU.some(e=>t[e]>=0)}const AU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ki(t,e);switch(r){case"referenceHidden":{const o=await wu(e,{...i,elementContext:"reference"}),s=_k(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Mk(s)}}}case"escaped":{const o=await wu(e,{...i,altBoundary:!0}),s=_k(o,n.floating);return{data:{escapedOffsets:s,escaped:Mk(s)}}}default:return{}}}}};async function OU(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=bi(n),a=bl(n),l=Po(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=ki(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const DU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await OU(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},LU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=ki(t,e),c={x:n,y:r},u=await wu(e,l),d=Po(bi(i)),f=h0(d);let h=c[f],p=c[d];if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=h+u[x],S=h-u[v];h=Xy(w,h,S)}if(s){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=p+u[x],S=p-u[v];p=Xy(w,p,S)}const g=a.fn({...e,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[d]:s}}}}}},jU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ki(t,e),u={x:n,y:r},d=Po(i),f=h0(d);let h=u[f],p=u[d];const g=ki(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=f==="y"?"height":"width",C=o.reference[f]-o.floating[S]+x.mainAxis,I=o.reference[f]+o.reference[S]-x.mainAxis;h<C?h=C:h>I&&(h=I)}if(c){var v,w;const S=f==="y"?"width":"height",C=["top","left"].includes(bi(i)),I=o.reference[d]-o.floating[S]+(C&&((v=s.offset)==null?void 0:v[d])||0)+(C?0:x.crossAxis),b=o.reference[d]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[d])||0)-(C?x.crossAxis:0);p<I?p=I:p>b&&(p=b)}return{[f]:h,[d]:p}}}},FU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=ki(t,e),u=await wu(e,c),d=bi(i),f=bl(i),h=Po(i)==="y",{width:p,height:g}=o.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,S=p-u.left-u.right,C=_o(g-u[x],w),I=_o(p-u[v],S),b=!e.middlewareData.shift;let _=C,k=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),b&&!f){const P=vn(u.left,0),O=vn(u.right,0),A=vn(u.top,0),U=vn(u.bottom,0);h?k=p-2*(P!==0||O!==0?P+O:vn(u.left,u.right)):_=g-2*(A!==0||U!==0?A+U:vn(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:_});const R=await s.getDimensions(a.floating);return p!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Dp(){return typeof window<"u"}function Cl(t){return cR(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(cR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cR(t){return Dp()?t instanceof Node||t instanceof bn(t).Node:!1}function dr(t){return Dp()?t instanceof Element||t instanceof bn(t).Element:!1}function $r(t){return Dp()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function Pk(t){return!Dp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}function Ku(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zU(t){return["table","td","th"].includes(Cl(t))}function Lp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function g0(t){const e=y0(),n=dr(t)?fr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $U(t){let e=Ao(t);for(;$r(e)&&!al(e);){if(g0(e))return e;if(Lp(e))return null;e=Ao(e)}return null}function y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(t){return["html","body","#document"].includes(Cl(t))}function fr(t){return bn(t).getComputedStyle(t)}function jp(t){return dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ao(t){if(Cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pk(t)&&t.host||Hr(t);return Pk(e)?e.host:e}function uR(t){const e=Ao(t);return al(e)?t.ownerDocument?t.ownerDocument.body:t.body:$r(e)&&Ku(e)?e:uR(e)}function xu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uR(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=bn(i);if(o){const a=Zy(s);return e.concat(s,s.visualViewport||[],Ku(i)?i:[],a&&n?xu(a):[])}return e.concat(i,xu(i,[],n))}function Zy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dR(t){const e=fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Mh(n)!==o||Mh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function v0(t){return dr(t)?t:t.contextElement}function za(t){const e=v0(t);if(!$r(e))return Mo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=dR(e);let s=(o?Mh(n.width):n.width)/r,a=(o?Mh(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const BU=Mo(0);function fR(t){const e=bn(t);return!y0()||!e.visualViewport?BU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Ps(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=v0(t);let s=Mo(1);e&&(r?dr(r)&&(s=za(r)):s=za(t));const a=UU(o,n,r)?fR(o):Mo(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=bn(o),h=r&&dr(r)?bn(r):r;let p=f,g=Zy(p);for(;g&&r&&h!==p;){const x=za(g),v=g.getBoundingClientRect(),w=fr(g),S=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,C=v.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=C,p=bn(g),g=Zy(p)}}return Ah({width:u,height:d,x:l,y:c})}function VU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Lp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Mo(1);const u=Mo(0),d=$r(r);if((d||!d&&!o)&&((Cl(r)!=="body"||Ku(s))&&(l=jp(r)),$r(r))){const f=Ps(r);c=za(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function WU(t){return Array.from(t.getClientRects())}function ev(t,e){const n=jp(t).scrollLeft;return e?e.left+n:Ps(Hr(t)).left+n}function HU(t){const e=Hr(t),n=jp(t),r=t.ownerDocument.body,i=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ev(t);const a=-n.scrollTop;return fr(r).direction==="rtl"&&(s+=vn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function KU(t,e){const n=bn(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=y0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function GU(t,e){const n=Ps(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=$r(t)?za(t):Mo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function Ak(t,e,n){let r;if(e==="viewport")r=KU(t,n);else if(e==="document")r=HU(Hr(t));else if(dr(e))r=GU(e,n);else{const i=fR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ah(r)}function hR(t,e){const n=Ao(t);return n===e||!dr(n)||al(n)?!1:fr(n).position==="fixed"||hR(n,e)}function qU(t,e){const n=e.get(t);if(n)return n;let r=xu(t,[],!1).filter(a=>dr(a)&&Cl(a)!=="body"),i=null;const o=fr(t).position==="fixed";let s=o?Ao(t):t;for(;dr(s)&&!al(s);){const a=fr(s),l=g0(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ku(s)&&!l&&hR(t,s))?r=r.filter(u=>u!==s):i=a,s=Ao(s)}return e.set(t,r),r}function JU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Lp(e)?[]:qU(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=Ak(e,u,i);return c.top=vn(d.top,c.top),c.right=_o(d.right,c.right),c.bottom=_o(d.bottom,c.bottom),c.left=vn(d.left,c.left),c},Ak(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YU(t){const{width:e,height:n}=dR(t);return{width:e,height:n}}function XU(t,e,n){const r=$r(e),i=Hr(e),o=n==="fixed",s=Ps(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Mo(0);if(r||!r&&!o)if((Cl(e)!=="body"||Ku(i))&&(a=jp(e)),r){const h=Ps(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=ev(i));let c=0,u=0;if(i&&!r&&!o){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-ev(i,h)}const d=s.left+a.scrollLeft-l.x-c,f=s.top+a.scrollTop-l.y-u;return{x:d,y:f,width:s.width,height:s.height}}function Xm(t){return fr(t).position==="static"}function Ok(t,e){if(!$r(t)||fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function pR(t,e){const n=bn(t);if(Lp(t))return n;if(!$r(t)){let i=Ao(t);for(;i&&!al(i);){if(dr(i)&&!Xm(i))return i;i=Ao(i)}return n}let r=Ok(t,e);for(;r&&zU(r)&&Xm(r);)r=Ok(r,e);return r&&al(r)&&Xm(r)&&!g0(r)?n:r||$U(t)||n}const QU=async function(t){const e=this.getOffsetParent||pR,n=this.getDimensions,r=await n(t.floating);return{reference:XU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZU(t){return fr(t).direction==="rtl"}const eV={convertOffsetParentRelativeRectToViewportRelativeRect:VU,getDocumentElement:Hr,getClippingRect:JU,getOffsetParent:pR,getElementRects:QU,getClientRects:WU,getDimensions:YU,getScale:za,isElement:dr,isRTL:ZU};function tV(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=Fd(u),p=Fd(i.clientWidth-(c+d)),g=Fd(i.clientHeight-(u+f)),x=Fd(c),w={rootMargin:-h+"px "+-p+"px "+-g+"px "+-x+"px",threshold:vn(0,_o(1,l))||1};let S=!0;function C(I){const b=I[0].intersectionRatio;if(b!==l){if(!S)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return s(!0),o}function nV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=v0(t),u=i||o?[...c?xu(c):[],...xu(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?tV(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?Ps(t):null;l&&x();function x(){const v=Ps(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const rV=DU,iV=LU,oV=PU,sV=FU,aV=AU,Dk=MU,lV=jU,cV=(t,e,n)=>{const r=new Map,i={platform:eV,...n},o={...i.platform,_c:r};return _U(t,e,{...i,platform:o})};var pf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Oh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Oh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Oh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function mR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lk(t,e){const n=mR(t);return Math.round(e*n)/n}function Qm(t){const e=m.useRef(t);return pf(()=>{e.current=t}),e}function uV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=m.useState(r);Oh(f,r)||h(r);const[p,g]=m.useState(null),[x,v]=m.useState(null),w=m.useCallback(j=>{j!==b.current&&(b.current=j,g(j))},[]),S=m.useCallback(j=>{j!==_.current&&(_.current=j,v(j))},[]),C=o||p,I=s||x,b=m.useRef(null),_=m.useRef(null),k=m.useRef(u),R=l!=null,P=Qm(l),O=Qm(i),A=Qm(c),U=m.useCallback(()=>{if(!b.current||!_.current)return;const j={placement:e,strategy:n,middleware:f};O.current&&(j.platform=O.current),cV(b.current,_.current,j).then(D=>{const E={...D,isPositioned:A.current!==!1};z.current&&!Oh(k.current,E)&&(k.current=E,yl.flushSync(()=>{d(E)}))})},[f,e,n,O,A]);pf(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const z=m.useRef(!1);pf(()=>(z.current=!0,()=>{z.current=!1}),[]),pf(()=>{if(C&&(b.current=C),I&&(_.current=I),C&&I){if(P.current)return P.current(C,I,U);U()}},[C,I,U,P,R]);const K=m.useMemo(()=>({reference:b,floating:_,setReference:w,setFloating:S}),[w,S]),q=m.useMemo(()=>({reference:C,floating:I}),[C,I]),ne=m.useMemo(()=>{const j={position:n,left:0,top:0};if(!q.floating)return j;const D=Lk(q.floating,u.x),E=Lk(q.floating,u.y);return a?{...j,transform:"translate("+D+"px, "+E+"px)",...mR(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:E}},[n,a,q.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:U,refs:K,elements:q,floatingStyles:ne}),[u,U,K,q,ne])}const dV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Dk({element:r.current,padding:i}).fn(n):{}:r?Dk({element:r,padding:i}).fn(n):{}}}},fV=(t,e)=>({...rV(t),options:[t,e]}),hV=(t,e)=>({...iV(t),options:[t,e]}),pV=(t,e)=>({...lV(t),options:[t,e]}),mV=(t,e)=>({...oV(t),options:[t,e]}),gV=(t,e)=>({...sV(t),options:[t,e]}),yV=(t,e)=>({...aV(t),options:[t,e]}),vV=(t,e)=>({...dV(t),options:[t,e]});var wV="Arrow",gR=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return y.jsx(Ee.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});gR.displayName=wV;var xV=gR;function SV(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kV(i,...e)]}function kV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function bV(t){const[e,n]=m.useState(void 0);return wi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var w0="Popper",[yR,vR]=SV(w0),[CV,wR]=yR(w0),xR=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return y.jsx(CV,{scope:e,anchor:r,onAnchorChange:i,children:n})};xR.displayName=w0;var SR="PopperAnchor",kR=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=wR(SR,n),s=m.useRef(null),a=Be(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:y.jsx(Ee.div,{...i,ref:a})});kR.displayName=SR;var x0="PopperContent",[EV,TV]=yR(x0),bR=m.forwardRef((t,e)=>{var Te,De,We,xt,kr,Ks;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,x=wR(x0,n),[v,w]=m.useState(null),S=Be(e,Kr=>w(Kr)),[C,I]=m.useState(null),b=bV(C),_=(b==null?void 0:b.width)??0,k=(b==null?void 0:b.height)??0,R=r+(o!=="center"?"-"+o:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],A=O.length>0,U={padding:P,boundary:O.filter(NV),altBoundary:A},{refs:z,floatingStyles:K,placement:q,isPositioned:ne,middlewareData:j}=uV({strategy:"fixed",placement:R,whileElementsMounted:(...Kr)=>nV(...Kr,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[fV({mainAxis:i+k,alignmentAxis:s}),l&&hV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?pV():void 0,...U}),l&&mV({...U}),gV({...U,apply:({elements:Kr,rects:dt,availableWidth:Jn,availableHeight:qo})=>{const{width:Gs,height:Yn}=dt.reference,Gr=Kr.floating.style;Gr.setProperty("--radix-popper-available-width",`${Jn}px`),Gr.setProperty("--radix-popper-available-height",`${qo}px`),Gr.setProperty("--radix-popper-anchor-width",`${Gs}px`),Gr.setProperty("--radix-popper-anchor-height",`${Yn}px`)}}),C&&vV({element:C,padding:a}),RV({arrowWidth:_,arrowHeight:k}),f&&yV({strategy:"referenceHidden",...U})]}),[D,E]=TR(q),J=at(p);wi(()=>{ne&&(J==null||J())},[ne,J]);const le=(Te=j.arrow)==null?void 0:Te.x,T=(De=j.arrow)==null?void 0:De.y,Se=((We=j.arrow)==null?void 0:We.centerOffset)!==0,[Z,ee]=m.useState();return wi(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ne?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(xt=j.transformOrigin)==null?void 0:xt.x,(kr=j.transformOrigin)==null?void 0:kr.y].join(" "),...((Ks=j.hide)==null?void 0:Ks.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(EV,{scope:n,placedSide:D,onArrowChange:I,arrowX:le,arrowY:T,shouldHideArrow:Se,children:y.jsx(Ee.div,{"data-side":D,"data-align":E,...g,ref:S,style:{...g.style,animation:ne?void 0:"none"}})})})});bR.displayName=x0;var CR="PopperArrow",IV={top:"bottom",right:"left",bottom:"top",left:"right"},ER=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=TV(CR,r),s=IV[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(xV,{...i,ref:n,style:{...i.style,display:"block"}})})});ER.displayName=CR;function NV(t){return t!==null}var RV=t=>({name:"transformOrigin",options:t,fn(e){var x,v,w;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=TR(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=s?d:`${f}px`,g=`${-l}px`):c==="top"?(p=s?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=s?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=s?d:`${h}px`),{data:{x:p,y:g}}}});function TR(t){const[e,n="center"]=t.split("-");return[e,n]}var _V=xR,MV=kR,PV=bR,AV=ER;function OV(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,DV(i,...e)]}function DV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Zm="rovingFocusGroup.onEntryFocus",LV={bubbles:!1,cancelable:!0},Fp="RovingFocusGroup",[tv,IR,jV]=Uw(Fp),[FV,NR]=OV(Fp,[jV]),[zV,$V]=FV(Fp),RR=m.forwardRef((t,e)=>y.jsx(tv.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(tv.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(BV,{...t,ref:e})})}));RR.displayName=Fp;var BV=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=m.useRef(null),h=Be(e,f),p=s0(o),[g=null,x]=Ep({prop:s,defaultProp:a,onChange:l}),[v,w]=m.useState(!1),S=at(c),C=IR(n),I=m.useRef(!1),[b,_]=m.useState(0);return m.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(Zm,S),()=>k.removeEventListener(Zm,S)},[S]),y.jsx(zV,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(k=>x(k),[x]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:m.useCallback(()=>_(k=>k-1),[]),children:y.jsx(Ee.div,{tabIndex:v||b===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{I.current=!0}),onFocus:oe(t.onFocus,k=>{const R=!I.current;if(k.target===k.currentTarget&&R&&!v){const P=new CustomEvent(Zm,LV);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=C().filter(q=>q.focusable),A=O.find(q=>q.active),U=O.find(q=>q.id===g),K=[A,U,...O].filter(Boolean).map(q=>q.ref.current);PR(K,u)}}I.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),_R="RovingFocusGroupItem",MR=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Fa(),l=o||a,c=$V(_R,n),u=c.currentTabStopId===l,d=IR(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return m.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),y.jsx(tv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:y.jsx(Ee.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:oe(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=WV(p,c.orientation,c.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=d().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const w=v.indexOf(p.currentTarget);v=c.loop?HV(v,w+1):v.slice(w+1)}setTimeout(()=>PR(v))}})})})});MR.displayName=_R;var UV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function WV(t,e,n){const r=VV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return UV[r]}function PR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function HV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KV=RR,GV=MR,qV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xs=new WeakMap,zd=new WeakMap,$d={},eg=0,AR=function(t){return t&&(t.host||AR(t.parentNode))},JV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},YV=function(t,e,n,r){var i=JV(e,Array.isArray(t)?t:[t]);$d[n]||($d[n]=new WeakMap);var o=$d[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(Xs.get(f)||0)+1,x=(o.get(f)||0)+1;Xs.set(f,g),o.set(f,x),s.push(f),g===1&&p&&zd.set(f,!0),x===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),eg++,function(){s.forEach(function(d){var f=Xs.get(d)-1,h=o.get(d)-1;Xs.set(d,f),o.set(d,h),f||(zd.has(d)||d.removeAttribute(r),zd.delete(d)),h||d.removeAttribute(n)}),eg--,eg||(Xs=new WeakMap,Xs=new WeakMap,zd=new WeakMap,$d={})}},OR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||qV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),YV(r,i,n,"aria-hidden")):function(){return null}},mf="right-scroll-bar-position",gf="width-before-scroll-bar",XV="with-scroll-bars-hidden",QV="--removed-body-scroll-bar-size";function tg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZV(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var eW=typeof window<"u"?m.useLayoutEffect:m.useEffect,jk=new WeakMap;function tW(t,e){var n=ZV(e||null,function(r){return t.forEach(function(i){return tg(i,r)})});return eW(function(){var r=jk.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||tg(a,null)}),o.forEach(function(a){i.has(a)||tg(a,s)})}jk.set(n,t)},[t]),n}function nW(t){return t}function rW(t,e){e===void 0&&(e=nW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function iW(t){t===void 0&&(t={});var e=rW(null);return e.options=Mr({async:!0,ssr:!1},t),e}var DR=function(t){var e=t.sideCar,n=Bu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Mr({},n))};DR.isSideCarExport=!0;function oW(t,e){return t.useMedium(e),DR}var LR=iW(),ng=function(){},zp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:ng,onWheelCapture:ng,onTouchMoveCapture:ng}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,w=t.gapMode,S=Bu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,I=tW([n,e]),b=Mr(Mr({},S),i);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:LR,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?m.cloneElement(m.Children.only(a),Mr(Mr({},b),{ref:I})):m.createElement(v,Mr({},b,{className:l,ref:I}),a))});zp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zp.classNames={fullWidth:gf,zeroRight:mf};var Fk,sW=function(){if(Fk)return Fk;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sW();return e&&t.setAttribute("nonce",e),t}function lW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aW())&&(lW(e,n),cW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dW=function(){var t=uW();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jR=function(){var t=dW(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},fW={left:0,top:0,right:0,gap:0},rg=function(t){return parseInt(t||"",10)||0},hW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rg(n),rg(r),rg(i)]},pW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fW;var e=hW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mW=jR(),$a="data-scroll-locked",gW=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(QV,": ").concat(a,`px;
  }
`)},zk=function(){var t=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(t)?t:0},yW=function(){m.useEffect(function(){return document.body.setAttribute($a,(zk()+1).toString()),function(){var t=zk()-1;t<=0?document.body.removeAttribute($a):document.body.setAttribute($a,t.toString())}},[])},vW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;yW();var o=m.useMemo(function(){return pW(i)},[i]);return m.createElement(mW,{styles:gW(o,!e,i,n?"":"!important")})},nv=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return nv=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{nv=!1}var Qs=nv?{passive:!1}:!1,wW=function(t){return t.tagName==="TEXTAREA"},FR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wW(t)&&n[e]==="visible")},xW=function(t){return FR(t,"overflowY")},SW=function(t){return FR(t,"overflowX")},$k=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zR(t,r);if(i){var o=$R(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zR=function(t,e){return t==="v"?xW(e):SW(e)},$R=function(t,e){return t==="v"?kW(e):bW(e)},CW=function(t,e){return t==="h"&&e==="rtl"?-1:1},EW=function(t,e,n,r,i){var o=CW(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=$R(t,a),p=h[0],g=h[1],x=h[2],v=g-x-o*p;(p||v)&&zR(t,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(f)<1||!i&&-s>f))&&(c=!0),c},Ud=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Bk=function(t){return[t.deltaX,t.deltaY]},Uk=function(t){return t&&"current"in t?t.current:t},TW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NW=0,Zs=[];function RW(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(NW++)[0],o=m.useState(jR)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=vB([t.lockRef.current],(t.shards||[]).map(Uk),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=Ud(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-v[0],C="deltaY"in g?g.deltaY:w[1]-v[1],I,b=g.target,_=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&_==="h"&&b.type==="range")return!1;var k=$k(_,b);if(!k)return!0;if(k?I=_:(I=_==="v"?"h":"v",k=$k(_,b)),!k)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=I),!I)return!0;var R=r.current||I;return EW(R,x,g,R==="h"?S:C,!0)},[]),l=m.useCallback(function(g){var x=g;if(!(!Zs.length||Zs[Zs.length-1]!==o)){var v="deltaY"in x?Bk(x):Ud(x),w=e.current.filter(function(I){return I.name===x.type&&(I.target===x.target||x.target===I.shadowParent)&&TW(I.delta,v)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(Uk).filter(Boolean).filter(function(I){return I.contains(x.target)}),C=S.length>0?a(x,S[0]):!s.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(g,x,v,w){var S={name:g,delta:x,target:v,should:w,shadowParent:_W(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),u=m.useCallback(function(g){n.current=Ud(g),r.current=void 0},[]),d=m.useCallback(function(g){c(g.type,Bk(g),g.target,a(g,t.lockRef.current))},[]),f=m.useCallback(function(g){c(g.type,Ud(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Zs.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Qs),document.addEventListener("touchmove",l,Qs),document.addEventListener("touchstart",u,Qs),function(){Zs=Zs.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Qs),document.removeEventListener("touchmove",l,Qs),document.removeEventListener("touchstart",u,Qs)}},[]);var h=t.removeScrollBar,p=t.inert;return m.createElement(m.Fragment,null,p?m.createElement(o,{styles:IW(i)}):null,h?m.createElement(vW,{gapMode:t.gapMode}):null)}function _W(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MW=oW(LR,RW);var BR=m.forwardRef(function(t,e){return m.createElement(zp,Mr({},t,{ref:e,sideCar:MW}))});BR.classNames=zp.classNames;const UR=BR;var rv=["Enter"," "],PW=["ArrowDown","PageUp","Home"],VR=["ArrowUp","PageDown","End"],AW=[...PW,...VR],OW={ltr:[...rv,"ArrowRight"],rtl:[...rv,"ArrowLeft"]},DW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gu="Menu",[Su,LW,jW]=Uw(Gu),[$s,WR]=xl(Gu,[jW,vR,NR]),$p=vR(),HR=NR(),[FW,Bs]=$s(Gu),[zW,qu]=$s(Gu),KR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=$p(e),[l,c]=m.useState(null),u=m.useRef(!1),d=at(o),f=s0(i);return m.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),y.jsx(_V,{...a,children:y.jsx(FW,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:y.jsx(zW,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};KR.displayName=Gu;var $W="MenuAnchor",S0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=$p(n);return y.jsx(MV,{...i,...r,ref:e})});S0.displayName=$W;var k0="MenuPortal",[BW,GR]=$s(k0,{forceMount:void 0}),qR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Bs(k0,e);return y.jsx(BW,{scope:e,forceMount:n,children:y.jsx(Nn,{present:n||o.open,children:y.jsx(Cp,{asChild:!0,container:i,children:r})})})};qR.displayName=k0;var Bn="MenuContent",[UW,b0]=$s(Bn),JR=m.forwardRef((t,e)=>{const n=GR(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Bs(Bn,t.__scopeMenu),s=qu(Bn,t.__scopeMenu);return y.jsx(Su.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||o.open,children:y.jsx(Su.Slot,{scope:t.__scopeMenu,children:s.modal?y.jsx(VW,{...i,ref:e}):y.jsx(WW,{...i,ref:e})})})})}),VW=m.forwardRef((t,e)=>{const n=Bs(Bn,t.__scopeMenu),r=m.useRef(null),i=Be(e,r);return m.useEffect(()=>{const o=r.current;if(o)return OR(o)},[]),y.jsx(C0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),WW=m.forwardRef((t,e)=>{const n=Bs(Bn,t.__scopeMenu);return y.jsx(C0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),C0=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...g}=t,x=Bs(Bn,n),v=qu(Bn,n),w=$p(n),S=HR(n),C=LW(n),[I,b]=m.useState(null),_=m.useRef(null),k=Be(e,_,x.onContentChange),R=m.useRef(0),P=m.useRef(""),O=m.useRef(0),A=m.useRef(null),U=m.useRef("right"),z=m.useRef(0),K=p?UR:m.Fragment,q=p?{as:Ro,allowPinchZoom:!0}:void 0,ne=D=>{var Te,De;const E=P.current+D,J=C().filter(We=>!We.disabled),le=document.activeElement,T=(Te=J.find(We=>We.ref.current===le))==null?void 0:Te.textValue,Se=J.map(We=>We.textValue),Z=n5(Se,E,T),ee=(De=J.find(We=>We.textValue===Z))==null?void 0:De.ref.current;(function We(xt){P.current=xt,window.clearTimeout(R.current),xt!==""&&(R.current=window.setTimeout(()=>We(""),1e3))})(E),ee&&setTimeout(()=>ee.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),sR();const j=m.useCallback(D=>{var J,le;return U.current===((J=A.current)==null?void 0:J.side)&&i5(D,(le=A.current)==null?void 0:le.area)},[]);return y.jsx(UW,{scope:n,searchRef:P,onItemEnter:m.useCallback(D=>{j(D)&&D.preventDefault()},[j]),onItemLeave:m.useCallback(D=>{var E;j(D)||((E=_.current)==null||E.focus(),b(null))},[j]),onTriggerLeave:m.useCallback(D=>{j(D)&&D.preventDefault()},[j]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(D=>{A.current=D},[]),children:y.jsx(K,{...q,children:y.jsx(f0,{asChild:!0,trapped:i,onMountAutoFocus:oe(o,D=>{var E;D.preventDefault(),(E=_.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:y.jsx(bp,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:y.jsx(KV,{asChild:!0,...S,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:b,onEntryFocus:oe(l,D=>{v.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(PV,{role:"menu","aria-orientation":"vertical","data-state":d_(x.open),"data-radix-menu-content":"",dir:v.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:oe(g.onKeyDown,D=>{const J=D.target.closest("[data-radix-menu-content]")===D.currentTarget,le=D.ctrlKey||D.altKey||D.metaKey,T=D.key.length===1;J&&(D.key==="Tab"&&D.preventDefault(),!le&&T&&ne(D.key));const Se=_.current;if(D.target!==Se||!AW.includes(D.key))return;D.preventDefault();const ee=C().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);VR.includes(D.key)&&ee.reverse(),e5(ee)}),onBlur:oe(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:oe(t.onPointerMove,ku(D=>{const E=D.target,J=z.current!==D.clientX;if(D.currentTarget.contains(E)&&J){const le=D.clientX>z.current?"right":"left";U.current=le,z.current=D.clientX}}))})})})})})})});JR.displayName=Bn;var HW="MenuGroup",E0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{role:"group",...r,ref:e})});E0.displayName=HW;var KW="MenuLabel",YR=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});YR.displayName=KW;var Dh="MenuItem",Vk="menu.itemSelect",Bp=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=m.useRef(null),s=qu(Dh,t.__scopeMenu),a=b0(Dh,t.__scopeMenu),l=Be(e,o),c=m.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(Vk,{bubbles:!0,cancelable:!0});d.addEventListener(Vk,h=>r==null?void 0:r(h),{once:!0}),Vw(d,f),f.defaultPrevented?c.current=!1:s.onClose()}};return y.jsx(XR,{...i,ref:l,disabled:n,onClick:oe(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:oe(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:oe(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||rv.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Bp.displayName=Dh;var XR=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=b0(Dh,n),a=HR(n),l=m.useRef(null),c=Be(e,l),[u,d]=m.useState(!1),[f,h]=m.useState("");return m.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[o.children]),y.jsx(Su.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:y.jsx(GV,{asChild:!0,...a,focusable:!r,children:y.jsx(Ee.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:oe(t.onPointerMove,ku(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,ku(p=>s.onItemLeave(p))),onFocus:oe(t.onFocus,()=>d(!0)),onBlur:oe(t.onBlur,()=>d(!1))})})})}),GW="MenuCheckboxItem",QR=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return y.jsx(r_,{scope:t.__scopeMenu,checked:n,children:y.jsx(Bp,{role:"menuitemcheckbox","aria-checked":Lh(n)?"mixed":n,...i,ref:e,"data-state":I0(n),onSelect:oe(i.onSelect,()=>r==null?void 0:r(Lh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});QR.displayName=GW;var ZR="MenuRadioGroup",[qW,JW]=$s(ZR,{value:void 0,onValueChange:()=>{}}),e_=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=at(r);return y.jsx(qW,{scope:t.__scopeMenu,value:n,onValueChange:o,children:y.jsx(E0,{...i,ref:e})})});e_.displayName=ZR;var t_="MenuRadioItem",n_=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=JW(t_,t.__scopeMenu),o=n===i.value;return y.jsx(r_,{scope:t.__scopeMenu,checked:o,children:y.jsx(Bp,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":I0(o),onSelect:oe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});n_.displayName=t_;var T0="MenuItemIndicator",[r_,YW]=$s(T0,{checked:!1}),i_=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=YW(T0,n);return y.jsx(Nn,{present:r||Lh(o.checked)||o.checked===!0,children:y.jsx(Ee.span,{...i,ref:e,"data-state":I0(o.checked)})})});i_.displayName=T0;var XW="MenuSeparator",o_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});o_.displayName=XW;var QW="MenuArrow",s_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=$p(n);return y.jsx(AV,{...i,...r,ref:e})});s_.displayName=QW;var ZW="MenuSub",[LY,a_]=$s(ZW),rc="MenuSubTrigger",l_=m.forwardRef((t,e)=>{const n=Bs(rc,t.__scopeMenu),r=qu(rc,t.__scopeMenu),i=a_(rc,t.__scopeMenu),o=b0(rc,t.__scopeMenu),s=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),y.jsx(S0,{asChild:!0,...c,children:y.jsx(XR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":d_(n.open),...t,ref:kp(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,ku(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:oe(t.onPointerLeave,ku(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,x=g==="right",v=x?-5:5,w=f[x?"left":"right"],S=f[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:w,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:w,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,d=>{var h;const f=o.searchRef.current!=="";t.disabled||f&&d.key===" "||OW[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});l_.displayName=rc;var c_="MenuSubContent",u_=m.forwardRef((t,e)=>{const n=GR(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Bs(Bn,t.__scopeMenu),s=qu(Bn,t.__scopeMenu),a=a_(c_,t.__scopeMenu),l=m.useRef(null),c=Be(e,l);return y.jsx(Su.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||o.open,children:y.jsx(Su.Slot,{scope:t.__scopeMenu,children:y.jsx(C0,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:oe(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:oe(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=DW[s.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});u_.displayName=c_;function d_(t){return t?"open":"closed"}function Lh(t){return t==="indeterminate"}function I0(t){return Lh(t)?"indeterminate":t?"checked":"unchecked"}function e5(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function t5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function n5(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=t5(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function r5(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function i5(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return r5(n,e)}function ku(t){return e=>e.pointerType==="mouse"?t(e):void 0}var o5=KR,s5=S0,a5=qR,l5=JR,c5=E0,u5=YR,d5=Bp,f5=QR,h5=e_,p5=n_,m5=i_,g5=o_,y5=s_,v5=l_,w5=u_,N0="DropdownMenu",[x5,jY]=xl(N0,[WR]),en=WR(),[S5,f_]=x5(N0),h_=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=en(e),c=m.useRef(null),[u=!1,d]=Ep({prop:i,defaultProp:o,onChange:s});return y.jsx(S5,{scope:e,triggerId:Fa(),triggerRef:c,contentId:Fa(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:y.jsx(o5,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};h_.displayName=N0;var p_="DropdownMenuTrigger",m_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=f_(p_,n),s=en(n);return y.jsx(s5,{asChild:!0,...s,children:y.jsx(Ee.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:kp(e,o.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});m_.displayName=p_;var k5="DropdownMenuPortal",g_=t=>{const{__scopeDropdownMenu:e,...n}=t,r=en(e);return y.jsx(a5,{...r,...n})};g_.displayName=k5;var y_="DropdownMenuContent",v_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=f_(y_,n),o=en(n),s=m.useRef(!1);return y.jsx(l5,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=y_;var b5="DropdownMenuGroup",C5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(c5,{...i,...r,ref:e})});C5.displayName=b5;var E5="DropdownMenuLabel",w_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(u5,{...i,...r,ref:e})});w_.displayName=E5;var T5="DropdownMenuItem",x_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(d5,{...i,...r,ref:e})});x_.displayName=T5;var I5="DropdownMenuCheckboxItem",S_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(f5,{...i,...r,ref:e})});S_.displayName=I5;var N5="DropdownMenuRadioGroup",R5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(h5,{...i,...r,ref:e})});R5.displayName=N5;var _5="DropdownMenuRadioItem",k_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(p5,{...i,...r,ref:e})});k_.displayName=_5;var M5="DropdownMenuItemIndicator",b_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(m5,{...i,...r,ref:e})});b_.displayName=M5;var P5="DropdownMenuSeparator",C_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(g5,{...i,...r,ref:e})});C_.displayName=P5;var A5="DropdownMenuArrow",O5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(y5,{...i,...r,ref:e})});O5.displayName=A5;var D5="DropdownMenuSubTrigger",E_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(v5,{...i,...r,ref:e})});E_.displayName=D5;var L5="DropdownMenuSubContent",T_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(w5,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T_.displayName=L5;var j5=h_,F5=m_,z5=g_,I_=v_,N_=w_,R_=x_,__=S_,M_=k_,P_=b_,A_=C_,O_=E_,D_=T_;const $5=j5,B5=F5,U5=m.forwardRef(({className:t,inset:e,children:n,...r},i)=>y.jsxs(O_,{ref:i,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,y.jsx(lI,{className:"ml-auto h-4 w-4"})]}));U5.displayName=O_.displayName;const V5=m.forwardRef(({className:t,...e},n)=>y.jsx(D_,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));V5.displayName=D_.displayName;const L_=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(z5,{children:y.jsx(I_,{ref:r,sideOffset:e,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));L_.displayName=I_.displayName;const na=m.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(R_,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));na.displayName=R_.displayName;const W5=m.forwardRef(({className:t,children:e,checked:n,...r},i)=>y.jsxs(__,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(P_,{children:y.jsx(aF,{className:"h-4 w-4"})})}),e]}));W5.displayName=__.displayName;const H5=m.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(M_,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(P_,{children:y.jsx(fF,{className:"h-4 w-4 fill-current"})})}),e]}));H5.displayName=M_.displayName;const iv=m.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(N_,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));iv.displayName=N_.displayName;const ic=m.forwardRef(({className:t,...e},n)=>y.jsx(A_,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));ic.displayName=A_.displayName;function j_(){const t=pr(),{auth:e}=m.useContext(Ri),[n,r]=m.useState(),i=e==null?void 0:e.currentUser;m.useEffect(()=>{(async()=>{var d;if(e!=null&&e.currentUser)try{const f=await((d=e==null?void 0:e.currentUser)==null?void 0:d.getIdToken()),p=await zn(f??void 0).api.GetMyProfile();p.username.length===0?t("/complete-profile"):r(p)}catch(f){console.log(f)}})()},[e]);const o=async()=>{e&&(await w3(e),t("/"))},s=async()=>{t("/recipes")},a=async()=>{t(`/recipes/${n==null?void 0:n.username}`)},l=()=>{t("/login")},c=()=>{t("/signup")};return y.jsxs($5,{children:[y.jsx(B5,{asChild:!0,children:y.jsx(At,{size:"icon",variant:"secondary",className:"text-2xl font-bold",children:y.jsx(rU,{})})}),y.jsx(L_,{className:"w-64",children:i!=null&&i.uid?y.jsxs(y.Fragment,{children:[y.jsx(iv,{className:"text-2xl",children:n==null?void 0:n.username}),y.jsx(ic,{}),y.jsx(na,{onClick:a,className:"text-2xl",children:"My Recipes"}),y.jsx(ic,{}),y.jsx(na,{onClick:o,className:"text-2xl",children:"Log Out"})]}):y.jsxs(y.Fragment,{children:[y.jsx(iv,{className:"text-2xl",children:"Welcome Guest!"}),y.jsx(ic,{}),y.jsx(na,{onClick:s,className:"text-2xl",children:"All Recipes"}),y.jsx(ic,{}),y.jsx(na,{onClick:l,className:"text-2xl",children:"Log In"}),y.jsx(na,{onClick:c,className:"text-2xl",children:"Sign Up"})]})})]})}const K5=({item:t})=>{const e=pr(),n=()=>{e(`/recipes/${t.username}/${t.slug}`)};return y.jsxs(At,{variant:"secondary",className:"justify-between pr-1 text-left text-wrap",onClick:n,children:[y.jsx("div",{className:"flex flex-col",children:t.title}),y.jsx("div",{className:"min-w-8 ml-4",children:y.jsx(eU,{size:30})})]},t.id)},sn=m.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:ge("flex h-9 w-full rounded-md border-2 border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));sn.displayName="Input";var G5="Separator",Wk="horizontal",q5=["horizontal","vertical"],F_=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=Wk,...i}=t,o=J5(r)?r:Wk,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return y.jsx(Ee.div,{"data-orientation":o,...a,...i,ref:e})});F_.displayName=G5;function J5(t){return q5.includes(t)}var z_=F_;const or=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>y.jsx(z_,{ref:i,decorative:n,orientation:e,className:ge("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));or.displayName=z_.displayName;function Y5(t,e){localStorage.setItem(t,JSON.stringify(e))}function X5(t){const e=localStorage.getItem(t);return e?JSON.parse(e):null}const $_=m.forwardRef(({...t},e)=>y.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));$_.displayName="Breadcrumb";const B_=m.forwardRef(({className:t,...e},n)=>y.jsx("ol",{ref:n,className:ge("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));B_.displayName="BreadcrumbList";const ov=m.forwardRef(({className:t,...e},n)=>y.jsx("li",{ref:n,className:ge("inline-flex items-center gap-1.5",t),...e}));ov.displayName="BreadcrumbItem";const sv=m.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?Ro:"a";return y.jsx(i,{ref:r,className:ge("transition-colors hover:text-foreground text-2xl",e),...n})});sv.displayName="BreadcrumbLink";const Q5=m.forwardRef(({className:t,...e},n)=>y.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:ge("font-normal text-foreground",t),...e}));Q5.displayName="BreadcrumbPage";const U_=({children:t,className:e,...n})=>y.jsx("li",{role:"presentation","aria-hidden":"true",className:ge("[&>svg]:w-6 [&>svg]:h-6 pt-1",e),...n,children:t??y.jsx(lI,{})});U_.displayName="BreadcrumbSeparator";function V_(){const{username:t}=xp();return y.jsx($_,{children:y.jsxs(B_,{children:[y.jsx(ov,{children:y.jsx(sv,{href:"/recipes",children:"recipes"})}),t&&y.jsxs(y.Fragment,{children:[y.jsx(U_,{}),y.jsx(ov,{children:y.jsx(sv,{href:`/recipes/${t}`,children:t})})]})]})})}function W_({fetchRecipes:t,cacheKey:e}){const{auth:n}=m.useContext(Ri),r=n==null?void 0:n.currentUser,i=pr(),[o,s]=m.useState([]),[a,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(""),[h,p]=m.useState("All"),[g,x]=m.useState(!1),v=m.useRef(null),w=k=>{f(k.target.value)},S=()=>{i("/upload/")},C=()=>{f(""),x(!g)};m.useEffect(()=>{g&&v.current&&v.current.focus()},[g]),m.useEffect(()=>{(async()=>{var P;const R=X5(e);R&&I(JSON.parse(R));try{const O=await((P=n==null?void 0:n.currentUser)==null?void 0:P.getIdToken()),A=zn(O??void 0),U=await t(A);I(U),Y5(e,JSON.stringify(U))}catch(O){console.error(O)}})()},[e,t]);const I=k=>{const R=k.Recipes.map(A=>({...A,tags:A.tags&&A.tags.length?A.tags:["Uncategorized"]}));s(R);let P=R.reduce((A,U)=>A.concat(U.tags??[]),["All"]);const O=Array.from(new Set(P)).sort((A,U)=>A==="All"?-1:U==="All"||A==="Uncategorized"?1:U==="Uncategorized"?-1:A.localeCompare(U));l(O),p("All")},b=()=>{let R=a.filter(P=>h==="All"||P.toLowerCase()===h.toLowerCase()).filter(P=>P!="All").map(P=>{var O=o.filter(A=>{var U;return(U=A.tags)==null?void 0:U.some(z=>z.toLowerCase()===P.toLowerCase())}).sort((A,U)=>A.title.localeCompare(U.title));return{tag:P,recipes:O}});d.length>0&&(R=R.map(P=>({tag:P.tag,recipes:P.recipes.filter(O=>O.title.toLowerCase().includes(d.toLowerCase()))})).filter(P=>P.recipes.length>0)),u(R)},_=k=>{p(k)};return m.useEffect(()=>{o.length>0&&b()},[o,d,h]),y.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 pb-0 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(j_,{}),y.jsx(V_,{})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(At,{size:"icon",variant:"ghost",onClick:C,children:y.jsx(bk,{})}),(r==null?void 0:r.uid)&&y.jsx(At,{size:"icon",variant:"ghost",onClick:S,children:y.jsx(tR,{})})]})]}),y.jsx("div",{className:"flex flex-wrap gap-2 p-4",children:a==null?void 0:a.map(k=>y.jsx(At,{size:"tag",variant:h===k?"default":"secondary",className:h===k?"text-background":"",onClick:()=>_(k),children:k},k))}),g&&y.jsx("div",{className:"flex px-4 pb-4",children:y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(bk,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{ref:v,placeholder:"Search recipes",className:"pl-11 h-12 text-2xl",value:d,onChange:w})]})}),y.jsxs(Ap,{className:"h-full w-full",children:[c==null?void 0:c.map(k=>{var R;return y.jsxs("div",{children:[y.jsxs("div",{className:"px-4 mb-2 text-2xl flex gap-2 items-center",children:[y.jsx("div",{className:"w-2",children:y.jsx(or,{className:"bg-muted-foreground"})}),y.jsx("span",{className:"text-muted-foreground",children:k.tag}),y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})})]}),y.jsx("div",{className:"px-4 mb-6 gap-2 flex flex-col",children:(R=k.recipes)==null?void 0:R.map(P=>y.jsx(K5,{item:P},P.id))})]},k.tag)}),y.jsx("div",{className:"pb-14"})]})]})}function Z5(){return y.jsx(W_,{cacheKey:"all_recipes_response",fetchRecipes:t=>t.api.GetAllRecipes()})}var e6="Label",H_=m.forwardRef((t,e)=>y.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));H_.displayName=e6;var K_=H_;const t6=qw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=m.forwardRef(({className:t,...e},n)=>y.jsx(K_,{ref:n,className:ge(t6(),t),...e}));Rt.displayName=K_.displayName;function n6(){const t=pr(),{auth:e}=m.useContext(Ri),[n,r]=m.useState(),[i,o]=m.useState(""),[s,a]=m.useState(""),[l,c]=m.useState();m.useEffect(()=>{(async()=>{var h;try{const p=await((h=e==null?void 0:e.currentUser)==null?void 0:h.getIdToken()),x=await zn(p??void 0).api.GetMyProfile();x.username.length>0&&t("/recipes/"),r(x)}catch(p){console.log(p)}})()},[e]);const u=async()=>{var f,h;try{const p=await((f=e==null?void 0:e.currentUser)==null?void 0:f.getIdToken());await zn(p??void 0).api.SaveProfile({id:((h=e==null?void 0:e.currentUser)==null?void 0:h.uid)||"",username:i}),t("/recipes/")}catch(p){console.error(p)}},d=async f=>{const h=f.target.value;if(a(""),o(h),c(!1),f.type==="blur"){if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(h)){a("Please only use lowercase letters and numbers separated by hyphens.");return}try{(await zn(void 0).api.CheckIfUsernameIsAvailable({username:h})).available?c(!0):a(`${h} is already in use`)}catch(x){console.error(x)}}};return y.jsx("div",{className:"h-full mx-auto max-w-4xl ",children:y.jsxs("form",{className:"loginForm",children:[y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Complete Profile"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"signupEmail",className:"text-2xl font-semibold",children:"Username"}),y.jsx(sn,{id:"username",type:"username",className:"mt-2 h-12 text-2xl","aria-describedby":"username",placeholder:"ex. my-username",value:i,onChange:d,onBlur:d}),s.length>0&&y.jsxs("div",{className:"flex gap-4 items-center pt-2",children:[y.jsx(rR,{}),y.jsx("div",{className:"text-xl",children:s})]})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsx(At,{type:"submit",onClick:u,disabled:i.length<=0||s.length>0||!l,children:"Complete"})})]})})}const R0=m.createContext({});function r6(){const{dom:t,editor:e,setLoading:n,editorFactory:r}=m.useContext(R0),i=m.useRef(null);return m.useEffect(()=>{const o=i.current;if(!r||!o)return;t.current=o;const s=r(o);if(s)return n(!0),s.create().then(a=>{e.current=a}).finally(()=>{n(!1)}).catch(console.error),()=>{var a;(a=e.current)==null||a.destroy()}},[t,e,r,n]),i}const i6=()=>{const t=r6();return Pn.createElement("div",{"data-milkdown-root":!0,ref:t})},Ba=({children:t})=>{const e=m.useRef(void 0),[n,r]=m.useState(void 0),i=m.useRef(),[o,s]=m.useState(!0),a=m.useMemo(()=>({loading:o,dom:e,editor:i,setLoading:s,editorFactory:n,setEditorFactory:r}),[o,n]);return Pn.createElement(R0.Provider,{value:a},t)};function o6(t,e=[]){const n=m.useContext(R0),r=m.useCallback(t,e);return m.useLayoutEffect(()=>{n.setEditorFactory(()=>r)},[n,r]),{loading:n.loading,get:()=>n.editor.current}}let Vd;const s6=new Uint8Array(16);function a6(){if(!Vd&&(Vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vd(s6)}const Et=[];for(let t=0;t<256;++t)Et.push((t+256).toString(16).slice(1));function l6(t,e=0){return Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]}const c6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hk={randomUUID:c6};function u6(t,e,n){if(Hk.randomUUID&&!e&&!t)return Hk.randomUUID();t=t||{};const r=t.random||(t.rng||a6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return l6(r)}var Rn=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t))(Rn||{});let Gn=class extends Error{constructor(e,n){super(n),this.name="MilkdownError",this.code=e}};const d6=(t,e)=>typeof e=="function"?"[Function]":e,ll=t=>JSON.stringify(t,d6);function f6(t){return new Gn(Rn.docTypeError,`Doc type error, unsupported type: ${ll(t)}`)}function h6(t){return new Gn(Rn.contextNotFound,`Context "${t}" not found, do you forget to inject it?`)}function p6(t){return new Gn(Rn.timerNotFound,`Timer "${t}" not found, do you forget to record it?`)}function _0(){return new Gn(Rn.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function m6(...t){const e=t.reduce((n,r)=>{if(!r)return n;const i=o=>Array.isArray(o)?o.map(s=>i(s)).join(", "):o.toJSON?ll(o.toJSON()):o.spec?ll(o.spec):o.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new Gn(Rn.createNodeInParserFail,e)}function G_(){return new Gn(Rn.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function g6(t){return new Gn(Rn.parserMatchError,`Cannot match target parser for node: ${ll(t)}.`)}function y6(t){return new Gn(Rn.serializerMatchError,`Cannot match target serializer for node: ${ll(t)}.`)}function Us(t){return new Gn(Rn.expectDomTypeError,`Expect to be a dom, but get: ${ll(t)}.`)}function v6(){return new Gn(Rn.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function w6(t){return new Gn(Rn.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`)}function x6(t){return new Gn(Rn.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${t}" in schema.`)}var q_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ie=(t,e,n)=>(q_(t,e,"read from private field"),n?n.call(t):e.get(t)),st=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_e=(t,e,n,r)=>(q_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let J_=class{constructor(){this.sliceMap=new Map,this.get=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!n){const r=typeof e=="string"?e:e.name;throw h6(r)}return n},this.remove=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);n&&this.sliceMap.delete(n.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(n=>n.type.name===e):this.sliceMap.has(e.id)}};var Er,$i,oc;let S6=class{constructor(e,n,r){st(this,Er,void 0),st(this,$i,void 0),st(this,oc,void 0),_e(this,Er,[]),_e(this,oc,()=>{ie(this,Er).forEach(i=>i(ie(this,$i)))}),this.set=i=>{_e(this,$i,i),ie(this,oc).call(this)},this.get=()=>ie(this,$i),this.update=i=>{_e(this,$i,i(ie(this,$i))),ie(this,oc).call(this)},this.type=r,_e(this,$i,n),e.set(r.id,this)}on(e){return ie(this,Er).push(e),()=>{_e(this,Er,ie(this,Er).filter(n=>n!==e))}}once(e){const n=this.on(r=>{e(r),n()});return n}off(e){_e(this,Er,ie(this,Er).filter(n=>n!==e))}offAll(){_e(this,Er,[])}};Er=new WeakMap,$i=new WeakMap,oc=new WeakMap;let k6=class{constructor(e,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=e,this._typeInfo=()=>{throw _0()}}create(e,n=this._defaultValue){return new S6(e,n,this)}};const Me=(t,e)=>new k6(t,e);var yf,vf,wf,ra,sc,es,ac,lc,cc;let b6=class{constructor(e,n,r){st(this,yf,void 0),st(this,vf,void 0),st(this,wf,void 0),st(this,ra,void 0),st(this,sc,void 0),st(this,es,void 0),st(this,ac,void 0),st(this,lc,void 0),st(this,cc,void 0),_e(this,ra,new Set),_e(this,sc,new Set),_e(this,es,new Map),_e(this,ac,new Map),this.read=()=>({metadata:ie(this,yf),injectedSlices:[...ie(this,ra)].map(i=>({name:typeof i=="string"?i:i.name,value:ie(this,lc).call(this,i)})),consumedSlices:[...ie(this,sc)].map(i=>({name:typeof i=="string"?i:i.name,value:ie(this,lc).call(this,i)})),recordedTimers:[...ie(this,es)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ie(this,cc).call(this,i)})),waitTimers:[...ie(this,ac)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ie(this,cc).call(this,i)}))}),this.onRecord=i=>{ie(this,es).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{ie(this,es).delete(i)},this.onDone=i=>{const o=ie(this,es).get(i);o&&(o.duration=Date.now()-o.start)},this.onWait=(i,o)=>{const s=Date.now();o.finally(()=>{ie(this,ac).set(i,{duration:Date.now()-s})})},this.onInject=i=>{ie(this,ra).add(i)},this.onRemove=i=>{ie(this,ra).delete(i)},this.onUse=i=>{ie(this,sc).add(i)},_e(this,lc,i=>ie(this,vf).get(i).get()),_e(this,cc,i=>ie(this,wf).get(i).status),_e(this,vf,e),_e(this,wf,n),_e(this,yf,r)}};yf=new WeakMap,vf=new WeakMap,wf=new WeakMap,ra=new WeakMap,sc=new WeakMap,es=new WeakMap,ac=new WeakMap,lc=new WeakMap,cc=new WeakMap;var Bi,Ui,xf,Qn;const C6=class Y_{constructor(e,n,r){st(this,Bi,void 0),st(this,Ui,void 0),st(this,xf,void 0),st(this,Qn,void 0),this.produce=i=>i&&Object.keys(i).length?new Y_(ie(this,Bi),ie(this,Ui),{...i}):this,this.inject=(i,o)=>{var s;const a=i.create(ie(this,Bi).sliceMap);return o!=null&&a.set(o),(s=ie(this,Qn))==null||s.onInject(i),this},this.remove=i=>{var o;return ie(this,Bi).remove(i),(o=ie(this,Qn))==null||o.onRemove(i),this},this.record=i=>{var o;return i.create(ie(this,Ui).store),(o=ie(this,Qn))==null||o.onRecord(i),this},this.clearTimer=i=>{var o;return ie(this,Ui).remove(i),(o=ie(this,Qn))==null||o.onClear(i),this},this.isInjected=i=>ie(this,Bi).has(i),this.isRecorded=i=>ie(this,Ui).has(i),this.use=i=>{var o;return(o=ie(this,Qn))==null||o.onUse(i),ie(this,Bi).get(i)},this.get=i=>this.use(i).get(),this.set=(i,o)=>this.use(i).set(o),this.update=(i,o)=>this.use(i).update(o),this.timer=i=>ie(this,Ui).get(i),this.done=i=>{var o;this.timer(i).done(),(o=ie(this,Qn))==null||o.onDone(i)},this.wait=i=>{var o;const s=this.timer(i).start();return(o=ie(this,Qn))==null||o.onWait(i,s),s},this.waitTimers=async i=>{await Promise.all(this.get(i).map(o=>this.wait(o)))},_e(this,Bi,e),_e(this,Ui,n),_e(this,xf,r),r&&_e(this,Qn,new b6(e,n,r))}get meta(){return ie(this,xf)}get inspector(){return ie(this,Qn)}};Bi=new WeakMap,Ui=new WeakMap,xf=new WeakMap,Qn=new WeakMap;let E6=C6,T6=class{constructor(){this.store=new Map,this.get=e=>{const n=this.store.get(e.id);if(!n)throw p6(e.name);return n},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}};var ia,ts,uc,Vi,dc,Sf;let I6=class{constructor(e,n){st(this,ia,void 0),st(this,ts,void 0),st(this,uc,void 0),st(this,Vi,void 0),st(this,dc,void 0),st(this,Sf,void 0),_e(this,ia,null),_e(this,ts,null),_e(this,Vi,"pending"),this.start=()=>(ie(this,ia)??_e(this,ia,new Promise((r,i)=>{_e(this,ts,o=>{o instanceof CustomEvent&&o.detail.id===ie(this,uc)&&(_e(this,Vi,"resolved"),ie(this,dc).call(this),o.stopImmediatePropagation(),r())}),ie(this,Sf).call(this,()=>{ie(this,Vi)==="pending"&&_e(this,Vi,"rejected"),ie(this,dc).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),_e(this,Vi,"pending"),addEventListener(this.type.name,ie(this,ts))})),ie(this,ia)),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:ie(this,uc)}});dispatchEvent(r)},_e(this,dc,()=>{ie(this,ts)&&removeEventListener(this.type.name,ie(this,ts))}),_e(this,Sf,r=>{setTimeout(()=>{r()},this.type.timeout)}),_e(this,uc,Symbol(n.name)),this.type=n,e.set(n.id,this)}get status(){return ie(this,Vi)}};ia=new WeakMap,ts=new WeakMap,uc=new WeakMap,Vi=new WeakMap,dc=new WeakMap,Sf=new WeakMap;let N6=class{constructor(e,n=3e3){this.create=r=>new I6(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=n}};const Wo=(t,e=3e3)=>new N6(t,e);function Nt(t){this.content=t}Nt.prototype={constructor:Nt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Nt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Nt(n)},addToStart:function(t,e){return new Nt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Nt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Nt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Nt.from(t),t.size?new Nt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Nt.from(t),t.size?new Nt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Nt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Nt.from=function(t){if(t instanceof Nt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Nt(e)};function X_(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=X_(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Q_(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=Q_(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class W{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new W(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new W(r,i)}cutByIndex(e,n){return e==n?W.empty:e==0&&n==this.content.length?this:new W(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new W(i,o)}addToStart(e){return new W([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new W(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return X_(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Q_(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Wd(0,e);if(e==this.size)return Wd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Wd(r+1,s):Wd(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return W.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new W(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return W.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new W(n||e,r)}static from(e){if(!e)return W.empty;if(e instanceof W)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new W([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}W.empty=new W([],0);const ig={index:0,offset:0};function Wd(t,e){return ig.index=t,ig.offset=e,ig}function jh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!jh(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!jh(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Ce{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ce.none;if(e instanceof Ce)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Ce.none=[];class Fh extends Error{}class X{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=eM(this.content,e+this.openStart,n);return r&&new X(r,this.openStart,this.openEnd)}removeBetween(e,n){return new X(Z_(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return X.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(W.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new X(e,r,i)}}X.empty=new X(W.empty,0,0);function Z_(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Z_(o.content,e-i-1,n-i-1)))}function eM(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=eM(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function R6(t,e,n){if(n.openStart>t.depth)throw new Fh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fh("Inconsistent open depths");return tM(t,e,n,0)}function tM(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=tM(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return ys(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=_6(n,t);return ys(o,rM(t,s,a,e,r))}else return ys(o,zh(t,e,r))}function nM(t,e){if(!e.type.compatibleContent(t.type))throw new Fh("Cannot join "+e.type.name+" onto "+t.type.name)}function av(t,e,n){let r=t.node(n);return nM(r,e.node(n)),r}function gs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function jc(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(gs(t.nodeAfter,r),o++));for(let a=o;a<s;a++)gs(i.child(a),r);e&&e.depth==n&&e.textOffset&&gs(e.nodeBefore,r)}function ys(t,e){return t.type.checkContent(e),t.copy(e)}function rM(t,e,n,r,i){let o=t.depth>i&&av(t,e,i+1),s=r.depth>i&&av(n,r,i+1),a=[];return jc(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(nM(o,s),gs(ys(o,rM(t,e,n,r,i+1)),a)):(o&&gs(ys(o,zh(t,e,i+1)),a),jc(e,n,i,a),s&&gs(ys(s,zh(n,r,i+1)),a)),jc(r,null,i,a),new W(a)}function zh(t,e,n){let r=[];if(jc(null,t,n,r),t.depth>n){let i=av(t,e,n+1);gs(ys(i,zh(t,e,n+1)),r)}return jc(e,null,n,r),new W(r)}function _6(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(W.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class bu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ce.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new iM(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new bu(n,r,o)}static resolveCached(e,n){let r=Kk.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else Kk.set(e,r=new M6);let i=r.elts[r.i]=bu.resolve(e,n);return r.i=(r.i+1)%P6,i}}class M6{constructor(){this.elts=[],this.i=0}}const P6=12,Kk=new WeakMap;class iM{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A6=Object.create(null);let ko=class lv{constructor(e,n,r,i=Ce.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||W.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&jh(this.attrs,n||e.defaultAttrs||A6)&&Ce.sameSet(this.marks,r||Ce.none)}copy(e=null){return e==this.content?this:new lv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return X.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new X(c,i.depth-s,o.depth-s)}replace(e,n,r){return R6(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return bu.resolveCached(this,e)}resolveNoCache(e){return bu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),oM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=W.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ce.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ce.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=W.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};ko.prototype.text=void 0;class $h extends ko{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):oM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new $h(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new $h(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function oM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class As{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new O6(e,n);if(r.next==null)return As.empty;let i=sM(r);r.next&&r.err("Unexpected trailing text");let o=B6($6(i));return U6(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return W.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}As.empty=new As(!0);class O6{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sM(t){let e=[];do e.push(D6(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function D6(t){let e=[];do e.push(L6(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function L6(t){let e=z6(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=j6(t,e);else break;return e}function Gk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function j6(t,e){let n=Gk(t),r=n;return t.eat(",")&&(t.next!="}"?r=Gk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function F6(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function z6(t){if(t.eat("(")){let e=sM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=F6(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function $6(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function aM(t,e){return e-t}function qk(t,e){let n=[];return r(e),n.sort(aM);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function B6(t){let e=Object.create(null);return n(qk(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);qk(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new As(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(aM);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function U6(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function lM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function cM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function uM(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function dM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new W6(t,r,e[r]);return n}let Jk=class fM{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=dM(e,r.attrs),this.defaultAttrs=lM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==As.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:cM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ko(this,this.computeAttrs(e),W.from(n),Ce.setFrom(r))}createChecked(e=null,n,r){return n=W.from(n),this.checkContent(n),new ko(this,this.computeAttrs(e),n,Ce.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=W.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(W.empty,!0);return o?new ko(this,e,n.append(o),Ce.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){uM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ce.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new fM(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function V6(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class W6{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?V6(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Up{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=dM(e,i.attrs),this.excluded=null;let o=lM(this.attrs);this.instance=o?new Ce(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ce(this,cM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Up(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){uM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class H6{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Nt.from(e.nodes),n.marks=Nt.from(e.marks||{}),this.nodes=Jk.compile(this.spec.nodes,this),this.marks=Up.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=As.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Yk(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Yk(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Jk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new $h(r,r.defaultAttrs,e,Ce.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ko.fromJSON(this,e)}markFromJSON(e){return Ce.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Yk(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function K6(t){return t.tag!=null}function G6(t){return t.style!=null}class cl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(K6(i))this.tags.push(i);else if(G6(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Qk(this,n,!1);return r.addAll(e,Ce.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Qk(this,n,!0);return r.addAll(e,Ce.none,n.from,n.to),X.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Y6(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Zk(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Zk(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new cl(e,cl.schemaRules(e)))}}const hM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},q6={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pM={ol:!0,ul:!0},Bh=1,Uh=2,Fc=4;function Xk(t,e,n){return e!=null?(e?Bh:0)|(e==="full"?Uh:0):t&&t.whitespace=="pre"?Bh|Uh:n&~Fc}class Hd{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Ce.none,this.match=o||(s&Fc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(W.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Bh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=W.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(W.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Qk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Xk(null,n.preserveWhitespace,0)|(r?Fc:0);i?o=new Hd(i.type,i.attrs,Ce.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Hd(null,null,Ce.none,!0,null,s):o=new Hd(e.schema.topNodeType,null,Ce.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Uh||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Bh)i.options&Uh?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;pM.hasOwnProperty(i)&&this.parser.normalizeLists&&J6(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:q6.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(hM.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=s&&s.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ce.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):eb(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Xk(e,o,s.options);s.options&Fc&&s.content.length==0&&(a|=Fc);let l=Ce.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):eb(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Hd(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function J6(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&pM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Y6(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Zk(t){let e={};for(let n in t)e[n]=t[n];return e}function eb(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class El{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=og(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=kf(og(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&kf(og(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return kf(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new El(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=tb(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return tb(e.marks)}}function tb(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function og(t){return t.document||window.document}const nb=new WeakMap;function X6(t){let e=nb.get(t);return e===void 0&&nb.set(t,e=Q6(t)),e}function Q6(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function kf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=X6(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=kf(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const Z6={};function M0(t,e){const n=e||Z6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mM(t,r,i)}function mM(t,e,n){if(eH(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rb(t.children,e,n)}return Array.isArray(t)?rb(t,e,n):""}function rb(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=mM(t[i],e,n);return r.join("")}function eH(t){return!!(t&&typeof t=="object")}const ib=document.createElement("i");function P0(t){const e="&"+t+";";ib.innerHTML=e;const n=ib.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ci(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Ln(t,e){return t.length>0?(Ci(t,t.length,0,e),t):e}const ob={}.hasOwnProperty;function tH(t){const e={};let n=-1;for(;++n<t.length;)nH(e,t[n]);return e}function nH(t,e){let n;for(n in e){const i=(ob.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){ob.call(i,s)||(i[s]=[]);const a=o[s];rH(i[s],Array.isArray(a)?a:a?[a]:[])}}}function rH(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ci(t,0,0,r)}function gM(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ua(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pr=Ho(/[A-Za-z]/),sr=Ho(/[\dA-Za-z]/),iH=Ho(/[#-'*+\--9=?A-Z^-~]/);function cv(t){return t!==null&&(t<32||t===127)}const uv=Ho(/\d/),oH=Ho(/[\dA-Fa-f]/),sH=Ho(/[!-/:-@[-`{-~]/);function de(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Ae(t){return t===-2||t===-1||t===32}const aH=Ho(/\p{P}|\p{S}/u),lH=Ho(/\s/);function Ho(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ve(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Ae(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ae(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const cH={tokenize:uH};function uH(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ve(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return de(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const dH={tokenize:fH},sb={tokenize:hH};function fH(t){const e=this,n=[];let r=0,i,o,s;return a;function a(S){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(S)}return c(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const C=e.events.length;let I=C,b;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){b=e.events[I][1].end;break}v(r);let _=C;for(;_<e.events.length;)e.events[_][1].end=Object.assign({},b),_++;return Ci(e.events,I+1,0,e.events.slice(C)),e.events.length=_,c(S)}return a(S)}function c(S){if(r===n.length){if(!i)return f(S);if(i.currentConstruct&&i.currentConstruct.concrete)return p(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sb,u,d)(S)}function u(S){return i&&w(),v(r),f(S)}function d(S){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(S)}function f(S){return e.containerState={},t.attempt(sb,h,p)(S)}function h(S){return r++,n.push([e.currentConstruct,e.containerState]),f(S)}function p(S){if(S===null){i&&w(),v(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),g(S)}function g(S){if(S===null){x(t.exit("chunkFlow"),!0),v(0),t.consume(S);return}return de(S)?(t.consume(S),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),g)}function x(S,C){const I=e.sliceStream(S);if(C&&I.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(I),e.parser.lazy[S.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<s&&(!i.events[b][1].end||i.events[b][1].end.offset>s))return;const _=e.events.length;let k=_,R,P;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(R){P=e.events[k][1].end;break}R=!0}for(v(r),b=_;b<e.events.length;)e.events[b][1].end=Object.assign({},P),b++;Ci(e.events,k+1,0,e.events.slice(_)),e.events.length=b}}function v(S){let C=n.length;for(;C-- >S;){const I=n[C];e.containerState=I[1],I[0].exit.call(e,t)}n.length=S}function w(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function hH(t,e,n){return Ve(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ab(t){if(t===null||dn(t)||lH(t))return 1;if(aH(t))return 2}function A0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const dv={name:"attention",tokenize:mH,resolveAll:pH};function pH(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);lb(d,-l),lb(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ln(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ln(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Ln(c,A0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ln(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Ln(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Ci(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function mH(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ab(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=ab(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?d:d&&(i||!f)),c._close=!!(o===42?f:f&&(u||!d)),e(l)}}function lb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const gH={name:"autolink",tokenize:yH};function yH(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(h){return Pr(h)?(t.consume(h),s):h===64?n(h):c(h)}function s(h){return h===43||h===45||h===46||sr(h)?(r=1,a(h)):c(h)}function a(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||sr(h))&&r++<32?(t.consume(h),a):(r=0,c(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||cv(h)?n(h):(t.consume(h),l)}function c(h){return h===64?(t.consume(h),u):iH(h)?(t.consume(h),c):n(h)}function u(h){return sr(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,u):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):f(h)}function f(h){if((h===45||sr(h))&&r++<63){const p=h===45?f:d;return t.consume(h),p}return n(h)}}const Vp={tokenize:vH,partial:!0};function vH(t,e,n){return r;function r(o){return Ae(o)?Ve(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||de(o)?e(o):n(o)}}const yM={name:"blockQuote",tokenize:wH,continuation:{tokenize:xH},exit:SH};function wH(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ae(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function xH(t,e,n){const r=this;return i;function i(s){return Ae(s)?Ve(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(yM,e,n)(s)}}function SH(t){t.exit("blockQuote")}const vM={name:"characterEscape",tokenize:kH};function kH(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return sH(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const wM={name:"characterReference",tokenize:bH};function bH(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=sr,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=oH,u):(t.enter("characterReferenceValue"),o=7,s=uv,u(d))}function u(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return s===sr&&!P0(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),u):n(d)}}const cb={tokenize:EH,partial:!0},ub={name:"codeFenced",tokenize:CH,concrete:!0};function CH(t,e,n){const r=this,i={tokenize:I,partial:!0};let o=0,s=0,a;return l;function l(b){return c(b)}function c(b){const _=r.events[r.events.length-1];return o=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=b,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(b)}function u(b){return b===a?(s++,t.consume(b),u):s<3?n(b):(t.exit("codeFencedFenceSequence"),Ae(b)?Ve(t,d,"whitespace")(b):d(b))}function d(b){return b===null||de(b)?(t.exit("codeFencedFence"),r.interrupt?e(b):t.check(cb,g,C)(b)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===null||de(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(b)):Ae(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ve(t,h,"whitespace")(b)):b===96&&b===a?n(b):(t.consume(b),f)}function h(b){return b===null||de(b)?d(b):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||de(b)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(b)):b===96&&b===a?n(b):(t.consume(b),p)}function g(b){return t.attempt(i,C,x)(b)}function x(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),v}function v(b){return o>0&&Ae(b)?Ve(t,w,"linePrefix",o+1)(b):w(b)}function w(b){return b===null||de(b)?t.check(cb,g,C)(b):(t.enter("codeFlowValue"),S(b))}function S(b){return b===null||de(b)?(t.exit("codeFlowValue"),w(b)):(t.consume(b),S)}function C(b){return t.exit("codeFenced"),e(b)}function I(b,_,k){let R=0;return P;function P(K){return b.enter("lineEnding"),b.consume(K),b.exit("lineEnding"),O}function O(K){return b.enter("codeFencedFence"),Ae(K)?Ve(b,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):A(K)}function A(K){return K===a?(b.enter("codeFencedFenceSequence"),U(K)):k(K)}function U(K){return K===a?(R++,b.consume(K),U):R>=s?(b.exit("codeFencedFenceSequence"),Ae(K)?Ve(b,z,"whitespace")(K):z(K)):k(K)}function z(K){return K===null||de(K)?(b.exit("codeFencedFence"),_(K)):k(K)}}}function EH(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const sg={name:"codeIndented",tokenize:IH},TH={tokenize:NH,partial:!0};function IH(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ve(t,o,"linePrefix",4+1)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):de(c)?t.attempt(TH,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||de(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function NH(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):de(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Ve(t,o,"linePrefix",4+1)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):de(s)?i(s):n(s)}}const RH={name:"codeText",tokenize:PH,resolve:_H,previous:MH};function _H(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function MH(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function PH(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,u(d)):de(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||de(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",c(d))}}class AH{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ql(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ql(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ql(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ql(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ql(this.left,n.reverse())}}}function ql(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function xM(t){const e={};let n=-1,r,i,o,s,a,l,c;const u=new AH(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,OH(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=u.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Ci(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function OH(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,d,f=-1,h=n,p=0,g=0;const x=[g];for(;h;){for(;t.get(++i)[1]!==h;);o.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,x.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),f=x.length;f--;){const v=a.slice(x[f],x[f+1]),w=o.pop();l.push([w,w+v.length-1]),t.splice(w,2,v)}for(l.reverse(),f=-1;++f<l.length;)c[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return c}const DH={tokenize:FH,resolve:jH},LH={tokenize:zH,partial:!0};function jH(t){return xM(t),t}function FH(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):de(a)?t.check(LH,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zH(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Ve(t,o,"linePrefix")}function o(s){if(s===null||de(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function SM(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),f):v===null||v===32||v===41||cv(v)?n(v):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(v))}function f(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||de(v)?n(v):(t.consume(v),v===92?p:h)}function p(v){return v===60||v===62||v===92?(t.consume(v),h):h(v)}function g(v){return!u&&(v===null||v===41||dn(v))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,g):v===41?(t.consume(v),u--,g):v===null||v===32||v===40||cv(v)?n(v):(t.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(t.consume(v),g):g(v)}}function kM(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(o),u}function u(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):de(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||de(h)||a++>999?(t.exit("chunkString"),u(h)):(t.consume(h),l||(l=!Ae(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),a++,d):d(h)}}function bM(t,e,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===s?(t.exit(o),l(s)):f===null?n(f):de(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Ve(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||de(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===s||f===92?(t.consume(f),u):u(f)}}function zc(t,e){let n;return r;function r(i){return de(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ae(i)?Ve(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const $H={name:"definition",tokenize:UH},BH={tokenize:VH,partial:!0};function UH(t,e,n){const r=this;let i;return o;function o(h){return t.enter("definition"),s(h)}function s(h){return kM.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return dn(h)?zc(t,c)(h):c(h)}function c(h){return SM(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return t.attempt(BH,d,d)(h)}function d(h){return Ae(h)?Ve(t,f,"whitespace")(h):f(h)}function f(h){return h===null||de(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function VH(t,e,n){return r;function r(a){return dn(a)?zc(t,i)(a):n(a)}function i(a){return bM(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ae(a)?Ve(t,s,"whitespace")(a):s(a)}function s(a){return a===null||de(a)?e(a):n(a)}}const WH={name:"hardBreakEscape",tokenize:HH};function HH(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return de(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const KH={name:"headingAtx",tokenize:qH,resolve:GH};function GH(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ci(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function qH(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||dn(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||de(u)?(t.exit("atxHeading"),e(u)):Ae(u)?Ve(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||dn(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const JH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],db=["pre","script","style","textarea"],YH={name:"htmlFlow",tokenize:e8,resolveTo:ZH,concrete:!0},XH={tokenize:n8,partial:!0},QH={tokenize:t8,partial:!0};function ZH(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function e8(t,e,n){const r=this;let i,o,s,a,l;return c;function c(T){return u(T)}function u(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),d}function d(T){return T===33?(t.consume(T),f):T===47?(t.consume(T),o=!0,g):T===63?(t.consume(T),i=3,r.interrupt?e:E):Pr(T)?(t.consume(T),s=String.fromCharCode(T),x):n(T)}function f(T){return T===45?(t.consume(T),i=2,h):T===91?(t.consume(T),i=5,a=0,p):Pr(T)?(t.consume(T),i=4,r.interrupt?e:E):n(T)}function h(T){return T===45?(t.consume(T),r.interrupt?e:E):n(T)}function p(T){const Se="CDATA[";return T===Se.charCodeAt(a++)?(t.consume(T),a===Se.length?r.interrupt?e:A:p):n(T)}function g(T){return Pr(T)?(t.consume(T),s=String.fromCharCode(T),x):n(T)}function x(T){if(T===null||T===47||T===62||dn(T)){const Se=T===47,Z=s.toLowerCase();return!Se&&!o&&db.includes(Z)?(i=1,r.interrupt?e(T):A(T)):JH.includes(s.toLowerCase())?(i=6,Se?(t.consume(T),v):r.interrupt?e(T):A(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):o?w(T):S(T))}return T===45||sr(T)?(t.consume(T),s+=String.fromCharCode(T),x):n(T)}function v(T){return T===62?(t.consume(T),r.interrupt?e:A):n(T)}function w(T){return Ae(T)?(t.consume(T),w):P(T)}function S(T){return T===47?(t.consume(T),P):T===58||T===95||Pr(T)?(t.consume(T),C):Ae(T)?(t.consume(T),S):P(T)}function C(T){return T===45||T===46||T===58||T===95||sr(T)?(t.consume(T),C):I(T)}function I(T){return T===61?(t.consume(T),b):Ae(T)?(t.consume(T),I):S(T)}function b(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),l=T,_):Ae(T)?(t.consume(T),b):k(T)}function _(T){return T===l?(t.consume(T),l=null,R):T===null||de(T)?n(T):(t.consume(T),_)}function k(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||dn(T)?I(T):(t.consume(T),k)}function R(T){return T===47||T===62||Ae(T)?S(T):n(T)}function P(T){return T===62?(t.consume(T),O):n(T)}function O(T){return T===null||de(T)?A(T):Ae(T)?(t.consume(T),O):n(T)}function A(T){return T===45&&i===2?(t.consume(T),q):T===60&&i===1?(t.consume(T),ne):T===62&&i===4?(t.consume(T),J):T===63&&i===3?(t.consume(T),E):T===93&&i===5?(t.consume(T),D):de(T)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(XH,le,U)(T)):T===null||de(T)?(t.exit("htmlFlowData"),U(T)):(t.consume(T),A)}function U(T){return t.check(QH,z,le)(T)}function z(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),K}function K(T){return T===null||de(T)?U(T):(t.enter("htmlFlowData"),A(T))}function q(T){return T===45?(t.consume(T),E):A(T)}function ne(T){return T===47?(t.consume(T),s="",j):A(T)}function j(T){if(T===62){const Se=s.toLowerCase();return db.includes(Se)?(t.consume(T),J):A(T)}return Pr(T)&&s.length<8?(t.consume(T),s+=String.fromCharCode(T),j):A(T)}function D(T){return T===93?(t.consume(T),E):A(T)}function E(T){return T===62?(t.consume(T),J):T===45&&i===2?(t.consume(T),E):A(T)}function J(T){return T===null||de(T)?(t.exit("htmlFlowData"),le(T)):(t.consume(T),J)}function le(T){return t.exit("htmlFlow"),e(T)}}function t8(t,e,n){const r=this;return i;function i(s){return de(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function n8(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Vp,e,n)}}const r8={name:"htmlText",tokenize:i8};function i8(t,e,n){const r=this;let i,o,s;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),I):E===63?(t.consume(E),S):Pr(E)?(t.consume(E),k):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),o=0,p):Pr(E)?(t.consume(E),w):n(E)}function u(E){return E===45?(t.consume(E),h):n(E)}function d(E){return E===null?n(E):E===45?(t.consume(E),f):de(E)?(s=d,ne(E)):(t.consume(E),d)}function f(E){return E===45?(t.consume(E),h):d(E)}function h(E){return E===62?q(E):E===45?f(E):d(E)}function p(E){const J="CDATA[";return E===J.charCodeAt(o++)?(t.consume(E),o===J.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(t.consume(E),x):de(E)?(s=g,ne(E)):(t.consume(E),g)}function x(E){return E===93?(t.consume(E),v):g(E)}function v(E){return E===62?q(E):E===93?(t.consume(E),v):g(E)}function w(E){return E===null||E===62?q(E):de(E)?(s=w,ne(E)):(t.consume(E),w)}function S(E){return E===null?n(E):E===63?(t.consume(E),C):de(E)?(s=S,ne(E)):(t.consume(E),S)}function C(E){return E===62?q(E):S(E)}function I(E){return Pr(E)?(t.consume(E),b):n(E)}function b(E){return E===45||sr(E)?(t.consume(E),b):_(E)}function _(E){return de(E)?(s=_,ne(E)):Ae(E)?(t.consume(E),_):q(E)}function k(E){return E===45||sr(E)?(t.consume(E),k):E===47||E===62||dn(E)?R(E):n(E)}function R(E){return E===47?(t.consume(E),q):E===58||E===95||Pr(E)?(t.consume(E),P):de(E)?(s=R,ne(E)):Ae(E)?(t.consume(E),R):q(E)}function P(E){return E===45||E===46||E===58||E===95||sr(E)?(t.consume(E),P):O(E)}function O(E){return E===61?(t.consume(E),A):de(E)?(s=O,ne(E)):Ae(E)?(t.consume(E),O):R(E)}function A(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,U):de(E)?(s=A,ne(E)):Ae(E)?(t.consume(E),A):(t.consume(E),z)}function U(E){return E===i?(t.consume(E),i=void 0,K):E===null?n(E):de(E)?(s=U,ne(E)):(t.consume(E),U)}function z(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||dn(E)?R(E):(t.consume(E),z)}function K(E){return E===47||E===62||dn(E)?R(E):n(E)}function q(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function ne(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),j}function j(E){return Ae(E)?Ve(t,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):D(E)}function D(E){return t.enter("htmlTextData"),s(E)}}const O0={name:"labelEnd",tokenize:u8,resolveTo:c8,resolveAll:l8},o8={tokenize:d8},s8={tokenize:f8},a8={tokenize:h8};function l8(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function c8(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Ln(a,t.slice(o+1,o+r+3)),a=Ln(a,[["enter",u,e]]),a=Ln(a,A0(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Ln(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Ln(a,t.slice(s+1)),a=Ln(a,[["exit",l,e]]),Ci(t,o,t.length,a),t}function u8(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(Ua(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(o8,u,s?u:d)(f):f===91?t.attempt(s8,u,s?c:d)(f):s?u(f):d(f)}function c(f){return t.attempt(a8,u,d)(f)}function u(f){return e(f)}function d(f){return o._balanced=!0,n(f)}}function d8(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return dn(d)?zc(t,o)(d):o(d)}function o(d){return d===41?u(d):SM(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return dn(d)?zc(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?bM(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return dn(d)?zc(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function f8(t,e,n){const r=this;return i;function i(a){return kM.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function h8(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const p8={name:"labelStartImage",tokenize:m8,resolveAll:O0.resolveAll};function m8(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const g8={name:"labelStartLink",tokenize:y8,resolveAll:O0.resolveAll};function y8(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const ag={name:"lineEnding",tokenize:v8};function v8(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ve(t,e,"linePrefix")}}const bf={name:"thematicBreak",tokenize:w8};function w8(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||de(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Ae(c)?Ve(t,a,"whitespace")(c):a(c))}}const rn={name:"list",tokenize:k8,continuation:{tokenize:b8},exit:E8},x8={tokenize:T8,partial:!0},S8={tokenize:C8,partial:!0};function k8(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:uv(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(bf,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return uv(h)&&++s<10?(t.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Vp,r.interrupt?n:u,t.attempt(x8,f,d))}function u(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return Ae(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function b8(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Vp,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ve(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ae(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(S8,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ve(t,t.attempt(rn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function C8(t,e,n){const r=this;return Ve(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function E8(t){t.exit(this.containerState.type)}function T8(t,e,n){const r=this;return Ve(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const s=r.events[r.events.length-1];return!Ae(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const fb={name:"setextUnderline",tokenize:N8,resolveTo:I8};function I8(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function N8(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Ae(c)?Ve(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||de(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const R8={tokenize:_8};function _8(t){const e=this,n=t.attempt(Vp,r,t.attempt(this.parser.constructs.flowInitial,i,Ve(t,t.attempt(this.parser.constructs.flow,i,t.attempt(DH,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const M8={resolveAll:EM()},P8=CM("string"),A8=CM("text");function CM(t){return{tokenize:e,resolveAll:EM(t==="text"?O8:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function EM(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function O8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function D8(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:w,enter:S,exit:C,attempt:_(I),check:_(b),interrupt:_(b,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:f,now:p,defineSkip:g,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function d(O){return s=Ln(s,O),x(),s[s.length-1]!==null?[]:(k(e,0),c.events=A0(o,c.events,c),c.events)}function f(O,A){return j8(h(O),A)}function h(O){return L8(s,O)}function p(){const{line:O,column:A,offset:U,_index:z,_bufferIndex:K}=r;return{line:O,column:A,offset:U,_index:z,_bufferIndex:K}}function g(O){i[O.line]=O.column,P()}function x(){let O;for(;r._index<s.length;){const A=s[r._index];if(typeof A=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(O){u=u(O)}function w(O){de(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,P()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=O}function S(O,A){const U=A||{};return U.type=O,U.start=p(),c.events.push(["enter",U,c]),a.push(U),U}function C(O){const A=a.pop();return A.end=p(),c.events.push(["exit",A,c]),A}function I(O,A){k(O,A.from)}function b(O,A){A.restore()}function _(O,A){return U;function U(z,K,q){let ne,j,D,E;return Array.isArray(z)?le(z):"tokenize"in z?le([z]):J(z);function J(ee){return Te;function Te(De){const We=De!==null&&ee[De],xt=De!==null&&ee.null,kr=[...Array.isArray(We)?We:We?[We]:[],...Array.isArray(xt)?xt:xt?[xt]:[]];return le(kr)(De)}}function le(ee){return ne=ee,j=0,ee.length===0?q:T(ee[j])}function T(ee){return Te;function Te(De){return E=R(),D=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?Z():ee.tokenize.call(A?Object.assign(Object.create(c),A):c,l,Se,Z)(De)}}function Se(ee){return O(D,E),K}function Z(ee){return E.restore(),++j<ne.length?T(ne[j]):q}}}function k(O,A){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&Ci(c.events,A,c.events.length-A,O.resolve(c.events.slice(A),c)),O.resolveTo&&(c.events=O.resolveTo(c.events,c))}function R(){const O=p(),A=c.previous,U=c.currentConstruct,z=c.events.length,K=Array.from(a);return{restore:q,from:z};function q(){r=O,c.previous=A,c.currentConstruct=U,c.events.length=z,a=K,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function L8(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function j8(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const F8={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:yM},z8={91:$H},$8={[-2]:sg,[-1]:sg,32:sg},B8={35:KH,42:bf,45:[fb,bf],60:YH,61:fb,95:bf,96:ub,126:ub},U8={38:wM,92:vM},V8={[-5]:ag,[-4]:ag,[-3]:ag,33:p8,38:wM,42:dv,60:[gH,r8],91:g8,92:[WH,vM],93:O0,95:dv,96:RH},W8={null:[dv,M8]},H8={null:[42,95]},K8={null:[]},G8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H8,contentInitial:z8,disable:K8,document:F8,flow:B8,flowInitial:$8,insideSpan:W8,string:U8,text:V8},Symbol.toStringTag,{value:"Module"}));function q8(t){const n=tH([G8,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(cH),document:i(dH),flow:i(R8),string:i(P8),text:i(A8)};return r;function i(o){return s;function s(a){return D8(r,o,a)}}}function J8(t){for(;!xM(t););return t}const hb=/[\0\t\n\r]/g;function Y8(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,d,f,h;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(hb.lastIndex=d,c=hb.exec(o),f=c&&c.index!==void 0?c.index:o.length,h=o.charCodeAt(f),!c){e=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const X8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TM(t){return t.replace(X8,Q8)}function Q8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return gM(n.slice(o?2:1),o?16:10)}return P0(n)||t}function $c(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pb(t.position):"start"in t||"end"in t?pb(t):"line"in t||"column"in t?fv(t):""}function fv(t){return mb(t&&t.line)+":"+mb(t&&t.column)}function pb(t){return fv(t&&t.start)+"-"+fv(t&&t.end)}function mb(t){return t&&typeof t=="number"?t:1}const IM={}.hasOwnProperty;function Z8(t,e,n){return typeof e!="string"&&(n=e,e=void 0),e9(n)(J8(q8(n).document().write(Y8()(t,e,!0))))}function e9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Gr),autolinkProtocol:R,autolinkEmail:R,atxHeading:o(Jn),blockQuote:o(xt),characterEscape:R,characterReference:R,codeFenced:o(kr),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(kr,s),codeText:o(Ks,s),codeTextData:R,data:R,codeFlowValue:R,definition:o(Kr),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(dt),hardBreakEscape:o(qo),hardBreakTrailing:o(qo),htmlFlow:o(Gs,s),htmlFlowData:R,htmlText:o(Gs,s),htmlTextData:R,image:o(Yn),label:s,link:o(Gr),listItem:o(od),listItemValue:f,listOrdered:o(id,d),listUnordered:o(id),paragraph:o(nm),reference:T,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Jn),strong:o(rm),thematicBreak:o(om)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:We,autolinkProtocol:De,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:ee,characterReference:Te,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:P,codeIndented:l(v),codeText:l(K),codeTextData:P,data:P,definition:l(),definitionDestinationString:C,definitionLabelString:w,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(U),htmlFlowData:P,htmlText:l(z),htmlTextData:P,image:l(ne),label:D,labelText:j,lineEnding:O,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Se,resourceDestinationString:E,resourceTitleString:J,resource:le,setextHeading:l(k),setextHeadingLineSequence:_,setextHeadingText:b,strong:l(),thematicBreak:l()}};NM(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(F){let H={type:"root",children:[]};const fe={stack:[H],tokenStack:[],config:e,enter:a,exit:c,buffer:s,resume:u,data:n},ve=[];let ke=-1;for(;++ke<F.length;)if(F[ke][1].type==="listOrdered"||F[ke][1].type==="listUnordered")if(F[ke][0]==="enter")ve.push(ke);else{const lt=ve.pop();ke=i(F,lt,ke)}for(ke=-1;++ke<F.length;){const lt=e[F[ke][0]];IM.call(lt,F[ke][1].type)&&lt[F[ke][1].type].call(Object.assign({sliceSerialize:F[ke][2].sliceSerialize},fe),F[ke][1])}if(fe.tokenStack.length>0){const lt=fe.tokenStack[fe.tokenStack.length-1];(lt[1]||gb).call(fe,void 0,lt[0])}for(H.position={start:ji(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:ji(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)H=e.transforms[ke](H)||H;return H}function i(F,H,fe){let ve=H-1,ke=-1,lt=!1,br,tn,Jo,nn;for(;++ve<=fe;){const Lt=F[ve];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?ke++:ke--,nn=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(br&&!nn&&!ke&&!Jo&&(Jo=ve),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!ke&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||ke===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(br){let qr=ve;for(tn=void 0;qr--;){const _n=F[qr];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;tn&&(F[tn][1].type="lineEndingBlank",lt=!0),_n[1].type="lineEnding",tn=qr}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}Jo&&(!tn||Jo<tn)&&(br._spread=!0),br.end=Object.assign({},tn?F[tn][1].start:Lt[1].end),F.splice(tn||ve,0,["exit",br,Lt[2]]),ve++,fe++}if(Lt[1].type==="listItemPrefix"){const qr={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};br=qr,F.splice(ve,0,["enter",qr,Lt[2]]),ve++,fe++,Jo=void 0,nn=!0}}}return F[H][1]._spread=lt,fe}function o(F,H){return fe;function fe(ve){a.call(this,F(ve),ve),H&&H.call(this,ve)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(F,H,fe){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([H,fe]),F.position={start:ji(H.start),end:void 0}}function l(F){return H;function H(fe){F&&F.call(this,fe),c.call(this,fe)}}function c(F,H){const fe=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==F.type&&(H?H.call(this,F,ve[0]):(ve[1]||gb).call(this,F,ve[0]));else throw new Error("Cannot close `"+F.type+"` ("+$c({start:F.start,end:F.end})+"): it’s not open");fe.position.end=ji(F.end)}function u(){return M0(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(F){if(this.data.expectingFirstListItemValue){const H=this.stack[this.stack.length-2];H.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function h(){const F=this.resume(),H=this.stack[this.stack.length-1];H.lang=F}function p(){const F=this.resume(),H=this.stack[this.stack.length-1];H.meta=F}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const F=this.resume(),H=this.stack[this.stack.length-1];H.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const F=this.resume(),H=this.stack[this.stack.length-1];H.value=F.replace(/(\r?\n|\r)$/g,"")}function w(F){const H=this.resume(),fe=this.stack[this.stack.length-1];fe.label=H,fe.identifier=Ua(this.sliceSerialize(F)).toLowerCase()}function S(){const F=this.resume(),H=this.stack[this.stack.length-1];H.title=F}function C(){const F=this.resume(),H=this.stack[this.stack.length-1];H.url=F}function I(F){const H=this.stack[this.stack.length-1];if(!H.depth){const fe=this.sliceSerialize(F).length;H.depth=fe}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function _(F){const H=this.stack[this.stack.length-1];H.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function R(F){const fe=this.stack[this.stack.length-1].children;let ve=fe[fe.length-1];(!ve||ve.type!=="text")&&(ve=im(),ve.position={start:ji(F.start),end:void 0},fe.push(ve)),this.stack.push(ve)}function P(F){const H=this.stack.pop();H.value+=this.sliceSerialize(F),H.position.end=ji(F.end)}function O(F){const H=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=H.children[H.children.length-1];fe.position.end=ji(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(H.type)&&(R.call(this,F),P.call(this,F))}function A(){this.data.atHardBreak=!0}function U(){const F=this.resume(),H=this.stack[this.stack.length-1];H.value=F}function z(){const F=this.resume(),H=this.stack[this.stack.length-1];H.value=F}function K(){const F=this.resume(),H=this.stack[this.stack.length-1];H.value=F}function q(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=H,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function ne(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=H,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function j(F){const H=this.sliceSerialize(F),fe=this.stack[this.stack.length-2];fe.label=TM(H),fe.identifier=Ua(H).toLowerCase()}function D(){const F=this.stack[this.stack.length-1],H=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const ve=F.children;fe.children=ve}else fe.alt=H}function E(){const F=this.resume(),H=this.stack[this.stack.length-1];H.url=F}function J(){const F=this.resume(),H=this.stack[this.stack.length-1];H.title=F}function le(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Se(F){const H=this.resume(),fe=this.stack[this.stack.length-1];fe.label=H,fe.identifier=Ua(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function Z(F){this.data.characterReferenceType=F.type}function ee(F){const H=this.sliceSerialize(F),fe=this.data.characterReferenceType;let ve;fe?(ve=gM(H,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=P0(H);const ke=this.stack[this.stack.length-1];ke.value+=ve}function Te(F){const H=this.stack.pop();H.position.end=ji(F.end)}function De(F){P.call(this,F);const H=this.stack[this.stack.length-1];H.url=this.sliceSerialize(F)}function We(F){P.call(this,F);const H=this.stack[this.stack.length-1];H.url="mailto:"+this.sliceSerialize(F)}function xt(){return{type:"blockquote",children:[]}}function kr(){return{type:"code",lang:null,meta:null,value:""}}function Ks(){return{type:"inlineCode",value:""}}function Kr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dt(){return{type:"emphasis",children:[]}}function Jn(){return{type:"heading",depth:0,children:[]}}function qo(){return{type:"break"}}function Gs(){return{type:"html",value:""}}function Yn(){return{type:"image",title:null,url:"",alt:null}}function Gr(){return{type:"link",title:null,url:"",children:[]}}function id(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function od(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function nm(){return{type:"paragraph",children:[]}}function rm(){return{type:"strong",children:[]}}function im(){return{type:"text",value:""}}function om(){return{type:"thematicBreak"}}}function ji(t){return{line:t.line,column:t.column,offset:t.offset}}function NM(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?NM(t,r):t9(t,r)}}function t9(t,e){let n;for(n in e)if(IM.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function gb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$c({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$c({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$c({start:e.start,end:e.end})+") is still open")}function hv(t){const e=this;e.parser=n;function n(r){return Z8(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const yb={}.hasOwnProperty;function n9(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&yb.call(i,t)){const l=String(i[t]);s=yb.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const r9={}.hasOwnProperty;function RM(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)RM(t,e.extensions[n]);for(r in e)if(r9.call(e,r))switch(r){case"extensions":break;case"unsafe":{vb(t[r],e[r]);break}case"join":{vb(t[r],e[r]);break}case"handlers":{i9(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function vb(t,e){e&&t.push(...e)}function i9(t,e){e&&Object.assign(t,e)}function o9(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),s9);return i(),s}function s9(t,e,n){return">"+(n?"":" ")+t}function _M(t,e){return wb(t,e.inConstruct,!0)&&!wb(t,e.notInConstruct,!1)}function wb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function xb(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&_M(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function a9(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function pv(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function l9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function c9(t,e,n,r){const i=l9(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(pv(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(o,u9);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(a9(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function u9(t,e,n){return(n?"":"    ")+t}function D0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function d9(t,e,n,r){const i=D0(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function f9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}MM.peek=h9;function MM(t,e,n,r){const i=f9(n),o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function h9(t,e,n){return n.options.emphasis||"*"}const L0=function(t){if(t==null)return y9;if(typeof t=="function")return Wp(t);if(typeof t=="object")return Array.isArray(t)?p9(t):m9(t);if(typeof t=="string")return g9(t);throw new Error("Expected function, string, or object as test")};function p9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=L0(t[n]);return Wp(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function m9(t){const e=t;return Wp(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function g9(t){return Wp(e);function e(n){return n&&n.type===t}}function Wp(t){return e;function e(n,r,i){return!!(v9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function y9(){return!0}function v9(t){return t!==null&&typeof t=="object"&&"type"in t}const PM=[],w9=!0,mv=!1,gv="skip";function x9(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=L0(i),s=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=PM,p,g,x;if((!e||o(l,c,u[u.length-1]||void 0))&&(h=S9(n(l,u)),h[0]===mv))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==gv)for(g=(r?v.children.length:-1)+s,x=u.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(p=a(w,g,x)(),p[0]===mv)return p;g=typeof p[1]=="number"?p[1]:g+s}}return h}}}function S9(t){return Array.isArray(t)?t:typeof t=="number"?[w9,t]:t==null?PM:[t]}function Tl(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),x9(t,o,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return s(l,d,u)}}function AM(t,e){let n=!1;return Tl(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,mv}),!!((!t.depth||t.depth<3)&&M0(t)&&(e.options.setext||n))}function k9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(AM(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}OM.peek=b9;function OM(t){return t.value||""}function b9(){return"<"}DM.peek=C9;function DM(t,e,n,r){const i=D0(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function C9(){return"!"}LM.peek=E9;function LM(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function E9(){return"!"}jM.peek=T9;function jM(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function T9(){return"`"}function FM(t,e){const n=M0(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}zM.peek=I9;function zM(t,e,n,r){const i=D0(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(FM(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(t,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function I9(t,e,n){return FM(t,n)?"<":"["}$M.peek=N9;function $M(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function N9(){return"["}function j0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function R9(t){const e=j0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function BM(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function M9(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?_9(n):j0(n);const a=t.ordered?s==="."?")":".":R9(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),BM(n)===s&&u){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),c}function P9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function A9(t,e,n,r){const i=P9(n);let o=n.bulletCurrent||j0(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function O9(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const D9=L0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function L9(t,e,n,r){return(t.children.some(function(s){return D9(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function j9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}UM.peek=F9;function UM(t,e,n,r){const i=j9(n),o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function F9(t,e,n){return n.options.strong||"*"}function z9(t,e,n,r){return n.safe(t.value,r)}function $9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function B9(t,e,n){const r=(BM(n)+(n.options.ruleSpaces?" ":"")).repeat($9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const U9={blockquote:o9,break:xb,code:c9,definition:d9,emphasis:MM,hardBreak:xb,heading:k9,html:OM,image:DM,imageReference:LM,inlineCode:jM,link:zM,linkReference:$M,list:M9,listItem:A9,paragraph:O9,root:L9,strong:UM,text:z9,thematicBreak:B9},V9=[W9];function W9(t,e,n,r){if(e.type==="code"&&pv(e,r)&&(t.type==="list"||t.type===e.type&&pv(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&AM(e,r))?void 0:n.spread?1:0}const Yo=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],H9=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yo},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yo},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yo},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"~"}];function K9(t){return t.label||!t.identifier?t.label||"":TM(t.identifier)}function G9(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function q9(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let d=e.handle.handlers[i[s+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function J9(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,s.push(o.move(e.handle(l,t,e,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(Y9(l,i[a+1],t,e)))}return r.pop(),s.join("")}function Y9(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const X9=/\r?\n|\r/g;function Q9(t,e){const n=[];let r=0,i=0,o;for(;o=X9.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(a){n.push(e(a,i,!a))}}function Z9(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const u=t.unsafe[a];if(!_M(t.stack,u))continue;const d=t.compilePattern(u);let f;for(;f=d.exec(r);){const h="before"in u||!!u.atBreak,p="after"in u,g=f.index+(h?f[1].length:0);i.includes(g)?(s[g].before&&!h&&(s[g].before=!1),s[g].after&&!p&&(s[g].after=!1)):(i.push(g),s[g]={before:h,after:p})}}i.sort(eK);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[a-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&o.push(Sb(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return o.push(Sb(r.slice(l,c),n.after)),o.join("")}function eK(t,e){return t-e}function Sb(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(t.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(t.slice(a)),i.join("")}function tK(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,o=d.length===1?o+f.length:1+f.length+r,u}}function nK(t,e={}){const n={enter:i,indentLines:Q9,associationId:K9,containerPhrasing:sK,containerFlow:aK,createTracker:tK,compilePattern:G9,safe:lK,stack:[],unsafe:[...H9],join:[...V9],handlers:{...U9},options:{},indexStack:[],handle:void 0};RM(n,e),n.options.tightDefinitions&&n.join.push(oK),n.handle=n9("type",{invalid:rK,unknown:iK,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function rK(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function iK(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function oK(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function sK(t,e){return q9(t,this,e)}function aK(t,e){return J9(t,this,e)}function lK(t,e){return Z9(this,t,e)}function yv(t){const e=this;e.compiler=n;function n(r){return nK(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function kb(t){if(t)throw t}var Cf=Object.prototype.hasOwnProperty,VM=Object.prototype.toString,bb=Object.defineProperty,Cb=Object.getOwnPropertyDescriptor,Eb=function(e){return typeof Array.isArray=="function"?Array.isArray(e):VM.call(e)==="[object Array]"},Tb=function(e){if(!e||VM.call(e)!=="[object Object]")return!1;var n=Cf.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Cf.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Cf.call(e,i)},Ib=function(e,n){bb&&n.name==="__proto__"?bb(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Nb=function(e,n){if(n==="__proto__")if(Cf.call(e,n)){if(Cb)return Cb(e,n).value}else return;return e[n]},cK=function t(){var e,n,r,i,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=Nb(a,n),i=Nb(e,n),a!==i&&(u&&i&&(Tb(i)||(o=Eb(i)))?(o?(o=!1,s=r&&Eb(r)?r:[]):s=r&&Tb(r)?r:{},Ib(a,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&Ib(a,{name:n,newValue:i}));return a};const lg=Qh(cK);function vv(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function uK(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...c){const u=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?dK(u,a)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dK(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}class hn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=$c(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}hn.prototype.file="";hn.prototype.name="";hn.prototype.reason="";hn.prototype.message="";hn.prototype.stack="";hn.prototype.column=void 0;hn.prototype.line=void 0;hn.prototype.ancestors=void 0;hn.prototype.cause=void 0;hn.prototype.fatal=void 0;hn.prototype.place=void 0;hn.prototype.ruleId=void 0;hn.prototype.source=void 0;const Nr={basename:fK,dirname:hK,extname:pK,join:mK,sep:"/"};function fK(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ju(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function hK(t){if(Ju(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function pK(t){Ju(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function mK(...t){let e=-1,n;for(;++e<t.length;)Ju(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":gK(n)}function gK(t){Ju(t);const e=t.codePointAt(0)===47;let n=yK(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yK(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Ju(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const vK={cwd:wK};function wK(){return"/"}function wv(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function xK(t){if(typeof t=="string")t=new URL(t);else if(!wv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return SK(t)}function SK(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cg=["history","path","basename","stem","extname","dirname"];class kK{constructor(e){let n;e?wv(e)?n={path:e}:typeof e=="string"||bK(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":vK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cg.length;){const o=cg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)cg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Nr.basename(this.path):void 0}set basename(e){dg(e,"basename"),ug(e,"basename"),this.path=Nr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Nr.dirname(this.path):void 0}set dirname(e){Rb(this.basename,"dirname"),this.path=Nr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Nr.extname(this.path):void 0}set extname(e){if(ug(e,"extname"),Rb(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wv(e)&&(e=xK(e)),dg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Nr.basename(this.path,this.extname):void 0}set stem(e){dg(e,"stem"),ug(e,"stem"),this.path=Nr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new hn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ug(t,e){if(t&&t.includes(Nr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Nr.sep+"`")}function dg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Rb(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function bK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const CK=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},EK={}.hasOwnProperty;class F0 extends CK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uK()}copy(){const e=new F0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(lg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pg("data",this.frozen),this.namespace[e]=n,this):EK.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Kd(e),r=this.parser||this.Parser;return fg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),fg("process",this.parser||this.Parser),hg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=Kd(e),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const h=d,p=r.stringify(h,f);IK(p)?f.value=p:f.result=p,c(u,f)});function c(u,d){u||!d?s(u):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),fg("processSync",this.parser||this.Parser),hg("processSync",this.compiler||this.Compiler),this.process(e,i),Mb("processSync","process",n),r;function i(o,s){n=!0,kb(o),r=s}}run(e,n,r){_b(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=Kd(n);i.run(e,l,c);function c(u,d,f){const h=d||e;u?a(u):s?s(h):r(void 0,h,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),Mb("runSync","run",r),i;function o(s,a){kb(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=Kd(n),i=this.compiler||this.Compiler;return hg("stringify",i),_b(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(pg("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=lg(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[h,...p]=u;const g=r[f][1];vv(g)&&vv(h)&&(h=lg(!0,g,h)),r[f]=[c,h,...p]}}}}const xv=new F0().freeze();function fg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function hg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _b(t){if(!vv(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Mb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Kd(t){return TK(t)?t:new kK(t)}function TK(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function IK(t){return typeof t=="string"||NK(t)}function NK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var WM=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xe=(t,e,n)=>(WM(t,e,"read from private field"),n?n.call(t):e.get(t)),ht=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},qe=(t,e,n,r)=>(WM(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let HM=class{},KM=class{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var n;(n=this.top())==null||n.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw G_();return e}}},RK=class GM extends HM{constructor(e,n,r){super(),this.type=e,this.content=n,this.attrs=r}push(e,...n){this.content.push(e,...n)}pop(){return this.content.pop()}static create(e,n,r){return new GM(e,n,r)}};var Tr,fc,Ef,Tf,If,hc,pc;const Sv=class extends KM{constructor(e){super(),ht(this,Tr,void 0),ht(this,fc,void 0),ht(this,Ef,void 0),ht(this,Tf,void 0),ht(this,If,void 0),ht(this,hc,void 0),ht(this,pc,void 0),qe(this,Tr,Ce.none),qe(this,fc,n=>n.isText),qe(this,Ef,(n,r)=>{if(xe(this,fc).call(this,n)&&xe(this,fc).call(this,r)&&Ce.sameSet(n.marks,r.marks))return this.schema.text(n.text+r.text,n.marks)}),qe(this,Tf,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!r)throw g6(n);return r}),qe(this,If,n=>{const r=xe(this,Tf).call(this,n);r.spec.parseMarkdown.runner(this,n,r)}),this.injectRoot=(n,r,i)=>(this.openNode(r,i),this.next(n.children),this),this.openNode=(n,r)=>(this.open(RK.create(n,[],r)),this),qe(this,hc,()=>{qe(this,Tr,Ce.none);const n=this.close();return xe(this,pc).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>(xe(this,hc).call(this),this),qe(this,pc,(n,r,i)=>{const o=n.createAndFill(r,i,xe(this,Tr));if(!o)throw m6(n,r,i);return this.push(o),o}),this.addNode=(n,r,i)=>(xe(this,pc).call(this,n,r,i),this),this.openMark=(n,r)=>{const i=n.create(r);return qe(this,Tr,i.addToSet(xe(this,Tr))),this},this.closeMark=n=>(qe(this,Tr,n.removeFromSet(xe(this,Tr))),this),this.addText=n=>{const r=this.top();if(!r)throw G_();const i=r.pop(),o=this.schema.text(n,xe(this,Tr));if(!i)return r.push(o),this;const s=xe(this,Ef).call(this,i,o);return s?(r.push(s),this):(r.push(i,o),this)},this.build=()=>{let n;do n=xe(this,hc).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(r=>xe(this,If).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(n,r)=>{const i=n.runSync(n.parse(r),r);return this.next(i),this},this.schema=e}};Tr=new WeakMap,fc=new WeakMap,Ef=new WeakMap,Tf=new WeakMap,If=new WeakMap,hc=new WeakMap,pc=new WeakMap,Sv.create=(t,e)=>{const n=new Sv(t);return r=>(n.run(e,r),n.toDoc())};let _K=Sv;const kv=class extends HM{constructor(e,n,r,i={}){super(),this.type=e,this.children=n,this.value=r,this.props=i,this.push=(o,...s)=>{this.children||(this.children=[]),this.children.push(o,...s)},this.pop=()=>{var o;return(o=this.children)==null?void 0:o.pop()}}};kv.create=(t,e,n,r={})=>new kv(t,e,n,r);let Pb=kv;const MK=t=>Object.prototype.hasOwnProperty.call(t,"size");var ei,mc,Nf,Rf,gc,_f,yc,Mf,Pf,oa,ns,Af,vc;const bv=class extends KM{constructor(e){super(),ht(this,ei,void 0),ht(this,mc,void 0),ht(this,Nf,void 0),ht(this,Rf,void 0),ht(this,gc,void 0),ht(this,_f,void 0),ht(this,yc,void 0),ht(this,Mf,void 0),ht(this,Pf,void 0),ht(this,oa,void 0),ht(this,ns,void 0),ht(this,Af,void 0),ht(this,vc,void 0),qe(this,ei,Ce.none),qe(this,mc,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!r)throw y6(n.type);return r}),qe(this,Nf,n=>xe(this,mc).call(this,n).spec.toMarkdown.runner(this,n)),qe(this,Rf,(n,r)=>xe(this,mc).call(this,n).spec.toMarkdown.runner(this,n,r)),qe(this,gc,n=>{const{marks:r}=n,i=o=>o.type.spec.priority??50;[...r].sort((o,s)=>i(o)-i(s)).every(o=>!xe(this,Rf).call(this,o,n))&&xe(this,Nf).call(this,n),r.forEach(o=>xe(this,vc).call(this,o))}),qe(this,_f,(n,r)=>{var i;if(n.type===r||((i=n.children)==null?void 0:i.length)!==1)return n;const o=c=>{var u;if(c.type===r)return c;if(((u=c.children)==null?void 0:u.length)!==1)return null;const[d]=c.children;return d?o(d):null},s=o(n);if(!s)return n;const a=s.children?[...s.children]:void 0,l={...n,children:a};return l.children=a,s.children=[l],s}),qe(this,yc,n=>{const{children:r}=n;return r&&(n.children=r.reduce((i,o,s)=>{if(s===0)return[o];const a=i.at(-1);if(a&&a.isMark&&o.isMark){o=xe(this,_f).call(this,o,a.type);const{children:l,...c}=o,{children:u,...d}=a;if(o.type===a.type&&l&&u&&JSON.stringify(c)===JSON.stringify(d)){const f={...d,children:[...u,...l]};return i.slice(0,-1).concat(xe(this,yc).call(this,f))}}return i.concat(o)},[])),n}),qe(this,Mf,n=>{const r={...n.props,type:n.type};return n.children&&(r.children=n.children),n.value&&(r.value=n.value),r}),this.openNode=(n,r,i)=>(this.open(Pb.create(n,void 0,r,i)),this),qe(this,Pf,(n,r)=>{let i="",o="";const s=n.children;let a=-1,l=-1;const c=d=>{d&&d.forEach((f,h)=>{f.type==="text"&&f.value&&(a<0&&(a=h),l=h)})};if(s){c(s);const d=s==null?void 0:s[l],f=s==null?void 0:s[a];d&&d.value.endsWith(" ")&&(o=d.value.match(/ +$/)[0],d.value=d.value.trimEnd()),f&&f.value.startsWith(" ")&&(i=f.value.match(/^ +/)[0],f.value=f.value.trimStart())}i.length&&xe(this,ns).call(this,"text",void 0,i);const u=r();return o.length&&xe(this,ns).call(this,"text",void 0,o),u}),qe(this,oa,(n=!1)=>{const r=this.close(),i=()=>xe(this,ns).call(this,r.type,r.children,r.value,r.props);return n?xe(this,Pf).call(this,r,i):i()}),this.closeNode=()=>(xe(this,oa).call(this),this),qe(this,ns,(n,r,i,o)=>{const s=Pb.create(n,r,i,o),a=xe(this,yc).call(this,xe(this,Mf).call(this,s));return this.push(a),a}),this.addNode=(n,r,i,o)=>(xe(this,ns).call(this,n,r,i,o),this),qe(this,Af,(n,r,i,o)=>n.isInSet(xe(this,ei))?this:(qe(this,ei,n.addToSet(xe(this,ei))),this.openNode(r,i,{...o,isMark:!0}))),qe(this,vc,n=>{n.isInSet(xe(this,ei))&&(qe(this,ei,n.type.removeFromSet(xe(this,ei))),xe(this,oa).call(this,!0))}),this.withMark=(n,r,i,o)=>(xe(this,Af).call(this,n,r,i,o),this),this.closeMark=n=>(xe(this,vc).call(this,n),this),this.build=()=>{let n=null;do n=xe(this,oa).call(this);while(this.size());return n},this.next=n=>MK(n)?(n.forEach(r=>{xe(this,gc).call(this,r)}),this):(xe(this,gc).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=e}};ei=new WeakMap,mc=new WeakMap,Nf=new WeakMap,Rf=new WeakMap,gc=new WeakMap,_f=new WeakMap,yc=new WeakMap,Mf=new WeakMap,Pf=new WeakMap,oa=new WeakMap,ns=new WeakMap,Af=new WeakMap,vc=new WeakMap,bv.create=(t,e)=>{const n=new bv(t);return r=>(n.run(r),n.toString(e))};let PK=bv;const qM=65535,JM=Math.pow(2,16);function AK(t,e){return t+e*JM}function Ab(t){return t&qM}function OK(t){return(t-(t&qM))/JM}const YM=1,XM=2,Of=4,QM=8;class Cv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&QM)>0}get deletedBefore(){return(this.delInfo&(YM|Of))>0}get deletedAfter(){return(this.delInfo&(XM|Of))>0}get deletedAcross(){return(this.delInfo&Of)>0}}class wn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&wn.empty)return wn.empty}recover(e){let n=0,r=Ab(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+OK(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:AK(a/3,e-l),g=e==l?XM:e==d?YM:Of;return(n<0?e!=l:e!=d)&&(g|=QM),new Cv(h,g,p)}i+=u-c}return r?e+i:new Cv(e+i,0,null)}touches(e,n){let r=0,i=Ab(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new wn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?wn.empty:new wn(e<0?[0,-e,0]:[0,0,e])}}wn.empty=new wn([]);class Va{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Va(this.maps,this.mirror,e,n)}copy(){return new Va(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Va;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Cv(e,i,null)}}const mg=Object.create(null);class Wt{getMap(){return wn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=mg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mg)throw new RangeError("Duplicate use of step JSON ID "+e);return mg[e]=n,n.prototype.jsonID=e,n}}class gt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new gt(e,null)}static fail(e){return new gt(null,e)}static fromReplace(e,n,r,i){try{return gt.ok(e.replace(n,r,i))}catch(o){if(o instanceof Fh)return gt.fail(o.message);throw o}}}function z0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(z0(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return W.fromArray(r)}class ui extends Wt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new X(z0(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return gt.fromReplace(e,this.from,this.to,o)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ui(n.pos,r.pos,this.mark)}merge(e){return e instanceof ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ui(n.from,n.to,e.markFromJSON(n.mark))}}Wt.jsonID("addMark",ui);class Or extends Wt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new X(z0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return gt.fromReplace(e,this.from,this.to,r)}invert(){return new ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Or(n.pos,r.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Or(n.from,n.to,e.markFromJSON(n.mark))}}Wt.jsonID("removeMark",Or);class lo extends Wt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return gt.fromReplace(e,this.pos,this.pos+1,new X(W.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new lo(this.pos,n.marks[i]);return new lo(this.pos,this.mark)}}return new ul(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lo(n.pos,e.markFromJSON(n.mark))}}Wt.jsonID("addNodeMark",lo);class ul extends Wt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return gt.fromReplace(e,this.pos,this.pos+1,new X(W.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new lo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ul(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ul(n.pos,e.markFromJSON(n.mark))}}Wt.jsonID("removeNodeMark",ul);class _t extends Wt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ev(e,this.from,this.to)?gt.fail("Structure replace would overwrite content"):gt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new wn([this.from,this.to-this.from,this.slice.size])}invert(e){return new _t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new _t(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof _t)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?X.empty:new X(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _t(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?X.empty:new X(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _t(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _t(n.from,n.to,X.fromJSON(e,n.slice),!!n.structure)}}Wt.jsonID("replace",_t);class Ut extends Wt{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Ev(e,this.from,this.gapFrom)||Ev(e,this.gapTo,this.to)))return gt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return gt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?gt.fromReplace(e,this.from,this.to,r):gt.fail("Content does not fit in gap")}getMap(){return new wn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ut(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ut(n.from,n.to,n.gapFrom,n.gapTo,X.fromJSON(e,n.slice),n.insert,!!n.structure)}}Wt.jsonID("replaceAround",Ut);function Ev(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function DK(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Or(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new ui(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function LK(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Up){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Or(s.from,s.to,s.style)))}function $0(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new _t(a,u,X.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Or(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new X(W.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new _t(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(W.empty,!0);t.replace(a,a,new X(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function jK(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Hp(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!jK(i,o,s))break}return null}function FK(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=W.empty,d=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=W.from(r.node(p).copy(u)),d++):l--;let f=W.empty,h=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=W.from(i.node(p).copy(f)),h++):c++;t.step(new Ut(l,c,s,a,new X(u.append(f),d,h),u.size-d,!0))}function ZM(t,e,n=null,r=t){let i=zK(t,e),o=i&&$K(r,e);return o?i.map(Ob).concat({type:e,attrs:n}).concat(o.map(Ob)):null}function Ob(t){return{type:t,attrs:null}}function zK(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function $K(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function BK(t,e,n){let r=W.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=W.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ut(i,o,i,o,new X(r,0,0),n.length,!0))}function UK(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&VK(t.doc,t.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&tP(t,s,a,o),$0(t,t.mapping.slice(o).map(a,1),r,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new Ut(d,f,d+1,f-1,new X(W.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&eP(t,s,a,o),!1}})}function eP(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function tP(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function VK(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function WK(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ut(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new X(W.from(s),0,0),1,!0))}function Bc(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function HK(t,e,n=1,r){let i=t.doc.resolve(e),o=W.empty,s=W.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=W.from(i.node(a).copy(o));let u=r&&r[c];s=W.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new _t(e,e,new X(o.append(s),n,n),!0))}function Kp(t,e){let n=t.resolve(e),r=n.index();return GK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function KK(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function GK(t,e){return!!(t&&e&&!t.isLeaf&&KK(t,e))}function qK(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);tP(t,u.node(),u.before(),a)}s.inlineContent&&$0(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new _t(c,l.map(e+n,-1),X.empty,!0)),r===!0){let u=t.doc.resolve(c);eP(t,u.node(),u.before(),t.steps.length)}return t}function JK(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function YK(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function B0(t,e,n=e,r=X.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return nP(i,o,r)?new _t(e,n,r):new XK(i,o,r).fit()}function nP(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class XK{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=W.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=W.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new X(o,s,a);return e>-1?new Ut(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new _t(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=gg(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(W.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new X(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gg(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new X(wc(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new X(wc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),x=d.matchType(g.type);if(!x)break;c++,(c>1||l==0||g.content.size)&&(d=x,u.push(rP(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=xc(this.placed,n,W.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=a;g<h;g++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=p?e==0?X.empty:new X(wc(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new X(wc(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!yg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=yg(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=yg(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=xc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=xc(this.placed,this.depth,W.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(W.empty,!0);n.childCount&&(this.placed=xc(this.placed,this.frontier.length,n))}}function wc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wc(t.firstChild.content,e-1,n)))}function xc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(xc(t.lastChild.content,e-1,n)))}function gg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function rP(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,rP(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(W.empty,!0)))),t.copy(r)}function yg(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!QK(n,o.content,s)?a:null}function QK(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ZK(t){return t.spec.defining||t.spec.definingForContent}function e7(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(nP(i,o,r))return t.step(new _t(e,n,r));let s=oP(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=ZK(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<s.length;g++){let x=s[(g+l)%s.length],v=!0;x<0&&(v=!1,x=-x);let w=i.node(x-1),S=i.index(x-1);if(w.canReplaceWith(S,S,p.type,p.marks))return t.replace(i.before(x),v?o.after(x):n,new X(iP(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function iP(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(iP(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(W.empty,!0))}return t}function t7(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=JK(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new X(W.from(r),0,0))}function n7(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=oP(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function oP(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Wa extends Wt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return gt.fromReplace(e,this.pos,this.pos+1,new X(W.from(i),0,n.isLeaf?0:1))}getMap(){return wn.empty}invert(e){return new Wa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wa(n.pos,n.attr,n.value)}}Wt.jsonID("attr",Wa);class Cu extends Wt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return gt.ok(r)}getMap(){return wn.empty}invert(e){return new Cu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Cu(n.attr,n.value)}}Wt.jsonID("docAttr",Cu);let dl=class extends Error{};dl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};dl.prototype=Object.create(Error.prototype);dl.prototype.constructor=dl;dl.prototype.name="TransformError";class r7{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Va}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new dl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=X.empty){let i=B0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new X(W.from(r),0,0))}delete(e,n){return this.replace(e,n,X.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return e7(this,e,n,r),this}replaceRangeWith(e,n,r){return t7(this,e,n,r),this}deleteRange(e,n){return n7(this,e,n),this}lift(e,n){return FK(this,e,n),this}join(e,n=1){return qK(this,e,n),this}wrap(e,n){return BK(this,e,n),this}setBlockType(e,n=e,r,i=null){return UK(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return WK(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Wa(e,n,r)),this}setDocAttribute(e,n){return this.step(new Cu(e,n)),this}addNodeMark(e,n){return this.step(new lo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ce)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ul(e,n)),this}split(e,n=1,r){return HK(this,e,n,r),this}addMark(e,n,r){return DK(this,e,n,r),this}removeMark(e,n,r){return LK(this,e,n,r),this}clearIncompatible(e,n,r){return $0(this,e,n,r),this}}const vg=Object.create(null);class Ne{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Tv(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=X.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?X.empty:n),a==0&&jb(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),jb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Oe(e):sa(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?sa(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):sa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Cn(e.node(0))}static atStart(e){return sa(e,e,0,0,1)||new Cn(e)}static atEnd(e){return sa(e,e,e.content.size,e.childCount,-1)||new Cn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=vg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in vg)throw new RangeError("Duplicate use of selection JSON ID "+e);return vg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Oe.between(this.$anchor,this.$head).getBookmark()}}Ne.prototype.visible=!0;class Tv{constructor(e,n){this.$from=e,this.$to=n}}let Db=!1;function Lb(t){!Db&&!t.parent.inlineContent&&(Db=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Oe extends Ne{constructor(e,n=e){Lb(e),Lb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ne.near(r);let i=e.resolve(n.map(this.anchor));return new Oe(i.parent.inlineContent?i:r,r)}replace(e,n=X.empty){if(super.replace(e,n),n==X.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Oe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Gp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Oe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ne.findFrom(n,r,!0)||Ne.findFrom(n,-r,!0);if(o)n=o.$head;else return Ne.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ne.findFrom(e,-r,!0)||Ne.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Oe(e,n)}}Ne.jsonID("text",Oe);class Gp{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Gp(e.map(this.anchor),e.map(this.head))}resolve(e){return Oe.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Ne{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ne.near(o):new pe(o)}content(){return new X(W.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new U0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Ne.jsonID("node",pe);class U0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Gp(r,r):new U0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):Ne.near(n)}}class Cn extends Ne{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=X.empty){if(n==X.empty){e.delete(0,e.doc.content.size);let r=Ne.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Cn(e)}map(e){return new Cn(e)}eq(e){return e instanceof Cn}getBookmark(){return i7}}Ne.jsonID("all",Cn);const i7={map(){return this},resolve(t){return new Cn(t)}};function sa(t,e,n,r,i,o=!1){if(e.inlineContent)return Oe.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&pe.isSelectable(a))return pe.create(t,n-(i<0?a.nodeSize:0))}else{let l=sa(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function jb(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof _t||i instanceof Ut))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Ne.near(t.doc.resolve(s),n))}const Fb=1,Gd=2,zb=4;class o7 extends r7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Fb)&~Gd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Fb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gd,this}ensureMarks(e){return Ce.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ce.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ne.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=zb,this}get scrolledIntoView(){return(this.updated&zb)>0}}function $b(t,e){return!e||!t?t:t.bind(e)}class Sc{constructor(e,n,r){this.name=e,this.init=$b(n.init,r),this.apply=$b(n.apply,r)}}const s7=[new Sc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sc("selection",{init(t,e){return t.selection||Ne.atStart(e.doc)},apply(t){return t.selection}}),new Sc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class wg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=s7.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sc(r.key,r.spec.state,r))})}}class Ta{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ta(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new o7(this)}static create(e){let n=new wg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ta(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new wg(this.schema,e.plugins),r=n.fields,i=new Ta(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new wg(e.schema,e.plugins),o=new Ta(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ko.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ne.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function sP(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sP(i,e,{})),n[r]=i}return n}class mr{constructor(e){this.spec=e,this.props={},e.props&&sP(e.props,this,this.props),this.key=e.key?e.key.key:aP("plugin")}getState(e){return e[this.key]}}const xg=Object.create(null);function aP(t){return t in xg?t+"$"+ ++xg[t]:(xg[t]=0,t+"$")}class gr{constructor(e="key"){this.key=aP(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class yr{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?a7(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function a7(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}const l7=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to);e(s)}return!0}}return!1};new yr(/--$/,"—");new yr(/\.\.\.$/,"…");new yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");new yr(/"$/,"”");new yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");new yr(/'$/,"’");function V0(t,e,n=null,r){return new yr(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,c=i.tr.delete(s,a),u=c.doc.resolve(s),d=u.blockRange(),f=d&&ZM(d,e,l);if(!f)return null;c.wrap(d,f);let h=c.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&Kp(c.doc,s-1)&&(!r||r(o,h))&&c.join(s-1),c})}function lP(t,e,n=null){return new yr(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}const Oo=typeof navigator<"u"?navigator:null,Bb=typeof document<"u"?document:null,Vs=Oo&&Oo.userAgent||"",Iv=/Edge\/(\d+)/.exec(Vs),cP=/MSIE \d/.exec(Vs),Nv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vs),W0=!!(cP||Nv||Iv);cP?document.documentMode:Nv?+Nv[1]:Iv&&+Iv[1];const c7=!W0&&/gecko\/(\d+)/i.test(Vs);c7&&+(/Firefox\/(\d+)/.exec(Vs)||[0,0])[1];const Ub=!W0&&/Chrome\/(\d+)/.exec(Vs);Ub&&+Ub[1];const u7=!W0&&!!Oo&&/Apple Computer/.test(Oo.vendor),d7=u7&&(/Mobile\/\w+/.test(Vs)||!!Oo&&Oo.maxTouchPoints>2);d7||Oo&&/Mac/.test(Oo.platform);const f7=!!Bb&&"webkitFontSmoothing"in Bb.documentElement.style;f7&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];function Sg(t,e,n,r,i,o){if(t.composing)return!1;const s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"￼")+r;for(let c=0;c<i.length;c++){const u=i[c].match.exec(l),d=u&&u[0]&&i[c].handler(s,u,e-(u[0].length-r.length),n);if(d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:n,text:r})),!0}return!1}const h7=new gr("MILKDOWN_CUSTOM_INPUTRULES");function p7({rules:t}){const e=new mr({key:h7,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return Sg(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&Sg(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?Sg(n,i.pos,i.pos,`
`,t,e):!1}}});return e}function qp(t,e,n={}){return new yr(t,(r,i,o,s)=>{var a,l,c,u;const{tr:d}=r,f=i.length;let h=i[f-1],p=i[0],g=[],x=s;const v={group:h,fullMatch:p,start:o,end:s},w=(a=n.updateCaptured)==null?void 0:a.call(n,v);if(Object.assign(v,w),{group:h,fullMatch:p,start:o,end:s}=v,p===null||(h==null?void 0:h.trim())==="")return null;if(h){const S=p.search(/\S/),C=o+p.indexOf(h),I=C+h.length;g=(l=d.storedMarks)!=null?l:[],I<s&&d.delete(I,s),C>o&&d.delete(o+S,C),x=o+S+h.length;const b=(c=n.getAttr)==null?void 0:c.call(n,i);d.addMark(o,x,e.create(b)),d.setStoredMarks(g),(u=n.beforeDispatch)==null||u.call(n,{match:i,start:o,end:s,tr:d})}return d})}function m7(t,e){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function g7(t,e){if(!(t instanceof pe))return;const{node:n,$from:r}=t;if(m7(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const H0=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function y7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const uP=(t,e,n)=>{let r=y7(t,n);if(!r)return!1;let i=fP(r);if(!i){let s=r.blockRange(),a=s&&Hp(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(pP(t,i,e,-1))return!0;if(r.parent.content.size==0&&(fl(o,"end")||pe.isSelectable(o)))for(let s=r.depth;;s--){let a=B0(t.doc,r.before(s),r.after(s),X.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(fl(o,"end")?Ne.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):pe.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function fl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const dP=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=fP(r)}let s=o&&o.nodeBefore;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function fP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function v7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const w7=(t,e,n)=>{let r=v7(t,n);if(!r)return!1;let i=hP(r);if(!i)return!1;let o=i.nodeAfter;if(pP(t,i,e,1))return!0;if(r.parent.content.size==0&&(fl(o,"start")||pe.isSelectable(o))){let s=B0(t.doc,r.before(),r.after(),X.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(fl(o,"start")?Ne.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):pe.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},x7=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=hP(r)}let s=o&&o.nodeAfter;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function hP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const S7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function K0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const k7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=K0(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ne.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},b7=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Cn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=K0(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Oe.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},C7=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Bc(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Hp(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function E7(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!Bc(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof Oe||e.selection instanceof Cn)&&s.deleteSelection();let a=r.depth==0?null:K0(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,o,r),c=l?[l]:o&&a?[{type:a}]:void 0,u=Bc(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&Bc(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),!u)return!1;if(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a){let d=s.mapping.map(r.before()),f=s.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}return n&&n(s.scrollIntoView()),!0}}const T7=E7(),I7=(t,e)=>(e&&e(t.tr.setSelection(new Cn(t.doc))),!0);function N7(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Kp(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function pP(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&N7(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=W.empty;for(let v=s.length-1;v>=0;v--)p=W.from(s[v].create(null,p));p=W.from(i.copy(p));let g=t.tr.step(new Ut(e.pos-1,h,e.pos,h,new X(p,1,0),s.length,!0)),x=g.doc.resolve(h+2*s.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Kp(g.doc,x.pos)&&g.join(x.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Ne.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Hp(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&fl(o,"start",!0)&&fl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=W.empty;for(let S=p.length-1;S>=0;S--)v=W.from(p[S].copy(v));let w=t.tr.step(new Ut(e.pos-p.length,e.pos+o.nodeSize,e.pos+x,e.pos+o.nodeSize-x,new X(v,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function mP(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Oe.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const R7=mP(-1),_7=mP(1);function G0(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&ZM(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Eu(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function M7(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:o,$to:s}=e[i],a=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!r&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function P7(t){let e=[];for(let n=0;n<t.length;n++){let{$from:r,$to:i}=t[n];r.doc.nodesBetween(r.pos,i.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=r.pos&&s+o.nodeSize<=i.pos)return s+1>r.pos&&e.push(new Tv(r,r.doc.resolve(s+1))),r=r.doc.resolve(s+1+o.content.size),!1}),r.pos<i.pos&&e.push(new Tv(r,i))}return e}function q0(t,e=null,n){let r=(n&&n.removeWhenPresent)!==!1,i=(n&&n.enterInlineAtoms)!==!1;return function(o,s){let{empty:a,$cursor:l,ranges:c}=o.selection;if(a&&!l||!M7(o.doc,c,t,i))return!1;if(s)if(l)t.isInSet(o.storedMarks||l.marks())?s(o.tr.removeStoredMark(t)):s(o.tr.addStoredMark(t.create(e)));else{let u,d=o.tr;i||(c=P7(c)),r?u=!c.some(f=>o.doc.rangeHasMark(f.$from.pos,f.$to.pos,t)):u=!c.every(f=>{let h=!1;return d.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,g,x)=>{if(h)return!1;h=!t.isInSet(p.marks)&&!!x&&x.type.allowsMarkType(t)&&!(p.isText&&/^\s*$/.test(p.textBetween(Math.max(0,f.$from.pos-g),Math.min(p.nodeSize,f.$to.pos-g))))}),!h});for(let f=0;f<c.length;f++){let{$from:h,$to:p}=c[f];if(!u)d.removeMark(h.pos,p.pos,t);else{let g=h.pos,x=p.pos,v=h.nodeAfter,w=p.nodeBefore,S=v&&v.isText?/^\s*/.exec(v.text)[0].length:0,C=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;g+S<x&&(g+=S,x-=C),d.addMark(g,x,t.create(e))}}s(d.scrollIntoView())}return!0}}function Jp(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let kg=Jp(H0,uP,dP),Vb=Jp(H0,w7,x7);const ii={Enter:Jp(S7,b7,C7,T7),"Mod-Enter":k7,Backspace:kg,"Mod-Backspace":kg,"Shift-Backspace":kg,Delete:Vb,"Mod-Delete":Vb,"Mod-a":I7},gP={"Ctrl-h":ii.Backspace,"Alt-Backspace":ii["Mod-Backspace"],"Ctrl-d":ii.Delete,"Ctrl-Alt-Backspace":ii["Mod-Delete"],"Alt-Delete":ii["Mod-Delete"],"Alt-d":ii["Mod-Delete"],"Ctrl-a":R7,"Ctrl-e":_7};for(let t in ii)gP[t]=ii[t];const A7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,O7=A7?gP:ii;var Do={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D7=typeof navigator<"u"&&/Mac/.test(navigator.platform),L7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mt=0;Mt<10;Mt++)Do[48+Mt]=Do[96+Mt]=String(Mt);for(var Mt=1;Mt<=24;Mt++)Do[Mt+111]="F"+Mt;for(var Mt=65;Mt<=90;Mt++)Do[Mt]=String.fromCharCode(Mt+32),Vh[Mt]=String.fromCharCode(Mt);for(var bg in Do)Vh.hasOwnProperty(bg)||(Vh[bg]=Do[bg]);function j7(t){var e=D7&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||L7&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Vh:Do)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const F7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function z7(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))F7?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function $7(t){let e=Object.create(null);for(let n in t)e[z7(n)]=t[n];return e}function Cg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function yP(t){return new mr({props:{handleKeyDown:B7(t)}})}function B7(t){let e=$7(t);return function(n,r){let i=j7(r),o,s=e[Cg(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Cg(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Do[r.keyCode])&&o!=i){let a=e[Cg(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Pt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Tu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Rv=null;const ni=function(t,e,n){let r=Rv||(Rv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},U7=function(){Rv=null},Os=function(t,e,n,r){return n&&(Wb(t,e,n,r,-1)||Wb(t,e,n,r,1))},V7=/^(img|br|input|textarea|hr)$/i;function Wb(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:jn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Yu(t)||V7.test(t.nodeName)||t.contentEditable=="false")return!1;e=Pt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?jn(t):0}else return!1}}function jn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function W7(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=jn(t)}else if(t.parentNode&&!Yu(t))e=Pt(t),t=t.parentNode;else return null}}function H7(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Yu(t))e=Pt(t)+1,t=t.parentNode;else return null}}function K7(t,e,n){for(let r=e==0,i=e==jn(t);r||i;){if(t==n)return!0;let o=Pt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==jn(t)}}function Yu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Yp=function(t){return t.focusNode&&Os(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function as(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function G7(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function q7(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(jn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(jn(r.startContainer),r.startOffset)}}}const Br=typeof navigator<"u"?navigator:null,Hb=typeof document<"u"?document:null,Ko=Br&&Br.userAgent||"",_v=/Edge\/(\d+)/.exec(Ko),vP=/MSIE \d/.exec(Ko),Mv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ko),fn=!!(vP||Mv||_v),bo=vP?document.documentMode:Mv?+Mv[1]:_v?+_v[1]:0,hr=!fn&&/gecko\/(\d+)/i.test(Ko);hr&&+(/Firefox\/(\d+)/.exec(Ko)||[0,0])[1];const Pv=!fn&&/Chrome\/(\d+)/.exec(Ko),Bt=!!Pv,wP=Pv?+Pv[1]:0,Jt=!fn&&!!Br&&/Apple Computer/.test(Br.vendor),hl=Jt&&(/Mobile\/\w+/.test(Ko)||!!Br&&Br.maxTouchPoints>2),An=hl||(Br?/Mac/.test(Br.platform):!1),J7=Br?/Win/.test(Br.platform):!1,rr=/Android \d/.test(Ko),Xu=!!Hb&&"webkitFontSmoothing"in Hb.documentElement.style,Y7=Xu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function X7(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zr(t,e){return typeof t=="number"?t:t[e]}function Q7(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Kb(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Tu(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?X7(o):Q7(a),u=0,d=0;if(e.top<c.top+Zr(r,"top")?d=-(c.top-e.top+Zr(i,"top")):e.bottom>c.bottom-Zr(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Zr(i,"top")-c.top:e.bottom-c.bottom+Zr(i,"bottom")),e.left<c.left+Zr(r,"left")?u=-(c.left-e.left+Zr(i,"left")):e.right>c.right-Zr(r,"right")&&(u=e.right-c.right+Zr(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Z7(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:xP(t.dom)}}function xP(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Tu(r));return e}function eG({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;SP(n,r==0?0:r-e)}function SP(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ea=null;function tG(t){if(t.setActive)return t.setActive();if(ea)return t.focus(ea);let e=xP(t);t.focus(ea==null?{get preventScroll(){return ea={preventScroll:!0},!0}}:void 0),ea||(ea=!1,SP(e,0))}function kP(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ni(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(o=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?nG(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:kP(n,i)}function nG(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Wi(r,1);if(o.top!=o.bottom&&J0(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function J0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function iG(t,e,n){let{node:r,offset:i}=kP(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function oG(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function bP(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(J0(e,c))return bP(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function sG(t,e){let n=t.dom.ownerDocument,r,i=0,o=q7(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!J0(e,c)||(s=bP(t.dom,e,c),!s))return null}if(Jt)for(let c=s;r&&c;c=Tu(c))c.draggable&&(r=void 0);if(s=rG(s,e),r){if(hr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Xu&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=oG(t,r,i,e))}a==null&&(a=iG(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Gb(t){return t.top<t.bottom||t.left<t.right}function Wi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Gb(r))return r}return Array.prototype.find.call(n,Gb)||t.getBoundingClientRect()}const aG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function CP(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Xu||hr;if(r.nodeType==3)if(s&&(aG.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Wi(ni(r,i,i),n);if(hr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Wi(ni(r,i-1,i-1),-1);if(c.top==l.top){let u=Wi(ni(r,i,i+1),-1);if(u.top!=l.top)return Jl(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Jl(Wi(ni(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==jn(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Eg(l.getBoundingClientRect(),!1)}if(o==null&&i<jn(r)){let l=r.childNodes[i];if(l.nodeType==1)return Eg(l.getBoundingClientRect(),!0)}return Eg(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==jn(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ni(l,jn(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Jl(Wi(c,1),!1)}if(o==null&&i<jn(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ni(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Jl(Wi(c,-1),!0)}return Jl(Wi(r.nodeType==3?ni(r):r,-n),n>=0)}function Jl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Eg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function EP(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function lG(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return EP(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=CP(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ni(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const cG=/[\u0590-\u08ac]/;function uG(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return a?!cG.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:EP(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),x=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),x}):r.pos==r.start()||r.pos==r.end()}let qb=null,Jb=null,Yb=!1;function dG(t,e,n){return qb==e&&Jb==n?Yb:(qb=e,Jb=n,Yb=n=="up"||n=="down"?lG(t,e,n):uG(t,e,n))}const Un=0,Xb=1,fs=2,Ur=3;class Qu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Un,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Pt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof IP){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof TP&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Pt(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Pt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Pt(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Pt(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(o>h&&s<g)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((hr||Jt)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:Pt(g)+1});break}let x=p.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(hr&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&Jt)&&Os(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Os(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?fs:Xb,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ur:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?fs:Ur}r=s}this.dirty=fs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?fs:Xb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class TP extends Qu{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Un&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class fG extends Qu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ds extends Qu{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=El.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ds(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ur&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Un){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Un}}slice(e,n,r){let i=Ds.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Ov(o,n,s,r)),e>0&&(o=Ov(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Co extends Qu{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=El.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=_P(u,r,n),c?l=new hG(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new Xp(e,n,r,i,u,f,o):new Co(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>W.empty)}return e}matchesNode(e,n,r){return this.dirty==Un&&e.eq(this.node)&&Wh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new mG(this,s&&s.node,e);vG(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ce.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==fs)&&(s&&this.protectLocalComposition(e,s),NP(this.contentDOM,this.children,e),hl&&wG(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Oe)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=xG(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new fG(this,o,n,i);e.input.compositionNodes.push(s),this.children=Ov(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Ur||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Un}updateOuterDeco(e){if(Wh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=RP(this.dom,this.nodeDOM,Av(this.outerDeco,this.node,n),Av(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Qb(t,e,n,r,i){_P(r,e,t);let o=new Co(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Xp extends Co{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ur||this.dirty!=Un&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Un||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Un,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Xp(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ur)}get domAtom(){return!1}isText(e){return this.node.text==e}}class IP extends Qu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Un&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hG extends Co{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Ur)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function NP(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=Zb(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Ds){let l=r?r.previousSibling:t.lastChild;NP(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Zb(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Uc=function(t){t&&(this.nodeName=t)};Uc.prototype=Object.create(null);const hs=[new Uc];function Av(t,e,n){if(t.length==0)return hs;let r=n?hs[0]:new Uc,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Uc(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Uc(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function RP(t,e,n,r){if(n==hs&&r==hs)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=hs[0]),i=l}pG(i,a||hs[0],s)}return i}function pG(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function _P(t,e,n){return RP(t,t,hs,Av(e,n,t.nodeType!=1))}function Wh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Zb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mG{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gG(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Un,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ds.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Ur&&s.dom==s.contentDOM&&(s.dirty=fs),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Co){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ur&&Wh(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=fs,d.updateChildren(i,s+1),d.dirty=Un),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Wh(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Co.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Co.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new TP(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ds;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Xp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Jt||Bt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new IP(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gG(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ds)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function yG(t,e){return t.type.side-e.type.side}function vG(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let x=i[s++];x.widget&&(u?(d||(d=[u])).push(x):u=x)}if(u)if(d){d.sort(yG);for(let x=0;x<d.length;x++)n(d[x],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=o&&a.splice(x--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let x=p;s<i.length&&i[s].from<x&&(x=i[s].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<p&&(l=f.cut(x-o),f=f.cut(0,x-o),p=x,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;let g=f.isInline&&!f.isLeaf?a.filter(x=>!x.inline):a.slice();r(f,g,e.forChild(o,f),h),o=p}}function wG(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function xG(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ov(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Y0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Yp(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&pe.isSelectable(d)&&i.parent&&!(d.isInline&&K7(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new pe(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=X0(t,u,a,d)}return c}function MP(t){return t.editable?t.hasFocus():AP(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function pi(t,e=!1){let n=t.state.selection;if(PP(t,n),!!MP(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Bt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Os(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)kG(t);else{let{anchor:r,head:i}=n,o,s;eC&&!(n instanceof Oe)&&(n.$from.parent.inlineContent||(o=tC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=tC(t,n.to))),t.docView.setSelection(r,i,t.root,e),eC&&(o&&nC(o),s&&nC(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&SG(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const eC=Jt||Bt&&wP<63;function tC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Jt&&i&&i.contentEditable=="false")return Tg(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Tg(i);if(o)return Tg(o)}}function Tg(t){return t.contentEditable="true",Jt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function nC(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function SG(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!MP(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function kG(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Pt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&fn&&bo<=11&&(r.disabled=!0,r.disabled=!1)}function PP(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(rC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else rC(t)}function rC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function X0(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Oe.between(e,n,r)}function iC(t){return t.editable&&!t.hasFocus()?!1:AP(t)}function AP(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function bG(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Os(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Dv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ne.findFrom(o,e)}function Ji(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function oC(t,e,n){let r=t.state.selection;if(r instanceof Oe)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ji(t,new Oe(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Dv(t.state,e);return i&&i instanceof pe?Ji(t,i):!1}else if(!(An&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?pe.isSelectable(o)?Ji(t,new pe(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Xu?Ji(t,new Oe(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return Ji(t,new Oe(e>0?r.$to:r.$from));{let i=Dv(t.state,e);return i?Ji(t,i):!1}}}function Hh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ta(t,e){return e<0?CG(t):EG(t)}function CG(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(hr&&n.nodeType==1&&r<Hh(n)&&Vc(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Vc(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(OP(n))break;{let a=n.previousSibling;for(;a&&Vc(a,-1);)i=n.parentNode,o=Pt(a),a=a.previousSibling;if(a)n=a,r=Hh(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Lv(t,n,r):i&&Lv(t,i,o)}function EG(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Hh(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Vc(a,1))o=n,s=++r;else break}else{if(OP(n))break;{let a=n.nextSibling;for(;a&&Vc(a,1);)o=a.parentNode,s=Pt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Hh(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Lv(t,o,s)}function OP(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function TG(t,e){for(;t&&e==t.childNodes.length&&!Yu(t);)e=Pt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function IG(t,e){for(;t&&!e&&!Yu(t);)e=Pt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Lv(t,e,n){if(e.nodeType!=3){let o,s;(s=TG(e,n))?(e=s,n=0):(o=IG(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Yp(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&pi(t)},50)}function sC(t,e){let n=t.state.doc.resolve(e);if(!(Bt||J7)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function aC(t,e,n){let r=t.state.selection;if(r instanceof Oe&&!r.empty||n.indexOf("s")>-1||An&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Dv(t.state,e);if(s&&s instanceof pe)return Ji(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Cn?Ne.near(s,e):Ne.findFrom(s,e);return a?Ji(t,a):!1}return!1}function lC(t,e){if(!(t.state.selection instanceof Oe))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function cC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function NG(t){if(!Jt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;cC(t,r,"true"),setTimeout(()=>cC(t,r,"false"),20)}return!1}function RG(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function _G(t,e){let n=e.keyCode,r=RG(e);if(n==8||An&&n==72&&r=="c")return lC(t,-1)||ta(t,-1);if(n==46&&!e.shiftKey||An&&n==68&&r=="c")return lC(t,1)||ta(t,1);if(n==13||n==27)return!0;if(n==37||An&&n==66&&r=="c"){let i=n==37?sC(t,t.state.selection.from)=="ltr"?-1:1:-1;return oC(t,i,r)||ta(t,i)}else if(n==39||An&&n==70&&r=="c"){let i=n==39?sC(t,t.state.selection.from)=="ltr"?1:-1:1;return oC(t,i,r)||ta(t,i)}else{if(n==38||An&&n==80&&r=="c")return aC(t,-1,r)||ta(t,-1);if(n==40||An&&n==78&&r=="c")return NG(t)||aC(t,1,r)||ta(t,1);if(r==(An?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function DP(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||El.fromSchema(t.state.schema),a=BP(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=$P[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function LP(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new X(W.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):X.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=El.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=s.appendChild(document.createElement("p"));g&&x.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=OG(n),Xu&&DG(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||cl.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!MG.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=LG(uC(a,+u[1],+u[2]),u[4]);else if(a=X.maxOpen(PG(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=uC(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const MG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function PG(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&FP(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=zP(s[s.length-1],o.length));let u=jP(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return W.from(s)}return t}function jP(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,W.from(t));return t}function FP(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=FP(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(W.from(jP(n,t,i+1))))}}function zP(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,zP(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(W.empty,!0);return t.copy(n.append(r))}function jv(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=jv(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(W.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function uC(t,e,n){return e<t.openStart&&(t=new X(jv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new X(jv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const $P={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dC=null;function BP(){return dC||(dC=document.implementation.createHTMLDocument("title"))}function AG(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function OG(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=BP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&$P[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=AG(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function DG(t){let e=t.querySelectorAll(Bt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function LG(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=W.from(l.create(r[a+1],i)),o++,s++}return new X(i,o,s)}const Yt={},Xt={},jG={touchstart:!0,touchmove:!0};class FG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function zG(t){for(let e in Yt){let n=Yt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{BG(t,r)&&!Q0(t,r)&&(t.editable||!(r.type in Xt))&&n(t,r)},jG[e]?{passive:!0}:void 0)}Jt&&t.dom.addEventListener("input",()=>null),Fv(t)}function co(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function $G(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Fv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Q0(t,r))})}function Q0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function BG(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function UG(t,e){!Q0(t,e)&&Yt[e.type]&&(t.editable||!(e.type in Xt))&&Yt[e.type](t,e)}Xt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!VP(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(rr&&Bt&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),hl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,as(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||_G(t,n)?n.preventDefault():co(t,"key")};Xt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Xt.keypress=(t,e)=>{let n=e;if(VP(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||An&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Oe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Qp(t){return{left:t.clientX,top:t.clientY}}function VG(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Z0(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ha(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function WG(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(Ha(t,new pe(n),"pointer"),!0):!1}function HG(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof pe&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(pe.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Ha(t,pe.create(t.state.doc,i),"pointer"),!0):!1}function KG(t,e,n,r,i){return Z0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?HG(t,n):WG(t,n))}function GG(t,e,n,r){return Z0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function qG(t,e,n,r){return Z0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||JG(t,n,r)}function JG(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ha(t,Oe.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ha(t,Oe.create(r,a+1,a+1+s.content.size),"pointer");else if(pe.isSelectable(s))Ha(t,pe.create(r,a),"pointer");else continue;return!0}}function ex(t){return Kh(t)}const UP=An?"metaKey":"ctrlKey";Yt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ex(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&VG(n,t.input.lastClick)&&!n[UP]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Qp(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new YG(t,s,n,!!r)):(o=="doubleClick"?GG:qG)(t,s.pos,s.inside,n)?n.preventDefault():co(t,"pointer"))};class YG{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[UP],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof pe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),co(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>pi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qp(e))),this.updateAllowDefault(e),this.allowDefault||!n?co(this.view,"pointer"):KG(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Jt&&this.mightDrag&&!this.mightDrag.node.isAtom||Bt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ha(this.view,Ne.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):co(this.view,"pointer")}move(e){this.updateAllowDefault(e),co(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Yt.touchstart=t=>{t.input.lastTouch=Date.now(),ex(t),co(t,"pointer")};Yt.touchmove=t=>{t.input.lastTouch=Date.now(),co(t,"pointer")};Yt.contextmenu=t=>ex(t);function VP(t,e){return t.composing?!0:Jt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const XG=rr?5e3:-1;Xt.compositionstart=Xt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Oe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Kh(t,!0),t.markCursor=null;else if(Kh(t,!e.selection.empty),hr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}WP(t,XG)};Xt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,WP(t,20))};function WP(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Kh(t),e))}function HP(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ZG());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function QG(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=W7(e.focusNode,e.focusOffset),r=H7(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function ZG(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Kh(t,e=!1){if(!(rr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),HP(t),e||t.docView&&t.docView.dirty){let n=Y0(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function eq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Iu=fn&&bo<15||hl&&Y7<604;Yt.copy=Xt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Iu?null:n.clipboardData,s=r.content(),{dom:a,text:l}=DP(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):eq(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function tq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function nq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Nu(t,r.value,null,i,e):Nu(t,r.textContent,r.innerHTML,i,e)},50)}function Nu(t,e,n,r,i){let o=LP(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||X.empty)))return!0;if(!o)return!1;let s=tq(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function KP(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Xt.paste=(t,e)=>{let n=e;if(t.composing&&!rr)return;let r=Iu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Nu(t,KP(r),r.getData("text/html"),i,n)?n.preventDefault():nq(t,n)};class GP{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const qP=An?"altKey":"ctrlKey";Yt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Qp(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof pe?i.to-1:i.to))){if(r&&r.mightDrag)s=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=pe.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=DP(t,a);(!n.dataTransfer.files.length||!Bt||wP>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Iu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Iu||n.dataTransfer.setData("text/plain",c),t.dragging=new GP(u,!n[qP],s)};Yt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Xt.dragover=Xt.dragenter=(t,e)=>e.preventDefault();Xt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Qp(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=LP(t,KP(n.dataTransfer),Iu?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[qP]);if(t.someProp("handleDrop",p=>p(t,n,s||X.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?YK(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&pe.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new pe(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,x,v,w)=>p=w),c.setSelection(X0(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Yt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&pi(t)},20))};Yt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Yt.beforeinput=(t,e)=>{if(Bt&&rr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,as(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Xt)Yt[t]=Xt[t];function Ru(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Gh{constructor(e,n){this.toDOM=e,this.spec=n||vs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Sn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Gh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ru(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Eo{constructor(e,n){this.attrs=e,this.spec=n||vs}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Sn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Eo&&Ru(this.attrs,e.attrs)&&Ru(this.spec,e.spec)}static is(e){return e.type instanceof Eo}destroy(){}}class tx{constructor(e,n){this.attrs=e,this.spec=n||vs}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Sn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof tx&&Ru(this.attrs,e.attrs)&&Ru(this.spec,e.spec)}destroy(){}}class Sn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Sn(e,e,new Gh(n,r))}static inline(e,n,r,i){return new Sn(e,n,new Eo(r,i))}static node(e,n,r,i){return new Sn(e,n,new tx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Eo}get widget(){return this.type instanceof Gh}}const aa=[],vs={};class pt{constructor(e,n){this.local=e.length?e:aa,this.children=n.length?n:aa}static create(e,n){return n.length?qh(n,e,0,vs):zt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==zt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||vs)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?rq(this.children,s||[],e,n,r,i,o):s?new pt(s.sort(ws),aa):zt}add(e,n){return n.length?this==zt?pt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=YP(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,qh(u,a,c+1,vs)),o+=3}});let s=JP(o?XP(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new pt(s.length?this.local.concat(s).sort(ws):this.local,i||this.children)}remove(e){return e.length==0||this==zt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=zt?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new pt(i,r):zt}forChild(e,n){if(this==zt)return this;if(n.isLeaf)return pt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Eo){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new pt(i.sort(ws),aa);return r?new io([a,r]):a}return r||zt}eq(e){if(this==e)return!0;if(!(e instanceof pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return nx(this.localsInner(e))}localsInner(e){if(this==zt)return aa;if(e.inlineContent||!this.local.some(Eo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Eo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}pt.empty=new pt([],[]);pt.removeOverlap=nx;const zt=pt.empty;class io{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,vs));return io.from(r)}forChild(e,n){if(n.isLeaf)return pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=zt&&(o instanceof io?r=r.concat(o.members):r.push(o))}return io.from(r)}eq(e){if(!(e instanceof io)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?nx(r?n:n.sort(ws)):aa}static from(e){switch(e.length){case 0:return zt;case 1:return e[0];default:return new io(e.every(n=>n instanceof pt)?e:e.reduce((n,r)=>n.concat(r instanceof pt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function rq(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let x=g-p-(h-f);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||f>w+u-d)continue;let S=a[v]+u-d;h>=S?a[v+1]=f<=S?-2:-1:f>=u&&x&&(a[v]+=x,a[v+1]+=x)}d+=x}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:p,offset:g}=r.content.findIndex(d),x=r.maybeChild(p);if(x&&g==d&&g+x.nodeSize==h){let v=a[c+2].mapInner(n,x,u+1,t[c]+o+1,s);v!=zt?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=iq(a,t,e,n,i,o,s),u=qh(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new pt(e.sort(ws),a)}function JP(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Sn(i.from+e,i.to+e,i.type))}return n}function iq(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function YP(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function XP(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qh(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=YP(t,a,l+n);if(c){o=!0;let u=qh(c,a,n+l+1,r);u!=zt&&i.push(l,l+a.nodeSize,u)}});let s=JP(o?XP(t):t,-n).sort(ws);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new pt(s,i):zt}function ws(t,e){return t.from-e.from||t.to-e.to}function nx(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),fC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),fC(e,i,r.copy(o.from,r.to)));break}}}return e}function fC(t,e,n){for(;e<t.length&&ws(n,t[e])>0;)e++;t.splice(e,0,n)}function Ig(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=zt&&e.push(r)}),t.cursorWrapper&&e.push(pt.create(t.state.doc,[t.cursorWrapper.deco])),io.from(e)}const oq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sq=fn&&bo<=11;class aq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class lq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new aq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);fn&&bo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sq&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,oq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iC(this.view)){if(this.suppressingSelectionUpdates)return pi(this.view);if(fn&&bo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Os(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Tu(o))n.add(o);for(let o=e.anchorNode;o;o=Tu(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&iC(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(hr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||dq(e,d)!=h)&&f.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Yp(r)&&(c=Y0(e))&&c.eq(Ne.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,pi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),cq(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||pi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(fn&&bo<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?Pt(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Pt(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let hC=new WeakMap,pC=!1;function cq(t){if(!hC.has(t)&&(hC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=hr,pC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pC=!0}}function mC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Os(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function uq(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return mC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?mC(t,n):null}function dq(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function fq(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Yp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Bt&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let v=r.childNodes[x-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){o=x;break}if(!w||w.size)break}let d=t.state.doc,f=t.someProp("domParser")||cl.fromSchema(t.state.schema),h=d.resolve(s),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:hq,context:h});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),p={anchor:x+s,head:v+s}}return{doc:g,sel:p,from:s,to:a}}function hq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Jt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Jt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const pq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function mq(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=Y0(t,R);if(P&&!t.state.selection.eq(P)){if(Bt&&rr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,as(13,"Enter"))))return;let O=t.state.tr.setSelection(P);R=="pointer"?O.setMeta("pointer",!0):R=="key"&&O.scrollIntoView(),o&&O.setMeta("composition",o),t.dispatch(O)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=fq(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=vq(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(hl&&t.input.lastIOSEnter>Date.now()-225||rr)&&i.some(R=>R.nodeType==1&&!pq.test(R.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",R=>R(t,as(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Oe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let R=gC(t,t.state.doc,c.sel);if(R&&!R.eq(t.state.selection)){let P=t.state.tr.setSelection(R);o&&P.setMeta("composition",o),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Oe&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),fn&&bo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),x=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),w=g.sameParent(x)&&g.parent.inlineContent&&v.end()>=p.endA,S;if((hl&&t.input.lastIOSEnter>Date.now()-225&&(!w||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(x)&&(S=Ne.findFrom(c.doc.resolve(g.pos+1),1,!0))&&S.head==x.pos)&&t.someProp("handleKeyDown",R=>R(t,as(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&yq(u,p.start,p.endA,g,x)&&t.someProp("handleKeyDown",R=>R(t,as(8,"Backspace")))){rr&&Bt&&t.domObserver.suppressSelectionUpdates();return}Bt&&rr&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),rr&&!w&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,x=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,as(13,"Enter"))})},20));let C=p.start,I=p.endA,b,_,k;if(w){if(g.pos==x.pos)fn&&bo<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>pi(t),20)),b=t.state.tr.delete(C,I),_=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(k=gq(g.parent.content.cut(g.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))b=t.state.tr,k.type=="add"?b.addMark(C,I,k.mark):b.removeMark(C,I,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let R=g.parent.textBetween(g.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",P=>P(t,C,I,R)))return;b=t.state.tr.insertText(R,C,I)}}if(b||(b=t.state.tr.replace(C,I,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let R=gC(t,b.doc,c.sel);R&&!(Bt&&rr&&t.composing&&R.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(R.head==C||R.head==b.mapping.map(I)-1)||fn&&R.empty&&R.head==C)&&b.setSelection(R)}_&&b.ensureMarks(_),o&&b.setMeta("composition",o),t.dispatch(b.scrollIntoView())}function gC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:X0(t,e.resolve(n.anchor),e.resolve(n.head))}function gq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(W.from(c).eq(t))return{mark:a,type:s}}function yq(t,e,n,r,i){if(n-e<=i.pos-r.pos||Ng(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Ng(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Ng(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Ng(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function vq(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&yC(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&yC(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function yC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class wq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new FG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(kC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=xC(this),wC(this),this.nodeViews=SC(this),this.docView=Qb(this.state.doc,vC(this),Ig(this),this.dom,this),this.domObserver=new lq(this,(r,i,o,s)=>mq(this,r,i,o,s)),this.domObserver.start(),zG(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Fv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(HP(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=SC(this);Sq(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Fv(this),this.editable=xC(this),wC(this);let l=Ig(this),c=vC(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Z7(this);if(s){this.domObserver.stop();let h=d&&(fn||Bt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&xq(i.selection,e.selection);if(d){let p=Bt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=QG(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Qb(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&bG(this))?pi(this,h):(PP(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&eG(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Kb(this,n.getBoundingClientRect(),e)}else Kb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new GP(e.slice,e.move,i<0?void 0:pe.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(fn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tG(this.dom),pi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sG(this,e)}coordsAtPos(e,n=1){return CP(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return dG(this,n||this.state,e)}pasteHTML(e,n){return Nu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Nu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&($G(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ig(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,U7())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return UG(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Jt&&this.root.nodeType===11&&G7(this.dom.ownerDocument)==this.dom&&uq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function vC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Sn.node(0,t.state.doc.content.size,e)]}function wC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function xC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function xq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function SC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Sq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function kC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var QP=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ae=(t,e,n)=>(QP(t,e,"read from private field"),n?n.call(t):e.get(t)),Tt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Xe=(t,e,n,r)=>(QP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Go(t,e){return t.meta={package:"@milkdown/core",group:"System",...e},t}const ZP={strong:(t,e,n,r)=>{const i=t.marker||n.options.strong||"*",o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a},emphasis:(t,e,n,r)=>{const i=t.marker||n.options.emphasis||"*",o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}},Wc=Me({},"editorView"),kc=Me({},"editorState"),Rg=Me([],"initTimer"),bC=Me({},"editor"),_u=Me([],"inputRules"),Vr=Me([],"prosePlugins"),Mu=Me([],"remarkPlugins"),zv=Me([],"nodeView"),$v=Me([],"markView"),xs=Me(xv().use(hv).use(yv),"remark"),Hc=Me({handlers:ZP},"remarkStringifyOptions"),Df=Wo("ConfigReady");function kq(t){const e=n=>(n.record(Df),async()=>(await t(n),n.done(Df),()=>{n.clearTimer(Df)}));return Go(e,{displayName:"Config"}),e}const Ss=Wo("InitReady");function bq(t){const e=n=>(n.inject(bC,t).inject(Vr,[]).inject(Mu,[]).inject(_u,[]).inject(zv,[]).inject($v,[]).inject(Hc,{handlers:ZP}).inject(xs,xv().use(hv).use(yv)).inject(Rg,[Df]).record(Ss),async()=>{await n.waitTimers(Rg);const r=n.get(Hc);return n.set(xs,xv().use(hv).use(yv,r)),n.done(Ss),()=>{n.remove(bC).remove(Vr).remove(Mu).remove(_u).remove(zv).remove($v).remove(Hc).remove(xs).remove(Rg).clearTimer(Ss)}});return Go(e,{displayName:"Init"}),e}const zr=Wo("SchemaReady"),_g=Me([],"schemaTimer"),To=Me({},"schema"),Ka=Me([],"nodes"),Ga=Me([],"marks");function CC(t){var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}}const eA=t=>(t.inject(To,{}).inject(Ka,[]).inject(Ga,[]).inject(_g,[Ss]).record(zr),async()=>{await t.waitTimers(_g);const e=t.get(xs),n=t.get(Mu).reduce((s,a)=>s.use(a.plugin,a.options),e);t.set(xs,n);const r=Object.fromEntries(t.get(Ka).map(([s,a])=>[s,CC(a)])),i=Object.fromEntries(t.get(Ga).map(([s,a])=>[s,CC(a)])),o=new H6({nodes:r,marks:i});return t.set(To,o),t.done(zr),()=>{t.remove(To).remove(Ka).remove(Ga).remove(_g).clearTimer(zr)}});Go(eA,{displayName:"Schema"});var la,rs;let tA=class{constructor(){Tt(this,la,void 0),Tt(this,rs,void 0),Xe(this,la,new J_),Xe(this,rs,null),this.setCtx=e=>{Xe(this,rs,e)}}get ctx(){return ae(this,rs)}create(e,n){const r=e.create(ae(this,la).sliceMap);return r.set(n),r}get(e){return ae(this,la).get(e).get()}remove(e){return ae(this,la).remove(e)}call(e,n){if(ae(this,rs)==null)throw v6();const r=this.get(e)(n),i=ae(this,rs).get(Wc);return r(i.state,i.dispatch,i)}};la=new WeakMap,rs=new WeakMap;function Cq(t="cmdKey"){return Me(()=>()=>!1,t)}const $e=Me(new tA,"commands"),Mg=Me([zr],"commandsTimer"),Kc=Wo("CommandsReady"),nA=t=>{const e=new tA;return e.setCtx(t),t.inject($e,e).inject(Mg,[zr]).record(Kc),async()=>(await t.waitTimers(Mg),t.done(Kc),()=>{t.remove($e).remove(Mg).clearTimer(Kc)})};Go(nA,{displayName:"Commands"});const Lf=Wo("ParserReady"),rA=()=>{throw _0()},jf=Me(rA,"parser"),Pg=Me([],"parserTimer"),iA=t=>(t.inject(jf,rA).inject(Pg,[zr]).record(Lf),async()=>{await t.waitTimers(Pg);const e=t.get(xs),n=t.get(To);return t.set(jf,_K.create(n,e)),t.done(Lf),()=>{t.remove(jf).remove(Pg).clearTimer(Lf)}});Go(iA,{displayName:"Parser"});const Gc=Wo("SerializerReady"),Ag=Me([],"serializerTimer"),oA=()=>{throw _0()},Ff=Me(oA,"serializer"),sA=t=>(t.inject(Ff,oA).inject(Ag,[zr]).record(Gc),async()=>{await t.waitTimers(Ag);const e=t.get(xs),n=t.get(To);return t.set(Ff,PK.create(n,e)),t.done(Gc),()=>{t.remove(Ff).remove(Ag).clearTimer(Gc)}});Go(sA,{displayName:"Serializer"});const zf=Me("","defaultValue"),Og=Me(t=>t,"stateOptions"),Dg=Me([],"editorStateTimer"),$f=Wo("EditorStateReady");function Eq(t,e,n){if(typeof t=="string")return e(t);if(t.type==="html")return cl.fromSchema(n).parse(t.dom);if(t.type==="json")return ko.fromJSON(n,t.value);throw f6(t)}const Tq=new gr("MILKDOWN_STATE_TRACKER");function Iq(t){const e=Jp(l7,H0,uP,dP);return t.Backspace=e,t}const aA=t=>(t.inject(zf,"").inject(kc,{}).inject(Og,e=>e).inject(Dg,[Lf,Gc,Kc]).record($f),async()=>{await t.waitTimers(Dg);const e=t.get(To),n=t.get(jf),r=t.get(_u),i=t.get(Og),o=t.get(Vr),s=t.get(zf),a=Eq(s,n,e),l=[...o,new mr({key:Tq,state:{init:()=>{},apply:(d,f,h,p)=>{t.set(kc,p)}}}),p7({rules:r}),yP(Iq(O7))];t.set(Vr,l);const c=i({schema:e,doc:a,plugins:l}),u=Ta.create(c);return t.set(kc,u),t.done($f),()=>{t.remove(zf).remove(kc).remove(Og).remove(Dg).clearTimer($f)}});Go(aA,{displayName:"EditorState"});const Bf=Wo("EditorViewReady"),Lg=Me([],"editorViewTimer"),Uf=Me({},"editorViewOptions"),Vf=Me(null,"root"),Bv=Me(null,"rootDOM"),Uv=Me({},"rootAttrs");function Nq(t,e){const n=document.createElement("div");n.className="milkdown",t.appendChild(n),e.set(Bv,n);const r=e.get(Uv);return Object.entries(r).forEach(([i,o])=>n.setAttribute(i,o)),n}function Rq(t){t.classList.add("editor"),t.setAttribute("role","textbox")}const _q=new gr("MILKDOWN_VIEW_CLEAR"),lA=t=>(t.inject(Vf,document.body).inject(Wc,{}).inject(Uf,{}).inject(Bv,null).inject(Uv,{}).inject(Lg,[$f]).record(Bf),async()=>{await t.wait(Ss);const e=t.get(Vf)||document.body,n=typeof e=="string"?document.querySelector(e):e;t.update(Vr,l=>[new mr({key:_q,view:c=>{const u=n?Nq(n,t):void 0;return(()=>{if(u&&n){const d=c.dom;n.replaceChild(u,d),u.appendChild(d)}})(),{destroy:()=>{u!=null&&u.parentNode&&(u==null||u.parentNode.replaceChild(c.dom,u)),u==null||u.remove()}}}}),...l]),await t.waitTimers(Lg);const r=t.get(kc),i=t.get(Uf),o=Object.fromEntries(t.get(zv)),s=Object.fromEntries(t.get($v)),a=new wq(n,{state:r,nodeViews:o,markViews:s,...i});return Rq(a.dom),t.set(Wc,a),t.done(Bf),()=>{a==null||a.destroy(),t.remove(Vf).remove(Wc).remove(Uf).remove(Bv).remove(Uv).remove(Lg).clearTimer(Bf)}});Go(lA,{displayName:"EditorView"});var ca,Mn,Hi,bc,Wf,Hf,mn,Ki,ua,Kf,da,Cc,Gf,is,Ec;const Mq=class cA{constructor(){Tt(this,ca,void 0),Tt(this,Mn,void 0),Tt(this,Hi,void 0),Tt(this,bc,void 0),Tt(this,Wf,void 0),Tt(this,Hf,void 0),Tt(this,mn,void 0),Tt(this,Ki,void 0),Tt(this,ua,void 0),Tt(this,Kf,void 0),Tt(this,da,void 0),Tt(this,Cc,void 0),Tt(this,Gf,void 0),Tt(this,is,void 0),Tt(this,Ec,void 0),Xe(this,ca,!1),Xe(this,Mn,"Idle"),Xe(this,Hi,[]),Xe(this,bc,()=>{}),Xe(this,Wf,new J_),Xe(this,Hf,new T6),Xe(this,mn,new Map),Xe(this,Ki,new Map),Xe(this,ua,new E6(ae(this,Wf),ae(this,Hf))),Xe(this,Kf,()=>{const e=kq(async r=>{await Promise.all(ae(this,Hi).map(i=>i(r)))}),n=[eA,iA,sA,nA,aA,lA,bq(this),e];ae(this,da).call(this,n,ae(this,Ki))}),Xe(this,da,(e,n)=>{e.forEach(r=>{const i=ae(this,ua).produce(ae(this,ca)?r.meta:void 0),o=r(i);n.set(r,{ctx:i,handler:o,cleanup:void 0})})}),Xe(this,Cc,(e,n=!1)=>Promise.all([e].flat().map(r=>{const i=ae(this,mn).get(r),o=i==null?void 0:i.cleanup;return n?ae(this,mn).delete(r):ae(this,mn).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof o=="function"?o():o}))),Xe(this,Gf,async()=>{await Promise.all([...ae(this,Ki).entries()].map(([e,{cleanup:n}])=>typeof n=="function"?n():n)),ae(this,Ki).clear()}),Xe(this,is,e=>{Xe(this,Mn,e),ae(this,bc).call(this,e)}),Xe(this,Ec,e=>[...e.entries()].map(async([n,r])=>{const{ctx:i,handler:o}=r;if(!o)return;const s=await o();e.set(n,{ctx:i,handler:o,cleanup:s})})),this.enableInspector=(e=!0)=>(Xe(this,ca,e),this),this.onStatusChange=e=>(Xe(this,bc,e),this),this.config=e=>(ae(this,Hi).push(e),this),this.removeConfig=e=>(Xe(this,Hi,ae(this,Hi).filter(n=>n!==e)),this),this.use=e=>{const n=[e].flat();return n.flat().forEach(r=>{ae(this,mn).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),ae(this,Mn)==="Created"&&ae(this,da).call(this,n,ae(this,mn)),this},this.remove=async e=>ae(this,Mn)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(e))},50)})):(await ae(this,Cc).call(this,[e].flat(),!0),this),this.create=async()=>ae(this,Mn)==="OnCreate"?this:(ae(this,Mn)==="Created"&&await this.destroy(),ae(this,is).call(this,"OnCreate"),ae(this,Kf).call(this),ae(this,da).call(this,[...ae(this,mn).keys()],ae(this,mn)),await Promise.all([ae(this,Ec).call(this,ae(this,Ki)),ae(this,Ec).call(this,ae(this,mn))].flat()),ae(this,is).call(this,"Created"),this),this.destroy=async(e=!1)=>ae(this,Mn)==="Destroyed"||ae(this,Mn)==="OnDestroy"?this:ae(this,Mn)==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(e))},50)}):(e&&Xe(this,Hi,[]),ae(this,is).call(this,"OnDestroy"),await ae(this,Cc).call(this,[...ae(this,mn).keys()],e),await ae(this,Gf).call(this),ae(this,is).call(this,"Destroyed"),this),this.action=e=>e(ae(this,ua)),this.inspect=()=>ae(this,ca)?[...ae(this,Ki).values(),...ae(this,mn).values()].map(({ctx:e})=>{var n;return(n=e==null?void 0:e.inspector)==null?void 0:n.read()}).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new cA}get ctx(){return ae(this,ua)}get status(){return ae(this,Mn)}};ca=new WeakMap,Mn=new WeakMap,Hi=new WeakMap,bc=new WeakMap,Wf=new WeakMap,Hf=new WeakMap,mn=new WeakMap,Ki=new WeakMap,ua=new WeakMap,Kf=new WeakMap,da=new WeakMap,Cc=new WeakMap,Gf=new WeakMap,is=new WeakMap,Ec=new WeakMap;let Pq=Mq;var Aq="Expected a function",EC=0/0,Oq="[object Symbol]",Dq=/^\s+|\s+$/g,Lq=/^[-+]0x[0-9a-f]+$/i,jq=/^0b[01]+$/i,Fq=/^0o[0-7]+$/i,zq=parseInt,$q=typeof pd=="object"&&pd&&pd.Object===Object&&pd,Bq=typeof self=="object"&&self&&self.Object===Object&&self,Uq=$q||Bq||Function("return this")(),Vq=Object.prototype,Wq=Vq.toString,Hq=Math.max,Kq=Math.min,jg=function(){return Uq.Date.now()};function Gq(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Aq);e=TC(e)||0,Vv(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Hq(TC(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(b){var _=r,k=i;return r=i=void 0,c=b,s=t.apply(k,_),s}function p(b){return c=b,a=setTimeout(v,e),u?h(b):s}function g(b){var _=b-l,k=b-c,R=e-_;return d?Kq(R,o-k):R}function x(b){var _=b-l,k=b-c;return l===void 0||_>=e||_<0||d&&k>=o}function v(){var b=jg();if(x(b))return w(b);a=setTimeout(v,g(b))}function w(b){return a=void 0,f&&r?h(b):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(jg())}function I(){var b=jg(),_=x(b);if(r=arguments,i=this,l=b,_){if(a===void 0)return p(l);if(d)return a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),s}return I.cancel=S,I.flush=C,I}function Vv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function qq(t){return!!t&&typeof t=="object"}function Jq(t){return typeof t=="symbol"||qq(t)&&Wq.call(t)==Oq}function TC(t){if(typeof t=="number")return t;if(Jq(t))return EC;if(Vv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Dq,"");var n=jq.test(t);return n||Fq.test(t)?zq(t.slice(2),n?2:8):Lq.test(t)?EC:+t}var Yq=Gq;const Xq=Qh(Yq);class uA{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const Wv=Me(new uA,"listener"),Qq=new gr("MILKDOWN_LISTENER"),dA=t=>(t.inject(Wv,new uA),async()=>{await t.wait(Ss);const e=t.get(Wv),{listeners:n}=e;n.beforeMount.forEach(a=>a(t)),await t.wait(Gc);const r=t.get(Ff);let i=null,o=null;const s=new mr({key:Qq,view:()=>({destroy:()=>{n.destroy.forEach(a=>a(t))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(a=>a(t)),!1),blur:()=>(n.blur.forEach(a=>a(t)),!1)}},state:{init:(a,l)=>{i=l.doc,o=r(l.doc)},apply:a=>!a.docChanged||a.getMeta("addToHistory")===!1?void 0:Xq(()=>{const{doc:l}=a;if(n.updated.length>0&&i&&!i.eq(l)&&n.updated.forEach(c=>{c(t,l,i)}),n.markdownUpdated.length>0&&i&&!i.eq(l)){const c=r(l);n.markdownUpdated.forEach(u=>{u(t,c,o)}),o=c}i=l},200)()}});t.update(Vr,a=>a.concat(s)),await t.wait(Bf),n.mounted.forEach(a=>a(t))});dA.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};let Zq=t=>crypto.getRandomValues(new Uint8Array(t)),eJ=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let a=n(i),l=i;for(;l--;)if(s+=t[a[l]&r]||"",s.length===o)return s}}},tJ=(t,e=21)=>eJ(t,e,Zq);tJ("abcedfghicklmn",10);function nt(t,e){const n=Cq(t),r=i=>async()=>{r.key=n,await i.wait(Kc);const o=e(i);return i.get($e).create(n,o),r.run=s=>i.get($e).call(t,s),()=>{i.get($e).remove(n)}};return r}function vr(t){const e=n=>async()=>{await n.wait(zr);const r=t(n);return n.update(_u,i=>[...i,r]),e.inputRule=r,()=>{n.update(_u,i=>i.filter(o=>o!==r))}};return e}function nJ(t,e){const n=r=>async()=>{const i=e(r);return r.update(Ga,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Ga,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(To).marks[t];if(!i)throw x6(t);return i},n}function rx(t,e){const n=r=>async()=>{const i=e(r);return r.update(Ka,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Ka,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(To).nodes[t];if(!i)throw w6(t);return i},n}function Il(t){let e;const n=r=>async()=>(await r.wait(zr),e=t(r),r.update(Vr,i=>[...i,e]),()=>{r.update(Vr,i=>i.filter(o=>o!==e))});return n.plugin=()=>e,n.key=()=>e.spec.key,n}function rJ(t){const e=n=>async()=>{await n.wait(zr);const r=t(n),i=yP(r);return n.update(Vr,o=>[...o,i]),e.keymap=r,()=>{n.update(Vr,o=>o.filter(s=>s!==i))}};return e}function _i(t,e){const n=Me(t,e),r=i=>(i.inject(n),()=>()=>{i.remove(n)});return r.key=n,r}function wr(t,e){const n=_i(e,t),r=rx(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.node=r,i.type=o=>r.type(o),i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>s=>()=>{const a=s.get(n.key),l=o(a)(s);s.update(Ka,c=>[...c.filter(u=>u[0]!==t),[t,l]]),i.schema=l},i}function Zp(t,e){const n=_i(e,t),r=nJ(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.mark=r,i.type=r.type,i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>s=>()=>{const a=s.get(n.key),l=o(a)(s);s.update(Ga,c=>[...c.filter(u=>u[0]!==t),[t,l]]),i.schema=l},i}function qn(t,e){const n=Object.fromEntries(Object.entries(e).map(([s,{shortcuts:a}])=>[s,a])),r=_i(n,`${t}Keymap`),i=rJ(s=>{const a=s.get(r.key),l=Object.entries(e).flatMap(([c,{command:u}])=>[a[c]].flat().map(d=>[d,u(s)]));return Object.fromEntries(l)}),o=[r,i];return o.ctx=r,o.shortcuts=i,o.key=r.key,o.keymap=i.keymap,o}const xr=(t,e=()=>({}))=>_i(e,`${t}Attr`),em=(t,e=()=>({}))=>_i(e,`${t}Attr`);function Zu(t,e,n){const r=_i(n??{},t),i=s=>async()=>{await s.wait(Ss);const a={plugin:e(s),options:s.get(r.key)};return s.update(Mu,l=>[...l,a]),()=>{s.update(Mu,l=>l.filter(c=>c!==a))}},o=[r,i];return o.id=t,o.plugin=i,o.options=r,o}function fA(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iJ(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const oJ=[["ß","ss"],["ẞ","Ss"],["ä","ae"],["Ä","Ae"],["ö","oe"],["Ö","Oe"],["ü","ue"],["Ü","Ue"],["À","A"],["Á","A"],["Â","A"],["Ã","A"],["Ä","Ae"],["Å","A"],["Æ","AE"],["Ç","C"],["È","E"],["É","E"],["Ê","E"],["Ë","E"],["Ì","I"],["Í","I"],["Î","I"],["Ï","I"],["Ð","D"],["Ñ","N"],["Ò","O"],["Ó","O"],["Ô","O"],["Õ","O"],["Ö","Oe"],["Ő","O"],["Ø","O"],["Ù","U"],["Ú","U"],["Û","U"],["Ü","Ue"],["Ű","U"],["Ý","Y"],["Þ","TH"],["ß","ss"],["à","a"],["á","a"],["â","a"],["ã","a"],["ä","ae"],["å","a"],["æ","ae"],["ç","c"],["è","e"],["é","e"],["ê","e"],["ë","e"],["ì","i"],["í","i"],["î","i"],["ï","i"],["ð","d"],["ñ","n"],["ò","o"],["ó","o"],["ô","o"],["õ","o"],["ö","oe"],["ő","o"],["ø","o"],["ù","u"],["ú","u"],["û","u"],["ü","ue"],["ű","u"],["ý","y"],["þ","th"],["ÿ","y"],["ẞ","SS"],["à","a"],["À","A"],["á","a"],["Á","A"],["â","a"],["Â","A"],["ã","a"],["Ã","A"],["è","e"],["È","E"],["é","e"],["É","E"],["ê","e"],["Ê","E"],["ì","i"],["Ì","I"],["í","i"],["Í","I"],["ò","o"],["Ò","O"],["ó","o"],["Ó","O"],["ô","o"],["Ô","O"],["õ","o"],["Õ","O"],["ù","u"],["Ù","U"],["ú","u"],["Ú","U"],["ý","y"],["Ý","Y"],["ă","a"],["Ă","A"],["Đ","D"],["đ","d"],["ĩ","i"],["Ĩ","I"],["ũ","u"],["Ũ","U"],["ơ","o"],["Ơ","O"],["ư","u"],["Ư","U"],["ạ","a"],["Ạ","A"],["ả","a"],["Ả","A"],["ấ","a"],["Ấ","A"],["ầ","a"],["Ầ","A"],["ẩ","a"],["Ẩ","A"],["ẫ","a"],["Ẫ","A"],["ậ","a"],["Ậ","A"],["ắ","a"],["Ắ","A"],["ằ","a"],["Ằ","A"],["ẳ","a"],["Ẳ","A"],["ẵ","a"],["Ẵ","A"],["ặ","a"],["Ặ","A"],["ẹ","e"],["Ẹ","E"],["ẻ","e"],["Ẻ","E"],["ẽ","e"],["Ẽ","E"],["ế","e"],["Ế","E"],["ề","e"],["Ề","E"],["ể","e"],["Ể","E"],["ễ","e"],["Ễ","E"],["ệ","e"],["Ệ","E"],["ỉ","i"],["Ỉ","I"],["ị","i"],["Ị","I"],["ọ","o"],["Ọ","O"],["ỏ","o"],["Ỏ","O"],["ố","o"],["Ố","O"],["ồ","o"],["Ồ","O"],["ổ","o"],["Ổ","O"],["ỗ","o"],["Ỗ","O"],["ộ","o"],["Ộ","O"],["ớ","o"],["Ớ","O"],["ờ","o"],["Ờ","O"],["ở","o"],["Ở","O"],["ỡ","o"],["Ỡ","O"],["ợ","o"],["Ợ","O"],["ụ","u"],["Ụ","U"],["ủ","u"],["Ủ","U"],["ứ","u"],["Ứ","U"],["ừ","u"],["Ừ","U"],["ử","u"],["Ử","U"],["ữ","u"],["Ữ","U"],["ự","u"],["Ự","U"],["ỳ","y"],["Ỳ","Y"],["ỵ","y"],["Ỵ","Y"],["ỷ","y"],["Ỷ","Y"],["ỹ","y"],["Ỹ","Y"],["ء","e"],["آ","a"],["أ","a"],["ؤ","w"],["إ","i"],["ئ","y"],["ا","a"],["ب","b"],["ة","t"],["ت","t"],["ث","th"],["ج","j"],["ح","h"],["خ","kh"],["د","d"],["ذ","dh"],["ر","r"],["ز","z"],["س","s"],["ش","sh"],["ص","s"],["ض","d"],["ط","t"],["ظ","z"],["ع","e"],["غ","gh"],["ـ","_"],["ف","f"],["ق","q"],["ك","k"],["ل","l"],["م","m"],["ن","n"],["ه","h"],["و","w"],["ى","a"],["ي","y"],["َ‎","a"],["ُ","u"],["ِ‎","i"],["٠","0"],["١","1"],["٢","2"],["٣","3"],["٤","4"],["٥","5"],["٦","6"],["٧","7"],["٨","8"],["٩","9"],["چ","ch"],["ک","k"],["گ","g"],["پ","p"],["ژ","zh"],["ی","y"],["۰","0"],["۱","1"],["۲","2"],["۳","3"],["۴","4"],["۵","5"],["۶","6"],["۷","7"],["۸","8"],["۹","9"],["ټ","p"],["ځ","z"],["څ","c"],["ډ","d"],["ﺫ","d"],["ﺭ","r"],["ړ","r"],["ﺯ","z"],["ږ","g"],["ښ","x"],["ګ","g"],["ڼ","n"],["ۀ","e"],["ې","e"],["ۍ","ai"],["ٹ","t"],["ڈ","d"],["ڑ","r"],["ں","n"],["ہ","h"],["ھ","h"],["ے","e"],["А","A"],["а","a"],["Б","B"],["б","b"],["В","V"],["в","v"],["Г","G"],["г","g"],["Д","D"],["д","d"],["ъе","ye"],["Ъе","Ye"],["ъЕ","yE"],["ЪЕ","YE"],["Е","E"],["е","e"],["Ё","Yo"],["ё","yo"],["Ж","Zh"],["ж","zh"],["З","Z"],["з","z"],["И","I"],["и","i"],["ый","iy"],["Ый","Iy"],["ЫЙ","IY"],["ыЙ","iY"],["Й","Y"],["й","y"],["К","K"],["к","k"],["Л","L"],["л","l"],["М","M"],["м","m"],["Н","N"],["н","n"],["О","O"],["о","o"],["П","P"],["п","p"],["Р","R"],["р","r"],["С","S"],["с","s"],["Т","T"],["т","t"],["У","U"],["у","u"],["Ф","F"],["ф","f"],["Х","Kh"],["х","kh"],["Ц","Ts"],["ц","ts"],["Ч","Ch"],["ч","ch"],["Ш","Sh"],["ш","sh"],["Щ","Sch"],["щ","sch"],["Ъ",""],["ъ",""],["Ы","Y"],["ы","y"],["Ь",""],["ь",""],["Э","E"],["э","e"],["Ю","Yu"],["ю","yu"],["Я","Ya"],["я","ya"],["ă","a"],["Ă","A"],["ș","s"],["Ș","S"],["ț","t"],["Ț","T"],["ţ","t"],["Ţ","T"],["ş","s"],["Ş","S"],["ç","c"],["Ç","C"],["ğ","g"],["Ğ","G"],["ı","i"],["İ","I"],["ա","a"],["Ա","A"],["բ","b"],["Բ","B"],["գ","g"],["Գ","G"],["դ","d"],["Դ","D"],["ե","ye"],["Ե","Ye"],["զ","z"],["Զ","Z"],["է","e"],["Է","E"],["ը","y"],["Ը","Y"],["թ","t"],["Թ","T"],["ժ","zh"],["Ժ","Zh"],["ի","i"],["Ի","I"],["լ","l"],["Լ","L"],["խ","kh"],["Խ","Kh"],["ծ","ts"],["Ծ","Ts"],["կ","k"],["Կ","K"],["հ","h"],["Հ","H"],["ձ","dz"],["Ձ","Dz"],["ղ","gh"],["Ղ","Gh"],["ճ","tch"],["Ճ","Tch"],["մ","m"],["Մ","M"],["յ","y"],["Յ","Y"],["ն","n"],["Ն","N"],["շ","sh"],["Շ","Sh"],["ո","vo"],["Ո","Vo"],["չ","ch"],["Չ","Ch"],["պ","p"],["Պ","P"],["ջ","j"],["Ջ","J"],["ռ","r"],["Ռ","R"],["ս","s"],["Ս","S"],["վ","v"],["Վ","V"],["տ","t"],["Տ","T"],["ր","r"],["Ր","R"],["ց","c"],["Ց","C"],["ու","u"],["ՈՒ","U"],["Ու","U"],["փ","p"],["Փ","P"],["ք","q"],["Ք","Q"],["օ","o"],["Օ","O"],["ֆ","f"],["Ֆ","F"],["և","yev"],["ა","a"],["ბ","b"],["გ","g"],["დ","d"],["ე","e"],["ვ","v"],["ზ","z"],["თ","t"],["ი","i"],["კ","k"],["ლ","l"],["მ","m"],["ნ","n"],["ო","o"],["პ","p"],["ჟ","zh"],["რ","r"],["ს","s"],["ტ","t"],["უ","u"],["ფ","ph"],["ქ","q"],["ღ","gh"],["ყ","k"],["შ","sh"],["ჩ","ch"],["ც","ts"],["ძ","dz"],["წ","ts"],["ჭ","tch"],["ხ","kh"],["ჯ","j"],["ჰ","h"],["č","c"],["ď","d"],["ě","e"],["ň","n"],["ř","r"],["š","s"],["ť","t"],["ů","u"],["ž","z"],["Č","C"],["Ď","D"],["Ě","E"],["Ň","N"],["Ř","R"],["Š","S"],["Ť","T"],["Ů","U"],["Ž","Z"],["ހ","h"],["ށ","sh"],["ނ","n"],["ރ","r"],["ބ","b"],["ޅ","lh"],["ކ","k"],["އ","a"],["ވ","v"],["މ","m"],["ފ","f"],["ދ","dh"],["ތ","th"],["ލ","l"],["ގ","g"],["ޏ","gn"],["ސ","s"],["ޑ","d"],["ޒ","z"],["ޓ","t"],["ޔ","y"],["ޕ","p"],["ޖ","j"],["ޗ","ch"],["ޘ","tt"],["ޙ","hh"],["ޚ","kh"],["ޛ","th"],["ޜ","z"],["ޝ","sh"],["ޞ","s"],["ޟ","d"],["ޠ","t"],["ޡ","z"],["ޢ","a"],["ޣ","gh"],["ޤ","q"],["ޥ","w"],["ަ","a"],["ާ","aa"],["ި","i"],["ީ","ee"],["ު","u"],["ޫ","oo"],["ެ","e"],["ޭ","ey"],["ޮ","o"],["ޯ","oa"],["ް",""],["α","a"],["β","v"],["γ","g"],["δ","d"],["ε","e"],["ζ","z"],["η","i"],["θ","th"],["ι","i"],["κ","k"],["λ","l"],["μ","m"],["ν","n"],["ξ","ks"],["ο","o"],["π","p"],["ρ","r"],["σ","s"],["τ","t"],["υ","y"],["φ","f"],["χ","x"],["ψ","ps"],["ω","o"],["ά","a"],["έ","e"],["ί","i"],["ό","o"],["ύ","y"],["ή","i"],["ώ","o"],["ς","s"],["ϊ","i"],["ΰ","y"],["ϋ","y"],["ΐ","i"],["Α","A"],["Β","B"],["Γ","G"],["Δ","D"],["Ε","E"],["Ζ","Z"],["Η","I"],["Θ","TH"],["Ι","I"],["Κ","K"],["Λ","L"],["Μ","M"],["Ν","N"],["Ξ","KS"],["Ο","O"],["Π","P"],["Ρ","R"],["Σ","S"],["Τ","T"],["Υ","Y"],["Φ","F"],["Χ","X"],["Ψ","PS"],["Ω","O"],["Ά","A"],["Έ","E"],["Ί","I"],["Ό","O"],["Ύ","Y"],["Ή","I"],["Ώ","O"],["Ϊ","I"],["Ϋ","Y"],["ā","a"],["ē","e"],["ģ","g"],["ī","i"],["ķ","k"],["ļ","l"],["ņ","n"],["ū","u"],["Ā","A"],["Ē","E"],["Ģ","G"],["Ī","I"],["Ķ","K"],["Ļ","L"],["Ņ","N"],["Ū","U"],["č","c"],["š","s"],["ž","z"],["Č","C"],["Š","S"],["Ž","Z"],["ą","a"],["č","c"],["ę","e"],["ė","e"],["į","i"],["š","s"],["ų","u"],["ū","u"],["ž","z"],["Ą","A"],["Č","C"],["Ę","E"],["Ė","E"],["Į","I"],["Š","S"],["Ų","U"],["Ū","U"],["Ќ","Kj"],["ќ","kj"],["Љ","Lj"],["љ","lj"],["Њ","Nj"],["њ","nj"],["Тс","Ts"],["тс","ts"],["ą","a"],["ć","c"],["ę","e"],["ł","l"],["ń","n"],["ś","s"],["ź","z"],["ż","z"],["Ą","A"],["Ć","C"],["Ę","E"],["Ł","L"],["Ń","N"],["Ś","S"],["Ź","Z"],["Ż","Z"],["Є","Ye"],["І","I"],["Ї","Yi"],["Ґ","G"],["є","ye"],["і","i"],["ї","yi"],["ґ","g"],["Ĳ","IJ"],["ĳ","ij"],["¢","c"],["¥","Y"],["߿","b"],["৳","t"],["૱","Bo"],["฿","B"],["₠","CE"],["₡","C"],["₢","Cr"],["₣","F"],["₥","m"],["₦","N"],["₧","Pt"],["₨","Rs"],["₩","W"],["₫","s"],["€","E"],["₭","K"],["₮","T"],["₯","Dp"],["₰","S"],["₱","P"],["₲","G"],["₳","A"],["₴","S"],["₵","C"],["₶","tt"],["₷","S"],["₸","T"],["₹","R"],["₺","L"],["₽","P"],["₿","B"],["﹩","$"],["￠","c"],["￥","Y"],["￦","W"],["𝐀","A"],["𝐁","B"],["𝐂","C"],["𝐃","D"],["𝐄","E"],["𝐅","F"],["𝐆","G"],["𝐇","H"],["𝐈","I"],["𝐉","J"],["𝐊","K"],["𝐋","L"],["𝐌","M"],["𝐍","N"],["𝐎","O"],["𝐏","P"],["𝐐","Q"],["𝐑","R"],["𝐒","S"],["𝐓","T"],["𝐔","U"],["𝐕","V"],["𝐖","W"],["𝐗","X"],["𝐘","Y"],["𝐙","Z"],["𝐚","a"],["𝐛","b"],["𝐜","c"],["𝐝","d"],["𝐞","e"],["𝐟","f"],["𝐠","g"],["𝐡","h"],["𝐢","i"],["𝐣","j"],["𝐤","k"],["𝐥","l"],["𝐦","m"],["𝐧","n"],["𝐨","o"],["𝐩","p"],["𝐪","q"],["𝐫","r"],["𝐬","s"],["𝐭","t"],["𝐮","u"],["𝐯","v"],["𝐰","w"],["𝐱","x"],["𝐲","y"],["𝐳","z"],["𝐴","A"],["𝐵","B"],["𝐶","C"],["𝐷","D"],["𝐸","E"],["𝐹","F"],["𝐺","G"],["𝐻","H"],["𝐼","I"],["𝐽","J"],["𝐾","K"],["𝐿","L"],["𝑀","M"],["𝑁","N"],["𝑂","O"],["𝑃","P"],["𝑄","Q"],["𝑅","R"],["𝑆","S"],["𝑇","T"],["𝑈","U"],["𝑉","V"],["𝑊","W"],["𝑋","X"],["𝑌","Y"],["𝑍","Z"],["𝑎","a"],["𝑏","b"],["𝑐","c"],["𝑑","d"],["𝑒","e"],["𝑓","f"],["𝑔","g"],["𝑖","i"],["𝑗","j"],["𝑘","k"],["𝑙","l"],["𝑚","m"],["𝑛","n"],["𝑜","o"],["𝑝","p"],["𝑞","q"],["𝑟","r"],["𝑠","s"],["𝑡","t"],["𝑢","u"],["𝑣","v"],["𝑤","w"],["𝑥","x"],["𝑦","y"],["𝑧","z"],["𝑨","A"],["𝑩","B"],["𝑪","C"],["𝑫","D"],["𝑬","E"],["𝑭","F"],["𝑮","G"],["𝑯","H"],["𝑰","I"],["𝑱","J"],["𝑲","K"],["𝑳","L"],["𝑴","M"],["𝑵","N"],["𝑶","O"],["𝑷","P"],["𝑸","Q"],["𝑹","R"],["𝑺","S"],["𝑻","T"],["𝑼","U"],["𝑽","V"],["𝑾","W"],["𝑿","X"],["𝒀","Y"],["𝒁","Z"],["𝒂","a"],["𝒃","b"],["𝒄","c"],["𝒅","d"],["𝒆","e"],["𝒇","f"],["𝒈","g"],["𝒉","h"],["𝒊","i"],["𝒋","j"],["𝒌","k"],["𝒍","l"],["𝒎","m"],["𝒏","n"],["𝒐","o"],["𝒑","p"],["𝒒","q"],["𝒓","r"],["𝒔","s"],["𝒕","t"],["𝒖","u"],["𝒗","v"],["𝒘","w"],["𝒙","x"],["𝒚","y"],["𝒛","z"],["𝒜","A"],["𝒞","C"],["𝒟","D"],["𝒢","g"],["𝒥","J"],["𝒦","K"],["𝒩","N"],["𝒪","O"],["𝒫","P"],["𝒬","Q"],["𝒮","S"],["𝒯","T"],["𝒰","U"],["𝒱","V"],["𝒲","W"],["𝒳","X"],["𝒴","Y"],["𝒵","Z"],["𝒶","a"],["𝒷","b"],["𝒸","c"],["𝒹","d"],["𝒻","f"],["𝒽","h"],["𝒾","i"],["𝒿","j"],["𝓀","h"],["𝓁","l"],["𝓂","m"],["𝓃","n"],["𝓅","p"],["𝓆","q"],["𝓇","r"],["𝓈","s"],["𝓉","t"],["𝓊","u"],["𝓋","v"],["𝓌","w"],["𝓍","x"],["𝓎","y"],["𝓏","z"],["𝓐","A"],["𝓑","B"],["𝓒","C"],["𝓓","D"],["𝓔","E"],["𝓕","F"],["𝓖","G"],["𝓗","H"],["𝓘","I"],["𝓙","J"],["𝓚","K"],["𝓛","L"],["𝓜","M"],["𝓝","N"],["𝓞","O"],["𝓟","P"],["𝓠","Q"],["𝓡","R"],["𝓢","S"],["𝓣","T"],["𝓤","U"],["𝓥","V"],["𝓦","W"],["𝓧","X"],["𝓨","Y"],["𝓩","Z"],["𝓪","a"],["𝓫","b"],["𝓬","c"],["𝓭","d"],["𝓮","e"],["𝓯","f"],["𝓰","g"],["𝓱","h"],["𝓲","i"],["𝓳","j"],["𝓴","k"],["𝓵","l"],["𝓶","m"],["𝓷","n"],["𝓸","o"],["𝓹","p"],["𝓺","q"],["𝓻","r"],["𝓼","s"],["𝓽","t"],["𝓾","u"],["𝓿","v"],["𝔀","w"],["𝔁","x"],["𝔂","y"],["𝔃","z"],["𝔄","A"],["𝔅","B"],["𝔇","D"],["𝔈","E"],["𝔉","F"],["𝔊","G"],["𝔍","J"],["𝔎","K"],["𝔏","L"],["𝔐","M"],["𝔑","N"],["𝔒","O"],["𝔓","P"],["𝔔","Q"],["𝔖","S"],["𝔗","T"],["𝔘","U"],["𝔙","V"],["𝔚","W"],["𝔛","X"],["𝔜","Y"],["𝔞","a"],["𝔟","b"],["𝔠","c"],["𝔡","d"],["𝔢","e"],["𝔣","f"],["𝔤","g"],["𝔥","h"],["𝔦","i"],["𝔧","j"],["𝔨","k"],["𝔩","l"],["𝔪","m"],["𝔫","n"],["𝔬","o"],["𝔭","p"],["𝔮","q"],["𝔯","r"],["𝔰","s"],["𝔱","t"],["𝔲","u"],["𝔳","v"],["𝔴","w"],["𝔵","x"],["𝔶","y"],["𝔷","z"],["𝔸","A"],["𝔹","B"],["𝔻","D"],["𝔼","E"],["𝔽","F"],["𝔾","G"],["𝕀","I"],["𝕁","J"],["𝕂","K"],["𝕃","L"],["𝕄","M"],["𝕆","N"],["𝕊","S"],["𝕋","T"],["𝕌","U"],["𝕍","V"],["𝕎","W"],["𝕏","X"],["𝕐","Y"],["𝕒","a"],["𝕓","b"],["𝕔","c"],["𝕕","d"],["𝕖","e"],["𝕗","f"],["𝕘","g"],["𝕙","h"],["𝕚","i"],["𝕛","j"],["𝕜","k"],["𝕝","l"],["𝕞","m"],["𝕟","n"],["𝕠","o"],["𝕡","p"],["𝕢","q"],["𝕣","r"],["𝕤","s"],["𝕥","t"],["𝕦","u"],["𝕧","v"],["𝕨","w"],["𝕩","x"],["𝕪","y"],["𝕫","z"],["𝕬","A"],["𝕭","B"],["𝕮","C"],["𝕯","D"],["𝕰","E"],["𝕱","F"],["𝕲","G"],["𝕳","H"],["𝕴","I"],["𝕵","J"],["𝕶","K"],["𝕷","L"],["𝕸","M"],["𝕹","N"],["𝕺","O"],["𝕻","P"],["𝕼","Q"],["𝕽","R"],["𝕾","S"],["𝕿","T"],["𝖀","U"],["𝖁","V"],["𝖂","W"],["𝖃","X"],["𝖄","Y"],["𝖅","Z"],["𝖆","a"],["𝖇","b"],["𝖈","c"],["𝖉","d"],["𝖊","e"],["𝖋","f"],["𝖌","g"],["𝖍","h"],["𝖎","i"],["𝖏","j"],["𝖐","k"],["𝖑","l"],["𝖒","m"],["𝖓","n"],["𝖔","o"],["𝖕","p"],["𝖖","q"],["𝖗","r"],["𝖘","s"],["𝖙","t"],["𝖚","u"],["𝖛","v"],["𝖜","w"],["𝖝","x"],["𝖞","y"],["𝖟","z"],["𝖠","A"],["𝖡","B"],["𝖢","C"],["𝖣","D"],["𝖤","E"],["𝖥","F"],["𝖦","G"],["𝖧","H"],["𝖨","I"],["𝖩","J"],["𝖪","K"],["𝖫","L"],["𝖬","M"],["𝖭","N"],["𝖮","O"],["𝖯","P"],["𝖰","Q"],["𝖱","R"],["𝖲","S"],["𝖳","T"],["𝖴","U"],["𝖵","V"],["𝖶","W"],["𝖷","X"],["𝖸","Y"],["𝖹","Z"],["𝖺","a"],["𝖻","b"],["𝖼","c"],["𝖽","d"],["𝖾","e"],["𝖿","f"],["𝗀","g"],["𝗁","h"],["𝗂","i"],["𝗃","j"],["𝗄","k"],["𝗅","l"],["𝗆","m"],["𝗇","n"],["𝗈","o"],["𝗉","p"],["𝗊","q"],["𝗋","r"],["𝗌","s"],["𝗍","t"],["𝗎","u"],["𝗏","v"],["𝗐","w"],["𝗑","x"],["𝗒","y"],["𝗓","z"],["𝗔","A"],["𝗕","B"],["𝗖","C"],["𝗗","D"],["𝗘","E"],["𝗙","F"],["𝗚","G"],["𝗛","H"],["𝗜","I"],["𝗝","J"],["𝗞","K"],["𝗟","L"],["𝗠","M"],["𝗡","N"],["𝗢","O"],["𝗣","P"],["𝗤","Q"],["𝗥","R"],["𝗦","S"],["𝗧","T"],["𝗨","U"],["𝗩","V"],["𝗪","W"],["𝗫","X"],["𝗬","Y"],["𝗭","Z"],["𝗮","a"],["𝗯","b"],["𝗰","c"],["𝗱","d"],["𝗲","e"],["𝗳","f"],["𝗴","g"],["𝗵","h"],["𝗶","i"],["𝗷","j"],["𝗸","k"],["𝗹","l"],["𝗺","m"],["𝗻","n"],["𝗼","o"],["𝗽","p"],["𝗾","q"],["𝗿","r"],["𝘀","s"],["𝘁","t"],["𝘂","u"],["𝘃","v"],["𝘄","w"],["𝘅","x"],["𝘆","y"],["𝘇","z"],["𝘈","A"],["𝘉","B"],["𝘊","C"],["𝘋","D"],["𝘌","E"],["𝘍","F"],["𝘎","G"],["𝘏","H"],["𝘐","I"],["𝘑","J"],["𝘒","K"],["𝘓","L"],["𝘔","M"],["𝘕","N"],["𝘖","O"],["𝘗","P"],["𝘘","Q"],["𝘙","R"],["𝘚","S"],["𝘛","T"],["𝘜","U"],["𝘝","V"],["𝘞","W"],["𝘟","X"],["𝘠","Y"],["𝘡","Z"],["𝘢","a"],["𝘣","b"],["𝘤","c"],["𝘥","d"],["𝘦","e"],["𝘧","f"],["𝘨","g"],["𝘩","h"],["𝘪","i"],["𝘫","j"],["𝘬","k"],["𝘭","l"],["𝘮","m"],["𝘯","n"],["𝘰","o"],["𝘱","p"],["𝘲","q"],["𝘳","r"],["𝘴","s"],["𝘵","t"],["𝘶","u"],["𝘷","v"],["𝘸","w"],["𝘹","x"],["𝘺","y"],["𝘻","z"],["𝘼","A"],["𝘽","B"],["𝘾","C"],["𝘿","D"],["𝙀","E"],["𝙁","F"],["𝙂","G"],["𝙃","H"],["𝙄","I"],["𝙅","J"],["𝙆","K"],["𝙇","L"],["𝙈","M"],["𝙉","N"],["𝙊","O"],["𝙋","P"],["𝙌","Q"],["𝙍","R"],["𝙎","S"],["𝙏","T"],["𝙐","U"],["𝙑","V"],["𝙒","W"],["𝙓","X"],["𝙔","Y"],["𝙕","Z"],["𝙖","a"],["𝙗","b"],["𝙘","c"],["𝙙","d"],["𝙚","e"],["𝙛","f"],["𝙜","g"],["𝙝","h"],["𝙞","i"],["𝙟","j"],["𝙠","k"],["𝙡","l"],["𝙢","m"],["𝙣","n"],["𝙤","o"],["𝙥","p"],["𝙦","q"],["𝙧","r"],["𝙨","s"],["𝙩","t"],["𝙪","u"],["𝙫","v"],["𝙬","w"],["𝙭","x"],["𝙮","y"],["𝙯","z"],["𝙰","A"],["𝙱","B"],["𝙲","C"],["𝙳","D"],["𝙴","E"],["𝙵","F"],["𝙶","G"],["𝙷","H"],["𝙸","I"],["𝙹","J"],["𝙺","K"],["𝙻","L"],["𝙼","M"],["𝙽","N"],["𝙾","O"],["𝙿","P"],["𝚀","Q"],["𝚁","R"],["𝚂","S"],["𝚃","T"],["𝚄","U"],["𝚅","V"],["𝚆","W"],["𝚇","X"],["𝚈","Y"],["𝚉","Z"],["𝚊","a"],["𝚋","b"],["𝚌","c"],["𝚍","d"],["𝚎","e"],["𝚏","f"],["𝚐","g"],["𝚑","h"],["𝚒","i"],["𝚓","j"],["𝚔","k"],["𝚕","l"],["𝚖","m"],["𝚗","n"],["𝚘","o"],["𝚙","p"],["𝚚","q"],["𝚛","r"],["𝚜","s"],["𝚝","t"],["𝚞","u"],["𝚟","v"],["𝚠","w"],["𝚡","x"],["𝚢","y"],["𝚣","z"],["𝚤","l"],["𝚥","j"],["𝛢","A"],["𝛣","B"],["𝛤","G"],["𝛥","D"],["𝛦","E"],["𝛧","Z"],["𝛨","I"],["𝛩","TH"],["𝛪","I"],["𝛫","K"],["𝛬","L"],["𝛭","M"],["𝛮","N"],["𝛯","KS"],["𝛰","O"],["𝛱","P"],["𝛲","R"],["𝛳","TH"],["𝛴","S"],["𝛵","T"],["𝛶","Y"],["𝛷","F"],["𝛸","x"],["𝛹","PS"],["𝛺","O"],["𝛻","D"],["𝛼","a"],["𝛽","b"],["𝛾","g"],["𝛿","d"],["𝜀","e"],["𝜁","z"],["𝜂","i"],["𝜃","th"],["𝜄","i"],["𝜅","k"],["𝜆","l"],["𝜇","m"],["𝜈","n"],["𝜉","ks"],["𝜊","o"],["𝜋","p"],["𝜌","r"],["𝜍","s"],["𝜎","s"],["𝜏","t"],["𝜐","y"],["𝜑","f"],["𝜒","x"],["𝜓","ps"],["𝜔","o"],["𝜕","d"],["𝜖","E"],["𝜗","TH"],["𝜘","K"],["𝜙","f"],["𝜚","r"],["𝜛","p"],["𝜜","A"],["𝜝","V"],["𝜞","G"],["𝜟","D"],["𝜠","E"],["𝜡","Z"],["𝜢","I"],["𝜣","TH"],["𝜤","I"],["𝜥","K"],["𝜦","L"],["𝜧","M"],["𝜨","N"],["𝜩","KS"],["𝜪","O"],["𝜫","P"],["𝜬","S"],["𝜭","TH"],["𝜮","S"],["𝜯","T"],["𝜰","Y"],["𝜱","F"],["𝜲","X"],["𝜳","PS"],["𝜴","O"],["𝜵","D"],["𝜶","a"],["𝜷","v"],["𝜸","g"],["𝜹","d"],["𝜺","e"],["𝜻","z"],["𝜼","i"],["𝜽","th"],["𝜾","i"],["𝜿","k"],["𝝀","l"],["𝝁","m"],["𝝂","n"],["𝝃","ks"],["𝝄","o"],["𝝅","p"],["𝝆","r"],["𝝇","s"],["𝝈","s"],["𝝉","t"],["𝝊","y"],["𝝋","f"],["𝝌","x"],["𝝍","ps"],["𝝎","o"],["𝝏","a"],["𝝐","e"],["𝝑","i"],["𝝒","k"],["𝝓","f"],["𝝔","r"],["𝝕","p"],["𝝖","A"],["𝝗","B"],["𝝘","G"],["𝝙","D"],["𝝚","E"],["𝝛","Z"],["𝝜","I"],["𝝝","TH"],["𝝞","I"],["𝝟","K"],["𝝠","L"],["𝝡","M"],["𝝢","N"],["𝝣","KS"],["𝝤","O"],["𝝥","P"],["𝝦","R"],["𝝧","TH"],["𝝨","S"],["𝝩","T"],["𝝪","Y"],["𝝫","F"],["𝝬","X"],["𝝭","PS"],["𝝮","O"],["𝝯","D"],["𝝰","a"],["𝝱","v"],["𝝲","g"],["𝝳","d"],["𝝴","e"],["𝝵","z"],["𝝶","i"],["𝝷","th"],["𝝸","i"],["𝝹","k"],["𝝺","l"],["𝝻","m"],["𝝼","n"],["𝝽","ks"],["𝝾","o"],["𝝿","p"],["𝞀","r"],["𝞁","s"],["𝞂","s"],["𝞃","t"],["𝞄","y"],["𝞅","f"],["𝞆","x"],["𝞇","ps"],["𝞈","o"],["𝞉","a"],["𝞊","e"],["𝞋","i"],["𝞌","k"],["𝞍","f"],["𝞎","r"],["𝞏","p"],["𝞐","A"],["𝞑","V"],["𝞒","G"],["𝞓","D"],["𝞔","E"],["𝞕","Z"],["𝞖","I"],["𝞗","TH"],["𝞘","I"],["𝞙","K"],["𝞚","L"],["𝞛","M"],["𝞜","N"],["𝞝","KS"],["𝞞","O"],["𝞟","P"],["𝞠","S"],["𝞡","TH"],["𝞢","S"],["𝞣","T"],["𝞤","Y"],["𝞥","F"],["𝞦","X"],["𝞧","PS"],["𝞨","O"],["𝞩","D"],["𝞪","av"],["𝞫","g"],["𝞬","d"],["𝞭","e"],["𝞮","z"],["𝞯","i"],["𝞰","i"],["𝞱","th"],["𝞲","i"],["𝞳","k"],["𝞴","l"],["𝞵","m"],["𝞶","n"],["𝞷","ks"],["𝞸","o"],["𝞹","p"],["𝞺","r"],["𝞻","s"],["𝞼","s"],["𝞽","t"],["𝞾","y"],["𝞿","f"],["𝟀","x"],["𝟁","ps"],["𝟂","o"],["𝟃","a"],["𝟄","e"],["𝟅","i"],["𝟆","k"],["𝟇","f"],["𝟈","r"],["𝟉","p"],["𝟊","F"],["𝟋","f"],["⒜","(a)"],["⒝","(b)"],["⒞","(c)"],["⒟","(d)"],["⒠","(e)"],["⒡","(f)"],["⒢","(g)"],["⒣","(h)"],["⒤","(i)"],["⒥","(j)"],["⒦","(k)"],["⒧","(l)"],["⒨","(m)"],["⒩","(n)"],["⒪","(o)"],["⒫","(p)"],["⒬","(q)"],["⒭","(r)"],["⒮","(s)"],["⒯","(t)"],["⒰","(u)"],["⒱","(v)"],["⒲","(w)"],["⒳","(x)"],["⒴","(y)"],["⒵","(z)"],["Ⓐ","(A)"],["Ⓑ","(B)"],["Ⓒ","(C)"],["Ⓓ","(D)"],["Ⓔ","(E)"],["Ⓕ","(F)"],["Ⓖ","(G)"],["Ⓗ","(H)"],["Ⓘ","(I)"],["Ⓙ","(J)"],["Ⓚ","(K)"],["Ⓛ","(L)"],["Ⓝ","(N)"],["Ⓞ","(O)"],["Ⓟ","(P)"],["Ⓠ","(Q)"],["Ⓡ","(R)"],["Ⓢ","(S)"],["Ⓣ","(T)"],["Ⓤ","(U)"],["Ⓥ","(V)"],["Ⓦ","(W)"],["Ⓧ","(X)"],["Ⓨ","(Y)"],["Ⓩ","(Z)"],["ⓐ","(a)"],["ⓑ","(b)"],["ⓒ","(b)"],["ⓓ","(c)"],["ⓔ","(e)"],["ⓕ","(f)"],["ⓖ","(g)"],["ⓗ","(h)"],["ⓘ","(i)"],["ⓙ","(j)"],["ⓚ","(k)"],["ⓛ","(l)"],["ⓜ","(m)"],["ⓝ","(n)"],["ⓞ","(o)"],["ⓟ","(p)"],["ⓠ","(q)"],["ⓡ","(r)"],["ⓢ","(s)"],["ⓣ","(t)"],["ⓤ","(u)"],["ⓥ","(v)"],["ⓦ","(w)"],["ⓧ","(x)"],["ⓨ","(y)"],["ⓩ","(z)"],["Ċ","C"],["ċ","c"],["Ġ","G"],["ġ","g"],["Ħ","H"],["ħ","h"],["Ż","Z"],["ż","z"],["𝟎","0"],["𝟏","1"],["𝟐","2"],["𝟑","3"],["𝟒","4"],["𝟓","5"],["𝟔","6"],["𝟕","7"],["𝟖","8"],["𝟗","9"],["𝟘","0"],["𝟙","1"],["𝟚","2"],["𝟛","3"],["𝟜","4"],["𝟝","5"],["𝟞","6"],["𝟟","7"],["𝟠","8"],["𝟡","9"],["𝟢","0"],["𝟣","1"],["𝟤","2"],["𝟥","3"],["𝟦","4"],["𝟧","5"],["𝟨","6"],["𝟩","7"],["𝟪","8"],["𝟫","9"],["𝟬","0"],["𝟭","1"],["𝟮","2"],["𝟯","3"],["𝟰","4"],["𝟱","5"],["𝟲","6"],["𝟳","7"],["𝟴","8"],["𝟵","9"],["𝟶","0"],["𝟷","1"],["𝟸","2"],["𝟹","3"],["𝟺","4"],["𝟻","5"],["𝟼","6"],["𝟽","7"],["𝟾","8"],["𝟿","9"],["①","1"],["②","2"],["③","3"],["④","4"],["⑤","5"],["⑥","6"],["⑦","7"],["⑧","8"],["⑨","9"],["⑩","10"],["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"],["⑴","1"],["⑵","2"],["⑶","3"],["⑷","4"],["⑸","5"],["⑹","6"],["⑺","7"],["⑻","8"],["⑼","9"],["⑽","10"],["⑾","11"],["⑿","12"],["⒀","13"],["⒁","14"],["⒂","15"],["⒃","16"],["⒄","17"],["⒅","18"],["⒆","19"],["⒇","20"],["⒈","1."],["⒉","2."],["⒊","3."],["⒋","4."],["⒌","5."],["⒍","6."],["⒎","7."],["⒏","8."],["⒐","9."],["⒑","10."],["⒒","11."],["⒓","12."],["⒔","13."],["⒕","14."],["⒖","15."],["⒗","16."],["⒘","17."],["⒙","18."],["⒚","19."],["⒛","20."],["⓪","0"],["⓫","11"],["⓬","12"],["⓭","13"],["⓮","14"],["⓯","15"],["⓰","16"],["⓱","17"],["⓲","18"],["⓳","19"],["⓴","20"],["⓵","1"],["⓶","2"],["⓷","3"],["⓸","4"],["⓹","5"],["⓺","6"],["⓻","7"],["⓼","8"],["⓽","9"],["⓾","10"],["⓿","0"],["🙰","&"],["🙱","&"],["🙲","&"],["🙳","&"],["🙴","&"],["🙵","&"],["🙶",'"'],["🙷",'"'],["🙸",'"'],["‽","?!"],["🙹","?!"],["🙺","?!"],["🙻","?!"],["🙼","/"],["🙽","\\"],["🜇","AR"],["🜈","V"],["🜉","V"],["🜆","VR"],["🜅","VF"],["🜩","2"],["🜪","5"],["🝡","f"],["🝢","W"],["🝣","U"],["🝧","V"],["🝨","T"],["🝪","V"],["🝫","MB"],["🝬","VB"],["🝲","3B"],["🝳","3B"],["💯","100"],["🔙","BACK"],["🔚","END"],["🔛","ON!"],["🔜","SOON"],["🔝","TOP"],["🔞","18"],["🔤","abc"],["🔠","ABCD"],["🔡","abcd"],["🔢","1234"],["🔣","T&@%"],["#️⃣","#"],["*️⃣","*"],["0️⃣","0"],["1️⃣","1"],["2️⃣","2"],["3️⃣","3"],["4️⃣","4"],["5️⃣","5"],["6️⃣","6"],["7️⃣","7"],["8️⃣","8"],["9️⃣","9"],["🔟","10"],["🅰️","A"],["🅱️","B"],["🆎","AB"],["🆑","CL"],["🅾️","O"],["🅿","P"],["🆘","SOS"],["🅲","C"],["🅳","D"],["🅴","E"],["🅵","F"],["🅶","G"],["🅷","H"],["🅸","I"],["🅹","J"],["🅺","K"],["🅻","L"],["🅼","M"],["🅽","N"],["🆀","Q"],["🆁","R"],["🆂","S"],["🆃","T"],["🆄","U"],["🆅","V"],["🆆","W"],["🆇","X"],["🆈","Y"],["🆉","Z"]],sJ=(t,e)=>{for(const[n,r]of e)t=t.replace(new RegExp(iJ(n),"g"),r);return t};function aJ(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={customReplacements:[],...e};const n=new Map([...oJ,...e.customReplacements]);return t=t.normalize(),t=sJ(t,n),t=t.normalize("NFD").replace(/\p{Diacritic}/gu,"").normalize(),t}const lJ=[["&"," and "],["🦄"," unicorn "],["♥"," love "]],cJ=t=>t.replace(/([A-Z]{2,})(\d+)/g,"$1 $2").replace(/([a-z\d]+)([A-Z]{2,})/g,"$1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z\d]+)/g,"$1 $2"),uJ=(t,e)=>{const n=fA(e);return t.replace(new RegExp(`${n}{2,}`,"g"),e).replace(new RegExp(`^${n}|${n}$`,"g"),"")},dJ=t=>{let e="a-z\\d";if(e+=t.lowercase?"":"A-Z",t.preserveCharacters.length>0)for(const n of t.preserveCharacters){if(n===t.separator)throw new Error(`The separator character \`${t.separator}\` cannot be included in preserved characters: ${t.preserveCharacters}`);e+=fA(n)}return new RegExp(`[^${e}]+`,"g")};function fJ(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={separator:"-",lowercase:!0,decamelize:!0,customReplacements:[],preserveLeadingUnderscore:!1,preserveTrailingDash:!1,preserveCharacters:[],...e};const n=e.preserveLeadingUnderscore&&t.startsWith("_"),r=e.preserveTrailingDash&&t.endsWith("-"),i=new Map([...lJ,...e.customReplacements]);t=aJ(t,{customReplacements:i}),e.decamelize&&(t=cJ(t));const o=dJ(e);return e.lowercase&&(t=t.toLowerCase()),t=t.replace(/([a-zA-Z\d]+)'([ts])(\s|$)/g,"$1$2$3"),t=t.replace(o,e.separator),t=t.replace(/\\/g,""),e.separator&&(t=uJ(t,e.separator)),n&&(t=`_${t}`),r&&(t=`${t}-`),t}function hJ(t,e){return function(n,r){let{$from:i,$to:o,node:s}=n.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let d=W.empty,f=i.index(-1)?1:i.index(-2)?2:3;for(let v=i.depth-f;v>=i.depth-3;v--)d=W.from(i.node(v).copy(d));let h=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(W.from(t.createAndFill()));let p=i.before(i.depth-(f-1)),g=n.tr.replace(p,i.after(-h),new X(d,4-f,0)),x=-1;g.doc.nodesBetween(p,g.doc.content.size,(v,w)=>{if(x>-1)return!1;v.isTextblock&&v.content.size==0&&(x=w+1)}),x>-1&&g.setSelection(Ne.near(g.doc.resolve(x))),r(g.scrollIntoView())}return!0}let l=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,c=n.tr.delete(i.pos,o.pos),u=l?[e?{type:t,attrs:e}:null,{type:l}]:void 0;return Bc(c.doc,i.pos,2,u)?(r&&r(c.split(i.pos,2,u).scrollIntoView()),!0):!1}}function hA(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?pJ(e,n,t,o):mJ(e,n,o):!0:!1}}function pJ(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ut(o-1,s,o,s,new X(W.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new iM(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Hp(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Kp(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function mJ(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?W.empty:W.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Ut(d-(a?1:0),f+(l?1:0),d+1,f-1,new X((a?W.empty:W.from(i.copy(W.empty))).append(l?W.empty:W.from(i.copy(W.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function gJ(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=W.from(c?t.create():null),d=new X(W.from(t.create(null,W.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Ut(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function yJ(t){const e=new Map;if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Tl(t,"definition",function(r){const i=IC(r.identifier);i&&!e.get(i)&&e.set(i,r)}),n;function n(r){const i=IC(r);return e.get(i)}}function IC(t){return String(t||"").toUpperCase()}function vJ(){return function(t){const e=yJ(t);Tl(t,function(n,r,i){if(n.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[gv,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i&&typeof r=="number")return i.children[r]=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children},[gv,r]}})}}function pA(t,e){var n;if(!(e.childCount>=1&&((n=e.lastChild)==null?void 0:n.type.name)==="hardbreak")){t.next(e.content);return}const r=[];e.content.forEach((i,o,s)=>{s!==e.childCount-1&&r.push(i)}),t.next(W.fromArray(r))}function $(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-commonmark",...e}}),t}const ix=em("emphasis");$(ix,{displayName:"Attr<emphasis>",group:"Emphasis"});const Nl=Zp("emphasis",t=>({attrs:{marker:{default:t.get(Hc).emphasis||"*"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",t.get(ix.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,n)=>{e.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));$(Nl.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});$(Nl.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const ox=nt("ToggleEmphasis",t=>()=>q0(Nl.type(t)));$(ox,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const mA=vr(t=>qp(/(?:^|[^*])\*([^*]+)\*$/,Nl.type(t),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:n+1}}));$(mA,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const gA=vr(t=>qp(/(?:^|[^_])_([^_]+)_$/,Nl.type(t),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:n+1}}));$(gA,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const sx=qn("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:t=>{const e=t.get($e);return()=>e.call(ox.key)}}});$(sx.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});$(sx.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const ax=em("strong");$(ax,{displayName:"Attr<strong>",group:"Strong"});const ed=Zp("strong",t=>({attrs:{marker:{default:t.get(Hc).strong||"*"}},parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",t.get(ax.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,n)=>{e.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));$(ed.mark,{displayName:"MarkSchema<strong>",group:"Strong"});$(ed.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const lx=nt("ToggleStrong",t=>()=>q0(ed.type(t)));$(lx,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const yA=vr(t=>qp(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,ed.type(t),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));$(yA,{displayName:"InputRule<strong>",group:"Strong"});const cx=qn("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:t=>{const e=t.get($e);return()=>e.call(lx.key)}}});$(cx.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});$(cx.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const ux=em("inlineCode");$(ux,{displayName:"Attr<inlineCode>",group:"InlineCode"});const uo=Zp("inlineCode",t=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",t.get(ux.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}));$(uo.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});$(uo.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const dx=nt("ToggleInlineCode",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:s}=r;return e.doc.rangeHasMark(o,s,uo.type(t))?(n==null||n(i.removeMark(o,s,uo.type(t))),!0):(Object.keys(e.schema.marks).filter(a=>a!==uo.type.name).map(a=>e.schema.marks[a]).forEach(a=>{i.removeMark(o,s,a)}),n==null||n(i.addMark(o,s,uo.type(t).create())),!0)});$(dx,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const vA=vr(t=>qp(/(?:\`)([^\`]+)(?:\`)$/,uo.type(t)));$(vA,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const fx=qn("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:t=>{const e=t.get($e);return()=>e.call(dx.key)}}});$(fx.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});$(fx.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const hx=em("link");$(hx,{displayName:"Attr<link>",group:"Link"});const qa=Zp("link",t=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...t.get(hx.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,n,r)=>{const i=n.url,o=n.title;e.openMark(r,{href:i,title:o}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,n)=>{e.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));$(qa.mark,{displayName:"MarkSchema<link>",group:"Link"});const wA=nt("ToggleLink",t=>(e={})=>q0(qa.type(t),e));$(wA,{displayName:"Command<toggleLinkCommand>",group:"Link"});const xA=nt("UpdateLink",t=>(e={})=>(n,r)=>{if(!r)return!1;let i,o=-1;const{selection:s}=n,{from:a,to:l}=s;if(n.doc.nodesBetween(a,a===l?l+1:l,(p,g)=>{if(qa.type(t).isInSet(p.marks))return i=p,o=g,!1}),!i)return!1;const c=i.marks.find(({type:p})=>p===qa.type(t));if(!c)return!1;const u=o,d=o+i.nodeSize,{tr:f}=n,h=qa.type(t).create({...c.attrs,...e});return h?(r(f.removeMark(u,d,c).addMark(u,d,h).setSelection(new Oe(f.selection.$anchor)).scrollIntoView()),!0):!1});$(xA,{displayName:"Command<updateLinkCommand>",group:"Link"});const SA=rx("doc",()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}}));$(SA,{displayName:"NodeSchema<doc>",group:"Doc"});const px=xr("paragraph");$(px,{displayName:"Attr<paragraph>",group:"Paragraph"});const Ws=wr("paragraph",t=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",t.get(px.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{e.openNode("paragraph"),pA(e,n),e.closeNode()}}}));$(Ws.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});$(Ws.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const mx=nt("TurnIntoText",t=>()=>Eu(Ws.type(t)));$(mx,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const gx=qn("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:t=>{const e=t.get($e);return()=>e.call(mx.key)}}});$(gx.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});$(gx.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const wJ=Array(6).fill(0).map((t,e)=>e+1);function xJ(t){return fJ(t.textContent)}const tm=_i(xJ,"headingIdGenerator");$(tm,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const yx=xr("heading");$(yx,{displayName:"Attr<heading>",group:"Heading"});const Hs=wr("heading",t=>{const e=t.get(tm.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:wJ.map(n=>({tag:`h${n}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Us(r);return{level:n,id:r.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...t.get(yx.key)(n),id:n.attrs.id||e(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,r,i)=>{const o=r.depth;n.openNode(i,{level:o}),n.next(r.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,r)=>{n.openNode("heading",void 0,{depth:r.attrs.level}),pA(n,r),n.closeNode()}}}});$(Hs.node,{displayName:"NodeSchema<heading>",group:"Heading"});$(Hs.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const kA=vr(t=>lP(/^(?<hashes>#+)\s$/,Hs.type(t),e=>{var n,r;const i=((r=(n=e.groups)==null?void 0:n.hashes)==null?void 0:r.length)||0,o=t.get(Wc),{$from:s}=o.state.selection,a=s.node();if(a.type.name==="heading"){let l=Number(a.attrs.level)+Number(i);return l>6&&(l=6),{level:l}}return{level:i}}));$(kA,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Yi=nt("WrapInHeading",t=>e=>(e??(e=1),e<1?Eu(Ws.type(t)):Eu(Hs.type(t),{level:e})));$(Yi,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const vx=nt("DowngradeHeading",t=>()=>(e,n,r)=>{const{$from:i}=e.selection,o=i.node();if(o.type!==Hs.type(t)||!e.selection.empty||i.parentOffset!==0)return!1;const s=o.attrs.level-1;return s?(n==null||n(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...o.attrs,level:s})),!0):Eu(Ws.type(t))(e,n,r)});$(vx,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const wx=qn("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:t=>{const e=t.get($e);return()=>e.call(vx.key)}}});$(wx.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});$(wx.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const xx=xr("blockquote");$(xx,{displayName:"Attr<blockquote>",group:"Blockquote"});const td=wr("blockquote",t=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",t.get(xx.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}));$(td.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});$(td.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const bA=vr(t=>V0(/^\s*>\s$/,td.type(t)));$(bA,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const Sx=nt("WrapInBlockquote",t=>()=>G0(td.type(t)));$(Sx,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const kx=qn("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:t=>{const e=t.get($e);return()=>e.call(Sx.key)}}});$(kx.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});$(kx.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const bx=xr("codeBlock",()=>({pre:{},code:{}}));$(bx,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const nd=wr("code_block",t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{language:e.dataset.language}}}],toDOM:e=>{const n=t.get(bx.key)(e);return["pre",{...n.pre,"data-language":e.attrs.language},["code",n.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,n,r)=>{const i=n.lang,o=n.value;e.openNode(r,{language:i}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,n)=>{var r;e.addNode("code",void 0,((r=n.content.firstChild)==null?void 0:r.text)||"",{lang:n.attrs.language})}}}));$(nd.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});$(nd.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const CA=vr(t=>lP(/^```(?<language>[a-z]*)?[\s\n]$/,nd.type(t),e=>{var n;return{language:((n=e.groups)==null?void 0:n.language)??""}}));$(CA,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const Cx=nt("CreateCodeBlock",t=>(e="")=>Eu(nd.type(t),{language:e}));$(Cx,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const SJ=nt("UpdateCodeBlockLanguage",()=>({pos:t,language:e}={pos:-1,language:""})=>(n,r)=>t>=0?(r==null||r(n.tr.setNodeAttribute(t,"language",e)),!0):!1);$(SJ,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const Ex=qn("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:t=>{const e=t.get($e);return()=>e.call(Cx.key)}}});$(Ex.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});$(Ex.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const Tx=xr("image");$(Tx,{displayName:"Attr<image>",group:"Image"});const Rl=wr("image",t=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...t.get(Tx.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,n,r)=>{const i=n.url,o=n.alt,s=n.title;e.addNode(r,{src:i,alt:o,title:s})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,n)=>{e.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));$(Rl.node,{displayName:"NodeSchema<image>",group:"Image"});$(Rl.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const EA=nt("InsertImage",t=>(e={})=>(n,r)=>{if(!r)return!0;const{src:i="",alt:o="",title:s=""}=e,a=Rl.type(t).create({src:i,alt:o,title:s});return a&&r(n.tr.replaceSelectionWith(a).scrollIntoView()),!0});$(EA,{displayName:"Command<insertImageCommand>",group:"Image"});const TA=nt("UpdateImage",t=>(e={})=>(n,r)=>{const i=g7(n.selection,Rl.type(t));if(!i)return!1;const{node:o,pos:s}=i,a={...o.attrs},{src:l,alt:c,title:u}=e;return l!==void 0&&(a.src=l),c!==void 0&&(a.alt=c),u!==void 0&&(a.title=u),r==null||r(n.tr.setNodeMarkup(s,void 0,a).scrollIntoView()),!0});$(TA,{displayName:"Command<updateImageCommand>",group:"Image"});const kJ=vr(t=>new yr(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,n,r,i)=>{const[o,s,a="",l]=n;return o?e.tr.replaceWith(r,i,Rl.type(t).create({src:a,alt:s,title:l})):null}));$(kJ,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const Jh=xr("hardbreak",t=>({"data-type":"hardbreak","data-is-inline":t.attrs.isInline}));$(Jh,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const ks=wr("hardbreak",t=>({inline:!0,group:"inline",attrs:{isInline:{default:!1}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",t.get(Jh.key)(e)," "]:["br",t.get(Jh.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,n,r)=>{var i;e.addNode(r,{isInline:!!((i=n.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,n)=>{n.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));$(ks.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});$(ks.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const Ix=nt("InsertHardbreak",t=>()=>(e,n)=>{var r;const{selection:i,tr:o}=e;if(!(i instanceof Oe))return!1;if(i.empty){const s=i.$from.node();if(s.childCount>0&&((r=s.lastChild)==null?void 0:r.type.name)==="hardbreak")return n==null||n(o.replaceRangeWith(i.to-1,i.to,e.schema.node("paragraph")).setSelection(Ne.near(o.doc.resolve(i.to))).scrollIntoView()),!0}return n==null||n(o.setMeta("hardbreak",!0).replaceSelectionWith(ks.type(t).create()).scrollIntoView()),!0});$(Ix,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const Nx=qn("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:t=>{const e=t.get($e);return()=>e.call(Ix.key)}}});$(Nx.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});$(Nx.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const Rx=xr("hr");$(Rx,{displayName:"Attr<hr>",group:"Hr"});const rd=wr("hr",t=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",t.get(Rx.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));$(rd.node,{displayName:"NodeSchema<hr>",group:"Hr"});$(rd.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const IA=vr(t=>new yr(/^(?:---|___\s|\*\*\*\s)$/,(e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,rd.type(t).create()),o}));$(IA,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const NA=nt("InsertHr",t=>()=>(e,n)=>{if(!n)return!0;const r=Ws.node.type(t).create(),{tr:i,selection:o}=e,{from:s}=o,a=rd.type(t).create();if(!a)return!0;const l=i.replaceSelectionWith(a).insert(s,r),c=Ne.findFrom(l.doc.resolve(s),1,!0);return c&&n(l.setSelection(c).scrollIntoView()),!0});$(NA,{displayName:"Command<insertHrCommand>",group:"Hr"});const _x=xr("bulletList");$(_x,{displayName:"Attr<bulletList>",group:"BulletList"});const _l=wr("bullet_list",t=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{spread:e.dataset.spread}}}],toDOM:e=>["ul",{...t.get(_x.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"false";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread==="true"}).next(n.content).closeNode()}}}));$(_l.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});$(_l.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const RA=vr(t=>V0(/^\s*([-+*])\s$/,_l.type(t)));$(RA,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const Mx=nt("WrapInBulletList",t=>()=>G0(_l.type(t)));$(Mx,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const Px=qn("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:t=>{const e=t.get($e);return()=>e.call(Mx.key)}}});$(Px.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});$(Px.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const Ax=xr("orderedList");$(Ax,{displayName:"Attr<orderedList>",group:"OrderedList"});const Ml=wr("ordered_list",t=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...t.get(Ax.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));$(Ml.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});$(Ml.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const _A=vr(t=>V0(/^\s*(\d+)\.\s$/,Ml.type(t),e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])));$(_A,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const Ox=nt("WrapInOrderedList",t=>()=>G0(Ml.type(t)));$(Ox,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const Dx=qn("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:t=>{const e=t.get($e);return()=>e.call(Ox.key)}}});$(Dx.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});$(Dx.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const Lx=xr("listItem");$(Lx,{displayName:"Attr<listItem>",group:"ListItem"});const Ei=wr("list_item",t=>({group:"listItem",content:"(paragraph|blockquote) block*",attrs:{label:{default:"•"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread}}}],toDOM:e=>["li",{...t.get(Lx.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"•",o=n.label!=null?"ordered":"bullet",s=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:s}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));$(Ei.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});$(Ei.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const jx=nt("SinkListItem",t=>()=>gJ(Ei.type(t)));$(jx,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const Fx=nt("LiftListItem",t=>()=>hA(Ei.type(t)));$(Fx,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const zx=nt("SplitListItem",t=>()=>hJ(Ei.type(t)));$(zx,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function bJ(t){return(e,n,r)=>{const{selection:i}=e;if(!(i instanceof Oe))return!1;const{empty:o,$from:s}=i;if(!o||s.parentOffset!==0)return!1;const a=s.node(-1);return a.type!==Ei.type(t)||a.firstChild!==s.node()||s.node(-2).childCount>1?!1:hA(Ei.type(t))(e,n,r)}}const $x=nt("LiftFirstListItem",t=>()=>bJ(t));$($x,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const Bx=qn("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:t=>{const e=t.get($e);return()=>e.call(zx.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:t=>{const e=t.get($e);return()=>e.call(jx.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:t=>{const e=t.get($e);return()=>e.call(Fx.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:t=>{const e=t.get($e);return()=>e.call($x.key)}}});$(Bx.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});$(Bx.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const MA=rx("text",()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}}));$(MA,{displayName:"NodeSchema<text>",group:"Text"});const Ux=xr("html");$(Ux,{displayName:"Attr<html>",group:"Html"});const Vx=wr("html",t=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:""}},toDOM:e=>{const n=document.createElement("span"),r={...t.get(Ux.key)(e),"data-value":e.attrs.value,"data-type":"html"};return n.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,n,r)=>{e.addNode(r,{value:n.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,n)=>{e.addNode("html",void 0,n.attrs.value)}}}));$(Vx.node,{displayName:"NodeSchema<html>",group:"Html"});$(Vx.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const CJ=[SA,px,Ws,tm,yx,Hs,Jh,ks,xx,td,bx,nd,Rx,rd,Tx,Rl,_x,_l,Ax,Ml,Lx,Ei,ix,Nl,ax,ed,ux,uo,hx,qa,Ux,Vx,MA].flat(),EJ=[bA,RA,_A,CA,IA,kA].flat(),TJ=[mA,gA,vA,yA],IJ=[mx,Sx,Yi,vx,Cx,Ix,NA,EA,TA,Ox,Mx,jx,zx,Fx,$x,ox,dx,lx,wA,xA],NJ=[kx,Ex,Nx,wx,Bx,Dx,Px,gx,sx,fx,cx].flat(),Wx=Zu("remarkAddOrderInList",()=>()=>t=>{Tl(t,"list",e=>{if(e.ordered){const n=e.start??1;e.children.forEach((r,i)=>{r.label=i+n})}})});$(Wx.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});$(Wx.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const Hx=Zu("remarkLineBreak",()=>()=>t=>{const e=/[\t ]*(?:\r?\n|\r)/g;Tl(t,"text",(n,r,i)=>{if(!n.value||typeof n.value!="string")return;const o=[];let s=0;e.lastIndex=0;let a=e.exec(n.value);for(;a;){const l=a.index;s!==l&&o.push({type:"text",value:n.value.slice(s,l)}),o.push({type:"break",data:{isInline:!0}}),s=l+a[0].length,a=e.exec(n.value)}if(o.length>0&&i&&typeof r=="number")return s<n.value.length&&o.push({type:"text",value:n.value.slice(s)}),i.children.splice(r,1,...o),r+o.length})});$(Hx.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});$(Hx.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const Kx=Zu("remarkInlineLink",()=>vJ);$(Kx.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});$(Kx.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const RJ=t=>!!t.children,_J=t=>t.type==="html";function MJ(t,e){return n(t,0,null)[0];function n(r,i,o){if(RJ(r)){const s=[];for(let a=0,l=r.children.length;a<l;a++){const c=r.children[a];if(c){const u=n(c,a,r);if(u)for(let d=0,f=u.length;d<f;d++){const h=u[d];h&&s.push(h)}}}r.children=s}return e(r,i,o)}}const Gx=Zu("remarkHTMLTransformer",()=>()=>t=>{MJ(t,(e,n,r)=>_J(e)?((r==null?void 0:r.type)==="root"&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});$(Gx.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});$(Gx.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const qx=Zu("remarkMarker",()=>()=>(t,e)=>{const n=r=>e.value.charAt(r.position.start.offset);Tl(t,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=n(r)})});$(qx.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});$(qx.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const PA=Il(()=>{let t=!1;const e=new gr("MILKDOWN_INLINE_NODES_CURSOR"),n=new mr({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,o=i.nodeBefore,s=i.nodeAfter;return!!(o&&s&&o.isInline&&!o.isText&&s.isInline&&!s.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>t?(t=!1,requestAnimationFrame(()=>{if(n.getState(r.state)){const o=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:r=>(n.getState(r.state)&&(t=!0),!1),beforeinput:(r,i)=>{if(n.getState(r.state)&&i instanceof InputEvent&&i.data&&!t){const o=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(r){if(n.getState(r)){const i=r.selection.$from.pos,o=document.createElement("span"),s=Sn.widget(i,o,{side:-1}),a=document.createElement("span"),l=Sn.widget(i,a);return setTimeout(()=>{o.contentEditable="true",a.contentEditable="true"}),pt.create(r.doc,[s,l])}return pt.empty}}});return n});$(PA,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const AA=Il(t=>new mr({key:new gr("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof _t))return;const{from:s}=o;return r.tr.setNodeMarkup(s,ks.type(t),void 0,[])}if(o instanceof ui){let s=r.tr;const{from:a,to:l}=o;return r.doc.nodesBetween(a,l,(c,u)=>{c.type===ks.type(t)&&(s=s.setNodeMarkup(u,ks.type(t),void 0,[]))}),s}}}));$(AA,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const Jx=_i(["table","code_block"],"hardbreakFilterNodes");$(Jx,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const OA=Il(t=>{const e=t.get(Jx.key);return new mr({key:new gr("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,r)=>{const i=n.getMeta("hardbreak"),[o]=n.steps;if(i&&o){const{from:s}=o,a=r.doc.resolve(s);let l=a.depth,c=!0;for(;l>0;)e.includes(a.node(l).type.name)&&(c=!1),l--;return c}return!0}})});$(OA,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const DA=Il(t=>{const e=new gr("MILKDOWN_HEADING_ID"),n=r=>{if(r.composing)return;const i=t.get(tm.key),o=r.state.tr.setMeta("addToHistory",!1);let s=!1;r.state.doc.descendants((a,l)=>{if(a.type===Hs.type(t)){if(a.textContent.trim().length===0)return;const c=a.attrs,u=i(a);c.id!==u&&(s=!0,o.setMeta(e,!0).setNodeMarkup(l,void 0,{...c,id:u}))}}),s&&r.dispatch(o)};return new mr({key:e,view:r=>(n(r),{update:(i,o)=>{i.state.doc.eq(o.doc)||n(i)}})})});$(DA,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const LA=Il(t=>{const e=n=>{if(n.composing||!n.editable)return;const r=Ml.type(t),i=_l.type(t),o=Ei.type(t),s=n.state,a=(u,d)=>{let f=!1;const h=`${d+1}.`;return u.label!==h&&(u.label=h,f=!0),f};let l=s.tr,c=!1;s.doc.descendants((u,d,f,h)=>{if(u.type===i){const p=u.maybeChild(0);(p==null?void 0:p.type)===o&&p.attrs.listType==="ordered"&&(c=!0,l.setNodeMarkup(d,r,{spread:"true"}),u.descendants((g,x,v,w)=>{if(g.type===o){const S={...g.attrs};a(S,w)&&(l=l.setNodeMarkup(x,void 0,S))}return!1}))}else if(u.type===o&&(f==null?void 0:f.type)===r){const p={...u.attrs};let g=!1;p.listType!=="ordered"&&(p.listType="ordered",g=!0),f!=null&&f.maybeChild(0)&&(g=a(p,h)),g&&(l=l.setNodeMarkup(d,void 0,p),c=!0)}}),c&&n.dispatch(l.setMeta("addToHistory",!1))};return new mr({key:new gr("MILKDOWN_KEEP_LIST_ORDER"),view:n=>(e(n),{update:r=>{e(r)}})})});$(LA,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const PJ=[AA,Jx,OA,PA,Wx,Kx,Hx,Gx,qx,DA,LA].flat(),AJ=[CJ,EJ,TJ,IJ,NJ,PJ].flat();var Yh=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<Yh&&this.leafAppend(e)||this.length<Yh&&e.leafPrepend(this)||this.appendInner(e)):this};Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this};Ct.prototype.appendInner=function(e){return new OJ(this,e)};Ct.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ct.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ct.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new jA(e):Ct.empty};var jA=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Yh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Yh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ct);Ct.empty=new jA([]);var OJ=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ct);const DJ=500;class ir{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Rr(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new Rr(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new ir(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Rr(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>jJ&&(a=LJ(a,c),s-=c),new ir(a.append(o),s)}remapping(e,n){let r=new Va;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new ir(this.items.append(e.map(n=>new Rr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),x=f.selection&&f.selection.map(o.slice(l+1,h));x&&a++,r.push(new Rr(p,g,x))}else r.push(new Rr(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new Rr(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new ir(u,a);return d.emptyItemCount()>DJ&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Rr(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new ir(Ct.from(i.reverse()),o)}}ir.empty=new ir(Ct.empty,0);function LJ(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Rr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Rr(n.getMap().invert(),n,this.selection)}}}class Xi{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const jJ=20;function FJ(t,e,n,r){let i=n.getMeta(bs),o;if(i)return i.historyState;n.getMeta(BJ)&&(t=new Xi(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(bs))return s.getMeta(bs).redo?new Xi(t.done.addTransform(n,void 0,r,qf(e)),t.undone,NC(n.mapping.maps),t.prevTime,t.prevComposition):new Xi(t.done,t.undone.addTransform(n,void 0,r,qf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!zJ(n,t.prevRanges)),c=s?Fg(t.prevRanges,n.mapping):NC(n.mapping.maps);return new Xi(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,qf(e)),ir.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Xi(t.done.rebased(n,o),t.undone.rebased(n,o),Fg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Xi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Fg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function zJ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function NC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Fg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function $J(t,e,n){let r=qf(e),i=bs.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Xi(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(bs,{redo:n,historyState:l})}let zg=!1,RC=null;function qf(t){let e=t.plugins;if(RC!=e){zg=!1,RC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zg=!0;break}}return zg}const bs=new gr("history"),BJ=new gr("closeHistory");function UJ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new mr({key:bs,state:{init(){return new Xi(ir.empty,ir.empty,null,0,-1)},apply(e,n,r){return FJ(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?zA:r=="historyRedo"?$A:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function FA(t,e){return(n,r)=>{let i=bs.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=$J(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const zA=FA(!1,!0),$A=FA(!0,!0);function Pl(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-history",...e}}),t}const Yx=nt("Undo",()=>()=>zA);Pl(Yx,{displayName:"Command<undo>"});const Xx=nt("Redo",()=>()=>$A);Pl(Xx,{displayName:"Command<redo>"});const Qx=_i({},"historyProviderConfig");Pl(Qx,{displayName:"Ctx<historyProviderConfig>"});const BA=Il(t=>UJ(t.get(Qx.key)));Pl(BA,{displayName:"Ctx<historyProviderPlugin>"});const Zx=qn("historyKeymap",{Undo:{shortcuts:"Mod-z",command:t=>{const e=t.get($e);return()=>e.call(Yx.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:t=>{const e=t.get($e);return()=>e.call(Xx.key)}}});Pl(Zx.ctx,{displayName:"KeymapCtx<history>"});Pl(Zx.shortcuts,{displayName:"Keymap<history>"});const VJ=[Qx,BA,Zx,Yx,Xx].flat(),WJ="",Ja=({content:t,setContent:e,isEditable:n})=>{const r=m.useRef(n);return o6(i=>Pq.make().config(o=>{o.set(Vf,i),o.set(zf,t||WJ),o.get(Wv).markdownUpdated((s,a)=>{e(a)}),o.update(Uf,s=>({...s,editable:()=>r.current}))}).use(dA).use(AJ).use(VJ)),m.useEffect(()=>{r.current=n},[n]),y.jsx(i6,{})};var e1="Dialog",[UA,VA]=xl(e1),[HJ,Sr]=UA(e1),WA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Ep({prop:r,defaultProp:i,onChange:o});return y.jsx(HJ,{scope:e,triggerRef:a,contentRef:l,contentId:Fa(),titleId:Fa(),descriptionId:Fa(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};WA.displayName=e1;var HA="DialogTrigger",KA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(HA,n),o=Be(e,i.triggerRef);return y.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":r1(i.open),...r,ref:o,onClick:oe(t.onClick,i.onOpenToggle)})});KA.displayName=HA;var t1="DialogPortal",[KJ,GA]=UA(t1,{forceMount:void 0}),qA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Sr(t1,e);return y.jsx(KJ,{scope:e,forceMount:n,children:m.Children.map(r,s=>y.jsx(Nn,{present:n||o.open,children:y.jsx(Cp,{asChild:!0,container:i,children:s})}))})};qA.displayName=t1;var Xh="DialogOverlay",JA=m.forwardRef((t,e)=>{const n=GA(Xh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Sr(Xh,t.__scopeDialog);return o.modal?y.jsx(Nn,{present:r||o.open,children:y.jsx(GJ,{...i,ref:e})}):null});JA.displayName=Xh;var GJ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(Xh,n);return y.jsx(UR,{as:Ro,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ee.div,{"data-state":r1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ls="DialogContent",YA=m.forwardRef((t,e)=>{const n=GA(Ls,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Sr(Ls,t.__scopeDialog);return y.jsx(Nn,{present:r||o.open,children:o.modal?y.jsx(qJ,{...i,ref:e}):y.jsx(JJ,{...i,ref:e})})});YA.displayName=Ls;var qJ=m.forwardRef((t,e)=>{const n=Sr(Ls,t.__scopeDialog),r=m.useRef(null),i=Be(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return OR(o)},[]),y.jsx(XA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault())})}),JJ=m.forwardRef((t,e)=>{const n=Sr(Ls,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return y.jsx(XA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),XA=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Sr(Ls,n),l=m.useRef(null),c=Be(e,l);return sR(),y.jsxs(y.Fragment,{children:[y.jsx(f0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:y.jsx(bp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":r1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(XJ,{titleId:a.titleId}),y.jsx(ZJ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),n1="DialogTitle",QA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(n1,n);return y.jsx(Ee.h2,{id:i.titleId,...r,ref:e})});QA.displayName=n1;var ZA="DialogDescription",eO=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(ZA,n);return y.jsx(Ee.p,{id:i.descriptionId,...r,ref:e})});eO.displayName=ZA;var tO="DialogClose",nO=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(tO,n);return y.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>i.onOpenChange(!1))})});nO.displayName=tO;function r1(t){return t?"open":"closed"}var rO="DialogTitleWarning",[YJ,iO]=wF(rO,{contentName:Ls,titleName:n1,docsSlug:"dialog"}),XJ=({titleId:t})=>{const e=iO(rO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},QJ="DialogDescriptionWarning",ZJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iO(QJ).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},eY=WA,tY=KA,nY=qA,rY=JA,iY=YA,oY=QA,sY=eO,oO=nO,sO="AlertDialog",[aY,QY]=xl(sO,[VA]),Mi=VA(),aO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mi(e);return y.jsx(eY,{...r,...n,modal:!0})};aO.displayName=sO;var lY="AlertDialogTrigger",lO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(tY,{...i,...r,ref:e})});lO.displayName=lY;var cY="AlertDialogPortal",cO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mi(e);return y.jsx(nY,{...r,...n})};cO.displayName=cY;var uY="AlertDialogOverlay",uO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(rY,{...i,...r,ref:e})});uO.displayName=uY;var Ya="AlertDialogContent",[dY,fY]=aY(Ya),dO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=Mi(n),s=m.useRef(null),a=Be(e,s),l=m.useRef(null);return y.jsx(YJ,{contentName:Ya,titleName:fO,docsSlug:"alert-dialog",children:y.jsx(dY,{scope:n,cancelRef:l,children:y.jsxs(iY,{role:"alertdialog",...o,...i,ref:a,onOpenAutoFocus:oe(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[y.jsx(cI,{children:r}),y.jsx(pY,{contentRef:s})]})})})});dO.displayName=Ya;var fO="AlertDialogTitle",hO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(oY,{...i,...r,ref:e})});hO.displayName=fO;var pO="AlertDialogDescription",mO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(sY,{...i,...r,ref:e})});mO.displayName=pO;var hY="AlertDialogAction",gO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(oO,{...i,...r,ref:e})});gO.displayName=hY;var yO="AlertDialogCancel",vO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=fY(yO,n),o=Mi(n),s=Be(e,i);return y.jsx(oO,{...o,...r,ref:s})});vO.displayName=yO;var pY=({contentRef:t})=>{const e=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${pO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},mY=aO,gY=lO,yY=cO,wO=uO,xO=dO,SO=gO,kO=vO,bO=hO,CO=mO;const vY=mY,wY=gY,xY=yY,EO=m.forwardRef(({className:t,...e},n)=>y.jsx(wO,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));EO.displayName=wO.displayName;const TO=m.forwardRef(({className:t,...e},n)=>y.jsxs(xY,{children:[y.jsx(EO,{}),y.jsx(xO,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));TO.displayName=xO.displayName;const IO=({className:t,...e})=>y.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});IO.displayName="AlertDialogHeader";const NO=({className:t,...e})=>y.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});NO.displayName="AlertDialogFooter";const RO=m.forwardRef(({className:t,...e},n)=>y.jsx(bO,{ref:n,className:ge("text-lg font-semibold",t),...e}));RO.displayName=bO.displayName;const _O=m.forwardRef(({className:t,...e},n)=>y.jsx(CO,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));_O.displayName=CO.displayName;const MO=m.forwardRef(({className:t,...e},n)=>y.jsx(SO,{ref:n,className:ge(Op(),t),...e}));MO.displayName=SO.displayName;const PO=m.forwardRef(({className:t,...e},n)=>y.jsx(kO,{ref:n,className:ge(Op({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));PO.displayName=kO.displayName;function SY(){const t=pr(),{auth:e}=m.useContext(Ri),{username:n,slug:r}=xp(),[i,o]=m.useState(void 0),[s,a]=m.useState(!0),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,g]=m.useState(""),[x,v]=m.useState(""),[w,S]=m.useState([]),[C,I]=m.useState(""),[b,_]=m.useState(""),[k,R]=m.useState(""),[P,O]=m.useState(0),[A,U]=m.useState(0);m.useEffect(()=>{(async()=>{if(!(!n||!r)){try{const ee=await z(),De=await zn(ee??void 0).api.GetRecipe(n,r);K(De)}catch(ee){console.error(ee)}a(!1)}})()},[n,r]);const z=async()=>{var Z;if(!i){const ee=await((Z=e==null?void 0:e.currentUser)==null?void 0:Z.getIdToken());return o(ee),ee}return i},K=Z=>{d(Z.id),h(Z.profile_id),g(Z.title),v(Z.slug),S(Z.tags??[]),I(Z.ingredients),_(Z.instructions),R(Z.notes),U(Z.cook_temp_deg_f),O(Z.cook_time_minutes)},q=async()=>{t("/recipes/"+n+"/"+r)},ne=Z=>{g(Z.target.value)},j=async Z=>{const ee=Z.target.value;if(c(""),v(ee),Z.type==="blur"&&ee!==r){if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(ee)){c("Please only use lowercase letters and numbers separated by hyphens.");return}try{const We=await z();(await zn(We??void 0).api.CheckIfSlugIsAvailable({slug:ee})).available||c(`${ee} is already in use`)}catch(We){console.error(We)}}},D=Z=>{O(Number(Z.target.value))},E=Z=>{U(Number(Z.target.value))},J=async()=>{S([...w,"Tag"])},le=(Z,ee)=>{w[Z]=ee.target.value,(w[Z]===void 0||w[Z]===null||w[Z]==="")&&w.splice(Z,1),S([...w])},T=async()=>{try{const Z=w.filter(De=>De!=null&&De!=null&&De!="");S(Z);const ee=await z();await zn(ee??void 0).api.SaveRecipe({id:u||u6(),profile_id:f,slug:x,title:p,instructions:b,ingredients:C,notes:k,cook_temp_deg_f:A,cook_time_minutes:P,tags:Z}),t("/recipes/"+n+"/"+x)}catch(Z){console.error(Z)}},Se=async()=>{if(u)try{const Z=await z();await zn(Z??void 0).api.DeleteRecipe(u),t("/recipes/")}catch(Z){console.error(Z)}};return y.jsxs("div",{className:"h-screen mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(At,{size:"icon",variant:"ghost",onClick:q,role:"link",children:y.jsx(ZN,{size:30})}),y.jsx("div",{className:"text-2xl font-semibold",children:"Edit Recipe"})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx(At,{size:"header",variant:"secondary",disabled:l.length>0,onClick:T,children:"Save Changes"})})]}),y.jsx(or,{}),!s&&y.jsxs(Ap,{className:"h-full w-full",children:[y.jsxs("div",{className:"p-4",children:[y.jsx(Rt,{htmlFor:"title",className:"text-2xl font-semibold",children:"Recipe Name"}),y.jsx(sn,{id:"title",className:"mt-2 h-12 text-2xl",value:p,onChange:ne})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(Rt,{htmlFor:"title",className:"text-2xl font-semibold",children:"URL Segment (ex. /recipe-name)"}),y.jsx(sn,{id:"title",className:"mt-2 h-12 text-2xl",value:x,onChange:j,onBlur:j}),l.length>0&&y.jsxs("div",{className:"flex gap-4 items-center pt-2",children:[y.jsx(rR,{}),y.jsx("div",{className:"text-xl",children:l})]})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(Rt,{className:"text-2xl font-semibold",children:"Tags"}),y.jsxs("div",{className:"w-full flex-wrap flex pt-2 gap-2",children:[w==null?void 0:w.map((Z,ee)=>y.jsx(sn,{defaultValue:Z,onBlur:Te=>le(ee,Te),className:"rounded-full px-3 h-10 text-2xl w-36"},Z+ee)),y.jsx(At,{size:"icon",className:"rounded-full",onClick:J,children:y.jsx(tR,{})})]})]}),y.jsxs("div",{className:"p-4 pt-0 flex gap-2",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"time",className:"text-2xl font-semibold",children:"Time (min)"}),y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(nR,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{id:"time",className:"mt-2 pl-11 h-12 text-2xl",value:P,onChange:D})]})]}),y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"temp",className:"text-2xl font-semibold",children:"Temperature (°F)"}),y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(eR,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{id:"temp",className:"mt-2 pl-11 h-12 text-2xl",value:A,onChange:E})]})]})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(Rt,{className:"text-2xl font-semibold",children:"Ingredients"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:C,setContent:I,isEditable:!0})})})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(Rt,{className:"text-2xl font-semibold",children:"Instructions"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:b,setContent:_,isEditable:!0})})})]}),y.jsxs("div",{className:"p-4 py-0",children:[y.jsx(Rt,{className:"text-2xl font-semibold",children:"Notes"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:k,setContent:R,isEditable:!0})})})]}),y.jsx(or,{className:"my-16 mx-4"}),y.jsxs("div",{className:"px-4 flex flex-row gap-2 items-center justify-center",children:[y.jsx(kk,{}),y.jsx("div",{className:"text-3xl font-semibold",children:"DANGER ZONE"}),y.jsx(kk,{})]}),y.jsx("div",{className:"flex p-4 py-16 justify-center",children:y.jsx("div",{className:"flex justify-center",children:y.jsxs(vY,{children:[y.jsx(wY,{asChild:!0,children:y.jsxs(At,{variant:"destructive",children:[y.jsx(nU,{className:"mr-2"})," Delete Recipe"]})}),y.jsxs(TO,{children:[y.jsxs(IO,{children:[y.jsx(RO,{className:"text-2xl",children:"Are you absolutely sure?"}),y.jsx(_O,{className:"text-xl",children:"This action cannot be undone. This will permanently delete your recipe."})]}),y.jsxs(NO,{children:[y.jsx(PO,{children:"Cancel"}),y.jsx(MO,{className:ge(Op({variant:"destructive"})),onClick:Se,children:"Confirm"})]})]})]})})})]})]})}function kY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),l=async c=>{c.preventDefault();try{await g3(t,n,i),e("/")}catch{a("You entered a wrong username or password.")}};return y.jsx("div",{className:"h-full mx-auto max-w-xl",children:y.jsxs("form",{children:[s&&y.jsx("div",{role:"alert",className:"px-4 pt-6 pb-0  text-2xl",children:s}),y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Log in"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"email",className:"text-2xl font-semibold",children:"Email Address"}),y.jsx("div",{className:"flex-grow",children:y.jsx(sn,{type:"email",className:"mt-2 h-12 text-2xl",id:"exampleInputEmail1",placeholder:"name@example.com",value:n,onChange:c=>r(c.target.value)})})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"inputPassword",className:"text-2xl font-semibold",children:"Password"}),y.jsx("div",{className:"flex-grow",children:y.jsx(sn,{type:"password",className:"mt-2 h-12 text-2xl",id:"inputPassword",placeholder:"Password",value:i,onChange:c=>o(c.target.value)})})]})}),y.jsx("div",{className:"p-4 pt-0",children:y.jsx(At,{type:"submit",onClick:l,children:"Log in"})}),y.jsx("div",{className:"p-4 pt-0 text-xl",children:y.jsx(aI,{to:"/signup",children:"Sign up for an account"})})]})})}function bY(){var b;const t=pr(),{username:e,slug:n}=xp(),{auth:r}=m.useContext(Ri),[i,o]=m.useState(!0),[s,a]=m.useState(),[l,c]=m.useState([]),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,g]=m.useState(""),[x,v]=m.useState(0),[w,S]=m.useState(0);m.useEffect(()=>{(async()=>{var k;if(!(!e||!n)){try{const R=await((k=r==null?void 0:r.currentUser)==null?void 0:k.getIdToken()),O=await zn(R??void 0).api.GetRecipe(e,n);C(O)}catch(R){console.error(R)}o(!1)}})()},[e,n]);const C=_=>{a(_),c(_.tags??[]),d(_.ingredients),h(_.instructions),g(_.notes),S(_.cook_temp_deg_f),v(_.cook_time_minutes)},I=async()=>{t("/recipes/"+e+"/"+n+"/edit")};return y.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 gap-4 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(j_,{}),y.jsx(V_,{})]}),((b=r==null?void 0:r.currentUser)==null?void 0:b.uid)&&r.currentUser.uid===(s==null?void 0:s.profile_id)&&y.jsx(At,{size:"icon",variant:"ghost",onClick:I,children:y.jsx(tU,{})})]}),y.jsx(or,{}),!i&&y.jsxs(Ap,{className:"h-full w-full",children:[y.jsx("div",{className:"text-4xl px-4 pt-4 font-semibold text-center",children:s==null?void 0:s.title}),(l==null?void 0:l.length)>0&&y.jsx("div",{className:"px-4 pt-2 text-3xl flex flex-row items-center justify-center gap-x-2",children:y.jsx("div",{className:"flex gap-2",children:l==null?void 0:l.map((_,k)=>y.jsx("div",{className:"rounded-full border-2 border-input px-3 bg-secondary text-secondary-foreground text-xl font-semibold",children:_},_+k))})}),(x>0||w>0)&&y.jsxs("div",{className:"px-4 pt-2 text-3xl flex flex-row items-center justify-center gap-x-2 font-semibold",children:[x>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx(nR,{size:26})," ",x,"min"]}),w>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx(eR,{size:26})," ",w,"°F"]})]}),y.jsx(or,{className:"m-4"}),y.jsxs("div",{className:"px-4 pb-4 flex flex-col flex-grow items-start gap-2 transition-all ",children:[y.jsx("div",{className:"text-3xl font-semibold",children:"Ingredients"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:u,setContent:d,isEditable:!1})})}),y.jsx(or,{className:"my-2"}),y.jsx("div",{className:"text-3xl font-semibold",children:"Instructions"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:f,setContent:h,isEditable:!1})})}),p.length>0&&y.jsxs(y.Fragment,{children:[y.jsx(or,{className:"my-2"}),y.jsx("div",{className:"text-3xl font-semibold",children:"Notes"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:p,setContent:g,isEditable:!1})})})]})]})]})]})}function CY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),[l,c]=m.useState(""),u=async d=>{if(d.preventDefault(),i===s)try{await m3(t,n,i),e("/")}catch{c("Sorry, something went wrong. Please try again.")}else c("Passwords don't match. Please try again.")};return y.jsx("div",{className:"h-full mx-auto max-w-4xl ",children:y.jsxs("form",{className:"loginForm",children:[l&&y.jsx("div",{role:"alert",children:l}),y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Sign up"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"signupEmail",className:"text-2xl font-semibold",children:"Email Address"}),y.jsx(sn,{id:"signupEmail",type:"email",className:"mt-2 h-12 text-2xl","aria-describedby":"emailHelp",placeholder:"name@example.com",value:n,onChange:d=>r(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"signupPassword",className:"text-2xl font-semibold",children:"Password"}),y.jsx(sn,{id:"signupPassword",type:"password",className:"mt-2 h-12 text-2xl",placeholder:"Password",value:i,onChange:d=>o(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(Rt,{htmlFor:"confirmPassword",className:"text-2xl font-semibold",children:"Confirm Password"}),y.jsx(sn,{id:"confirmPassword",type:"password",className:"mt-2 h-12 text-2xl",placeholder:"Confirm Password",value:s,onChange:d=>a(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsx(At,{type:"submit",onClick:d=>u(d),children:"Sign up"})}),y.jsx("div",{className:"p-4 pt-0 text-xl",children:y.jsx(aI,{to:"/login",children:"Already have an account?"})})]})})}const AO=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("rounded-xl border bg-card text-card-foreground shadow",t),...e}));AO.displayName="Card";const EY=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));EY.displayName="CardHeader";const TY=m.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:ge("font-semibold leading-none tracking-tight",t),...e}));TY.displayName="CardTitle";const IY=m.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));IY.displayName="CardDescription";const OO=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));OO.displayName="CardContent";const NY=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));NY.displayName="CardFooter";const DO=m.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:ge("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));DO.displayName="Textarea";function RY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(!1),[i,o]=m.useState([]),[s,a]=m.useState(""),l=()=>{e("/recipes/")},c=h=>{const p=Array.from(h.target.files||[]),g=[];p.forEach(x=>{const v=new FileReader;v.onloadend=()=>{var S;const w=((S=v.result)==null?void 0:S.toString().split(",")[1])||"";g.push({filename:x.name,content:w,mime_type:x.type}),g.length===p.length&&o(C=>[...C,...g])},v.readAsDataURL(x)})},u=h=>{a(h.target.value)},d=async()=>{var h;try{r(!0);const p=await((h=t==null?void 0:t.currentUser)==null?void 0:h.getIdToken()),x=await zn(p??void 0).api.GenerateFromImages({files:i});e(`/recipes/${x.slug}`)}catch(p){console.error("Submit images failed:",p)}finally{r(!1)}},f=async()=>{var h;try{r(!0);const p=await((h=t==null?void 0:t.currentUser)==null?void 0:h.getIdToken()),x=await zn(p??void 0).api.GenerateFromText({text:s});e(`/recipes/${x.slug}`)}catch(p){console.error("Submit text failed:",p)}finally{r(!1)}};return y.jsxs("div",{className:"h-full mx-auto max-w-4xl ",children:[y.jsxs("div",{className:"p-4 flex flex-row gap-4 items-center",children:[y.jsx(At,{size:"icon",variant:"ghost",onClick:l,role:"link",children:y.jsx(ZN,{size:30})}),y.jsx("div",{className:"text-2xl font-semibold",children:"Add Recipe"})]}),y.jsx(AO,{className:"rounded-none pt-4",children:y.jsxs(OO,{className:"p-4 pt-0 flex flex-col",children:[y.jsx(Rt,{htmlFor:"file",className:"text-2xl font-semibold",children:"From Images:"}),y.jsx(sn,{id:"file",type:"file",accept:"image/*;capture=camera",multiple:!0,onChange:c,className:"p-0 my-2 cursor-pointer file:cursor-pointer h-13 text-2xl file:mr-3 file:px-4 file:py-2 f font-semibold file:text-2xl file:font-semibold file:bg-secondary file:text-secondary-foreground file:shadow file:hover:bg-secondary/80"}),i.length!==0&&y.jsx("div",{children:y.jsx(At,{variant:"default",onClick:d,disabled:n,children:n?y.jsxs(y.Fragment,{children:[y.jsx(Sk,{className:"mr-2 h-5 w-5 animate-spin"})," Adding recipe"]}):"Submit Images"})}),n&&y.jsx("div",{className:"text-2xl",children:"You will be redirected to the new recipe once adding is complete."}),y.jsxs("div",{className:"my-4 text-2xl flex gap-2 items-center",children:[y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})}),y.jsx("span",{className:"text-muted-foreground",children:"OR"}),y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})})]}),y.jsx(Rt,{htmlFor:"recipeText",className:"text-2xl font-semibold",children:"From Text:"}),y.jsx(DO,{id:"recipeText",className:"text-xl my-2",placeholder:"Insert your recipe text here.",value:s,onChange:u,disabled:n}),s.trim().length>0&&y.jsx("div",{children:y.jsx(At,{variant:"default",onClick:f,disabled:n,children:n?y.jsxs(y.Fragment,{children:[y.jsx(Sk,{className:"mr-2 h-5 w-5 animate-spin"})," Adding recipe"]}):"Submit Text"})}),n&&y.jsx("div",{className:"text-2xl",children:"You will be redirected to the new recipe once adding is complete."})]})})]})}function _Y(){const{username:t}=xp();return y.jsx(W_,{cacheKey:`user_recipes_${t}`,fetchRecipes:e=>e.api.GetRecipesByProfileId(t)})}const MY=Lj([{path:"/",element:y.jsx(Nj,{to:"/recipes",replace:!0})},{path:"/recipes",element:y.jsx(Z5,{})},{path:"/recipes/:username",element:y.jsx(_Y,{})},{path:"/recipes/:username/:slug",element:y.jsx(bY,{})},{path:"/recipes/:username/:slug/edit",element:y.jsx(SY,{})},{path:"/upload",element:y.jsx(RY,{})},{path:"/login",element:y.jsx(kY,{})},{path:"/signup",element:y.jsx(CY,{})},{path:"/complete-profile",element:y.jsx(n6,{})}]);$g.createRoot(document.getElementById("root")).render(y.jsx(Pn.StrictMode,{children:y.jsxs(Zj,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[y.jsx(O4,{children:y.jsx(Hj,{router:MY})}),y.jsx(Fz,{})]})}));
