var AN=Object.defineProperty;var MN=(t,e,n)=>e in t?AN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>(MN(t,typeof e!="symbol"?e+"":e,n),n);function Ex(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ox={exports:{}},md={},Tx={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),PN=Symbol.for("react.portal"),RN=Symbol.for("react.fragment"),IN=Symbol.for("react.strict_mode"),DN=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),zN=Symbol.for("react.forward_ref"),FN=Symbol.for("react.suspense"),BN=Symbol.for("react.memo"),$N=Symbol.for("react.lazy"),g1=Symbol.iterator;function qN(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var Cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nx=Object.assign,_x={};function ds(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||Cx}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ax(){}Ax.prototype=ds.prototype;function Og(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||Cx}var Tg=Og.prototype=new Ax;Tg.constructor=Og;Nx(Tg,ds.prototype);Tg.isPureReactComponent=!0;var y1=Array.isArray,Mx=Object.prototype.hasOwnProperty,Cg={current:null},Px={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Mx.call(e,r)&&!Px.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Au,type:t,key:o,ref:l,props:i,_owner:Cg.current}}function UN(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ng(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function VN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v1=/\/+/g;function mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VN(""+t.key):e.toString(36)}function Oc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Au:case PN:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+mh(l,0):r,y1(i)?(n="",t!=null&&(n=t.replace(v1,"$&/")+"/"),Oc(i,e,n,"",function(u){return u})):i!=null&&(Ng(i)&&(i=UN(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(v1,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",y1(t))for(var s=0;s<t.length;s++){o=t[s];var a=r+mh(o,s);l+=Oc(o,e,n,a,i)}else if(a=qN(t),typeof a=="function")for(t=a.call(t),s=0;!(o=t.next()).done;)o=o.value,a=r+mh(o,s++),l+=Oc(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Oc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function WN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},Tc={transition:null},HN={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:Cg};je.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!Ng(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ds;je.Fragment=RN;je.Profiler=DN;je.PureComponent=Og;je.StrictMode=IN;je.Suspense=FN;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nx({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Cg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(a in e)Mx.call(e,a)&&!Px.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&s!==void 0?s[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Au,type:t.type,key:i,ref:o,props:r,_owner:l}};je.createContext=function(t){return t={$$typeof:jN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LN,_context:t},t.Consumer=t};je.createElement=Rx;je.createFactory=function(t){var e=Rx.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:zN,render:t}};je.isValidElement=Ng;je.lazy=function(t){return{$$typeof:$N,_payload:{_status:-1,_result:t},_init:WN}};je.memo=function(t,e){return{$$typeof:BN,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Tc.transition;Tc.transition={};try{t()}finally{Tc.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return fn.current.useCallback(t,e)};je.useContext=function(t){return fn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};je.useEffect=function(t,e){return fn.current.useEffect(t,e)};je.useId=function(){return fn.current.useId()};je.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return fn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};je.useRef=function(t){return fn.current.useRef(t)};je.useState=function(t){return fn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return fn.current.useTransition()};je.version="18.2.0";Tx.exports=je;var I=Tx.exports;const Bn=_u(I),KN=Ex({__proto__:null,default:Bn},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=I,GN=Symbol.for("react.element"),JN=Symbol.for("react.fragment"),QN=Object.prototype.hasOwnProperty,XN=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZN={key:!0,ref:!0,__self:!0,__source:!0};function Ix(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)QN.call(e,r)&&!ZN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GN,type:t,key:o,ref:l,props:i,_owner:XN.current}}md.Fragment=JN;md.jsx=Ix;md.jsxs=Ix;Ox.exports=md;var F=Ox.exports,Ip={},Dx={exports:{}},Dn={},Lx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,z){var N=W.length;W.push(z);e:for(;0<N;){var P=N-1>>>1,L=W[P];if(0<i(L,z))W[P]=z,W[N]=L,N=P;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var z=W[0],N=W.pop();if(N!==z){W[0]=N;e:for(var P=0,L=W.length,_=L>>>1;P<_;){var V=2*(P+1)-1,H=W[V],D=V+1,$=W[D];if(0>i(H,N))D<L&&0>i($,H)?(W[P]=$,W[D]=N,P=D):(W[P]=H,W[V]=N,P=V);else if(D<L&&0>i($,N))W[P]=$,W[D]=N,P=D;else break e}}return z}function i(W,z){var N=W.sortIndex-z.sortIndex;return N!==0?N:W.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var a=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=W)r(u),z.sortIndex=z.expirationTime,e(a,z);else break;z=n(u)}}function w(W){if(y=!1,b(W),!m)if(n(a)!==null)m=!0,q(x);else{var z=n(u);z!==null&&U(w,z.startTime-W)}}function x(W,z){m=!1,y&&(y=!1,p(k),k=-1),h=!0;var N=d;try{for(b(z),f=n(a);f!==null&&(!(f.expirationTime>z)||W&&!E());){var P=f.callback;if(typeof P=="function"){f.callback=null,d=f.priorityLevel;var L=P(f.expirationTime<=z);z=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(a)&&r(a),b(z)}else r(a);f=n(a)}if(f!==null)var _=!0;else{var V=n(u);V!==null&&U(w,V.startTime-z),_=!1}return _}finally{f=null,d=N,h=!1}}var S=!1,T=null,k=-1,A=5,C=-1;function E(){return!(t.unstable_now()-C<A)}function O(){if(T!==null){var W=t.unstable_now();C=W;var z=!0;try{z=T(!0,W)}finally{z?M():(S=!1,T=null)}}else S=!1}var M;if(typeof g=="function")M=function(){g(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,j=R.port2;R.port1.onmessage=O,M=function(){j.postMessage(null)}}else M=function(){v(O,0)};function q(W){T=W,S||(S=!0,M())}function U(W,z){k=v(function(){W(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,q(x))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var N=d;d=z;try{return W()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var N=d;d=W;try{return z()}finally{d=N}},t.unstable_scheduleCallback=function(W,z,N){var P=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?P+N:P):N=P,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=N+L,W={id:c++,callback:z,priorityLevel:W,startTime:N,expirationTime:L,sortIndex:-1},N>P?(W.sortIndex=N,e(u,W),n(a)===null&&W===n(u)&&(y?(p(k),k=-1):y=!0,U(w,N-P))):(W.sortIndex=L,e(a,W),m||h||(m=!0,q(x))),W},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(W){var z=d;return function(){var N=d;d=z;try{return W.apply(this,arguments)}finally{d=N}}}})(jx);Lx.exports=jx;var e_=Lx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=I,Rn=e_;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fx=new Set,Ga={};function Zo(t,e){Jl(t,e),Jl(t+"Capture",e)}function Jl(t,e){for(Ga[t]=e,t=0;t<e.length;t++)Fx.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,t_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w1={},b1={};function n_(t){return Dp.call(b1,t)?!0:Dp.call(w1,t)?!1:t_.test(t)?b1[t]=!0:(w1[t]=!0,!1)}function r_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i_(t,e,n,r){if(e===null||typeof e>"u"||r_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _g=/[\-:]([a-z])/g;function Ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_g,Ag);Wt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_g,Ag);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_g,Ag);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mg(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(i_(e,n,i,r)&&(n=null),r||i===null?n_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),kl=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),$x=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),qx=Symbol.for("react.offscreen"),x1=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,gh;function na(t){if(gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var yh=!1;function vh(t,e){if(!t||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=s);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function o_(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=vh(t.type,!1),t;case 11:return t=vh(t.type.render,!1),t;case 1:return t=vh(t.type,!0),t;default:return""}}function Fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sl:return"Fragment";case kl:return"Portal";case Lp:return"Profiler";case Pg:return"StrictMode";case jp:return"Suspense";case zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $x:return(t.displayName||"Context")+".Consumer";case Bx:return(t._context.displayName||"Context")+".Provider";case Rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ig:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}function l_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(e);case 8:return e===Pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ux(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s_(t){var e=Ux(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ec(t){t._valueTracker||(t._valueTracker=s_(t))}function Vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ux(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bp(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function k1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wx(t,e){e=e.checked,e!=null&&Mg(t,"checked",e,!1)}function $p(t,e){Wx(t,e);var n=eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&qp(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qp(t,e,n){(e!=="number"||wf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Ll(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+eo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Up(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(ra(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:eo(n)}}function Hx(t,e){var n=eo(e.value),r=eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tc,Yx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a_=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){a_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function Gx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function Jx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var u_=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(u_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Dg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yp=null,jl=null,zl=null;function T1(t){if(t=Ru(t)){if(typeof Yp!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=bd(e),Yp(t.stateNode,t.type,e))}}function Qx(t){jl?zl?zl.push(t):zl=[t]:jl=t}function Xx(){if(jl){var t=jl,e=zl;if(zl=jl=null,T1(t),e)for(t=0;t<e.length;t++)T1(e[t])}}function Zx(t,e){return t(e)}function ek(){}var wh=!1;function tk(t,e,n){if(wh)return t(e,n);wh=!0;try{return Zx(t,e,n)}finally{wh=!1,(jl!==null||zl!==null)&&(ek(),Xx())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Gp=!1;if(ni)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Gp=!1}function c_(t,e,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _a=!1,bf=null,xf=!1,Jp=null,f_={onError:function(t){_a=!0,bf=t}};function d_(t,e,n,r,i,o,l,s,a){_a=!1,bf=null,c_.apply(f_,arguments)}function h_(t,e,n,r,i,o,l,s,a){if(d_.apply(this,arguments),_a){if(_a){var u=bf;_a=!1,bf=null}else throw Error(oe(198));xf||(xf=!0,Jp=u)}}function el(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C1(t){if(el(t)!==t)throw Error(oe(188))}function p_(t){var e=t.alternate;if(!e){if(e=el(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return C1(i),t;if(o===r)return C1(i),e;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function rk(t){return t=p_(t),t!==null?ik(t):null}function ik(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ik(t);if(e!==null)return e;t=t.sibling}return null}var ok=Rn.unstable_scheduleCallback,N1=Rn.unstable_cancelCallback,m_=Rn.unstable_shouldYield,g_=Rn.unstable_requestPaint,bt=Rn.unstable_now,y_=Rn.unstable_getCurrentPriorityLevel,Lg=Rn.unstable_ImmediatePriority,lk=Rn.unstable_UserBlockingPriority,kf=Rn.unstable_NormalPriority,v_=Rn.unstable_LowPriority,sk=Rn.unstable_IdlePriority,gd=null,Ar=null;function w_(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(gd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:k_,b_=Math.log,x_=Math.LN2;function k_(t){return t>>>=0,t===0?32:31-(b_(t)/x_|0)|0}var nc=64,rc=4194304;function ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=ia(s):(o&=l,o!==0&&(r=ia(o)))}else l=n&~i,l!==0?r=ia(l):o!==0&&(r=ia(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function S_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-ur(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=S_(s,e)):a<=e&&(t.expiredLanes|=s),o&=~s}}function Qp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ak(){var t=nc;return nc<<=1,!(nc&4194240)&&(nc=64),t}function bh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function O_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function uk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ck,zg,fk,dk,hk,Xp=!1,ic=[],$i=null,qi=null,Ui=null,Xa=new Map,Za=new Map,Pi=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function Fs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&zg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C_(t,e,n,r,i){switch(e){case"focusin":return $i=Fs($i,t,e,n,r,i),!0;case"dragenter":return qi=Fs(qi,t,e,n,r,i),!0;case"mouseover":return Ui=Fs(Ui,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xa.set(o,Fs(Xa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Za.set(o,Fs(Za.get(o)||null,t,e,n,r,i)),!0}return!1}function pk(t){var e=Co(t.target);if(e!==null){var n=el(e);if(n!==null){if(e=n.tag,e===13){if(e=nk(n),e!==null){t.blockedOn=e,hk(t.priority,function(){fk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return e=Ru(n),e!==null&&zg(e),t.blockedOn=n,!1;e.shift()}return!0}function A1(t,e,n){Cc(t)&&n.delete(e)}function N_(){Xp=!1,$i!==null&&Cc($i)&&($i=null),qi!==null&&Cc(qi)&&(qi=null),Ui!==null&&Cc(Ui)&&(Ui=null),Xa.forEach(A1),Za.forEach(A1)}function Bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Xp||(Xp=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,N_)))}function eu(t){function e(i){return Bs(i,t)}if(0<ic.length){Bs(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for($i!==null&&Bs($i,t),qi!==null&&Bs(qi,t),Ui!==null&&Bs(Ui,t),Xa.forEach(e),Za.forEach(e),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)pk(n),n.blockedOn===null&&Pi.shift()}var Fl=ai.ReactCurrentBatchConfig,Ef=!0;function __(t,e,n,r){var i=Je,o=Fl.transition;Fl.transition=null;try{Je=1,Fg(t,e,n,r)}finally{Je=i,Fl.transition=o}}function A_(t,e,n,r){var i=Je,o=Fl.transition;Fl.transition=null;try{Je=4,Fg(t,e,n,r)}finally{Je=i,Fl.transition=o}}function Fg(t,e,n,r){if(Ef){var i=Zp(t,e,n,r);if(i===null)Ah(t,e,r,Of,n),_1(t,r);else if(C_(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<T_.indexOf(t)){for(;i!==null;){var o=Ru(i);if(o!==null&&ck(o),o=Zp(t,e,n,r),o===null&&Ah(t,e,r,Of,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ah(t,e,r,null,n)}}var Of=null;function Zp(t,e,n,r){if(Of=null,t=Dg(r),t=Co(t),t!==null)if(e=el(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Of=t,null}function mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y_()){case Lg:return 1;case lk:return 4;case kf:case v_:return 16;case sk:return 536870912;default:return 16}default:return 16}}var Di=null,Bg=null,Nc=null;function gk(){if(Nc)return Nc;var t,e=Bg,n=e.length,r,i="value"in Di?Di.value:Di.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Nc=i.slice(t,1<r?1-r:void 0)}function _c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function M1(){return!1}function Ln(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oc:M1,this.isPropagationStopped=M1,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Ln(hs),Pu=ht({},hs,{view:0,detail:0}),M_=Ln(Pu),xh,kh,$s,yd=ht({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(xh=t.screenX-$s.screenX,kh=t.screenY-$s.screenY):kh=xh=0,$s=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),P1=Ln(yd),P_=ht({},yd,{dataTransfer:0}),R_=Ln(P_),I_=ht({},Pu,{relatedTarget:0}),Sh=Ln(I_),D_=ht({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Ln(D_),j_=ht({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z_=Ln(j_),F_=ht({},hs,{data:0}),R1=Ln(F_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q_[t])?!!e[t]:!1}function qg(){return U_}var V_=ht({},Pu,{key:function(t){if(t.key){var e=B_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(t){return t.type==="keypress"?_c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W_=Ln(V_),H_=ht({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=Ln(H_),K_=ht({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),Y_=Ln(K_),G_=ht({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=Ln(G_),Q_=ht({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=Ln(Q_),Z_=[9,13,27,32],Ug=ni&&"CompositionEvent"in window,Aa=null;ni&&"documentMode"in document&&(Aa=document.documentMode);var eA=ni&&"TextEvent"in window&&!Aa,yk=ni&&(!Ug||Aa&&8<Aa&&11>=Aa),D1=String.fromCharCode(32),L1=!1;function vk(t,e){switch(t){case"keyup":return Z_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var El=!1;function tA(t,e){switch(t){case"compositionend":return wk(e);case"keypress":return e.which!==32?null:(L1=!0,D1);case"textInput":return t=e.data,t===D1&&L1?null:t;default:return null}}function nA(t,e){if(El)return t==="compositionend"||!Ug&&vk(t,e)?(t=gk(),Nc=Bg=Di=null,El=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yk&&e.locale!=="ko"?null:e.data;default:return null}}var rA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rA[t.type]:e==="textarea"}function bk(t,e,n,r){Qx(r),e=Tf(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,tu=null;function iA(t){Mk(t,0)}function vd(t){var e=Cl(t);if(Vx(e))return t}function oA(t,e){if(t==="change")return e}var xk=!1;if(ni){var Eh;if(ni){var Oh="oninput"in document;if(!Oh){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),Oh=typeof z1.oninput=="function"}Eh=Oh}else Eh=!1;xk=Eh&&(!document.documentMode||9<document.documentMode)}function F1(){Ma&&(Ma.detachEvent("onpropertychange",kk),tu=Ma=null)}function kk(t){if(t.propertyName==="value"&&vd(tu)){var e=[];bk(e,tu,t,Dg(t)),tk(iA,e)}}function lA(t,e,n){t==="focusin"?(F1(),Ma=e,tu=n,Ma.attachEvent("onpropertychange",kk)):t==="focusout"&&F1()}function sA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vd(tu)}function aA(t,e){if(t==="click")return vd(e)}function uA(t,e){if(t==="input"||t==="change")return vd(e)}function cA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:cA;function nu(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dp.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function B1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $1(t,e){var n=B1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B1(n)}}function Sk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ek(){for(var t=window,e=wf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wf(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fA(t){var e=Ek(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sk(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$1(n,o);var l=$1(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dA=ni&&"documentMode"in document&&11>=document.documentMode,Ol=null,em=null,Pa=null,tm=!1;function q1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||Ol==null||Ol!==wf(r)||(r=Ol,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pa&&nu(Pa,r)||(Pa=r,r=Tf(em,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ol)))}function lc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tl={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},Th={},Ok={};ni&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function wd(t){if(Th[t])return Th[t];if(!Tl[t])return t;var e=Tl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ok)return Th[t]=e[n];return t}var Tk=wd("animationend"),Ck=wd("animationiteration"),Nk=wd("animationstart"),_k=wd("transitionend"),Ak=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){Ak.set(t,e),Zo(e,[t])}for(var Ch=0;Ch<U1.length;Ch++){var Nh=U1[Ch],hA=Nh.toLowerCase(),pA=Nh[0].toUpperCase()+Nh.slice(1);io(hA,"on"+pA)}io(Tk,"onAnimationEnd");io(Ck,"onAnimationIteration");io(Nk,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(_k,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function V1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h_(r,e,void 0,t),t.currentTarget=null}function Mk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;V1(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;V1(i,s,u),o=a}}}if(xf)throw t=Jp,xf=!1,Jp=null,t}function rt(t,e){var n=e[lm];n===void 0&&(n=e[lm]=new Set);var r=t+"__bubble";n.has(r)||(Pk(e,t,2,!1),n.add(r))}function _h(t,e,n){var r=0;e&&(r|=4),Pk(n,t,r,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[sc]){t[sc]=!0,Fx.forEach(function(n){n!=="selectionchange"&&(mA.has(n)||_h(n,!1,t),_h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,_h("selectionchange",!1,e))}}function Pk(t,e,n,r){switch(mk(e)){case 1:var i=__;break;case 4:i=A_;break;default:i=Fg}n=i.bind(null,e,n,t),i=void 0,!Gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ah(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Co(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}tk(function(){var u=o,c=Dg(n),f=[];e:{var d=Ak.get(t);if(d!==void 0){var h=$g,m=t;switch(t){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":h=W_;break;case"focusin":m="focus",h=Sh;break;case"focusout":m="blur",h=Sh;break;case"beforeblur":case"afterblur":h=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=R_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Y_;break;case Tk:case Ck:case Nk:h=L_;break;case _k:h=J_;break;case"scroll":h=M_;break;case"wheel":h=X_;break;case"copy":case"cut":case"paste":h=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=I1}var y=(e&4)!==0,v=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,p!==null&&(w=Qa(g,p),w!=null&&y.push(iu(g,w,b)))),v)break;g=g.return}0<y.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Kp&&(m=n.relatedTarget||n.fromElement)&&(Co(m)||m[ri]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Co(m):null,m!==null&&(v=el(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=P1,w="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=I1,w="onPointerLeave",p="onPointerEnter",g="pointer"),v=h==null?d:Cl(h),b=m==null?d:Cl(m),d=new y(w,g+"leave",h,n,c),d.target=v,d.relatedTarget=b,w=null,Co(c)===u&&(y=new y(p,g+"enter",m,n,c),y.target=b,y.relatedTarget=v,w=y),v=w,h&&m)t:{for(y=h,p=m,g=0,b=y;b;b=sl(b))g++;for(b=0,w=p;w;w=sl(w))b++;for(;0<g-b;)y=sl(y),g--;for(;0<b-g;)p=sl(p),b--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=sl(y),p=sl(p)}y=null}else y=null;h!==null&&W1(f,d,h,y,!1),m!==null&&v!==null&&W1(f,v,m,y,!0)}}e:{if(d=u?Cl(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=oA;else if(j1(d))if(xk)x=uA;else{x=sA;var S=lA}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=aA);if(x&&(x=x(t,u))){bk(f,x,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&qp(d,"number",d.value)}switch(S=u?Cl(u):window,t){case"focusin":(j1(S)||S.contentEditable==="true")&&(Ol=S,em=u,Pa=null);break;case"focusout":Pa=em=Ol=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,q1(f,n,c);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":q1(f,n,c)}var T;if(Ug)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else El?vk(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(yk&&n.locale!=="ko"&&(El||k!=="onCompositionStart"?k==="onCompositionEnd"&&El&&(T=gk()):(Di=c,Bg="value"in Di?Di.value:Di.textContent,El=!0)),S=Tf(u,k),0<S.length&&(k=new R1(k,t,null,n,c),f.push({event:k,listeners:S}),T?k.data=T:(T=wk(n),T!==null&&(k.data=T)))),(T=eA?tA(t,n):nA(t,n))&&(u=Tf(u,"onBeforeInput"),0<u.length&&(c=new R1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}Mk(f,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Qa(t,n),o!=null&&r.unshift(iu(t,o,i)),o=Qa(t,e),o!=null&&r.push(iu(t,o,i))),t=t.return}return r}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Qa(n,o),a!=null&&l.unshift(iu(n,a,s))):i||(a=Qa(n,o),a!=null&&l.push(iu(n,a,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(gA,`
`).replace(yA,"")}function ac(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(oe(425))}function Cf(){}var nm=null,rm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(bA)}:om;function bA(t){setTimeout(function(){throw t})}function Mh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ps,ou="__reactProps$"+ps,ri="__reactContainer$"+ps,lm="__reactEvents$"+ps,xA="__reactListeners$"+ps,kA="__reactHandles$"+ps;function Co(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y1(t);t!==null;){if(n=t[Cr])return n;t=Y1(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[Cr]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function bd(t){return t[ou]||null}var sm=[],Nl=-1;function oo(t){return{current:t}}function lt(t){0>Nl||(t.current=sm[Nl],sm[Nl]=null,Nl--)}function Ze(t,e){Nl++,sm[Nl]=t.current,t.current=e}var to={},nn=oo(to),vn=oo(!1),Uo=to;function Ql(t,e){var n=t.type.contextTypes;if(!n)return to;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Nf(){lt(vn),lt(nn)}function G1(t,e,n){if(nn.current!==to)throw Error(oe(168));Ze(nn,e),Ze(vn,n)}function Rk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,l_(t)||"Unknown",i));return ht({},n,r)}function _f(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,Uo=nn.current,Ze(nn,t),Ze(vn,vn.current),!0}function J1(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=Rk(t,e,Uo),r.__reactInternalMemoizedMergedChildContext=t,lt(vn),lt(nn),Ze(nn,t)):lt(vn),Ze(vn,n)}var Kr=null,xd=!1,Ph=!1;function Ik(t){Kr===null?Kr=[t]:Kr.push(t)}function SA(t){xd=!0,Ik(t)}function lo(){if(!Ph&&Kr!==null){Ph=!0;var t=0,e=Je;try{var n=Kr;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,xd=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),ok(Lg,lo),i}finally{Je=e,Ph=!1}}return null}var _l=[],Al=0,Af=null,Mf=0,qn=[],Un=0,Vo=null,Gr=1,Jr="";function go(t,e){_l[Al++]=Mf,_l[Al++]=Af,Af=t,Mf=e}function Dk(t,e,n){qn[Un++]=Gr,qn[Un++]=Jr,qn[Un++]=Vo,Vo=t;var r=Gr;t=Jr;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Gr=1<<32-ur(e)+i|n<<i|r,Jr=o+t}else Gr=1<<o|n<<i|r,Jr=t}function Wg(t){t.return!==null&&(go(t,1),Dk(t,1,0))}function Hg(t){for(;t===Af;)Af=_l[--Al],_l[Al]=null,Mf=_l[--Al],_l[Al]=null;for(;t===Vo;)Vo=qn[--Un],qn[Un]=null,Jr=qn[--Un],qn[Un]=null,Gr=qn[--Un],qn[Un]=null}var Mn=null,_n=null,at=!1,lr=null;function Lk(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,_n=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vo!==null?{id:Gr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,_n=null,!0):!1;default:return!1}}function am(t){return(t.mode&1)!==0&&(t.flags&128)===0}function um(t){if(at){var e=_n;if(e){var n=e;if(!Q1(t,e)){if(am(t))throw Error(oe(418));e=Vi(n.nextSibling);var r=Mn;e&&Q1(t,e)?Lk(r,n):(t.flags=t.flags&-4097|2,at=!1,Mn=t)}}else{if(am(t))throw Error(oe(418));t.flags=t.flags&-4097|2,at=!1,Mn=t}}}function X1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function uc(t){if(t!==Mn)return!1;if(!at)return X1(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=_n)){if(am(t))throw jk(),Error(oe(418));for(;e;)Lk(t,e),e=Vi(e.nextSibling)}if(X1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=Mn?Vi(t.stateNode.nextSibling):null;return!0}function jk(){for(var t=_n;t;)t=Vi(t.nextSibling)}function Xl(){_n=Mn=null,at=!1}function Kg(t){lr===null?lr=[t]:lr.push(t)}var EA=ai.ReactCurrentBatchConfig;function rr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pf=oo(null),Rf=null,Ml=null,Yg=null;function Gg(){Yg=Ml=Rf=null}function Jg(t){var e=Pf.current;lt(Pf),t._currentValue=e}function cm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bl(t,e){Rf=t,Yg=Ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Yg!==t)if(t={context:t,memoizedValue:e,next:null},Ml===null){if(Rf===null)throw Error(oe(308));Ml=t,Rf.dependencies={lanes:0,firstContext:t}}else Ml=Ml.next=t;return e}var No=null;function Qg(t){No===null?No=[t]:No.push(t)}function zk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qg(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,Qg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function Ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}function Z1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function If(t,e,n,r){var i=t.updateQueue;Ni=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;l=0,c=u=a=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,y=s;switch(d=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=ht({},f,d);break e;case 2:Ni=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,l|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ho|=l,t.lanes=l,t.memoizedState=f}}function e0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Bk=new zx.Component().refs;function fm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?el(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Ki(t),o=Xr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wi(t,o,i),e!==null&&(cr(e,t,i,r),Ac(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Ki(t),o=Xr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wi(t,o,i),e!==null&&(cr(e,t,i,r),Ac(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Ki(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(cr(e,t,r,n),Ac(e,t,r))}};function t0(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,o):!0}function $k(t,e,n){var r=!1,i=to,o=e.contextType;return typeof o=="object"&&o!==null?o=Gn(o):(i=wn(e)?Uo:nn.current,r=e.contextTypes,o=(r=r!=null)?Ql(t,i):to),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function n0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function dm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bk,Xg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gn(o):(o=wn(e)?Uo:nn.current,i.context=Ql(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(fm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kd.enqueueReplaceState(i,i.state,null),If(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;s===Bk&&(s=i.refs={}),l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r0(t){var e=t._init;return e(t._payload)}function qk(t){function e(p,g){if(t){var b=p.deletions;b===null?(p.deletions=[g],p.flags|=16):b.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Yi(p,g),p.index=0,p.sibling=null,p}function o(p,g,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<g?(p.flags|=2,g):b):(p.flags|=2,g)):(p.flags|=1048576,g)}function l(p){return t&&p.alternate===null&&(p.flags|=2),p}function s(p,g,b,w){return g===null||g.tag!==6?(g=Fh(b,p.mode,w),g.return=p,g):(g=i(g,b),g.return=p,g)}function a(p,g,b,w){var x=b.type;return x===Sl?c(p,g,b.props.children,w,b.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ci&&r0(x)===g.type)?(w=i(g,b.props),w.ref=qs(p,g,b),w.return=p,w):(w=Lc(b.type,b.key,b.props,null,p.mode,w),w.ref=qs(p,g,b),w.return=p,w)}function u(p,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Bh(b,p.mode,w),g.return=p,g):(g=i(g,b.children||[]),g.return=p,g)}function c(p,g,b,w,x){return g===null||g.tag!==7?(g=Io(b,p.mode,w,x),g.return=p,g):(g=i(g,b),g.return=p,g)}function f(p,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Fh(""+g,p.mode,b),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return b=Lc(g.type,g.key,g.props,null,p.mode,b),b.ref=qs(p,null,g),b.return=p,b;case kl:return g=Bh(g,p.mode,b),g.return=p,g;case Ci:var w=g._init;return f(p,w(g._payload),b)}if(ra(g)||js(g))return g=Io(g,p.mode,b,null),g.return=p,g;cc(p,g)}return null}function d(p,g,b,w){var x=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:s(p,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:return b.key===x?a(p,g,b,w):null;case kl:return b.key===x?u(p,g,b,w):null;case Ci:return x=b._init,d(p,g,x(b._payload),w)}if(ra(b)||js(b))return x!==null?null:c(p,g,b,w,null);cc(p,b)}return null}function h(p,g,b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(b)||null,s(g,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zu:return p=p.get(w.key===null?b:w.key)||null,a(g,p,w,x);case kl:return p=p.get(w.key===null?b:w.key)||null,u(g,p,w,x);case Ci:var S=w._init;return h(p,g,b,S(w._payload),x)}if(ra(w)||js(w))return p=p.get(b)||null,c(g,p,w,x,null);cc(g,w)}return null}function m(p,g,b,w){for(var x=null,S=null,T=g,k=g=0,A=null;T!==null&&k<b.length;k++){T.index>k?(A=T,T=null):A=T.sibling;var C=d(p,T,b[k],w);if(C===null){T===null&&(T=A);break}t&&T&&C.alternate===null&&e(p,T),g=o(C,g,k),S===null?x=C:S.sibling=C,S=C,T=A}if(k===b.length)return n(p,T),at&&go(p,k),x;if(T===null){for(;k<b.length;k++)T=f(p,b[k],w),T!==null&&(g=o(T,g,k),S===null?x=T:S.sibling=T,S=T);return at&&go(p,k),x}for(T=r(p,T);k<b.length;k++)A=h(T,p,k,b[k],w),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?k:A.key),g=o(A,g,k),S===null?x=A:S.sibling=A,S=A);return t&&T.forEach(function(E){return e(p,E)}),at&&go(p,k),x}function y(p,g,b,w){var x=js(b);if(typeof x!="function")throw Error(oe(150));if(b=x.call(b),b==null)throw Error(oe(151));for(var S=x=null,T=g,k=g=0,A=null,C=b.next();T!==null&&!C.done;k++,C=b.next()){T.index>k?(A=T,T=null):A=T.sibling;var E=d(p,T,C.value,w);if(E===null){T===null&&(T=A);break}t&&T&&E.alternate===null&&e(p,T),g=o(E,g,k),S===null?x=E:S.sibling=E,S=E,T=A}if(C.done)return n(p,T),at&&go(p,k),x;if(T===null){for(;!C.done;k++,C=b.next())C=f(p,C.value,w),C!==null&&(g=o(C,g,k),S===null?x=C:S.sibling=C,S=C);return at&&go(p,k),x}for(T=r(p,T);!C.done;k++,C=b.next())C=h(T,p,k,C.value,w),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?k:C.key),g=o(C,g,k),S===null?x=C:S.sibling=C,S=C);return t&&T.forEach(function(O){return e(p,O)}),at&&go(p,k),x}function v(p,g,b,w){if(typeof b=="object"&&b!==null&&b.type===Sl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:e:{for(var x=b.key,S=g;S!==null;){if(S.key===x){if(x=b.type,x===Sl){if(S.tag===7){n(p,S.sibling),g=i(S,b.props.children),g.return=p,p=g;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ci&&r0(x)===S.type){n(p,S.sibling),g=i(S,b.props),g.ref=qs(p,S,b),g.return=p,p=g;break e}n(p,S);break}else e(p,S);S=S.sibling}b.type===Sl?(g=Io(b.props.children,p.mode,w,b.key),g.return=p,p=g):(w=Lc(b.type,b.key,b.props,null,p.mode,w),w.ref=qs(p,g,b),w.return=p,p=w)}return l(p);case kl:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(p,g.sibling),g=i(g,b.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Bh(b,p.mode,w),g.return=p,p=g}return l(p);case Ci:return S=b._init,v(p,g,S(b._payload),w)}if(ra(b))return m(p,g,b,w);if(js(b))return y(p,g,b,w);cc(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,b),g.return=p,p=g):(n(p,g),g=Fh(b,p.mode,w),g.return=p,p=g),l(p)):n(p,g)}return v}var Zl=qk(!0),Uk=qk(!1),Iu={},Mr=oo(Iu),lu=oo(Iu),su=oo(Iu);function _o(t){if(t===Iu)throw Error(oe(174));return t}function Zg(t,e){switch(Ze(su,e),Ze(lu,t),Ze(Mr,Iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vp(e,t)}lt(Mr),Ze(Mr,e)}function es(){lt(Mr),lt(lu),lt(su)}function Vk(t){_o(su.current);var e=_o(Mr.current),n=Vp(e,t.type);e!==n&&(Ze(lu,t),Ze(Mr,n))}function ey(t){lu.current===t&&(lt(Mr),lt(lu))}var ft=oo(0);function Df(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function ty(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Mc=ai.ReactCurrentDispatcher,Ih=ai.ReactCurrentBatchConfig,Wo=0,dt=null,_t=null,Rt=null,Lf=!1,Ra=!1,au=0,OA=0;function Yt(){throw Error(oe(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,i,o){if(Wo=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?_A:AA,t=n(r,i),Ra){o=0;do{if(Ra=!1,au=0,25<=o)throw Error(oe(301));o+=1,Rt=_t=null,e.updateQueue=null,Mc.current=MA,t=n(r,i)}while(Ra)}if(Mc.current=jf,e=_t!==null&&_t.next!==null,Wo=0,Rt=_t=dt=null,Lf=!1,e)throw Error(oe(300));return t}function iy(){var t=au!==0;return au=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?dt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Jn(){if(_t===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Rt===null?dt.memoizedState:Rt.next;if(e!==null)Rt=e,_t=t;else{if(t===null)throw Error(oe(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?dt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function uu(t,e){return typeof e=="function"?e(t):e}function Dh(t){var e=Jn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var c=u.lane;if((Wo&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=f,l=r):a=a.next=f,dt.lanes|=c,Ho|=c}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,fr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,Ho|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=Jn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);fr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Wk(){}function Hk(t,e){var n=dt,r=Jn(),i=e(),o=!fr(r.memoizedState,i);if(o&&(r.memoizedState=i,yn=!0),r=r.queue,oy(Gk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,cu(9,Yk.bind(null,n,r,i,e),void 0,null),It===null)throw Error(oe(349));Wo&30||Kk(n,e,i)}return i}function Kk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yk(t,e,n,r){e.value=n,e.getSnapshot=r,Jk(e)&&Qk(t)}function Gk(t,e,n){return n(function(){Jk(e)&&Qk(t)})}function Jk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function Qk(t){var e=ii(t,1);e!==null&&cr(e,t,1,-1)}function i0(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=NA.bind(null,dt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xk(){return Jn().memoizedState}function Pc(t,e,n,r){var i=Er();dt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(_t!==null){var l=_t.memoizedState;if(o=l.destroy,r!==null&&ny(r,l.deps)){i.memoizedState=cu(e,n,o,r);return}}dt.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function o0(t,e){return Pc(8390656,8,t,e)}function oy(t,e){return Sd(2048,8,t,e)}function Zk(t,e){return Sd(4,2,t,e)}function eS(t,e){return Sd(4,4,t,e)}function tS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nS(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,tS.bind(null,e,t),n)}function ly(){}function rS(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iS(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oS(t,e,n){return Wo&21?(fr(n,e)||(n=ak(),dt.lanes|=n,Ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function TA(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Ih.transition;Ih.transition={};try{t(!1),e()}finally{Je=n,Ih.transition=r}}function lS(){return Jn().memoizedState}function CA(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sS(t))aS(e,n);else if(n=zk(t,e,n,r),n!==null){var i=sn();cr(n,t,r,i),uS(n,e,r)}}function NA(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sS(t))aS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,fr(s,l)){var a=e.interleaved;a===null?(i.next=i,Qg(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=zk(t,e,i,r),n!==null&&(i=sn(),cr(n,t,r,i),uS(n,e,r))}}function sS(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function aS(t,e){Ra=Lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}var jf={readContext:Gn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},_A={readContext:Gn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4194308,4,tS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CA.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:i0,useDebugValue:ly,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=i0(!1),e=t[0];return t=TA.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=Er();if(at){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),It===null)throw Error(oe(349));Wo&30||Kk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,o0(Gk.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,Yk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Er(),e=It.identifierPrefix;if(at){var n=Jr,r=Gr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AA={readContext:Gn,useCallback:rS,useContext:Gn,useEffect:oy,useImperativeHandle:nS,useInsertionEffect:Zk,useLayoutEffect:eS,useMemo:iS,useReducer:Dh,useRef:Xk,useState:function(){return Dh(uu)},useDebugValue:ly,useDeferredValue:function(t){var e=Jn();return oS(e,_t.memoizedState,t)},useTransition:function(){var t=Dh(uu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Wk,useSyncExternalStore:Hk,useId:lS,unstable_isNewReconciler:!1},MA={readContext:Gn,useCallback:rS,useContext:Gn,useEffect:oy,useImperativeHandle:nS,useInsertionEffect:Zk,useLayoutEffect:eS,useMemo:iS,useReducer:Lh,useRef:Xk,useState:function(){return Lh(uu)},useDebugValue:ly,useDeferredValue:function(t){var e=Jn();return _t===null?e.memoizedState=t:oS(e,_t.memoizedState,t)},useTransition:function(){var t=Lh(uu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Wk,useSyncExternalStore:Hk,useId:lS,unstable_isNewReconciler:!1};function ts(t,e){try{var n="",r=e;do n+=o_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PA=typeof WeakMap=="function"?WeakMap:Map;function cS(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ff||(Ff=!0,Sm=r),hm(t,e)},n}function fS(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hm(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function l0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HA.bind(null,t,e,n),e.then(t,t))}function s0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var RA=ai.ReactCurrentOwner,yn=!1;function ln(t,e,n,r){e.child=t===null?Uk(e,null,n,r):Zl(e,t.child,n,r)}function u0(t,e,n,r,i){n=n.render;var o=e.ref;return Bl(e,i),r=ry(t,e,n,r,o,i),n=iy(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(at&&n&&Wg(e),e.flags|=1,ln(t,e,r,i),e.child)}function c0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!py(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dS(t,e,o,r,i)):(t=Lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(l,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Yi(o,r),t.ref=e.ref,t.return=e,e.child=t}function dS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nu(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,oi(t,e,i)}return pm(t,e,n,r,i)}function hS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Rl,Tn),Tn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Rl,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(Rl,Tn),Tn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(Rl,Tn),Tn|=r;return ln(t,e,i,n),e.child}function pS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,i){var o=wn(n)?Uo:nn.current;return o=Ql(e,o),Bl(e,i),n=ry(t,e,n,r,o,i),r=iy(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(at&&r&&Wg(e),e.flags|=1,ln(t,e,n,i),e.child)}function f0(t,e,n,r,i){if(wn(n)){var o=!0;_f(e)}else o=!1;if(Bl(e,i),e.stateNode===null)Rc(t,e),$k(e,n,r),dm(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=wn(n)?Uo:nn.current,u=Ql(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&n0(e,l,r,u),Ni=!1;var d=e.memoizedState;l.state=d,If(e,r,l,i),a=e.memoizedState,s!==r||d!==a||vn.current||Ni?(typeof c=="function"&&(fm(e,n,c,r),a=e.memoizedState),(s=Ni||t0(e,n,s,r,d,a,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Fk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:rr(e.type,s),l.props=u,f=e.pendingProps,d=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Gn(a):(a=wn(n)?Uo:nn.current,a=Ql(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==f||d!==a)&&n0(e,l,r,a),Ni=!1,d=e.memoizedState,l.state=d,If(e,r,l,i);var m=e.memoizedState;s!==f||d!==m||vn.current||Ni?(typeof h=="function"&&(fm(e,n,h,r),m=e.memoizedState),(u=Ni||t0(e,n,u,r,d,m,a)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,m,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,m,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),l.props=r,l.state=m,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,o,i)}function mm(t,e,n,r,i,o){pS(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&J1(e,n,!1),oi(t,e,o);r=e.stateNode,RA.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Zl(e,t.child,null,o),e.child=Zl(e,null,s,o)):ln(t,e,s,o),e.memoizedState=r.state,i&&J1(e,n,!0),e.child}function mS(t){var e=t.stateNode;e.pendingContext?G1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G1(t,e.context,!1),Zg(t,e.containerInfo)}function d0(t,e,n,r,i){return Xl(),Kg(i),e.flags|=256,ln(t,e,n,r),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function gS(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Td(l,r,0,null),t=Io(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ym(n),e.memoizedState=gm,t):sy(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return IA(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Yi(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Yi(s,o):(o=Io(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?ym(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=gm,r}return o=t.child,t=o.sibling,r=Yi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sy(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fc(t,e,n,r){return r!==null&&Kg(r),Zl(e,t.child,null,n),t=sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IA(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=jh(Error(oe(422))),fc(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Td({mode:"visible",children:r.children},i,0,null),o=Io(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zl(e,t.child,null,l),e.child.memoizedState=ym(l),e.memoizedState=gm,o);if(!(e.mode&1))return fc(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(oe(419)),r=jh(o,r,void 0),fc(t,e,l,r)}if(s=(l&t.childLanes)!==0,yn||s){if(r=It,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ii(t,i),cr(r,t,i,-1))}return hy(),r=jh(Error(oe(421))),fc(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,_n=Vi(i.nextSibling),Mn=e,at=!0,lr=null,t!==null&&(qn[Un++]=Gr,qn[Un++]=Jr,qn[Un++]=Vo,Gr=t.id,Jr=t.overflow,Vo=e),e=sy(e,r.children),e.flags|=4096,e)}function h0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cm(t.return,e,n)}function zh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function yS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ln(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,n,e);else if(t.tag===19)h0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Df(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Df(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zh(e,!0,n,null,o);break;case"together":zh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DA(t,e,n){switch(e.tag){case 3:mS(e),Xl();break;case 5:Vk(e);break;case 1:wn(e.type)&&_f(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Pf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?gS(t,e,n):(Ze(ft,ft.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,hS(t,e,n)}return oi(t,e,n)}var vS,vm,wS,bS;vS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};wS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_o(Mr.current);var o=null;switch(n){case"input":i=Bp(t,i),r=Bp(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Up(t,i),r=Up(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cf)}Wp(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&rt("scroll",t),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};bS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LA(t,e,n){var r=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return wn(e.type)&&Nf(),Gt(e),null;case 3:return r=e.stateNode,es(),lt(vn),lt(nn),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Tm(lr),lr=null))),vm(t,e),Gt(e),null;case 5:ey(e);var i=_o(su.current);if(n=e.type,t!==null&&e.stateNode!=null)wS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Gt(e),null}if(t=_o(Mr.current),uc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cr]=e,r[ou]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<oa.length;i++)rt(oa[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":k1(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":E1(r,o),rt("invalid",r)}Wp(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,s,t),i=["children",""+s]):Ga.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&rt("scroll",r)}switch(n){case"input":ec(r),S1(r,o,!0);break;case"textarea":ec(r),O1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Cr]=e,t[ou]=r,vS(t,e,!1,!1),e.stateNode=t;e:{switch(l=Hp(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<oa.length;i++)rt(oa[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":k1(t,r),i=Bp(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",t);break;case"textarea":E1(t,r),i=Up(t,r),rt("invalid",t);break;default:i=r}Wp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?Jx(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yx(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ja(t,a):typeof a=="number"&&Ja(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ga.hasOwnProperty(o)?a!=null&&o==="onScroll"&&rt("scroll",t):a!=null&&Mg(t,o,a,l))}switch(n){case"input":ec(t),S1(t,r,!1);break;case"textarea":ec(t),O1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+eo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ll(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)bS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=_o(su.current),_o(Mr.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return Gt(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&_n!==null&&e.mode&1&&!(e.flags&128))jk(),Xl(),e.flags|=98560,o=!1;else if(o=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Cr]=e}else Xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else lr!==null&&(Tm(lr),lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?At===0&&(At=3):hy())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return es(),vm(t,e),t===null&&ru(e.stateNode.containerInfo),Gt(e),null;case 10:return Jg(e.type._context),Gt(e),null;case 17:return wn(e.type)&&Nf(),Gt(e),null;case 19:if(lt(ft),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)Us(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Df(t),l!==null){for(e.flags|=128,Us(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>ns&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304)}else{if(!r)if(t=Df(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!at)return Gt(e),null}else 2*bt()-o.renderingStartTime>ns&&n!==1073741824&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function jA(t,e){switch(Hg(e),e.tag){case 1:return wn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(),lt(vn),lt(nn),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return es(),null;case 10:return Jg(e.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var dc=!1,Qt=!1,zA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Pl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){yt(t,e,r)}}var p0=!1;function FA(t,e){if(nm=Ef,t=Ek(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=l+i),f!==o||r!==0&&f.nodeType!==3||(a=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=l),d===o&&++c===r&&(a=l),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},Ef=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:rr(e.type,y),v);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(w){yt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return m=p0,p0=!1,m}function Ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&wm(e,n,o)}i=i.next}while(i!==r)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xS(t){var e=t.alternate;e!==null&&(t.alternate=null,xS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[ou],delete e[lm],delete e[xA],delete e[kA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kS(t){return t.tag===5||t.tag===3||t.tag===4}function m0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cf));else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var zt=null,ir=!1;function pi(t,e,n){for(n=n.child;n!==null;)SS(t,e,n),n=n.sibling}function SS(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(gd,n)}catch{}switch(n.tag){case 5:Qt||Pl(n,e);case 6:var r=zt,i=ir;zt=null,pi(t,e,n),zt=r,ir=i,zt!==null&&(ir?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(ir?(t=zt,n=n.stateNode,t.nodeType===8?Mh(t.parentNode,n):t.nodeType===1&&Mh(t,n),eu(t)):Mh(zt,n.stateNode));break;case 4:r=zt,i=ir,zt=n.stateNode.containerInfo,ir=!0,pi(t,e,n),zt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&wm(n,e,l),i=i.next}while(i!==r)}pi(t,e,n);break;case 1:if(!Qt&&(Pl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yt(n,e,s)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,pi(t,e,n),Qt=r):pi(t,e,n);break;default:pi(t,e,n)}}function g0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zA),e.forEach(function(r){var i=YA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:zt=s.stateNode,ir=!1;break e;case 3:zt=s.stateNode.containerInfo,ir=!0;break e;case 4:zt=s.stateNode.containerInfo,ir=!0;break e}s=s.return}if(zt===null)throw Error(oe(160));SS(o,l,i),zt=null,ir=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ES(e,t),e=e.sibling}function ES(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),br(t),r&4){try{Ia(3,t,t.return),Ed(3,t)}catch(y){yt(t,t.return,y)}try{Ia(5,t,t.return)}catch(y){yt(t,t.return,y)}}break;case 1:tr(e,t),br(t),r&512&&n!==null&&Pl(n,n.return);break;case 5:if(tr(e,t),br(t),r&512&&n!==null&&Pl(n,n.return),t.flags&32){var i=t.stateNode;try{Ja(i,"")}catch(y){yt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Wx(i,o),Hp(s,l);var u=Hp(s,o);for(l=0;l<a.length;l+=2){var c=a[l],f=a[l+1];c==="style"?Jx(i,f):c==="dangerouslySetInnerHTML"?Yx(i,f):c==="children"?Ja(i,f):Mg(i,c,f,u)}switch(s){case"input":$p(i,o);break;case"textarea":Hx(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ll(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ll(i,!!o.multiple,o.defaultValue,!0):Ll(i,!!o.multiple,o.multiple?[]:"",!1))}i[ou]=o}catch(y){yt(t,t.return,y)}}break;case 6:if(tr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){yt(t,t.return,y)}}break;case 3:if(tr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(y){yt(t,t.return,y)}break;case 4:tr(e,t),br(t);break;case 13:tr(e,t),br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cy=bt())),r&4&&g0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||c,tr(e,t),Qt=u):tr(e,t),br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(pe=t,c=t.child;c!==null;){for(f=pe=c;pe!==null;){switch(d=pe,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ia(4,d,d.return);break;case 1:Pl(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){yt(r,n,y)}}break;case 5:Pl(d,d.return);break;case 22:if(d.memoizedState!==null){v0(f);continue}}h!==null?(h.return=d,pe=h):v0(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,a=f.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Gx("display",l))}catch(y){yt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){yt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),br(t),r&4&&g0(t);break;case 21:break;default:tr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kS(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ja(i,""),r.flags&=-33);var o=m0(t);km(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=m0(t);xm(t,s,l);break;default:throw Error(oe(161))}}catch(a){yt(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BA(t,e,n){pe=t,OS(t)}function OS(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||dc;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Qt;s=dc;var u=Qt;if(dc=l,(Qt=a)&&!u)for(pe=i;pe!==null;)l=pe,a=l.child,l.tag===22&&l.memoizedState!==null?w0(i):a!==null?(a.return=l,pe=a):w0(i);for(;o!==null;)pe=o,OS(o),o=o.sibling;pe=i,dc=s,Qt=u}y0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):y0(t)}}function y0(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Ed(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&e0(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e0(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Qt||e.flags&512&&bm(e)}catch(d){yt(e,e.return,d)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function v0(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function w0(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ed(4,e)}catch(a){yt(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){yt(e,i,a)}}var o=e.return;try{bm(e)}catch(a){yt(e,o,a)}break;case 5:var l=e.return;try{bm(e)}catch(a){yt(e,l,a)}}}catch(a){yt(e,e.return,a)}if(e===t){pe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,pe=s;break}pe=e.return}}var $A=Math.ceil,zf=ai.ReactCurrentDispatcher,ay=ai.ReactCurrentOwner,Kn=ai.ReactCurrentBatchConfig,$e=0,It=null,Ot=null,Vt=0,Tn=0,Rl=oo(0),At=0,fu=null,Ho=0,Od=0,uy=0,Da=null,gn=null,cy=0,ns=1/0,Wr=null,Ff=!1,Sm=null,Hi=null,hc=!1,Li=null,Bf=0,La=0,Em=null,Ic=-1,Dc=0;function sn(){return $e&6?bt():Ic!==-1?Ic:Ic=bt()}function Ki(t){return t.mode&1?$e&2&&Vt!==0?Vt&-Vt:EA.transition!==null?(Dc===0&&(Dc=ak()),Dc):(t=Je,t!==0||(t=window.event,t=t===void 0?16:mk(t.type)),t):1}function cr(t,e,n,r){if(50<La)throw La=0,Em=null,Error(oe(185));Mu(t,n,r),(!($e&2)||t!==It)&&(t===It&&(!($e&2)&&(Od|=n),At===4&&Ri(t,Vt)),bn(t,r),n===1&&$e===0&&!(e.mode&1)&&(ns=bt()+500,xd&&lo()))}function bn(t,e){var n=t.callbackNode;E_(t,e);var r=Sf(t,t===It?Vt:0);if(r===0)n!==null&&N1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&N1(n),e===1)t.tag===0?SA(b0.bind(null,t)):Ik(b0.bind(null,t)),wA(function(){!($e&6)&&lo()}),n=null;else{switch(uk(r)){case 1:n=Lg;break;case 4:n=lk;break;case 16:n=kf;break;case 536870912:n=sk;break;default:n=kf}n=RS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(Ic=-1,Dc=0,$e&6)throw Error(oe(327));var n=t.callbackNode;if($l()&&t.callbackNode!==n)return null;var r=Sf(t,t===It?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$f(t,r);else{e=r;var i=$e;$e|=2;var o=NS();(It!==t||Vt!==e)&&(Wr=null,ns=bt()+500,Ro(t,e));do try{VA();break}catch(s){CS(t,s)}while(1);Gg(),zf.current=o,$e=i,Ot!==null?e=0:(It=null,Vt=0,e=At)}if(e!==0){if(e===2&&(i=Qp(t),i!==0&&(r=i,e=Om(t,i))),e===1)throw n=fu,Ro(t,0),Ri(t,r),bn(t,bt()),n;if(e===6)Ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!qA(i)&&(e=$f(t,r),e===2&&(o=Qp(t),o!==0&&(r=o,e=Om(t,o))),e===1))throw n=fu,Ro(t,0),Ri(t,r),bn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:yo(t,gn,Wr);break;case 3:if(Ri(t,r),(r&130023424)===r&&(e=cy+500-bt(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=om(yo.bind(null,t,gn,Wr),e);break}yo(t,gn,Wr);break;case 4:if(Ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-ur(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$A(r/1960))-r,10<r){t.timeoutHandle=om(yo.bind(null,t,gn,Wr),r);break}yo(t,gn,Wr);break;case 5:yo(t,gn,Wr);break;default:throw Error(oe(329))}}}return bn(t,bt()),t.callbackNode===n?TS.bind(null,t):null}function Om(t,e){var n=Da;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=$f(t,e),t!==2&&(e=gn,gn=n,e!==null&&Tm(e)),t}function Tm(t){gn===null?gn=t:gn.push.apply(gn,t)}function qA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~uy,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function b0(t){if($e&6)throw Error(oe(327));$l();var e=Sf(t,0);if(!(e&1))return bn(t,bt()),null;var n=$f(t,e);if(t.tag!==0&&n===2){var r=Qp(t);r!==0&&(e=r,n=Om(t,r))}if(n===1)throw n=fu,Ro(t,0),Ri(t,e),bn(t,bt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,gn,Wr),bn(t,bt()),null}function fy(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(ns=bt()+500,xd&&lo())}}function Ko(t){Li!==null&&Li.tag===0&&!($e&6)&&$l();var e=$e;$e|=1;var n=Kn.transition,r=Je;try{if(Kn.transition=null,Je=1,t)return t()}finally{Je=r,Kn.transition=n,$e=e,!($e&6)&&lo()}}function dy(){Tn=Rl.current,lt(Rl)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vA(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:es(),lt(vn),lt(nn),ty();break;case 5:ey(r);break;case 4:es();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Jg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(It=t,Ot=t=Yi(t.current,null),Vt=Tn=e,At=0,fu=null,uy=Od=Ho=0,gn=Da=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}No=null}return t}function CS(t,e){do{var n=Ot;try{if(Gg(),Mc.current=jf,Lf){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lf=!1}if(Wo=0,Rt=_t=dt=null,Ra=!1,au=0,ay.current=null,n===null||n.return===null){At=1,fu=e,Ot=null;break}e:{var o=t,l=n.return,s=n,a=e;if(e=Vt,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=s0(l);if(h!==null){h.flags&=-257,a0(h,l,s,o,e),h.mode&1&&l0(o,u,e),e=h,a=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(a),e.updateQueue=y}else m.add(a);break e}else{if(!(e&1)){l0(o,u,e),hy();break e}a=Error(oe(426))}}else if(at&&s.mode&1){var v=s0(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),a0(v,l,s,o,e),Kg(ts(a,s));break e}}o=a=ts(a,s),At!==4&&(At=2),Da===null?Da=[o]:Da.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=cS(o,a,e);Z1(o,p);break e;case 1:s=a;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hi===null||!Hi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=fS(o,s,e);Z1(o,w);break e}}o=o.return}while(o!==null)}AS(n)}catch(x){e=x,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(1)}function NS(){var t=zf.current;return zf.current=jf,t===null?jf:t}function hy(){(At===0||At===3||At===2)&&(At=4),It===null||!(Ho&268435455)&&!(Od&268435455)||Ri(It,Vt)}function $f(t,e){var n=$e;$e|=2;var r=NS();(It!==t||Vt!==e)&&(Wr=null,Ro(t,e));do try{UA();break}catch(i){CS(t,i)}while(1);if(Gg(),$e=n,zf.current=r,Ot!==null)throw Error(oe(261));return It=null,Vt=0,At}function UA(){for(;Ot!==null;)_S(Ot)}function VA(){for(;Ot!==null&&!m_();)_S(Ot)}function _S(t){var e=PS(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?AS(t):Ot=e,ay.current=null}function AS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jA(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Ot=null;return}}else if(n=LA(n,e,Tn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);At===0&&(At=5)}function yo(t,e,n){var r=Je,i=Kn.transition;try{Kn.transition=null,Je=1,WA(t,e,n,r)}finally{Kn.transition=i,Je=r}return null}function WA(t,e,n,r){do $l();while(Li!==null);if($e&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(O_(t,o),t===It&&(Ot=It=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,RS(kf,function(){return $l(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var l=Je;Je=1;var s=$e;$e|=4,ay.current=null,FA(t,n),ES(n,t),fA(rm),Ef=!!nm,rm=nm=null,t.current=n,BA(n),g_(),$e=s,Je=l,Kn.transition=o}else t.current=n;if(hc&&(hc=!1,Li=t,Bf=i),o=t.pendingLanes,o===0&&(Hi=null),w_(n.stateNode),bn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ff)throw Ff=!1,t=Sm,Sm=null,t;return Bf&1&&t.tag!==0&&$l(),o=t.pendingLanes,o&1?t===Em?La++:(La=0,Em=t):La=0,lo(),null}function $l(){if(Li!==null){var t=uk(Bf),e=Kn.transition,n=Je;try{if(Kn.transition=null,Je=16>t?16:t,Li===null)var r=!1;else{if(t=Li,Li=null,Bf=0,$e&6)throw Error(oe(331));var i=$e;for($e|=4,pe=t.current;pe!==null;){var o=pe,l=o.child;if(pe.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(pe=u;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:Ia(8,c,o)}var f=c.child;if(f!==null)f.return=c,pe=f;else for(;pe!==null;){c=pe;var d=c.sibling,h=c.return;if(xS(c),c===u){pe=null;break}if(d!==null){d.return=h,pe=d;break}pe=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}pe=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,pe=l;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ia(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,pe=p;break e}pe=o.return}}var g=t.current;for(pe=g;pe!==null;){l=pe;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,pe=b;else e:for(l=g;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ed(9,s)}}catch(x){yt(s,s.return,x)}if(s===l){pe=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,pe=w;break e}pe=s.return}}if($e=i,lo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(gd,t)}catch{}r=!0}return r}finally{Je=n,Kn.transition=e}}return!1}function x0(t,e,n){e=ts(n,e),e=cS(t,e,1),t=Wi(t,e,1),e=sn(),t!==null&&(Mu(t,1,e),bn(t,e))}function yt(t,e,n){if(t.tag===3)x0(t,t,n);else for(;e!==null;){if(e.tag===3){x0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=ts(n,t),t=fS(e,t,1),e=Wi(e,t,1),t=sn(),e!==null&&(Mu(e,1,t),bn(e,t));break}}e=e.return}}function HA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Vt&n)===n&&(At===4||At===3&&(Vt&130023424)===Vt&&500>bt()-cy?Ro(t,0):uy|=n),bn(t,e)}function MS(t,e){e===0&&(t.mode&1?(e=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):e=1);var n=sn();t=ii(t,e),t!==null&&(Mu(t,e,n),bn(t,n))}function KA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MS(t,n)}function YA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),MS(t,n)}var PS;PS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,DA(t,e,n);yn=!!(t.flags&131072)}else yn=!1,at&&e.flags&1048576&&Dk(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=Ql(e,nn.current);Bl(e,n),i=ry(null,e,r,t,i,n);var o=iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,_f(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=kd,e.stateNode=i,i._reactInternals=e,dm(e,r,t,n),e=mm(null,e,r,!0,o,n)):(e.tag=0,at&&o&&Wg(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JA(r),t=rr(r,t),i){case 0:e=pm(null,e,r,t,n);break e;case 1:e=f0(null,e,r,t,n);break e;case 11:e=u0(null,e,r,t,n);break e;case 14:e=c0(null,e,r,rr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),f0(t,e,r,i,n);case 3:e:{if(mS(e),t===null)throw Error(oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Fk(t,e),If(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ts(Error(oe(423)),e),e=d0(t,e,r,n,i);break e}else if(r!==i){i=ts(Error(oe(424)),e),e=d0(t,e,r,n,i);break e}else for(_n=Vi(e.stateNode.containerInfo.firstChild),Mn=e,at=!0,lr=null,n=Uk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xl(),r===i){e=oi(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return Vk(e),t===null&&um(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,im(r,i)?l=null:o!==null&&im(r,o)&&(e.flags|=32),pS(t,e),ln(t,e,l,n),e.child;case 6:return t===null&&um(e),null;case 13:return gS(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zl(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),u0(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,Ze(Pf,r._currentValue),r._currentValue=l,o!==null)if(fr(o.value,l)){if(o.children===i.children&&!vn.current){e=oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Xr(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cm(o.return,n,e),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(oe(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),cm(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bl(e,n),i=Gn(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),c0(t,e,r,i,n);case 15:return dS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Rc(t,e),e.tag=1,wn(r)?(t=!0,_f(e)):t=!1,Bl(e,n),$k(e,r,i),dm(e,r,i,n),mm(null,e,r,!0,t,n);case 19:return yS(t,e,n);case 22:return hS(t,e,n)}throw Error(oe(156,e.tag))};function RS(t,e){return ok(t,e)}function GA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new GA(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JA(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rg)return 11;if(t===Ig)return 14}return 2}function Yi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")py(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Sl:return Io(n.children,i,o,e);case Pg:l=8,i|=8;break;case Lp:return t=Hn(12,n,e,i|2),t.elementType=Lp,t.lanes=o,t;case jp:return t=Hn(13,n,e,i),t.elementType=jp,t.lanes=o,t;case zp:return t=Hn(19,n,e,i),t.elementType=zp,t.lanes=o,t;case qx:return Td(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bx:l=10;break e;case $x:l=9;break e;case Rg:l=11;break e;case Ig:l=14;break e;case Ci:l=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Hn(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Io(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Td(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=qx,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function my(t,e,n,r,i,o,l,s,a){return t=new QA(t,e,n,s,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(o),t}function XA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return to;t=t._reactInternals;e:{if(el(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(wn(n))return Rk(t,n,e)}return e}function DS(t,e,n,r,i,o,l,s,a){return t=my(n,r,!0,t,i,o,l,s,a),t.context=IS(null),n=t.current,r=sn(),i=Ki(n),o=Xr(r,i),o.callback=e??null,Wi(n,o,i),t.current.lanes=i,Mu(t,i,r),bn(t,r),t}function Cd(t,e,n,r){var i=e.current,o=sn(),l=Ki(i);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,l),t!==null&&(cr(t,i,l,o),Ac(t,i,l)),l}function qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gy(t,e){k0(t,e),(t=t.alternate)&&k0(t,e)}function ZA(){return null}var LS=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Nd.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Cd(t,e,null,null)};Nd.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){Cd(null,t,null,null)}),e[ri]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=dk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&pk(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function eM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qf(l);o.call(u)}}var l=DS(e,r,t,0,null,!1,!1,"",S0);return t._reactRootContainer=l,t[ri]=l.current,ru(t.nodeType===8?t.parentNode:t),Ko(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=qf(a);s.call(u)}}var a=my(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=a,t[ri]=a.current,ru(t.nodeType===8?t.parentNode:t),Ko(function(){Cd(e,a,n,r)}),a}function Ad(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=qf(l);s.call(a)}}Cd(e,l,t,i)}else l=eM(n,e,t,i,r);return qf(l)}ck=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ia(e.pendingLanes);n!==0&&(jg(e,n|1),bn(e,bt()),!($e&6)&&(ns=bt()+500,lo()))}break;case 13:Ko(function(){var r=ii(t,1);if(r!==null){var i=sn();cr(r,t,1,i)}}),gy(t,1)}};zg=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=sn();cr(e,t,134217728,n)}gy(t,134217728)}};fk=function(t){if(t.tag===13){var e=Ki(t),n=ii(t,e);if(n!==null){var r=sn();cr(n,t,e,r)}gy(t,e)}};dk=function(){return Je};hk=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Yp=function(t,e,n){switch(e){case"input":if($p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bd(r);if(!i)throw Error(oe(90));Vx(r),$p(r,i)}}}break;case"textarea":Hx(t,n);break;case"select":e=n.value,e!=null&&Ll(t,!!n.multiple,e,!1)}};Zx=fy;ek=Ko;var tM={usingClientEntryPoint:!1,Events:[Ru,Cl,bd,Qx,Xx,fy]},Vs={findFiberByHostInstance:Co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nM={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||ZA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{gd=pc.inject(nM),Ar=pc}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tM;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(oe(200));return XA(t,e,null,n)};Dn.createRoot=function(t,e){if(!vy(t))throw Error(oe(299));var n=!1,r="",i=LS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=my(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,ru(t.nodeType===8?t.parentNode:t),new yy(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=rk(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ko(t)};Dn.hydrate=function(t,e,n){if(!_d(e))throw Error(oe(200));return Ad(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=LS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=DS(e,null,t,1,n??null,i,!1,o,l),t[ri]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nd(e)};Dn.render=function(t,e,n){if(!_d(e))throw Error(oe(200));return Ad(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!_d(t))throw Error(oe(40));return t._reactRootContainer?(Ko(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Dn.unstable_batchedUpdates=fy;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_d(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Ad(t,e,n,!1,r)};Dn.version="18.2.0-next-9e3b772b8-20220608";function jS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jS)}catch(t){console.error(t)}}jS(),Dx.exports=Dn;var ms=Dx.exports;const zS=_u(ms),rM=Ex({__proto__:null,default:zS},[ms]);var E0=ms;Ip.createRoot=E0.createRoot,Ip.hydrateRoot=E0.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ct.apply(this,arguments)}var wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wt||(wt={}));const O0="popstate";function iM(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:l,hash:s}=r.location;return du("",{pathname:o,search:l,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yo(i)}return lM(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oM(){return Math.random().toString(36).substr(2,8)}function T0(t,e){return{usr:t.state,key:t.key,idx:e}}function du(t,e,n,r){return n===void 0&&(n=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:n,key:e&&e.key||r||oM()})}function Yo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,s=wt.Pop,a=null,u=c();u==null&&(u=0,l.replaceState(ct({},l.state,{idx:u}),""));function c(){return(l.state||{idx:null}).idx}function f(){s=wt.Pop;let v=c(),p=v==null?null:v-u;u=v,a&&a({action:s,location:y.location,delta:p})}function d(v,p){s=wt.Push;let g=du(y.location,v,p);n&&n(g,v),u=c()+1;let b=T0(g,u),w=y.createHref(g);try{l.pushState(b,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}o&&a&&a({action:s,location:y.location,delta:1})}function h(v,p){s=wt.Replace;let g=du(y.location,v,p);n&&n(g,v),u=c();let b=T0(g,u),w=y.createHref(g);l.replaceState(b,"",w),o&&a&&a({action:s,location:y.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof v=="string"?v:Yo(v);return g=g.replace(/ $/,"%20"),De(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return s},get location(){return t(i,l)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(O0,f),a=v,()=>{i.removeEventListener(O0,f),a=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(v){return l.go(v)}};return y}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const sM=new Set(["lazy","caseSensitive","path","id","index","children"]);function aM(t){return t.index===!0}function hu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let l=[...n,String(o)],s=typeof i.id=="string"?i.id:l.join("-");if(De(i.index!==!0||!i.children,"Cannot specify children on an index route"),De(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),aM(i)){let a=ct({},i,e(i),{id:s});return r[s]=a,a}else{let a=ct({},i,e(i),{id:s,children:void 0});return r[s]=a,i.children&&(a.children=hu(i.children,e,l,r)),a}})}function Oo(t,e,n){return n===void 0&&(n="/"),jc(t,e,n,!1)}function jc(t,e,n,r){let i=typeof e=="string"?ui(e):e,o=gs(i.pathname||"/",n);if(o==null)return null;let l=FS(t);cM(l);let s=null;for(let a=0;s==null&&a<l.length;++a){let u=xM(o);s=wM(l[a],u,r)}return s}function uM(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function FS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,s)=>{let a={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};a.relativePath.startsWith("/")&&(De(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Zr([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FS(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:yM(u,o.index),routesMeta:c})};return t.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,l);else for(let a of BS(o.path))i(o,l,a)}),e}function BS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=BS(r.join("/")),s=[];return s.push(...l.map(a=>a===""?o:[o,a].join("/"))),i&&s.push(...l),s.map(a=>t.startsWith("/")&&a===""?"/":a)}function cM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fM=/^:[\w-]+$/,dM=3,hM=2,pM=1,mM=10,gM=-2,C0=t=>t==="*";function yM(t,e){let n=t.split("/"),r=n.length;return n.some(C0)&&(r+=gM),e&&(r+=hM),n.filter(i=>!C0(i)).reduce((i,o)=>i+(fM.test(o)?dM:o===""?pM:mM),r)}function vM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wM(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",l=[];for(let s=0;s<r.length;++s){let a=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=N0({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),d=a.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=N0({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:Zr([o,f.pathname]),pathnameBase:EM(Zr([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Zr([o,f.pathnameBase]))}return l}function N0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=s[f]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:t}}function bM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ui(t):t;return{pathname:n?n.startsWith("/")?n:SM(n,e):e,search:OM(r),hash:TM(i)}}function SM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $h(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $S(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Md(t,e){let n=$S(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ui(t):(i=ct({},t),De(!i.pathname||!i.pathname.includes("?"),$h("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),$h("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),$h("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,s;if(l==null)s=n;else{let f=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let a=kM(i,s),u=l&&l!=="/"&&l.endsWith("/"),c=(o||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),EM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Uf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Rd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qS=["post","put","patch","delete"],CM=new Set(qS),NM=["get",...qS],_M=new Set(NM),AM=new Set([301,302,303,307,308]),MM=new Set([307,308]),qh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ws={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),US="remix-router-transitions";function IM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;De(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let B=t.detectErrorBoundary;i=K=>({hasErrorBoundary:B(K)})}else i=RM;let o={},l=hu(t.routes,i,void 0,o),s,a=t.basename||"/",u=t.unstable_dataStrategy||BM,c=t.unstable_patchRoutesOnNavigation,f=ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,h=new Set,m=1e3,y=new Set,v=null,p=null,g=null,b=t.hydrationData!=null,w=Oo(l,t.history.location,a),x=null;if(w==null&&!c){let B=on(404,{pathname:t.history.location.pathname}),{matches:K,route:J}=j0(l);w=K,x={[J.id]:B}}w&&!t.hydrationData&&Hu(w,l,t.history.location.pathname).active&&(w=null);let S;if(w)if(w.some(B=>B.route.lazy))S=!1;else if(!w.some(B=>B.route.loader))S=!0;else if(f.v7_partialHydration){let B=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null,J=ne=>ne.route.loader?typeof ne.route.loader=="function"&&ne.route.loader.hydrate===!0?!1:B&&B[ne.route.id]!==void 0||K&&K[ne.route.id]!==void 0:!0;if(K){let ne=w.findIndex(de=>K[de.route.id]!==void 0);S=w.slice(0,ne+1).every(J)}else S=w.every(J)}else S=t.hydrationData!=null;else if(S=!1,w=[],f.v7_partialHydration){let B=Hu(null,l,t.history.location.pathname);B.active&&B.matches&&(w=B.matches)}let T,k={historyAction:t.history.action,location:t.history.location,matches:w,initialized:S,navigation:qh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},A=wt.Pop,C=!1,E,O=!1,M=new Map,R=null,j=!1,q=!1,U=[],W=new Set,z=new Map,N=0,P=-1,L=new Map,_=new Set,V=new Map,H=new Map,D=new Set,$=new Map,Y=new Map,G=new Map,te;function ce(){if(d=t.history.listen(B=>{let{action:K,location:J,delta:ne}=B;if(te){te(),te=void 0;return}rs(Y.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=f1({currentLocation:k.location,nextLocation:J,historyAction:K});if(de&&ne!=null){let we=new Promise(Te=>{te=Te});t.history.go(ne*-1),Vu(de,{state:"blocked",location:J,proceed(){Vu(de,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),we.then(()=>t.history.go(ne))},reset(){let Te=new Map(k.blockers);Te.set(de,Ws),be({blockers:Te})}});return}return X(K,J)}),n){t2(e,M);let B=()=>n2(e,M);e.addEventListener("pagehide",B),R=()=>e.removeEventListener("pagehide",B)}return k.initialized||X(wt.Pop,k.location,{initialHydration:!0}),T}function Se(){d&&d(),R&&R(),h.clear(),E&&E.abort(),k.fetchers.forEach((B,K)=>hn(K)),k.blockers.forEach((B,K)=>c1(K))}function Oe(B){return h.add(B),()=>h.delete(B)}function be(B,K){K===void 0&&(K={}),k=ct({},k,B);let J=[],ne=[];f.v7_fetcherPersist&&k.fetchers.forEach((de,we)=>{de.state==="idle"&&(D.has(we)?ne.push(we):J.push(we))}),[...h].forEach(de=>de(k,{deletedFetchers:ne,unstable_viewTransitionOpts:K.viewTransitionOpts,unstable_flushSync:K.flushSync===!0})),f.v7_fetcherPersist&&(J.forEach(de=>k.fetchers.delete(de)),ne.forEach(de=>hn(de)))}function Ie(B,K,J){var ne,de;let{flushSync:we}=J===void 0?{}:J,Te=k.actionData!=null&&k.navigation.formMethod!=null&&or(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ne=B.state)==null?void 0:ne._isRedirect)!==!0,ae;K.actionData?Object.keys(K.actionData).length>0?ae=K.actionData:ae=null:Te?ae=k.actionData:ae=null;let ke=K.loaderData?D0(k.loaderData,K.loaderData,K.matches||[],K.errors):k.loaderData,me=k.blockers;me.size>0&&(me=new Map(me),me.forEach((Ye,tt)=>me.set(tt,Ws)));let ge=C===!0||k.navigation.formMethod!=null&&or(k.navigation.formMethod)&&((de=B.state)==null?void 0:de._isRedirect)!==!0;s&&(l=s,s=void 0),j||A===wt.Pop||(A===wt.Push?t.history.push(B,B.state):A===wt.Replace&&t.history.replace(B,B.state));let Ve;if(A===wt.Pop){let Ye=M.get(k.location.pathname);Ye&&Ye.has(B.pathname)?Ve={currentLocation:k.location,nextLocation:B}:M.has(B.pathname)&&(Ve={currentLocation:B,nextLocation:k.location})}else if(O){let Ye=M.get(k.location.pathname);Ye?Ye.add(B.pathname):(Ye=new Set([B.pathname]),M.set(k.location.pathname,Ye)),Ve={currentLocation:k.location,nextLocation:B}}be(ct({},K,{actionData:ae,loaderData:ke,historyAction:A,location:B,initialized:!0,navigation:qh,revalidation:"idle",restoreScrollPosition:h1(B,K.matches||k.matches),preventScrollReset:ge,blockers:me}),{viewTransitionOpts:Ve,flushSync:we===!0}),A=wt.Pop,C=!1,O=!1,j=!1,q=!1,U=[]}async function xt(B,K){if(typeof B=="number"){t.history.go(B);return}let J=Cm(k.location,k.matches,a,f.v7_prependBasename,B,f.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:ne,submission:de,error:we}=_0(f.v7_normalizeFormMethod,!1,J,K),Te=k.location,ae=du(k.location,ne,K&&K.state);ae=ct({},ae,t.history.encodeLocation(ae));let ke=K&&K.replace!=null?K.replace:void 0,me=wt.Push;ke===!0?me=wt.Replace:ke===!1||de!=null&&or(de.formMethod)&&de.formAction===k.location.pathname+k.location.search&&(me=wt.Replace);let ge=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ve=(K&&K.unstable_flushSync)===!0,Ye=f1({currentLocation:Te,nextLocation:ae,historyAction:me});if(Ye){Vu(Ye,{state:"blocked",location:ae,proceed(){Vu(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),xt(B,K)},reset(){let tt=new Map(k.blockers);tt.set(Ye,Ws),be({blockers:tt})}});return}return await X(me,ae,{submission:de,pendingError:we,preventScrollReset:ge,replace:K&&K.replace,enableViewTransition:K&&K.unstable_viewTransition,flushSync:Ve})}function st(){if(Me(),be({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){X(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}X(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:O===!0})}}async function X(B,K,J){E&&E.abort(),E=null,A=B,j=(J&&J.startUninterruptedRevalidation)===!0,TN(k.location,k.matches),C=(J&&J.preventScrollReset)===!0,O=(J&&J.enableViewTransition)===!0;let ne=s||l,de=J&&J.overrideNavigation,we=Oo(ne,K,a),Te=(J&&J.flushSync)===!0,ae=Hu(we,ne,K.pathname);if(ae.active&&ae.matches&&(we=ae.matches),!we){let{error:Fe,notFoundMatches:Mt,route:kt}=hh(K.pathname);Ie(K,{matches:Mt,loaderData:{},errors:{[kt.id]:Fe}},{flushSync:Te});return}if(k.initialized&&!q&&HM(k.location,K)&&!(J&&J.submission&&or(J.submission.formMethod))){Ie(K,{matches:we},{flushSync:Te});return}E=new AbortController;let ke=al(t.history,K,E.signal,J&&J.submission),me;if(J&&J.pendingError)me=[Il(we).route.id,{type:Qe.error,error:J.pendingError}];else if(J&&J.submission&&or(J.submission.formMethod)){let Fe=await Z(ke,K,J.submission,we,ae.active,{replace:J.replace,flushSync:Te});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[Mt,kt]=Fe.pendingActionResult;if(Cn(kt)&&Rd(kt.error)&&kt.error.status===404){E=null,Ie(K,{matches:Fe.matches,loaderData:{},errors:{[Mt]:kt.error}});return}}we=Fe.matches||we,me=Fe.pendingActionResult,de=Uh(K,J.submission),Te=!1,ae.active=!1,ke=al(t.history,ke.url,ke.signal)}let{shortCircuited:ge,matches:Ve,loaderData:Ye,errors:tt}=await se(ke,K,we,ae.active,de,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Te,me);ge||(E=null,Ie(K,ct({matches:Ve||we},L0(me),{loaderData:Ye,errors:tt})))}async function Z(B,K,J,ne,de,we){we===void 0&&(we={}),Me();let Te=ZM(K,J);if(be({navigation:Te},{flushSync:we.flushSync===!0}),de){let me=await Ku(ne,K.pathname,B.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ge,error:Ve}=Wu(K.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ge,{type:Qe.error,error:Ve}]}}else if(me.matches)ne=me.matches;else{let{notFoundMatches:ge,error:Ve,route:Ye}=hh(K.pathname);return{matches:ge,pendingActionResult:[Ye.id,{type:Qe.error,error:Ve}]}}}let ae,ke=la(ne,K);if(!ke.route.action&&!ke.route.lazy)ae={type:Qe.error,error:on(405,{method:B.method,pathname:K.pathname,routeId:ke.route.id})};else if(ae=(await ie("action",k,B,[ke],ne,null))[ke.route.id],B.signal.aborted)return{shortCircuited:!0};if(Ao(ae)){let me;return we&&we.replace!=null?me=we.replace:me=P0(ae.response.headers.get("Location"),new URL(B.url),a)===k.location.pathname+k.location.search,await Q(B,ae,!0,{submission:J,replace:me}),{shortCircuited:!0}}if(ji(ae))throw on(400,{type:"defer-action"});if(Cn(ae)){let me=Il(ne,ke.route.id);return(we&&we.replace)!==!0&&(A=wt.Push),{matches:ne,pendingActionResult:[me.route.id,ae]}}return{matches:ne,pendingActionResult:[ke.route.id,ae]}}async function se(B,K,J,ne,de,we,Te,ae,ke,me,ge){let Ve=de||Uh(K,we),Ye=we||Te||F0(Ve),tt=!j&&(!f.v7_partialHydration||!ke);if(ne){if(tt){let mt=ue(ge);be(ct({navigation:Ve},mt!==void 0?{actionData:mt}:{}),{flushSync:me})}let Re=await Ku(J,K.pathname,B.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let{boundaryId:mt,error:En}=Wu(K.pathname,Re);return{matches:Re.partialMatches,loaderData:{},errors:{[mt]:En}}}else if(Re.matches)J=Re.matches;else{let{error:mt,notFoundMatches:En,route:gt}=hh(K.pathname);return{matches:En,loaderData:{},errors:{[gt.id]:mt}}}}let Fe=s||l,[Mt,kt]=A0(t.history,k,J,Ye,K,f.v7_partialHydration&&ke===!0,f.v7_skipActionErrorRevalidation,q,U,W,D,V,_,Fe,a,ge);if(ph(Re=>!(J&&J.some(mt=>mt.route.id===Re))||Mt&&Mt.some(mt=>mt.route.id===Re)),P=++N,Mt.length===0&&kt.length===0){let Re=zr();return Ie(K,ct({matches:J,loaderData:{},errors:ge&&Cn(ge[1])?{[ge[0]]:ge[1].error}:null},L0(ge),Re?{fetchers:new Map(k.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(tt){let Re={};if(!ne){Re.navigation=Ve;let mt=ue(ge);mt!==void 0&&(Re.actionData=mt)}kt.length>0&&(Re.fetchers=re(kt)),be(Re,{flushSync:me})}kt.forEach(Re=>{z.has(Re.key)&&pn(Re.key),Re.controller&&z.set(Re.key,Re.controller)});let Ls=()=>kt.forEach(Re=>pn(Re.key));E&&E.signal.addEventListener("abort",Ls);let{loaderResults:Fr,fetcherResults:ll}=await fe(k,J,Mt,kt,B);if(B.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Ls),kt.forEach(Re=>z.delete(Re.key));let hi=mc(Fr);if(hi)return await Q(B,hi.result,!0,{replace:ae}),{shortCircuited:!0};if(hi=mc(ll),hi)return _.add(hi.key),await Q(B,hi.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:Yu,errors:Br}=I0(k,J,Mt,Fr,ge,kt,ll,$);$.forEach((Re,mt)=>{Re.subscribe(En=>{(En||Re.done)&&$.delete(mt)})}),f.v7_partialHydration&&ke&&k.errors&&Object.entries(k.errors).filter(Re=>{let[mt]=Re;return!Mt.some(En=>En.route.id===mt)}).forEach(Re=>{let[mt,En]=Re;Br=Object.assign(Br||{},{[mt]:En})});let Gu=zr(),Ju=zn(P),Qu=Gu||Ju||kt.length>0;return ct({matches:J,loaderData:Yu,errors:Br},Qu?{fetchers:new Map(k.fetchers)}:{})}function ue(B){if(B&&!Cn(B[1]))return{[B[0]]:B[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function re(B){return B.forEach(K=>{let J=k.fetchers.get(K.key),ne=Hs(void 0,J?J.data:void 0);k.fetchers.set(K.key,ne)}),new Map(k.fetchers)}function Ne(B,K,J,ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(B)&&pn(B);let de=(ne&&ne.unstable_flushSync)===!0,we=s||l,Te=Cm(k.location,k.matches,a,f.v7_prependBasename,J,f.v7_relativeSplatPath,K,ne==null?void 0:ne.relative),ae=Oo(we,Te,a),ke=Hu(ae,we,Te);if(ke.active&&ke.matches&&(ae=ke.matches),!ae){Ke(B,K,on(404,{pathname:Te}),{flushSync:de});return}let{path:me,submission:ge,error:Ve}=_0(f.v7_normalizeFormMethod,!0,Te,ne);if(Ve){Ke(B,K,Ve,{flushSync:de});return}let Ye=la(ae,me);if(C=(ne&&ne.preventScrollReset)===!0,ge&&or(ge.formMethod)){_e(B,K,me,Ye,ae,ke.active,de,ge);return}V.set(B,{routeId:K,path:me}),Ae(B,K,me,Ye,ae,ke.active,de,ge)}async function _e(B,K,J,ne,de,we,Te,ae){Me(),V.delete(B);function ke(gt){if(!gt.route.action&&!gt.route.lazy){let $r=on(405,{method:ae.formMethod,pathname:J,routeId:K});return Ke(B,K,$r,{flushSync:Te}),!0}return!1}if(!we&&ke(ne))return;let me=k.fetchers.get(B);ve(B,e2(ae,me),{flushSync:Te});let ge=new AbortController,Ve=al(t.history,J,ge.signal,ae);if(we){let gt=await Ku(de,J,Ve.signal);if(gt.type==="aborted")return;if(gt.type==="error"){let{error:$r}=Wu(J,gt);Ke(B,K,$r,{flushSync:Te});return}else if(gt.matches){if(de=gt.matches,ne=la(de,J),ke(ne))return}else{Ke(B,K,on(404,{pathname:J}),{flushSync:Te});return}}z.set(B,ge);let Ye=N,Fe=(await ie("action",k,Ve,[ne],de,B))[ne.route.id];if(Ve.signal.aborted){z.get(B)===ge&&z.delete(B);return}if(f.v7_fetcherPersist&&D.has(B)){if(Ao(Fe)||Cn(Fe)){ve(B,wi(void 0));return}}else{if(Ao(Fe))if(z.delete(B),P>Ye){ve(B,wi(void 0));return}else return _.add(B),ve(B,Hs(ae)),Q(Ve,Fe,!1,{fetcherSubmission:ae});if(Cn(Fe)){Ke(B,K,Fe.error);return}}if(ji(Fe))throw on(400,{type:"defer-action"});let Mt=k.navigation.location||k.location,kt=al(t.history,Mt,ge.signal),Ls=s||l,Fr=k.navigation.state!=="idle"?Oo(Ls,k.navigation.location,a):k.matches;De(Fr,"Didn't find any matches after fetcher action");let ll=++N;L.set(B,ll);let hi=Hs(ae,Fe.data);k.fetchers.set(B,hi);let[Yu,Br]=A0(t.history,k,Fr,ae,Mt,!1,f.v7_skipActionErrorRevalidation,q,U,W,D,V,_,Ls,a,[ne.route.id,Fe]);Br.filter(gt=>gt.key!==B).forEach(gt=>{let $r=gt.key,m1=k.fetchers.get($r),_N=Hs(void 0,m1?m1.data:void 0);k.fetchers.set($r,_N),z.has($r)&&pn($r),gt.controller&&z.set($r,gt.controller)}),be({fetchers:new Map(k.fetchers)});let Gu=()=>Br.forEach(gt=>pn(gt.key));ge.signal.addEventListener("abort",Gu);let{loaderResults:Ju,fetcherResults:Qu}=await fe(k,Fr,Yu,Br,kt);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",Gu),L.delete(B),z.delete(B),Br.forEach(gt=>z.delete(gt.key));let Re=mc(Ju);if(Re)return Q(kt,Re.result,!1);if(Re=mc(Qu),Re)return _.add(Re.key),Q(kt,Re.result,!1);let{loaderData:mt,errors:En}=I0(k,Fr,Yu,Ju,void 0,Br,Qu,$);if(k.fetchers.has(B)){let gt=wi(Fe.data);k.fetchers.set(B,gt)}zn(ll),k.navigation.state==="loading"&&ll>P?(De(A,"Expected pending action"),E&&E.abort(),Ie(k.navigation.location,{matches:Fr,loaderData:mt,errors:En,fetchers:new Map(k.fetchers)})):(be({errors:En,loaderData:D0(k.loaderData,mt,Fr,En),fetchers:new Map(k.fetchers)}),q=!1)}async function Ae(B,K,J,ne,de,we,Te,ae){let ke=k.fetchers.get(B);ve(B,Hs(ae,ke?ke.data:void 0),{flushSync:Te});let me=new AbortController,ge=al(t.history,J,me.signal);if(we){let Fe=await Ku(de,J,ge.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){let{error:Mt}=Wu(J,Fe);Ke(B,K,Mt,{flushSync:Te});return}else if(Fe.matches)de=Fe.matches,ne=la(de,J);else{Ke(B,K,on(404,{pathname:J}),{flushSync:Te});return}}z.set(B,me);let Ve=N,tt=(await ie("loader",k,ge,[ne],de,B))[ne.route.id];if(ji(tt)&&(tt=await by(tt,ge.signal,!0)||tt),z.get(B)===me&&z.delete(B),!ge.signal.aborted){if(D.has(B)){ve(B,wi(void 0));return}if(Ao(tt))if(P>Ve){ve(B,wi(void 0));return}else{_.add(B),await Q(ge,tt,!1);return}if(Cn(tt)){Ke(B,K,tt.error);return}De(!ji(tt),"Unhandled fetcher deferred data"),ve(B,wi(tt.data))}}async function Q(B,K,J,ne){let{submission:de,fetcherSubmission:we,replace:Te}=ne===void 0?{}:ne;K.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ae=K.response.headers.get("Location");De(ae,"Expected a Location header on the redirect Response"),ae=P0(ae,new URL(B.url),a);let ke=du(k.location,ae,{_isRedirect:!0});if(n){let Fe=!1;if(K.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(wy.test(ae)){const Mt=t.history.createURL(ae);Fe=Mt.origin!==e.location.origin||gs(Mt.pathname,a)==null}if(Fe){Te?e.location.replace(ae):e.location.assign(ae);return}}E=null;let me=Te===!0||K.response.headers.has("X-Remix-Replace")?wt.Replace:wt.Push,{formMethod:ge,formAction:Ve,formEncType:Ye}=k.navigation;!de&&!we&&ge&&Ve&&Ye&&(de=F0(k.navigation));let tt=de||we;if(MM.has(K.response.status)&&tt&&or(tt.formMethod))await X(me,ke,{submission:ct({},tt,{formAction:ae}),preventScrollReset:C,enableViewTransition:J?O:void 0});else{let Fe=Uh(ke,de);await X(me,ke,{overrideNavigation:Fe,fetcherSubmission:we,preventScrollReset:C,enableViewTransition:J?O:void 0})}}async function ie(B,K,J,ne,de,we){let Te,ae={};try{Te=await $M(u,B,K,J,ne,de,we,o,i)}catch(ke){return ne.forEach(me=>{ae[me.route.id]={type:Qe.error,error:ke}}),ae}for(let[ke,me]of Object.entries(Te))if(YM(me)){let ge=me.result;ae[ke]={type:Qe.redirect,response:VM(ge,J,ke,de,a,f.v7_relativeSplatPath)}}else ae[ke]=await UM(me);return ae}async function fe(B,K,J,ne,de){let we=B.matches,Te=ie("loader",B,de,J,K,null),ae=Promise.all(ne.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let Ye=(await ie("loader",B,al(t.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:Ye}}else return Promise.resolve({[ge.key]:{type:Qe.error,error:on(404,{pathname:ge.path})}})})),ke=await Te,me=(await ae).reduce((ge,Ve)=>Object.assign(ge,Ve),{});return await Promise.all([QM(K,ke,de.signal,we,B.loaderData),XM(K,me,ne)]),{loaderResults:ke,fetcherResults:me}}function Me(){q=!0,U.push(...ph()),V.forEach((B,K)=>{z.has(K)&&(W.add(K),pn(K))})}function ve(B,K,J){J===void 0&&(J={}),k.fetchers.set(B,K),be({fetchers:new Map(k.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ke(B,K,J,ne){ne===void 0&&(ne={});let de=Il(k.matches,K);hn(B),be({errors:{[de.route.id]:J},fetchers:new Map(k.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function wr(B){return f.v7_fetcherPersist&&(H.set(B,(H.get(B)||0)+1),D.has(B)&&D.delete(B)),k.fetchers.get(B)||PM}function hn(B){let K=k.fetchers.get(B);z.has(B)&&!(K&&K.state==="loading"&&L.has(B))&&pn(B),V.delete(B),L.delete(B),_.delete(B),D.delete(B),W.delete(B),k.fetchers.delete(B)}function ho(B){if(f.v7_fetcherPersist){let K=(H.get(B)||0)-1;K<=0?(H.delete(B),D.add(B)):H.set(B,K)}else hn(B);be({fetchers:new Map(k.fetchers)})}function pn(B){let K=z.get(B);De(K,"Expected fetch controller: "+B),K.abort(),z.delete(B)}function Kt(B){for(let K of B){let J=wr(K),ne=wi(J.data);k.fetchers.set(K,ne)}}function zr(){let B=[],K=!1;for(let J of _){let ne=k.fetchers.get(J);De(ne,"Expected fetcher: "+J),ne.state==="loading"&&(_.delete(J),B.push(J),K=!0)}return Kt(B),K}function zn(B){let K=[];for(let[J,ne]of L)if(ne<B){let de=k.fetchers.get(J);De(de,"Expected fetcher: "+J),de.state==="loading"&&(pn(J),L.delete(J),K.push(J))}return Kt(K),K.length>0}function EN(B,K){let J=k.blockers.get(B)||Ws;return Y.get(B)!==K&&Y.set(B,K),J}function c1(B){k.blockers.delete(B),Y.delete(B)}function Vu(B,K){let J=k.blockers.get(B)||Ws;De(J.state==="unblocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="proceeding"||J.state==="blocked"&&K.state==="unblocked"||J.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+K.state);let ne=new Map(k.blockers);ne.set(B,K),be({blockers:ne})}function f1(B){let{currentLocation:K,nextLocation:J,historyAction:ne}=B;if(Y.size===0)return;Y.size>1&&rs(!1,"A router only supports one blocker at a time");let de=Array.from(Y.entries()),[we,Te]=de[de.length-1],ae=k.blockers.get(we);if(!(ae&&ae.state==="proceeding")&&Te({currentLocation:K,nextLocation:J,historyAction:ne}))return we}function hh(B){let K=on(404,{pathname:B}),J=s||l,{matches:ne,route:de}=j0(J);return ph(),{notFoundMatches:ne,route:de,error:K}}function Wu(B,K){return{boundaryId:Il(K.partialMatches).route.id,error:on(400,{type:"route-discovery",pathname:B,message:K.error!=null&&"message"in K.error?K.error:String(K.error)})}}function ph(B){let K=[];return $.forEach((J,ne)=>{(!B||B(ne))&&(J.cancel(),K.push(ne),$.delete(ne))}),K}function ON(B,K,J){if(v=B,g=K,p=J||null,!b&&k.navigation===qh){b=!0;let ne=h1(k.location,k.matches);ne!=null&&be({restoreScrollPosition:ne})}return()=>{v=null,g=null,p=null}}function d1(B,K){return p&&p(B,K.map(ne=>uM(ne,k.loaderData)))||B.key}function TN(B,K){if(v&&g){let J=d1(B,K);v[J]=g()}}function h1(B,K){if(v){let J=d1(B,K),ne=v[J];if(typeof ne=="number")return ne}return null}function Hu(B,K,J){if(c){if(y.has(J))return{active:!1,matches:B};if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:jc(K,J,a,!0)}}else return{active:!0,matches:jc(K,J,a,!0)||[]}}return{active:!1,matches:null}}async function Ku(B,K,J){let ne=B;for(;;){let de=s==null,we=s||l;try{await zM(c,K,ne,we,o,i,G,J)}catch(ke){return{type:"error",error:ke,partialMatches:ne}}finally{de&&(l=[...l])}if(J.aborted)return{type:"aborted"};let Te=Oo(we,K,a);if(Te)return p1(K,y),{type:"success",matches:Te};let ae=jc(we,K,a,!0);if(!ae||ne.length===ae.length&&ne.every((ke,me)=>ke.route.id===ae[me].route.id))return p1(K,y),{type:"success",matches:null};ne=ae}}function p1(B,K){if(K.size>=m){let J=K.values().next().value;K.delete(J)}K.add(B)}function CN(B){o={},s=hu(B,i,void 0,o)}function NN(B,K){let J=s==null;WS(B,K,s||l,o,i),J&&(l=[...l],be({}))}return T={get basename(){return a},get future(){return f},get state(){return k},get routes(){return l},get window(){return e},initialize:ce,subscribe:Oe,enableScrollRestoration:ON,navigate:xt,fetch:Ne,revalidate:st,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:wr,deleteFetcher:ho,dispose:Se,getBlocker:EN,deleteBlocker:c1,patchRoutes:NN,_internalFetchControllers:z,_internalActiveDeferreds:$,_internalSetRoutes:CN},T}function DM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cm(t,e,n,r,i,o,l,s){let a,u;if(l){a=[];for(let f of e)if(a.push(f),f.route.id===l){u=f;break}}else a=e,u=e[e.length-1];let c=Pd(i||".",Md(a,o),gs(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!xy(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Zr([n,c.pathname])),Yo(c)}function _0(t,e,n,r){if(!r||!DM(r))return{path:n};if(r.formMethod&&!JM(r.formMethod))return{path:n,error:on(405,{method:r.formMethod})};let i=()=>({path:n,error:on(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=t?o.toUpperCase():o.toLowerCase(),s=HS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!or(l))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[y,v]=m;return""+h+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!or(l))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}De(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Nm(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Nm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=R0(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=R0(a)}catch{return i()}let c={formMethod:l,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(or(c.formMethod))return{path:n,submission:c};let f=ui(n);return e&&f.search&&xy(f.search)&&a.append("index",""),f.search="?"+a,{path:Yo(f),submission:c}}function LM(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function A0(t,e,n,r,i,o,l,s,a,u,c,f,d,h,m,y){let v=y?Cn(y[1])?y[1].error:y[1].data:void 0,p=t.createURL(e.location),g=t.createURL(i),b=y&&Cn(y[1])?y[0]:void 0,w=b?LM(n,b):n,x=y?y[1].statusCode:void 0,S=l&&x&&x>=400,T=w.filter((A,C)=>{let{route:E}=A;if(E.lazy)return!0;if(E.loader==null)return!1;if(o)return typeof E.loader!="function"||E.loader.hydrate?!0:e.loaderData[E.id]===void 0&&(!e.errors||e.errors[E.id]===void 0);if(jM(e.loaderData,e.matches[C],A)||a.some(R=>R===A.route.id))return!0;let O=e.matches[C],M=A;return M0(A,ct({currentUrl:p,currentParams:O.params,nextUrl:g,nextParams:M.params},r,{actionResult:v,actionStatus:x,defaultShouldRevalidate:S?!1:s||p.pathname+p.search===g.pathname+g.search||p.search!==g.search||VS(O,M)}))}),k=[];return f.forEach((A,C)=>{if(o||!n.some(j=>j.route.id===A.routeId)||c.has(C))return;let E=Oo(h,A.path,m);if(!E){k.push({key:C,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(C),M=la(E,A.path),R=!1;d.has(C)?R=!1:u.has(C)?(u.delete(C),R=!0):O&&O.state!=="idle"&&O.data===void 0?R=s:R=M0(M,ct({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:x,defaultShouldRevalidate:S?!1:s})),R&&k.push({key:C,routeId:A.routeId,path:A.path,matches:E,match:M,controller:new AbortController})}),[T,k]}function jM(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function VS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function M0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function zM(t,e,n,r,i,o,l,s){let a=[e,...n.map(u=>u.route.id)].join("-");try{let u=l.get(a);u||(u=t({path:e,matches:n,patch:(c,f)=>{s.aborted||WS(c,f,r,i,o)}}),l.set(a,u)),u&&KM(u)&&await u}finally{l.delete(a)}}function WS(t,e,n,r,i){if(t){var o;let l=r[t];De(l,"No route found to patch children into: routeId = "+t);let s=hu(e,i,[t,"patch",String(((o=l.children)==null?void 0:o.length)||"0")],r);l.children?l.children.push(...s):l.children=s}else{let l=hu(e,i,["patch",String(n.length||"0")],r);n.push(...l)}}async function FM(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];De(i,"No route found in manifest");let o={};for(let l in r){let a=i[l]!==void 0&&l!=="hasErrorBoundary";rs(!a,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!a&&!sM.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,ct({},e(i),{lazy:void 0}))}async function BM(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[n[l].route.id]:o}),{})}async function $M(t,e,n,r,i,o,l,s,a,u){let c=o.map(h=>h.route.lazy?FM(h.route,a,s):void 0),f=o.map((h,m)=>{let y=c[m],v=i.some(g=>g.route.id===h.route.id);return ct({},h,{shouldLoad:v,resolve:async g=>(g&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(v=!0),v?qM(e,r,h,y,g,u):Promise.resolve({type:Qe.data,result:void 0}))})}),d=await t({matches:f,request:r,params:o[0].params,fetcherKey:l,context:u});try{await Promise.all(c)}catch{}return d}async function qM(t,e,n,r,i,o){let l,s,a=u=>{let c,f=new Promise((m,y)=>c=y);s=()=>c(),e.signal.addEventListener("abort",s);let d=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},...m!==void 0?[m]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(y=>d(y)):d())}}catch(m){return{type:"error",result:m}}})();return Promise.race([h,f])};try{let u=n.route[t];if(r)if(u){let c,[f]=await Promise.all([a(u).catch(d=>{c=d}),r]);if(c!==void 0)throw c;l=f}else if(await r,u=n.route[t],u)l=await a(u);else if(t==="action"){let c=new URL(e.url),f=c.pathname+c.search;throw on(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Qe.data,result:void 0};else if(u)l=await a(u);else{let c=new URL(e.url),f=c.pathname+c.search;throw on(404,{pathname:f})}De(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Qe.error,result:u}}finally{s&&e.signal.removeEventListener("abort",s)}return l}async function UM(t){let{result:e,type:n}=t;if(KS(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Qe.error,error:c}}return n===Qe.error?{type:Qe.error,error:new Uf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Qe.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Qe.error){if(z0(e)){var r;if(e.data instanceof Error){var i;return{type:Qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Uf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Qe.error,error:e,statusCode:Rd(e)?e.status:void 0}}if(GM(e)){var o,l;return{type:Qe.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(z0(e)){var s,a;return{type:Qe.data,data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Qe.data,data:e}}function VM(t,e,n,r,i,o){let l=t.headers.get("Location");if(De(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!wy.test(l)){let s=r.slice(0,r.findIndex(a=>a.route.id===n)+1);l=Cm(new URL(e.url),s,i,!0,l,o),t.headers.set("Location",l)}return t}function P0(t,e,n){if(wy.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=gs(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function al(t,e,n,r){let i=t.createURL(HS(e)).toString(),o={signal:n};if(r&&or(r.formMethod)){let{formMethod:l,formEncType:s}=r;o.method=l.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=Nm(r.formData):o.body=r.formData}return new Request(i,o)}function Nm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function R0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WM(t,e,n,r,i){let o={},l=null,s,a=!1,u={},c=n&&Cn(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let d=f.route.id,h=e[d];if(De(!Ao(h),"Cannot handle redirect results in processLoaderData"),Cn(h)){let m=h.error;if(c!==void 0&&(m=c,c=void 0),l=l||{},i)l[d]=m;else{let y=Il(t,d);l[y.route.id]==null&&(l[y.route.id]=m)}o[d]=void 0,a||(a=!0,s=Rd(h.error)?h.error.status:500),h.headers&&(u[d]=h.headers)}else ji(h)?(r.set(d,h.deferredData),o[d]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!a&&(s=h.statusCode),h.headers&&(u[d]=h.headers)):(o[d]=h.data,h.statusCode&&h.statusCode!==200&&!a&&(s=h.statusCode),h.headers&&(u[d]=h.headers))}),c!==void 0&&n&&(l={[n[0]]:c},o[n[0]]=void 0),{loaderData:o,errors:l,statusCode:s||200,loaderHeaders:u}}function I0(t,e,n,r,i,o,l,s){let{loaderData:a,errors:u}=WM(e,r,i,s,!1);return o.forEach(c=>{let{key:f,match:d,controller:h}=c,m=l[f];if(De(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Cn(m)){let y=Il(t.matches,d==null?void 0:d.route.id);u&&u[y.route.id]||(u=ct({},u,{[y.route.id]:m.error})),t.fetchers.delete(f)}else if(Ao(m))De(!1,"Unhandled fetcher revalidation redirect");else if(ji(m))De(!1,"Unhandled fetcher deferred data");else{let y=wi(m.data);t.fetchers.set(f,y)}}),{loaderData:a,errors:u}}function D0(t,e,n,r){let i=ct({},e);for(let o of n){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):t[l]!==void 0&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function L0(t){return t?Cn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Il(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function j0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function on(t,e){let{pathname:n,routeId:r,method:i,type:o,message:l}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",o==="route-discovery"?a='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+l):i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Uf(t||500,s,new Error(a),!0)}function mc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ao(i))return{key:r,result:i}}}function HS(t){let e=typeof t=="string"?ui(t):t;return Yo(ct({},e,{hash:""}))}function HM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function KM(t){return typeof t=="object"&&t!=null&&"then"in t}function YM(t){return KS(t.result)&&AM.has(t.result.status)}function ji(t){return t.type===Qe.deferred}function Cn(t){return t.type===Qe.error}function Ao(t){return(t&&t.type)===Qe.redirect}function z0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function GM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function KS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JM(t){return _M.has(t.toLowerCase())}function or(t){return CM.has(t.toLowerCase())}async function QM(t,e,n,r,i){let o=Object.entries(e);for(let l=0;l<o.length;l++){let[s,a]=o[l],u=t.find(d=>(d==null?void 0:d.route.id)===s);if(!u)continue;let c=r.find(d=>d.route.id===u.route.id),f=c!=null&&!VS(c,u)&&(i&&i[u.route.id])!==void 0;ji(a)&&f&&await by(a,n,!1).then(d=>{d&&(e[s]=d)})}}async function XM(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:l}=n[r],s=e[i];t.find(u=>(u==null?void 0:u.route.id)===o)&&ji(s)&&(De(l,"Expected an AbortController for revalidating fetcher deferred result"),await by(s,l.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function by(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:t.deferredData.data}}}function xy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function la(t,e){let n=typeof e=="string"?ui(e).search:e.search;if(t[t.length-1].route.index&&xy(n||""))return t[t.length-1];let r=$S(t);return r[r.length-1]}function F0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Uh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function e2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function wi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function t2(t,e){try{let n=t.sessionStorage.getItem(US);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function n2(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(US,JSON.stringify(n))}catch(r){rs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const Id=I.createContext(null),YS=I.createContext(null),so=I.createContext(null),Dd=I.createContext(null),ci=I.createContext({outlet:null,matches:[],isDataRoute:!1}),GS=I.createContext(null);function r2(t,e){let{relative:n}=e===void 0?{}:e;ys()||De(!1);let{basename:r,navigator:i}=I.useContext(so),{hash:o,pathname:l,search:s}=XS(t,{relative:n}),a=l;return r!=="/"&&(a=l==="/"?r:Zr([r,l])),i.createHref({pathname:a,search:s,hash:o})}function ys(){return I.useContext(Dd)!=null}function vs(){return ys()||De(!1),I.useContext(Dd).location}function JS(t){I.useContext(so).static||I.useLayoutEffect(t)}function tl(){let{isDataRoute:t}=I.useContext(ci);return t?m2():i2()}function i2(){ys()||De(!1);let t=I.useContext(Id),{basename:e,future:n,navigator:r}=I.useContext(so),{matches:i}=I.useContext(ci),{pathname:o}=vs(),l=JSON.stringify(Md(i,n.v7_relativeSplatPath)),s=I.useRef(!1);return JS(()=>{s.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Pd(u,JSON.parse(l),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Zr([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,l,o,t])}function QS(){let{matches:t}=I.useContext(ci),e=t[t.length-1];return e?e.params:{}}function XS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(so),{matches:i}=I.useContext(ci),{pathname:o}=vs(),l=JSON.stringify(Md(i,r.v7_relativeSplatPath));return I.useMemo(()=>Pd(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function o2(t,e,n,r){ys()||De(!1);let{navigator:i}=I.useContext(so),{matches:o}=I.useContext(ci),l=o[o.length-1],s=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let u=vs(),c;if(e){var f;let v=typeof e=="string"?ui(e):e;a==="/"||(f=v.pathname)!=null&&f.startsWith(a)||De(!1),c=v}else c=u;let d=c.pathname||"/",h=d;if(a!=="/"){let v=a.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Oo(t,{pathname:h}),y=c2(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Zr([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Zr([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&y?I.createElement(Dd.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wt.Pop}},y):y}function l2(){let t=p2(),e=Rd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}const s2=I.createElement(l2,null);class a2 extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(ci.Provider,{value:this.props.routeContext},I.createElement(GS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u2(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(Id);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(ci.Provider,{value:e},r)}function c2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=l.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||De(!1),l=l.slice(0,Math.min(l.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<l.length;c++){let f=l[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){a=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((c,f,d)=>{let h,m=!1,y=null,v=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||s2,a&&(u<0&&d===0?(g2("route-fallback",!1),m=!0,v=null):u===d&&(m=!0,v=f.route.hydrateFallbackElement||null)));let p=e.concat(l.slice(0,d+1)),g=()=>{let b;return h?b=y:m?b=v:f.route.Component?b=I.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,I.createElement(u2,{match:f,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?I.createElement(a2,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var ZS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZS||{}),Vf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vf||{});function f2(t){let e=I.useContext(Id);return e||De(!1),e}function d2(t){let e=I.useContext(YS);return e||De(!1),e}function h2(t){let e=I.useContext(ci);return e||De(!1),e}function eE(t){let e=h2(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function p2(){var t;let e=I.useContext(GS),n=d2(Vf.UseRouteError),r=eE(Vf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m2(){let{router:t}=f2(ZS.UseNavigateStable),e=eE(Vf.UseNavigateStable),n=I.useRef(!1);return JS(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},o)))},[t,e])}const B0={};function g2(t,e,n){!e&&!B0[t]&&(B0[t]=!0)}function y2(t){let{to:e,replace:n,state:r,relative:i}=t;ys()||De(!1);let{future:o,static:l}=I.useContext(so),{matches:s}=I.useContext(ci),{pathname:a}=vs(),u=tl(),c=Pd(e,Md(s,o.v7_relativeSplatPath),a,i==="path"),f=JSON.stringify(c);return I.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function v2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wt.Pop,navigator:o,static:l=!1,future:s}=t;ys()&&De(!1);let a=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:a,navigator:o,static:l,future:pu({v7_relativeSplatPath:!1},s)}),[a,s,o,l]);typeof r=="string"&&(r=ui(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,y=I.useMemo(()=>{let v=gs(c,a);return v==null?null:{location:{pathname:v,search:f,hash:d,state:h,key:m},navigationType:i}},[a,c,f,d,h,m,i]);return y==null?null:I.createElement(so.Provider,{value:u},I.createElement(Dd.Provider,{children:n,value:y}))}new Promise(()=>{});function w2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function b2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function x2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k2(t,e){return t.button===0&&(!e||e==="_self")&&!x2(t)}const S2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],E2="6";try{window.__reactRouterVersion=E2}catch{}function O2(t,e){return IM({basename:e==null?void 0:e.basename,future:mu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:iM({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||T2(),routes:t,mapRouteProperties:w2,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function T2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mu({},e,{errors:C2(e.errors)})),e}function C2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Uf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const N2=I.createContext({isTransitioning:!1}),_2=I.createContext(new Map),A2="startTransition",$0=KN[A2],M2="flushSync",q0=rM[M2];function P2(t){$0?$0(t):t()}function Ks(t){q0?q0(t):t()}class R2{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function I2(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=I.useState(n.state),[l,s]=I.useState(),[a,u]=I.useState({isTransitioning:!1}),[c,f]=I.useState(),[d,h]=I.useState(),[m,y]=I.useState(),v=I.useRef(new Map),{v7_startTransition:p}=r||{},g=I.useCallback(k=>{p?P2(k):k()},[p]),b=I.useCallback((k,A)=>{let{deletedFetchers:C,unstable_flushSync:E,unstable_viewTransitionOpts:O}=A;C.forEach(R=>v.current.delete(R)),k.fetchers.forEach((R,j)=>{R.data!==void 0&&v.current.set(j,R.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||M){E?Ks(()=>o(k)):g(()=>o(k));return}if(E){Ks(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let R=n.window.document.startViewTransition(()=>{Ks(()=>o(k))});R.finished.finally(()=>{Ks(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})})}),Ks(()=>h(R));return}d?(c&&c.resolve(),d.skipTransition(),y({state:k,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(k),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,d,c,v,g]);I.useLayoutEffect(()=>n.subscribe(b),[n,b]),I.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new R2)},[a]),I.useEffect(()=>{if(c&&l&&n.window){let k=l,A=c.promise,C=n.window.document.startViewTransition(async()=>{g(()=>o(k)),await A});C.finished.finally(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})}),h(C)}},[g,l,c,n.window]),I.useEffect(()=>{c&&l&&i.location.key===l.location.key&&c.resolve()},[c,d,i.location,l]),I.useEffect(()=>{!a.isTransitioning&&m&&(s(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[a.isTransitioning,m]),I.useEffect(()=>{},[]);let w=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,A,C)=>n.navigate(k,{state:A,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(k,A,C)=>n.navigate(k,{replace:!0,state:A,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),x=n.basename||"/",S=I.useMemo(()=>({router:n,navigator:w,static:!1,basename:x}),[n,w,x]),T=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.createElement(I.Fragment,null,I.createElement(Id.Provider,{value:S},I.createElement(YS.Provider,{value:i},I.createElement(_2.Provider,{value:v.current},I.createElement(N2.Provider,{value:a},I.createElement(v2,{basename:x,location:i.location,navigationType:i.historyAction,navigator:w,future:T},i.initialized||n.future.v7_partialHydration?I.createElement(D2,{routes:n.routes,future:n.future,state:i}):e))))),null)}const D2=I.memo(L2);function L2(t){let{routes:e,future:n,state:r}=t;return o2(e,void 0,r,n)}const j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F2=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:s,target:a,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,d=b2(e,S2),{basename:h}=I.useContext(so),m,y=!1;if(typeof u=="string"&&z2.test(u)&&(m=u,j2))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),x=gs(w.pathname,h);w.origin===b.origin&&x!=null?u=x+w.search+w.hash:y=!0}catch{}let v=r2(u,{relative:i}),p=B2(u,{replace:l,state:s,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:f});function g(b){r&&r(b),b.defaultPrevented||p(b)}return I.createElement("a",mu({},d,{href:m||v,onClick:y||o?r:g,ref:n,target:a}))});var U0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U0||(U0={}));var V0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V0||(V0={}));function B2(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:s}=e===void 0?{}:e,a=tl(),u=vs(),c=XS(t,{relative:l});return I.useCallback(f=>{if(k2(f,n)){f.preventDefault();let d=r!==void 0?r:Yo(u)===Yo(c);a(t,{replace:d,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:s})}},[u,a,c,r,i,n,t,o,l,s])}function Ld(t){return`https://${t}-my-recipe-app-3p6i.encr.app`}class jd{constructor(e,n){Pt(this,"api");const r=new H2(e,n??{});this.api=new _m.ServiceClient(r)}}var _m;(t=>{class e{constructor(r){Pt(this,"baseClient");this.baseClient=r}async GetRecipe(r){return await(await this.baseClient.callAPI("GET",`/api/recipes/${encodeURIComponent(r)}`)).json()}async GetRecipes(){return await(await this.baseClient.callAPI("GET","/api/recipes")).json()}async SaveRecipe(r){return await(await this.baseClient.callAPI("POST","/recipes",JSON.stringify(r))).json()}async UploadRecipe(r){return await(await this.baseClient.callAPI("POST","/recipes/upload",JSON.stringify(r))).json()}}t.ServiceClient=e})(_m||(_m={}));function gc(t){const e=[];for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const i of r)e.push(`${n}=${encodeURIComponent(i)}`)}return e.join("&")}function $2(t){return"encore.dev.headers."+btoa(JSON.stringify(t)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class ky{constructor(e,n){Pt(this,"ws");Pt(this,"hasUpdateHandlers",[]);let r=["encore-ws"];n&&r.push($2(n)),this.ws=new WebSocket(e,r),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const e=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const n of e)n()}async hasUpdate(){await new Promise(e=>{this.hasUpdateHandlers.push(()=>e(null))})}on(e,n){this.ws.addEventListener(e,n)}off(e,n){this.ws.removeEventListener(e,n)}close(){this.ws.close()}}class q2{constructor(e,n){Pt(this,"socket");Pt(this,"buffer",[]);this.socket=new ky(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class U2{constructor(e,n){Pt(this,"socket");Pt(this,"buffer",[]);this.socket=new ky(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class V2{constructor(e,n){Pt(this,"socket");Pt(this,"responseValue");let r;this.responseValue=new Promise(i=>r=i),this.socket=new ky(e,n),this.socket.on("message",i=>{r(JSON.parse(i.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}}const W2=fetch.bind(void 0);class H2{constructor(e,n){Pt(this,"baseURL");Pt(this,"fetcher");Pt(this,"headers");Pt(this,"requestInit");this.baseURL=e,this.headers={"Content-Type":"application/json"},typeof window>"u"&&(this.headers["User-Agent"]="my-recipe-app-3p6i-Generated-TS-Client (Encore/v1.41.8)"),this.requestInit=n.requestInit??{},n.fetcher!==void 0?this.fetcher=n.fetcher:this.fetcher=W2}async getAuthData(){}async createStreamInOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const l=r?"?"+gc(r):"";return new q2(this.baseURL+e+l,i)}async createStreamIn(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const l=r?"?"+gc(r):"";return new U2(this.baseURL+e+l,i)}async createStreamOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const l=r?"?"+gc(r):"";return new V2(this.baseURL+e+l,i)}async callAPI(e,n,r,i){let{query:o,headers:l,...s}=i??{};const a={...this.requestInit,...s,method:e,body:r??null};a.headers={...this.headers,...a.headers,...l};const u=await this.getAuthData();u&&(u.query&&(o={...o,...u.query}),u.headers&&(a.headers={...a.headers,...u.headers}));const c=o?"?"+gc(o):"",f=await this.fetcher(this.baseURL+n+c,a);if(!f.ok){let d={code:"unknown",message:`request failed: status ${f.status}`};try{const h=await f.text();try{const m=JSON.parse(h);K2(m)?d=m:d.message+=": "+JSON.stringify(m)}catch{d.message+=": "+h}}catch(h){d.message+=": "+String(h)}throw new Wf(f.status,d)}return f}}function K2(t){return t!=null&&Y2(t.code)&&typeof t.message=="string"&&(t.details===void 0||t.details===null||typeof t.details=="object")}function Y2(t){return t!==void 0&&Object.values(tE).includes(t)}class Wf extends Error{constructor(n,r){super(r.message);Pt(this,"status");Pt(this,"code");Pt(this,"details");Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=Wf.prototype:Object.setPrototypeOf(this,Wf.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=n,this.code=r.code,this.details=r.details}}var tE=(t=>(t.OK="ok",t.Canceled="canceled",t.Unknown="unknown",t.InvalidArgument="invalid_argument",t.DeadlineExceeded="deadline_exceeded",t.NotFound="not_found",t.AlreadyExists="already_exists",t.PermissionDenied="permission_denied",t.ResourceExhausted="resource_exhausted",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.Unimplemented="unimplemented",t.Internal="internal",t.Unavailable="unavailable",t.DataLoss="data_loss",t.Unauthenticated="unauthenticated",t))(tE||{});const Sy=I.createContext({});function G2(){const{dom:t,editor:e,setLoading:n,editorFactory:r}=I.useContext(Sy),i=I.useRef(null);return I.useEffect(()=>{const o=i.current;if(!r||!o)return;t.current=o;const l=r(o);if(l)return n(!0),l.create().then(s=>{e.current=s}).finally(()=>{n(!1)}).catch(console.error),()=>{var s;(s=e.current)==null||s.destroy()}},[t,e,r,n]),i}const J2=()=>{const t=G2();return Bn.createElement("div",{"data-milkdown-root":!0,ref:t})},W0=({children:t})=>{const e=I.useRef(void 0),[n,r]=I.useState(void 0),i=I.useRef(),[o,l]=I.useState(!0),s=I.useMemo(()=>({loading:o,dom:e,editor:i,setLoading:l,editorFactory:n,setEditorFactory:r}),[o,n]);return Bn.createElement(Sy.Provider,{value:s},t)};function Q2(t,e=[]){const n=I.useContext(Sy),r=I.useCallback(t,e);return I.useLayoutEffect(()=>{n.setEditorFactory(()=>r)},[n,r]),{loading:n.loading,get:()=>n.editor.current}}var jn=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t))(jn||{});let Qn=class extends Error{constructor(e,n){super(n),this.name="MilkdownError",this.code=e}};const X2=(t,e)=>typeof e=="function"?"[Function]":e,is=t=>JSON.stringify(t,X2);function Z2(t){return new Qn(jn.docTypeError,`Doc type error, unsupported type: ${is(t)}`)}function eP(t){return new Qn(jn.contextNotFound,`Context "${t}" not found, do you forget to inject it?`)}function tP(t){return new Qn(jn.timerNotFound,`Timer "${t}" not found, do you forget to record it?`)}function Ey(){return new Qn(jn.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function nP(...t){const e=t.reduce((n,r)=>{if(!r)return n;const i=o=>Array.isArray(o)?o.map(l=>i(l)).join(", "):o.toJSON?is(o.toJSON()):o.spec?is(o.spec):o.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new Qn(jn.createNodeInParserFail,e)}function nE(){return new Qn(jn.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function rP(t){return new Qn(jn.parserMatchError,`Cannot match target parser for node: ${is(t)}.`)}function iP(t){return new Qn(jn.serializerMatchError,`Cannot match target serializer for node: ${is(t)}.`)}function nl(t){return new Qn(jn.expectDomTypeError,`Expect to be a dom, but get: ${is(t)}.`)}function oP(){return new Qn(jn.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function lP(t){return new Qn(jn.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`)}function sP(t){return new Qn(jn.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${t}" in schema.`)}var rE=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ye=(t,e,n)=>(rE(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},qe=(t,e,n,r)=>(rE(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let iE=class{constructor(){this.sliceMap=new Map,this.get=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!n){const r=typeof e=="string"?e:e.name;throw eP(r)}return n},this.remove=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);n&&this.sliceMap.delete(n.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(n=>n.type.name===e):this.sliceMap.has(e.id)}};var kr,bi,sa;let aP=class{constructor(e,n,r){vt(this,kr,void 0),vt(this,bi,void 0),vt(this,sa,void 0),qe(this,kr,[]),qe(this,sa,()=>{ye(this,kr).forEach(i=>i(ye(this,bi)))}),this.set=i=>{qe(this,bi,i),ye(this,sa).call(this)},this.get=()=>ye(this,bi),this.update=i=>{qe(this,bi,i(ye(this,bi))),ye(this,sa).call(this)},this.type=r,qe(this,bi,n),e.set(r.id,this)}on(e){return ye(this,kr).push(e),()=>{qe(this,kr,ye(this,kr).filter(n=>n!==e))}}once(e){const n=this.on(r=>{e(r),n()});return n}off(e){qe(this,kr,ye(this,kr).filter(n=>n!==e))}offAll(){qe(this,kr,[])}};kr=new WeakMap,bi=new WeakMap,sa=new WeakMap;let uP=class{constructor(e,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=e,this._typeInfo=()=>{throw Ey()}}create(e,n=this._defaultValue){return new aP(e,n,this)}};const Ue=(t,e)=>new uP(t,e);var zc,Fc,Bc,dl,aa,vo,ua,ca,fa;let cP=class{constructor(e,n,r){vt(this,zc,void 0),vt(this,Fc,void 0),vt(this,Bc,void 0),vt(this,dl,void 0),vt(this,aa,void 0),vt(this,vo,void 0),vt(this,ua,void 0),vt(this,ca,void 0),vt(this,fa,void 0),qe(this,dl,new Set),qe(this,aa,new Set),qe(this,vo,new Map),qe(this,ua,new Map),this.read=()=>({metadata:ye(this,zc),injectedSlices:[...ye(this,dl)].map(i=>({name:typeof i=="string"?i:i.name,value:ye(this,ca).call(this,i)})),consumedSlices:[...ye(this,aa)].map(i=>({name:typeof i=="string"?i:i.name,value:ye(this,ca).call(this,i)})),recordedTimers:[...ye(this,vo)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ye(this,fa).call(this,i)})),waitTimers:[...ye(this,ua)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ye(this,fa).call(this,i)}))}),this.onRecord=i=>{ye(this,vo).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{ye(this,vo).delete(i)},this.onDone=i=>{const o=ye(this,vo).get(i);o&&(o.duration=Date.now()-o.start)},this.onWait=(i,o)=>{const l=Date.now();o.finally(()=>{ye(this,ua).set(i,{duration:Date.now()-l})})},this.onInject=i=>{ye(this,dl).add(i)},this.onRemove=i=>{ye(this,dl).delete(i)},this.onUse=i=>{ye(this,aa).add(i)},qe(this,ca,i=>ye(this,Fc).get(i).get()),qe(this,fa,i=>ye(this,Bc).get(i).status),qe(this,Fc,e),qe(this,Bc,n),qe(this,zc,r)}};zc=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,dl=new WeakMap,aa=new WeakMap,vo=new WeakMap,ua=new WeakMap,ca=new WeakMap,fa=new WeakMap;var xi,ki,$c,nr;const fP=class oE{constructor(e,n,r){vt(this,xi,void 0),vt(this,ki,void 0),vt(this,$c,void 0),vt(this,nr,void 0),this.produce=i=>i&&Object.keys(i).length?new oE(ye(this,xi),ye(this,ki),{...i}):this,this.inject=(i,o)=>{var l;const s=i.create(ye(this,xi).sliceMap);return o!=null&&s.set(o),(l=ye(this,nr))==null||l.onInject(i),this},this.remove=i=>{var o;return ye(this,xi).remove(i),(o=ye(this,nr))==null||o.onRemove(i),this},this.record=i=>{var o;return i.create(ye(this,ki).store),(o=ye(this,nr))==null||o.onRecord(i),this},this.clearTimer=i=>{var o;return ye(this,ki).remove(i),(o=ye(this,nr))==null||o.onClear(i),this},this.isInjected=i=>ye(this,xi).has(i),this.isRecorded=i=>ye(this,ki).has(i),this.use=i=>{var o;return(o=ye(this,nr))==null||o.onUse(i),ye(this,xi).get(i)},this.get=i=>this.use(i).get(),this.set=(i,o)=>this.use(i).set(o),this.update=(i,o)=>this.use(i).update(o),this.timer=i=>ye(this,ki).get(i),this.done=i=>{var o;this.timer(i).done(),(o=ye(this,nr))==null||o.onDone(i)},this.wait=i=>{var o;const l=this.timer(i).start();return(o=ye(this,nr))==null||o.onWait(i,l),l},this.waitTimers=async i=>{await Promise.all(this.get(i).map(o=>this.wait(o)))},qe(this,xi,e),qe(this,ki,n),qe(this,$c,r),r&&qe(this,nr,new cP(e,n,r))}get meta(){return ye(this,$c)}get inspector(){return ye(this,nr)}};xi=new WeakMap,ki=new WeakMap,$c=new WeakMap,nr=new WeakMap;let dP=fP,hP=class{constructor(){this.store=new Map,this.get=e=>{const n=this.store.get(e.id);if(!n)throw tP(e.name);return n},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}};var hl,wo,da,Si,ha,qc;let pP=class{constructor(e,n){vt(this,hl,void 0),vt(this,wo,void 0),vt(this,da,void 0),vt(this,Si,void 0),vt(this,ha,void 0),vt(this,qc,void 0),qe(this,hl,null),qe(this,wo,null),qe(this,Si,"pending"),this.start=()=>(ye(this,hl)??qe(this,hl,new Promise((r,i)=>{qe(this,wo,o=>{o instanceof CustomEvent&&o.detail.id===ye(this,da)&&(qe(this,Si,"resolved"),ye(this,ha).call(this),o.stopImmediatePropagation(),r())}),ye(this,qc).call(this,()=>{ye(this,Si)==="pending"&&qe(this,Si,"rejected"),ye(this,ha).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),qe(this,Si,"pending"),addEventListener(this.type.name,ye(this,wo))})),ye(this,hl)),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:ye(this,da)}});dispatchEvent(r)},qe(this,ha,()=>{ye(this,wo)&&removeEventListener(this.type.name,ye(this,wo))}),qe(this,qc,r=>{setTimeout(()=>{r()},this.type.timeout)}),qe(this,da,Symbol(n.name)),this.type=n,e.set(n.id,this)}get status(){return ye(this,Si)}};hl=new WeakMap,wo=new WeakMap,da=new WeakMap,Si=new WeakMap,ha=new WeakMap,qc=new WeakMap;let mP=class{constructor(e,n=3e3){this.create=r=>new pP(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=n}};const ao=(t,e=3e3)=>new mP(t,e);function Ft(t){this.content=t}Ft.prototype={constructor:Ft,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ft(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ft(n)},addToStart:function(t,e){return new Ft([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ft(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ft(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ft.from(t),t.size?new Ft(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ft.from(t),t.size?new Ft(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ft.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ft.from=function(t){if(t instanceof Ft)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ft(e)};function lE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=lE(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function sE(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),s=e.child(--o),a=l.nodeSize;if(l==s){n-=a,r-=a;continue}if(!l.sameMarkup(s))return{a:n,b:r};if(l.isText&&l.text!=s.text){let u=0,c=Math.min(l.text.length,s.text.length);for(;u<c&&l.text[l.text.length-u-1]==s.text[s.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(l.content.size||s.content.size){let u=sE(l.content,s.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class le{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,s=0;s<n;l++){let a=this.content[l],u=s+a.nodeSize;if(u>e&&r(a,i+s,o||null,l)!==!1&&a.content.size){let c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(s,a)=>{let u=s.isText?s.text.slice(Math.max(e,a)-a,n-a):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&r&&(l?l=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new le(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let s=this.content[o],a=l+s.nodeSize;a>e&&((l<e||a>n)&&(s.isText?s=s.cut(Math.max(0,e-l),Math.min(s.text.length,n-l)):s=s.cut(Math.max(0,e-l-1),Math.min(s.content.size,n-l-1))),r.push(s),i+=s.nodeSize),l=a}return new le(r,i)}cutByIndex(e,n){return e==n?le.empty:e==0&&n==this.content.length?this:new le(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new le(i,o)}addToStart(e){return new le([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new le(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return lE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return sE(this,e,n,r)}findIndex(e,n=-1){if(e==0)return yc(0,e);if(e==this.size)return yc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),l=i+o.nodeSize;if(l>=e)return l==e||n>0?yc(r+1,l):yc(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return le.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new le(n||e,r)}static from(e){if(!e)return le.empty;if(e instanceof le)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new le([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const Vh={index:0,offset:0};function yc(t,e){return Vh.index=t,Vh.offset=e,Vh}function Hf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Hf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Hf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class ze{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ze.none;if(e instanceof ze)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}ze.none=[];class Kf extends Error{}class he{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=uE(this.content,e+this.openStart,n);return r&&new he(r,this.openStart,this.openEnd)}removeBetween(e,n){return new he(aE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return he.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new he(le.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new he(e,r,i)}}he.empty=new he(le.empty,0,0);function aE(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(aE(o.content,e-i-1,n-i-1)))}function uE(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=uE(l.content,e-o-1,n);return s&&t.replaceChild(i,l.copy(s))}function gP(t,e,n){if(n.openStart>t.depth)throw new Kf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Kf("Inconsistent open depths");return cE(t,e,n,0)}function cE(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=cE(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,s=l.content;return Lo(l,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}else{let{start:l,end:s}=yP(n,t);return Lo(o,dE(t,l,s,e,r))}else return Lo(o,Yf(t,e,r))}function fE(t,e){if(!e.type.compatibleContent(t.type))throw new Kf("Cannot join "+e.type.name+" onto "+t.type.name)}function Am(t,e,n){let r=t.node(n);return fE(r,e.node(n)),r}function Do(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ja(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Do(t.nodeAfter,r),o++));for(let s=o;s<l;s++)Do(i.child(s),r);e&&e.depth==n&&e.textOffset&&Do(e.nodeBefore,r)}function Lo(t,e){return t.type.checkContent(e),t.copy(e)}function dE(t,e,n,r,i){let o=t.depth>i&&Am(t,e,i+1),l=r.depth>i&&Am(n,r,i+1),s=[];return ja(null,t,i,s),o&&l&&e.index(i)==n.index(i)?(fE(o,l),Do(Lo(o,dE(t,e,n,r,i+1)),s)):(o&&Do(Lo(o,Yf(t,e,i+1)),s),ja(e,n,i,s),l&&Do(Lo(l,Yf(n,r,i+1)),s)),ja(r,null,i,s),new le(s)}function Yf(t,e,n){let r=[];if(ja(null,t,n,r),t.depth>n){let i=Am(t,e,n+1);Do(Lo(i,Yf(t,e,n+1)),r)}return ja(e,null,n,r),new le(r)}function yP(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(le.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class gu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ze.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new hE(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:s,offset:a}=l.content.findIndex(o),u=o-a;if(r.push(l,s,i+a),!u||(l=l.child(s),l.isText))break;o=u-1,i+=a+1}return new gu(n,r,o)}static resolveCached(e,n){let r=H0.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else H0.set(e,r=new vP);let i=r.elts[r.i]=gu.resolve(e,n);return r.i=(r.i+1)%wP,i}}class vP{constructor(){this.elts=[],this.i=0}}const wP=12,H0=new WeakMap;class hE{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const bP=Object.create(null);let Gi=class Mm{constructor(e,n,r,i=ze.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Hf(this.attrs,n||e.defaultAttrs||bP)&&ze.sameSet(this.marks,r||ze.none)}copy(e=null){return e==this.content?this:new Mm(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Mm(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return he.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),s=i.start(l),u=i.node(l).content.cut(i.pos-s,o.pos-s);return new he(u,i.depth-l,o.depth-l)}replace(e,n,r){return gP(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return gu.resolveCached(this,e)}resolveNoCache(e){return gu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),pE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=le.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),s=l&&l.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ze.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ze.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=le.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Gi.prototype.text=void 0;class Gf extends Gi{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Gf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Gf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function pE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Go{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new xP(e,n);if(r.next==null)return Go.empty;let i=mE(r);r.next&&r.err("Unexpected trailing text");let o=NP(CP(i));return _P(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,s){let a=l.matchFragment(e,r);if(a&&(!n||a.validEnd))return le.from(s.map(u=>u.createAndFill()));for(let u=0;u<l.next.length;u++){let{type:c,next:f}=l.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let s=i;s.type;s=s.via)l.push(s.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:s,next:a}=o.next[l];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||a.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Go.empty=new Go(!0);class xP{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function mE(t){let e=[];do e.push(kP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function kP(t){let e=[];do e.push(SP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function SP(t){let e=TP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=EP(t,e);else break;return e}function K0(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function EP(t,e){let n=K0(t),r=n;return t.eat(",")&&(t.next!="}"?r=K0(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function OP(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function TP(t){if(t.eat("(")){let e=mE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=OP(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function CP(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,s,a){let u={term:a,to:s};return e[l].push(u),u}function i(l,s){l.forEach(a=>a.to=s)}function o(l,s){if(l.type=="choice")return l.exprs.reduce((a,u)=>a.concat(o(u,s)),[]);if(l.type=="seq")for(let a=0;;a++){let u=o(l.exprs[a],s);if(a==l.exprs.length-1)return u;i(u,s=n())}else if(l.type=="star"){let a=n();return r(s,a),i(o(l.expr,a),a),[r(a)]}else if(l.type=="plus"){let a=n();return i(o(l.expr,s),a),i(o(l.expr,a),a),[r(a)]}else{if(l.type=="opt")return[r(s)].concat(o(l.expr,s));if(l.type=="range"){let a=s;for(let u=0;u<l.min;u++){let c=n();i(o(l.expr,a),c),a=c}if(l.max==-1)i(o(l.expr,a),a);else for(let u=l.min;u<l.max;u++){let c=n();r(a,c),i(o(l.expr,a),c),a=c}return[r(a)]}else{if(l.type=="name")return[r(s,void 0,l.value)];throw new Error("Unknown expr type")}}}}function gE(t,e){return e-t}function Y0(t,e){let n=[];return r(e),n.sort(gE);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:s,to:a}=o[l];!s&&n.indexOf(a)==-1&&r(a)}}}function NP(t){let e=Object.create(null);return n(Y0(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:s,to:a})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);Y0(t,a).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Go(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let s=i[l][1].sort(gE);o.next.push({type:i[l][0],next:e[s.join(",")]||n(s)})}return o}}function _P(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let s=0;s<i.next.length;s++){let{type:a,next:u}=i.next[s];l.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function yE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function vE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function wE(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function bE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new MP(t,r,e[r]);return n}let G0=class xE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=bE(e,r.attrs),this.defaultAttrs=yE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Go.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:vE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gi(this,this.computeAttrs(e),le.from(n),ze.setFrom(r))}createChecked(e=null,n,r){return n=le.from(n),this.checkContent(n),new Gi(this,this.computeAttrs(e),n,ze.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=le.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(le.empty,!0);return o?new Gi(this,e,n.append(o),ze.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){wE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ze.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new xE(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function AP(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class MP{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?AP(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class zd{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=bE(e,i.attrs),this.excluded=null;let o=yE(this.attrs);this.instance=o?new ze(this,o):null}create(e=null){return!e&&this.instance?this.instance:new ze(this,vE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new zd(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){wE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class PP{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ft.from(e.nodes),n.marks=Ft.from(e.marks||{}),this.nodes=G0.compile(this.spec.nodes,this),this.marks=zd.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=Go.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?J0(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:J0(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof G0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Gf(r,r.defaultAttrs,e,ze.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Gi.fromJSON(this,e)}markFromJSON(e){return ze.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function J0(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let s in t.marks){let a=t.marks[s];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=a)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function RP(t){return t.tag!=null}function IP(t){return t.style!=null}class ls{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(RP(i))this.tags.push(i);else if(IP(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new X0(this,n,!1);return r.addAll(e,ze.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new X0(this,n,!0);return r.addAll(e,ze.none,n.from,n.to),he.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(jP(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],s=l.style;if(!(s.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=n))){if(l.getAttrs){let a=l.getAttrs(n);if(a===!1)continue;l.attrs=a||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let s=n[l];if((s.priority==null?50:s.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=Z0(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=Z0(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ls(e,ls.schemaRules(e)))}}const kE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},DP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},SE={ol:!0,ul:!0},Jf=1,Qf=2,za=4;function Q0(t,e,n){return e!=null?(e?Jf:0)|(e==="full"?Qf:0):t&&t.whitespace=="pre"?Jf|Qf:n&~za}class vc{constructor(e,n,r,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=ze.none,this.match=o||(l&za?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=le.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class X0{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,l=Q0(null,n.preserveWhitespace,0)|(r?za:0);i?o=new vc(i.type,i.attrs,ze.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new vc(null,null,ze.none,!0,null,l):o=new vc(e.schema.topNodeType,null,ze.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Qf||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Jf)i.options&Qf?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;SE.hasOwnProperty(i)&&this.parser.normalizeLists&&LP(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(l?l.ignore:DP.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let s,a=this.top,u=this.needsBlock;if(kE.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let c=l&&l.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),s&&this.sync(a),this.needsBlock=u}else{let s=this.readStyles(e,n);s&&this.addElementByRule(e,l,s,l.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let s=void 0;;){let a=this.parser.matchStyle(o,l,this,s);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(u=>!a.clearMark(u)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)s=a;else break}}return n}addElementByRule(e,n,r,i){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r)||this.leafFallback(e,r);else{let a=this.enter(l,n.attrs||null,r,n.preserveWhitespace);a&&(o=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let s=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}o&&this.sync(s)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,s=i==null?null:e.childNodes[i];l!=s;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let l=this.nodes[o],s=l.findWrapping(e);if(s&&(!r||r.length>s.length)&&(r=s,i=l,!s.length)||l.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=ze.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):ew(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let s=Q0(e,o,l.options);l.options&za&&l.content.length==0&&(s|=za);let a=ze.none;return r=r.filter(u=>(l.type?l.type.allowsMarkType(u.type):ew(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new vc(e,n,a,i,null,s)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(s,a)=>{for(;s>=0;s--){let u=n[s];if(u==""){if(s==n.length-1||s==0)continue;for(;a>=o;a--)if(l(s-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;a--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function LP(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&SE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function jP(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Z0(t){let e={};for(let n in t)e[n]=t[n];return e}function ew(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=s=>{o.push(s);for(let a=0;a<s.edgeCount;a++){let{type:u,next:c}=s.edge(a);if(u==e||o.indexOf(c)<0&&l(c))return!0}};if(l(i.contentMatch))return!0}}class ws{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Wh(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let s=0,a=0;for(;s<o.length&&a<l.marks.length;){let u=l.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,a++}for(;s<o.length;)i=o.pop()[1];for(;a<l.marks.length;){let u=l.marks[a++],c=this.serializeMark(u,l.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Uc(Wh(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Uc(Wh(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Uc(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ws(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=tw(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return tw(e.marks)}}function tw(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Wh(t){return t.document||window.document}const nw=new WeakMap;function zP(t){let e=nw.get(t);return e===void 0&&nw.set(t,e=FP(t)),e}function FP(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Uc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=zP(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let s,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?a.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):a.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:m}=Uc(t,d,n,r);if(a.appendChild(h),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:a,contentDOM:s}}const BP={};function Oy(t,e){const n=e||BP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return EE(t,r,i)}function EE(t,e,n){if($P(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rw(t.children,e,n)}return Array.isArray(t)?rw(t,e,n):""}function rw(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=EE(t[i],e,n);return r.join("")}function $P(t){return!!(t&&typeof t=="object")}const iw=document.createElement("i");function Ty(t){const e="&"+t+";";iw.innerHTML=e;const n=iw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function li(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Vn(t,e){return t.length>0?(li(t,t.length,0,e),t):e}const ow={}.hasOwnProperty;function qP(t){const e={};let n=-1;for(;++n<t.length;)UP(e,t[n]);return e}function UP(t,e){let n;for(n in e){const i=(ow.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){ow.call(i,l)||(i[l]=[]);const s=o[l];VP(i[l],Array.isArray(s)?s:s?[s]:[])}}}function VP(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);li(t,0,0,r)}function OE(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ql(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nr=uo(/[A-Za-z]/),ar=uo(/[\dA-Za-z]/),WP=uo(/[#-'*+\--9=?A-Z^-~]/);function Pm(t){return t!==null&&(t<32||t===127)}const Rm=uo(/\d/),HP=uo(/[\dA-Fa-f]/),KP=uo(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function xn(t){return t!==null&&(t<0||t===32)}function We(t){return t===-2||t===-1||t===32}const YP=uo(/\p{P}|\p{S}/u),GP=uo(/\s/);function uo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function et(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return We(a)?(t.enter(n),s(a)):e(a)}function s(a){return We(a)&&o++<i?(t.consume(a),s):(t.exit(n),e(a))}}const JP={tokenize:QP};function QP(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),et(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return Ee(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),l)}}const XP={tokenize:ZP},lw={tokenize:eR};function ZP(t){const e=this,n=[];let r=0,i,o,l;return s;function s(b){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,a,u)(b)}return u(b)}function a(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&g();const w=e.events.length;let x=w,S;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){S=e.events[x][1].end;break}p(r);let T=w;for(;T<e.events.length;)e.events[T][1].end=Object.assign({},S),T++;return li(e.events,x+1,0,e.events.slice(w)),e.events.length=T,u(b)}return s(b)}function u(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(lw,c,f)(b)}function c(b){return i&&g(),p(r),d(b)}function f(b){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,m(b)}function d(b){return e.containerState={},t.attempt(lw,h,m)(b)}function h(b){return r++,n.push([e.currentConstruct,e.containerState]),d(b)}function m(b){if(b===null){i&&g(),p(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),y(b)}function y(b){if(b===null){v(t.exit("chunkFlow"),!0),p(0),t.consume(b);return}return Ee(b)?(t.consume(b),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(b),y)}function v(b,w){const x=e.sliceStream(b);if(w&&x.push(null),b.previous=o,o&&(o.next=b),o=b,i.defineSkip(b.start),i.write(x),e.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<l&&(!i.events[S][1].end||i.events[S][1].end.offset>l))return;const T=e.events.length;let k=T,A,C;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(A){C=e.events[k][1].end;break}A=!0}for(p(r),S=T;S<e.events.length;)e.events[S][1].end=Object.assign({},C),S++;li(e.events,k+1,0,e.events.slice(T)),e.events.length=S}}function p(b){let w=n.length;for(;w-- >b;){const x=n[w];e.containerState=x[1],x[0].exit.call(e,t)}n.length=b}function g(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function eR(t,e,n){return et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sw(t){if(t===null||xn(t)||GP(t))return 1;if(YP(t))return 2}function Cy(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Im={name:"attention",tokenize:nR,resolveAll:tR};function tR(t,e){let n=-1,r,i,o,l,s,a,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),d=Object.assign({},t[n][1].start);aw(f,-a),aw(d,a),l={type:a>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:d},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},s.end)},t[r][1].end=Object.assign({},l.start),t[n][1].start=Object.assign({},s.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Vn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Vn(u,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),u=Vn(u,Cy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Vn(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Vn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,li(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function nR(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sw(r);let o;return l;function l(a){return o=a,t.enter("attentionSequence"),s(a)}function s(a){if(a===o)return t.consume(a),s;const u=t.exit("attentionSequence"),c=sw(a),f=!c||c===2&&i||n.includes(a),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),e(a)}}function aw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const rR={name:"autolink",tokenize:iR};function iR(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(h){return Nr(h)?(t.consume(h),l):h===64?n(h):u(h)}function l(h){return h===43||h===45||h===46||ar(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(t.consume(h),r=0,a):(h===43||h===45||h===46||ar(h))&&r++<32?(t.consume(h),s):(r=0,u(h))}function a(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||Pm(h)?n(h):(t.consume(h),a)}function u(h){return h===64?(t.consume(h),c):WP(h)?(t.consume(h),u):n(h)}function c(h){return ar(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):d(h)}function d(h){if((h===45||ar(h))&&r++<63){const m=h===45?d:f;return t.consume(h),m}return n(h)}}const Fd={tokenize:oR,partial:!0};function oR(t,e,n){return r;function r(o){return We(o)?et(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ee(o)?e(o):n(o)}}const TE={name:"blockQuote",tokenize:lR,continuation:{tokenize:sR},exit:aR};function lR(t,e,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return We(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function sR(t,e,n){const r=this;return i;function i(l){return We(l)?et(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(TE,e,n)(l)}}function aR(t){t.exit("blockQuote")}const CE={name:"characterEscape",tokenize:uR};function uR(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return KP(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const NE={name:"characterReference",tokenize:cR};function cR(t,e,n){const r=this;let i=0,o,l;return s;function s(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),a}function a(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,l=ar,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=HP,c):(t.enter("characterReferenceValue"),o=7,l=Rm,c(f))}function c(f){if(f===59&&i){const d=t.exit("characterReferenceValue");return l===ar&&!Ty(r.sliceSerialize(d))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(f)&&i++<o?(t.consume(f),c):n(f)}}const uw={tokenize:dR,partial:!0},cw={name:"codeFenced",tokenize:fR,concrete:!0};function fR(t,e,n){const r=this,i={tokenize:x,partial:!0};let o=0,l=0,s;return a;function a(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,s=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===s?(l++,t.consume(S),c):l<3?n(S):(t.exit("codeFencedFenceSequence"),We(S)?et(t,f,"whitespace")(S):f(S))}function f(S){return S===null||Ee(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(uw,y,w)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||Ee(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(S)):We(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),et(t,h,"whitespace")(S)):S===96&&S===s?n(S):(t.consume(S),d)}function h(S){return S===null||Ee(S)?f(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||Ee(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(S)):S===96&&S===s?n(S):(t.consume(S),m)}function y(S){return t.attempt(i,w,v)(S)}function v(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),p}function p(S){return o>0&&We(S)?et(t,g,"linePrefix",o+1)(S):g(S)}function g(S){return S===null||Ee(S)?t.check(uw,y,w)(S):(t.enter("codeFlowValue"),b(S))}function b(S){return S===null||Ee(S)?(t.exit("codeFlowValue"),g(S)):(t.consume(S),b)}function w(S){return t.exit("codeFenced"),e(S)}function x(S,T,k){let A=0;return C;function C(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),E}function E(j){return S.enter("codeFencedFence"),We(j)?et(S,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):O(j)}function O(j){return j===s?(S.enter("codeFencedFenceSequence"),M(j)):k(j)}function M(j){return j===s?(A++,S.consume(j),M):A>=l?(S.exit("codeFencedFenceSequence"),We(j)?et(S,R,"whitespace")(j):R(j)):k(j)}function R(j){return j===null||Ee(j)?(S.exit("codeFencedFence"),T(j)):k(j)}}}function dR(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const Hh={name:"codeIndented",tokenize:pR},hR={tokenize:mR,partial:!0};function pR(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),et(t,o,"linePrefix",4+1)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):Ee(u)?t.attempt(hR,l,a)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||Ee(u)?(t.exit("codeFlowValue"),l(u)):(t.consume(u),s)}function a(u){return t.exit("codeIndented"),e(u)}}function mR(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Ee(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):et(t,o,"linePrefix",4+1)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):Ee(l)?i(l):n(l)}}const gR={name:"codeText",tokenize:wR,resolve:yR,previous:vR};function yR(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function vR(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wR(t,e,n){let r=0,i,o;return l;function l(f){return t.enter("codeText"),t.enter("codeTextSequence"),s(f)}function s(f){return f===96?(t.consume(f),r++,s):(t.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),a):f===96?(o=t.enter("codeTextSequence"),i=0,c(f)):Ee(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ee(f)?(t.exit("codeTextData"),a(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",u(f))}}class bR{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ys(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ys(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ys(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ys(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ys(this.left,n.reverse())}}}function Ys(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _E(t){const e={};let n=-1,r,i,o,l,s,a,u;const c=new bR(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,xR(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(l=c.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},c.get(i)[1].start),s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return li(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function xR(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],l=n._tokenizer||r.parser[n.contentType](n.start),s=l.events,a=[],u={};let c,f,d=-1,h=n,m=0,y=0;const v=[y];for(;h;){for(;t.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(c),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(y=d+1,v.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):v.pop(),d=v.length;d--;){const p=s.slice(v[d],v[d+1]),g=o.pop();a.push([g,g+p.length-1]),t.splice(g,2,p)}for(a.reverse(),d=-1;++d<a.length;)u[m+a[d][0]]=m+a[d][1],m+=a[d][1]-a[d][0]-1;return u}const kR={tokenize:OR,resolve:ER},SR={tokenize:TR,partial:!0};function ER(t){return _E(t),t}function OR(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Ee(s)?t.check(SR,l,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function l(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function TR(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),et(t,o,"linePrefix")}function o(l){if(l===null||Ee(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function AE(t,e,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(p){return p===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(p),t.exit(o),d):p===null||p===32||p===41||Pm(p)?n(p):(t.enter(r),t.enter(l),t.enter(s),t.enter("chunkString",{contentType:"string"}),y(p))}function d(p){return p===62?(t.enter(o),t.consume(p),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===62?(t.exit("chunkString"),t.exit(s),d(p)):p===null||p===60||Ee(p)?n(p):(t.consume(p),p===92?m:h)}function m(p){return p===60||p===62||p===92?(t.consume(p),h):h(p)}function y(p){return!c&&(p===null||p===41||xn(p))?(t.exit("chunkString"),t.exit(s),t.exit(l),t.exit(r),e(p)):c<u&&p===40?(t.consume(p),c++,y):p===41?(t.consume(p),c--,y):p===null||p===32||p===40||Pm(p)?n(p):(t.consume(p),p===92?v:y)}function v(p){return p===40||p===41||p===92?(t.consume(p),y):y(p)}}function ME(t,e,n,r,i,o){const l=this;let s=0,a;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(o),c}function c(h){return s>999||h===null||h===91||h===93&&!a||h===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Ee(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Ee(h)||s++>999?(t.exit("chunkString"),c(h)):(t.consume(h),a||(a=!We(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,f):f(h)}}function PE(t,e,n,r,i,o){let l;return s;function s(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),l=d===40?41:d,a):n(d)}function a(d){return d===l?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(o),u(d))}function u(d){return d===l?(t.exit(o),a(l)):d===null?n(d):Ee(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),et(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===l||d===null||Ee(d)?(t.exit("chunkString"),u(d)):(t.consume(d),d===92?f:c)}function f(d){return d===l||d===92?(t.consume(d),c):c(d)}}function Fa(t,e){let n;return r;function r(i){return Ee(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):We(i)?et(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const CR={name:"definition",tokenize:_R},NR={tokenize:AR,partial:!0};function _R(t,e,n){const r=this;let i;return o;function o(h){return t.enter("definition"),l(h)}function l(h){return ME.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=ql(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),a):n(h)}function a(h){return xn(h)?Fa(t,u)(h):u(h)}function u(h){return AE(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(NR,f,f)(h)}function f(h){return We(h)?et(t,d,"whitespace")(h):d(h)}function d(h){return h===null||Ee(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function AR(t,e,n){return r;function r(s){return xn(s)?Fa(t,i)(s):n(s)}function i(s){return PE(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return We(s)?et(t,l,"whitespace")(s):l(s)}function l(s){return s===null||Ee(s)?e(s):n(s)}}const MR={name:"hardBreakEscape",tokenize:PR};function PR(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Ee(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const RR={name:"headingAtx",tokenize:DR,resolve:IR};function IR(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},li(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function DR(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),l(c)}function l(c){return c===35&&r++<6?(t.consume(c),l):c===null||xn(c)?(t.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(t.enter("atxHeadingSequence"),a(c)):c===null||Ee(c)?(t.exit("atxHeading"),e(c)):We(c)?et(t,s,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function a(c){return c===35?(t.consume(c),a):(t.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||xn(c)?(t.exit("atxHeadingText"),s(c)):(t.consume(c),u)}}const LR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fw=["pre","script","style","textarea"],jR={name:"htmlFlow",tokenize:$R,resolveTo:BR,concrete:!0},zR={tokenize:UR,partial:!0},FR={tokenize:qR,partial:!0};function BR(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function $R(t,e,n){const r=this;let i,o,l,s,a;return u;function u(_){return c(_)}function c(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),f}function f(_){return _===33?(t.consume(_),d):_===47?(t.consume(_),o=!0,y):_===63?(t.consume(_),i=3,r.interrupt?e:N):Nr(_)?(t.consume(_),l=String.fromCharCode(_),v):n(_)}function d(_){return _===45?(t.consume(_),i=2,h):_===91?(t.consume(_),i=5,s=0,m):Nr(_)?(t.consume(_),i=4,r.interrupt?e:N):n(_)}function h(_){return _===45?(t.consume(_),r.interrupt?e:N):n(_)}function m(_){const V="CDATA[";return _===V.charCodeAt(s++)?(t.consume(_),s===V.length?r.interrupt?e:O:m):n(_)}function y(_){return Nr(_)?(t.consume(_),l=String.fromCharCode(_),v):n(_)}function v(_){if(_===null||_===47||_===62||xn(_)){const V=_===47,H=l.toLowerCase();return!V&&!o&&fw.includes(H)?(i=1,r.interrupt?e(_):O(_)):LR.includes(l.toLowerCase())?(i=6,V?(t.consume(_),p):r.interrupt?e(_):O(_)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):o?g(_):b(_))}return _===45||ar(_)?(t.consume(_),l+=String.fromCharCode(_),v):n(_)}function p(_){return _===62?(t.consume(_),r.interrupt?e:O):n(_)}function g(_){return We(_)?(t.consume(_),g):C(_)}function b(_){return _===47?(t.consume(_),C):_===58||_===95||Nr(_)?(t.consume(_),w):We(_)?(t.consume(_),b):C(_)}function w(_){return _===45||_===46||_===58||_===95||ar(_)?(t.consume(_),w):x(_)}function x(_){return _===61?(t.consume(_),S):We(_)?(t.consume(_),x):b(_)}function S(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),a=_,T):We(_)?(t.consume(_),S):k(_)}function T(_){return _===a?(t.consume(_),a=null,A):_===null||Ee(_)?n(_):(t.consume(_),T)}function k(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||xn(_)?x(_):(t.consume(_),k)}function A(_){return _===47||_===62||We(_)?b(_):n(_)}function C(_){return _===62?(t.consume(_),E):n(_)}function E(_){return _===null||Ee(_)?O(_):We(_)?(t.consume(_),E):n(_)}function O(_){return _===45&&i===2?(t.consume(_),q):_===60&&i===1?(t.consume(_),U):_===62&&i===4?(t.consume(_),P):_===63&&i===3?(t.consume(_),N):_===93&&i===5?(t.consume(_),z):Ee(_)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zR,L,M)(_)):_===null||Ee(_)?(t.exit("htmlFlowData"),M(_)):(t.consume(_),O)}function M(_){return t.check(FR,R,L)(_)}function R(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),j}function j(_){return _===null||Ee(_)?M(_):(t.enter("htmlFlowData"),O(_))}function q(_){return _===45?(t.consume(_),N):O(_)}function U(_){return _===47?(t.consume(_),l="",W):O(_)}function W(_){if(_===62){const V=l.toLowerCase();return fw.includes(V)?(t.consume(_),P):O(_)}return Nr(_)&&l.length<8?(t.consume(_),l+=String.fromCharCode(_),W):O(_)}function z(_){return _===93?(t.consume(_),N):O(_)}function N(_){return _===62?(t.consume(_),P):_===45&&i===2?(t.consume(_),N):O(_)}function P(_){return _===null||Ee(_)?(t.exit("htmlFlowData"),L(_)):(t.consume(_),P)}function L(_){return t.exit("htmlFlow"),e(_)}}function qR(t,e,n){const r=this;return i;function i(l){return Ee(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function UR(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Fd,e,n)}}const VR={name:"htmlText",tokenize:WR};function WR(t,e,n){const r=this;let i,o,l;return s;function s(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),a}function a(N){return N===33?(t.consume(N),u):N===47?(t.consume(N),x):N===63?(t.consume(N),b):Nr(N)?(t.consume(N),k):n(N)}function u(N){return N===45?(t.consume(N),c):N===91?(t.consume(N),o=0,m):Nr(N)?(t.consume(N),g):n(N)}function c(N){return N===45?(t.consume(N),h):n(N)}function f(N){return N===null?n(N):N===45?(t.consume(N),d):Ee(N)?(l=f,U(N)):(t.consume(N),f)}function d(N){return N===45?(t.consume(N),h):f(N)}function h(N){return N===62?q(N):N===45?d(N):f(N)}function m(N){const P="CDATA[";return N===P.charCodeAt(o++)?(t.consume(N),o===P.length?y:m):n(N)}function y(N){return N===null?n(N):N===93?(t.consume(N),v):Ee(N)?(l=y,U(N)):(t.consume(N),y)}function v(N){return N===93?(t.consume(N),p):y(N)}function p(N){return N===62?q(N):N===93?(t.consume(N),p):y(N)}function g(N){return N===null||N===62?q(N):Ee(N)?(l=g,U(N)):(t.consume(N),g)}function b(N){return N===null?n(N):N===63?(t.consume(N),w):Ee(N)?(l=b,U(N)):(t.consume(N),b)}function w(N){return N===62?q(N):b(N)}function x(N){return Nr(N)?(t.consume(N),S):n(N)}function S(N){return N===45||ar(N)?(t.consume(N),S):T(N)}function T(N){return Ee(N)?(l=T,U(N)):We(N)?(t.consume(N),T):q(N)}function k(N){return N===45||ar(N)?(t.consume(N),k):N===47||N===62||xn(N)?A(N):n(N)}function A(N){return N===47?(t.consume(N),q):N===58||N===95||Nr(N)?(t.consume(N),C):Ee(N)?(l=A,U(N)):We(N)?(t.consume(N),A):q(N)}function C(N){return N===45||N===46||N===58||N===95||ar(N)?(t.consume(N),C):E(N)}function E(N){return N===61?(t.consume(N),O):Ee(N)?(l=E,U(N)):We(N)?(t.consume(N),E):A(N)}function O(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),i=N,M):Ee(N)?(l=O,U(N)):We(N)?(t.consume(N),O):(t.consume(N),R)}function M(N){return N===i?(t.consume(N),i=void 0,j):N===null?n(N):Ee(N)?(l=M,U(N)):(t.consume(N),M)}function R(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||xn(N)?A(N):(t.consume(N),R)}function j(N){return N===47||N===62||xn(N)?A(N):n(N)}function q(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function U(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),W}function W(N){return We(N)?et(t,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):z(N)}function z(N){return t.enter("htmlTextData"),l(N)}}const Ny={name:"labelEnd",tokenize:QR,resolveTo:JR,resolveAll:GR},HR={tokenize:XR},KR={tokenize:ZR},YR={tokenize:eI};function GR(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function JR(t,e){let n=t.length,r=0,i,o,l,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[l][1].end)},c={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[l-2][1].start)};return s=[["enter",a,e],["enter",u,e]],s=Vn(s,t.slice(o+1,o+r+3)),s=Vn(s,[["enter",c,e]]),s=Vn(s,Cy(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),s=Vn(s,[["exit",c,e],t[l-2],t[l-1],["exit",u,e]]),s=Vn(s,t.slice(l+1)),s=Vn(s,[["exit",a,e]]),li(t,o,t.length,s),t}function QR(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?f(d):(l=r.parser.defined.includes(ql(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),a):n(d)}function a(d){return d===40?t.attempt(HR,c,l?c:f)(d):d===91?t.attempt(KR,c,l?u:f)(d):l?c(d):f(d)}function u(d){return t.attempt(YR,c,f)(d)}function c(d){return e(d)}function f(d){return o._balanced=!0,n(d)}}function XR(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return xn(f)?Fa(t,o)(f):o(f)}function o(f){return f===41?c(f):AE(t,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function l(f){return xn(f)?Fa(t,a)(f):c(f)}function s(f){return n(f)}function a(f){return f===34||f===39||f===40?PE(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return xn(f)?Fa(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function ZR(t,e,n){const r=this;return i;function i(s){return ME.call(r,t,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(ql(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function l(s){return n(s)}}function eI(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const tI={name:"labelStartImage",tokenize:nI,resolveAll:Ny.resolveAll};function nI(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const rI={name:"labelStartLink",tokenize:iI,resolveAll:Ny.resolveAll};function iI(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Kh={name:"lineEnding",tokenize:oI};function oI(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),et(t,e,"linePrefix")}}const Vc={name:"thematicBreak",tokenize:lI};function lI(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||Ee(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),We(u)?et(t,s,"whitespace")(u):s(u))}}const mn={name:"list",tokenize:uI,continuation:{tokenize:cI},exit:dI},sI={tokenize:hI,partial:!0},aI={tokenize:fI,partial:!0};function uI(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Rm(h)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Vc,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(h)}return n(h)}function a(h){return Rm(h)&&++l<10?(t.consume(h),a):(!r.interrupt||l<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Fd,r.interrupt?n:c,t.attempt(sI,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return We(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function cI(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Fd,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,et(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!We(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(aI,e,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,et(t,t.attempt(mn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function fI(t,e,n){const r=this;return et(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function dI(t){t.exit(this.containerState.type)}function hI(t,e,n){const r=this;return et(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const l=r.events[r.events.length-1];return!We(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const dw={name:"setextUnderline",tokenize:mI,resolveTo:pI};function pI(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=l,t.push(["exit",l,e]),t}function mI(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),We(u)?et(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||Ee(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const gI={tokenize:yI};function yI(t){const e=this,n=t.attempt(Fd,r,t.attempt(this.parser.constructs.flowInitial,i,et(t,t.attempt(this.parser.constructs.flow,i,t.attempt(kR,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const vI={resolveAll:IE()},wI=RE("string"),bI=RE("text");function RE(t){return{tokenize:e,resolveAll:IE(t==="text"?xI:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,s);return l;function l(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function IE(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function xI(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(s){const u={type:n===t.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+o,_bufferIndex:o?l:r.start._bufferIndex+l},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function kI(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let l=[],s=[];const a={consume:g,enter:b,exit:w,attempt:T(x),check:T(S),interrupt:T(S,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:d,now:m,defineSkip:y,write:f};let c=e.tokenize.call(u,a);return e.resolveAll&&o.push(e),u;function f(E){return l=Vn(l,E),v(),l[l.length-1]!==null?[]:(k(e,0),u.events=Cy(o,u.events,u),u.events)}function d(E,O){return EI(h(E),O)}function h(E){return SI(l,E)}function m(){const{line:E,column:O,offset:M,_index:R,_bufferIndex:j}=r;return{line:E,column:O,offset:M,_index:R,_bufferIndex:j}}function y(E){i[E.line]=E.column,C()}function v(){let E;for(;r._index<l.length;){const O=l[r._index];if(typeof O=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<O.length;)p(O.charCodeAt(r._bufferIndex));else p(O)}}function p(E){c=c(E)}function g(E){Ee(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,C()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=E}function b(E,O){const M=O||{};return M.type=E,M.start=m(),u.events.push(["enter",M,u]),s.push(M),M}function w(E){const O=s.pop();return O.end=m(),u.events.push(["exit",O,u]),O}function x(E,O){k(E,O.from)}function S(E,O){O.restore()}function T(E,O){return M;function M(R,j,q){let U,W,z,N;return Array.isArray(R)?L(R):"tokenize"in R?L([R]):P(R);function P(D){return $;function $(Y){const G=Y!==null&&D[Y],te=Y!==null&&D.null,ce=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(te)?te:te?[te]:[]];return L(ce)(Y)}}function L(D){return U=D,W=0,D.length===0?q:_(D[W])}function _(D){return $;function $(Y){return N=A(),z=D,D.partial||(u.currentConstruct=D),D.name&&u.parser.constructs.disable.null.includes(D.name)?H():D.tokenize.call(O?Object.assign(Object.create(u),O):u,a,V,H)(Y)}}function V(D){return E(z,N),j}function H(D){return N.restore(),++W<U.length?_(U[W]):q}}}function k(E,O){E.resolveAll&&!o.includes(E)&&o.push(E),E.resolve&&li(u.events,O,u.events.length-O,E.resolve(u.events.slice(O),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function A(){const E=m(),O=u.previous,M=u.currentConstruct,R=u.events.length,j=Array.from(s);return{restore:q,from:R};function q(){r=E,u.previous=O,u.currentConstruct=M,u.events.length=R,s=j,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function SI(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function EI(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}const OI={42:mn,43:mn,45:mn,48:mn,49:mn,50:mn,51:mn,52:mn,53:mn,54:mn,55:mn,56:mn,57:mn,62:TE},TI={91:CR},CI={[-2]:Hh,[-1]:Hh,32:Hh},NI={35:RR,42:Vc,45:[dw,Vc],60:jR,61:dw,95:Vc,96:cw,126:cw},_I={38:NE,92:CE},AI={[-5]:Kh,[-4]:Kh,[-3]:Kh,33:tI,38:NE,42:Im,60:[rR,VR],91:rI,92:[MR,CE],93:Ny,95:Im,96:gR},MI={null:[Im,vI]},PI={null:[42,95]},RI={null:[]},II=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PI,contentInitial:TI,disable:RI,document:OI,flow:NI,flowInitial:CI,insideSpan:MI,string:_I,text:AI},Symbol.toStringTag,{value:"Module"}));function DI(t){const n=qP([II,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(JP),document:i(XP),flow:i(gI),string:i(wI),text:i(bI)};return r;function i(o){return l;function l(s){return kI(r,o,s)}}}function LI(t){for(;!_E(t););return t}const hw=/[\0\t\n\r]/g;function jI(){let t=1,e="",n=!0,r;return i;function i(o,l,s){const a=[];let u,c,f,d,h;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),f=0,e="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(hw.lastIndex=f,u=hw.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){e=o.slice(f);break}if(h===10&&f===d&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<d&&(a.push(o.slice(f,d)),t+=d-f),h){case 0:{a.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,a.push(-2);t++<c;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}f=d+1}return s&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const zI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DE(t){return t.replace(zI,FI)}function FI(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return OE(n.slice(o?2:1),o?16:10)}return Ty(n)||t}function Ba(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pw(t.position):"start"in t||"end"in t?pw(t):"line"in t||"column"in t?Dm(t):""}function Dm(t){return mw(t&&t.line)+":"+mw(t&&t.column)}function pw(t){return Dm(t&&t.start)+"-"+Dm(t&&t.end)}function mw(t){return t&&typeof t=="number"?t:1}const LE={}.hasOwnProperty;function BI(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$I(n)(LI(DI(n).document().write(jI()(t,e,!0))))}function $I(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Z),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(Ie),blockQuote:o(te),characterEscape:A,characterReference:A,codeFenced:o(ce),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ce,l),codeText:o(Se,l),codeTextData:A,data:A,codeFlowValue:A,definition:o(Oe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(be),hardBreakEscape:o(xt),hardBreakTrailing:o(xt),htmlFlow:o(st,l),htmlFlowData:A,htmlText:o(st,l),htmlTextData:A,image:o(X),label:l,link:o(Z),listItem:o(ue),listItemValue:d,listOrdered:o(se,f),listUnordered:o(se),paragraph:o(re),reference:_,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ie),strong:o(Ne),thematicBreak:o(Ae)},exit:{atxHeading:a(),atxHeadingSequence:x,autolink:a(),autolinkEmail:G,autolinkProtocol:Y,blockQuote:a(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:D,characterReference:$,codeFenced:a(v),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:a(p),codeText:a(j),codeTextData:C,data:C,definition:a(),definitionDestinationString:w,definitionLabelString:g,definitionTitleString:b,emphasis:a(),hardBreakEscape:a(O),hardBreakTrailing:a(O),htmlFlow:a(M),htmlFlowData:C,htmlText:a(R),htmlTextData:C,image:a(U),label:z,labelText:W,lineEnding:E,link:a(q),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:V,resourceDestinationString:N,resourceTitleString:P,resource:L,setextHeading:a(k),setextHeadingLineSequence:T,setextHeadingText:S,strong:a(),thematicBreak:a()}};jE(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Q){let ie={type:"root",children:[]};const fe={stack:[ie],tokenStack:[],config:e,enter:s,exit:u,buffer:l,resume:c,data:n},Me=[];let ve=-1;for(;++ve<Q.length;)if(Q[ve][1].type==="listOrdered"||Q[ve][1].type==="listUnordered")if(Q[ve][0]==="enter")Me.push(ve);else{const Ke=Me.pop();ve=i(Q,Ke,ve)}for(ve=-1;++ve<Q.length;){const Ke=e[Q[ve][0]];LE.call(Ke,Q[ve][1].type)&&Ke[Q[ve][1].type].call(Object.assign({sliceSerialize:Q[ve][2].sliceSerialize},fe),Q[ve][1])}if(fe.tokenStack.length>0){const Ke=fe.tokenStack[fe.tokenStack.length-1];(Ke[1]||gw).call(fe,void 0,Ke[0])}for(ie.position={start:mi(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:mi(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},ve=-1;++ve<e.transforms.length;)ie=e.transforms[ve](ie)||ie;return ie}function i(Q,ie,fe){let Me=ie-1,ve=-1,Ke=!1,wr,hn,ho,pn;for(;++Me<=fe;){const Kt=Q[Me];switch(Kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Kt[0]==="enter"?ve++:ve--,pn=void 0;break}case"lineEndingBlank":{Kt[0]==="enter"&&(wr&&!pn&&!ve&&!ho&&(ho=Me),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!ve&&Kt[0]==="enter"&&Kt[1].type==="listItemPrefix"||ve===-1&&Kt[0]==="exit"&&(Kt[1].type==="listUnordered"||Kt[1].type==="listOrdered")){if(wr){let zr=Me;for(hn=void 0;zr--;){const zn=Q[zr];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;hn&&(Q[hn][1].type="lineEndingBlank",Ke=!0),zn[1].type="lineEnding",hn=zr}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}ho&&(!hn||ho<hn)&&(wr._spread=!0),wr.end=Object.assign({},hn?Q[hn][1].start:Kt[1].end),Q.splice(hn||Me,0,["exit",wr,Kt[2]]),Me++,fe++}if(Kt[1].type==="listItemPrefix"){const zr={type:"listItem",_spread:!1,start:Object.assign({},Kt[1].start),end:void 0};wr=zr,Q.splice(Me,0,["enter",zr,Kt[2]]),Me++,fe++,ho=void 0,pn=!0}}}return Q[ie][1]._spread=Ke,fe}function o(Q,ie){return fe;function fe(Me){s.call(this,Q(Me),Me),ie&&ie.call(this,Me)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(Q,ie,fe){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([ie,fe]),Q.position={start:mi(ie.start),end:void 0}}function a(Q){return ie;function ie(fe){Q&&Q.call(this,fe),u.call(this,fe)}}function u(Q,ie){const fe=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==Q.type&&(ie?ie.call(this,Q,Me[0]):(Me[1]||gw).call(this,Q,Me[0]));else throw new Error("Cannot close `"+Q.type+"` ("+Ba({start:Q.start,end:Q.end})+"): it’s not open");fe.position.end=mi(Q.end)}function c(){return Oy(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(Q){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=Q}function m(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=Q}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Q.replace(/(\r?\n|\r)$/g,"")}function g(Q){const ie=this.resume(),fe=this.stack[this.stack.length-1];fe.label=ie,fe.identifier=ql(this.sliceSerialize(Q)).toLowerCase()}function b(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Q}function w(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Q}function x(Q){const ie=this.stack[this.stack.length-1];if(!ie.depth){const fe=this.sliceSerialize(Q).length;ie.depth=fe}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(Q){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function A(Q){const fe=this.stack[this.stack.length-1].children;let Me=fe[fe.length-1];(!Me||Me.type!=="text")&&(Me=_e(),Me.position={start:mi(Q.start),end:void 0},fe.push(Me)),this.stack.push(Me)}function C(Q){const ie=this.stack.pop();ie.value+=this.sliceSerialize(Q),ie.position.end=mi(Q.end)}function E(Q){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=ie.children[ie.children.length-1];fe.position.end=mi(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ie.type)&&(A.call(this,Q),C.call(this,Q))}function O(){this.data.atHardBreak=!0}function M(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Q}function R(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Q}function j(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Q}function q(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ie,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function U(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ie,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function W(Q){const ie=this.sliceSerialize(Q),fe=this.stack[this.stack.length-2];fe.label=DE(ie),fe.identifier=ql(ie).toLowerCase()}function z(){const Q=this.stack[this.stack.length-1],ie=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const Me=Q.children;fe.children=Me}else fe.alt=ie}function N(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Q}function P(){const Q=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Q}function L(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function V(Q){const ie=this.resume(),fe=this.stack[this.stack.length-1];fe.label=ie,fe.identifier=ql(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function H(Q){this.data.characterReferenceType=Q.type}function D(Q){const ie=this.sliceSerialize(Q),fe=this.data.characterReferenceType;let Me;fe?(Me=OE(ie,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=Ty(ie);const ve=this.stack[this.stack.length-1];ve.value+=Me}function $(Q){const ie=this.stack.pop();ie.position.end=mi(Q.end)}function Y(Q){C.call(this,Q);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(Q)}function G(Q){C.call(this,Q);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(Q)}function te(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function Ie(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function st(){return{type:"html",value:""}}function X(){return{type:"image",title:null,url:"",alt:null}}function Z(){return{type:"link",title:null,url:"",children:[]}}function se(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function ue(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function Ne(){return{type:"strong",children:[]}}function _e(){return{type:"text",value:""}}function Ae(){return{type:"thematicBreak"}}}function mi(t){return{line:t.line,column:t.column,offset:t.offset}}function jE(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?jE(t,r):qI(t,r)}}function qI(t,e){let n;for(n in e)if(LE.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function gw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ba({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ba({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ba({start:e.start,end:e.end})+") is still open")}function Lm(t){const e=this;e.parser=n;function n(r){return BI(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const yw={}.hasOwnProperty;function UI(t,e){const n=e||{};function r(i,...o){let l=r.invalid;const s=r.handlers;if(i&&yw.call(i,t)){const a=String(i[t]);l=yw.call(s,a)?s[a]:r.unknown}if(l)return l.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const VI={}.hasOwnProperty;function zE(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)zE(t,e.extensions[n]);for(r in e)if(VI.call(e,r))switch(r){case"extensions":break;case"unsafe":{vw(t[r],e[r]);break}case"join":{vw(t[r],e[r]);break}case"handlers":{WI(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function vw(t,e){e&&t.push(...e)}function WI(t,e){e&&Object.assign(t,e)}function HI(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(t,o.current()),KI);return i(),l}function KI(t,e,n){return">"+(n?"":" ")+t}function FE(t,e){return ww(t,e.inConstruct,!0)&&!ww(t,e.notInConstruct,!1)}function ww(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function bw(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&FE(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function YI(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function jm(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function GI(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function JI(t,e,n,r){const i=GI(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(jm(t,n)){const f=n.enter("codeIndented"),d=n.indentLines(o,QI);return f(),d}const s=n.createTracker(r),a=i.repeat(Math.max(YI(o,i)+1,3)),u=n.enter("codeFenced");let c=s.move(a);if(t.lang){const f=n.enter(`codeFencedLang${l}`);c+=s.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...s.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${l}`);c+=s.move(" "),c+=s.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...s.current()})),f()}return c+=s.move(`
`),o&&(c+=s.move(o+`
`)),c+=s.move(a),u(),c}function QI(t,e,n){return(n?"":"    ")+t}function _y(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function XI(t,e,n,r){const i=_y(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...a.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),l(),u}function ZI(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}BE.peek=eD;function BE(t,e,n,r){const i=ZI(n),o=n.enter("emphasis"),l=n.createTracker(r);let s=l.move(i);return s+=l.move(n.containerPhrasing(t,{before:s,after:i,...l.current()})),s+=l.move(i),o(),s}function eD(t,e,n){return n.options.emphasis||"*"}const Ay=function(t){if(t==null)return iD;if(typeof t=="function")return Bd(t);if(typeof t=="object")return Array.isArray(t)?tD(t):nD(t);if(typeof t=="string")return rD(t);throw new Error("Expected function, string, or object as test")};function tD(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ay(t[n]);return Bd(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function nD(t){const e=t;return Bd(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function rD(t){return Bd(e);function e(n){return n&&n.type===t}}function Bd(t){return e;function e(n,r,i){return!!(oD(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iD(){return!0}function oD(t){return t!==null&&typeof t=="object"&&"type"in t}const $E=[],lD=!0,zm=!1,Fm="skip";function sD(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=Ay(i),l=r?-1:1;s(t,void 0,[])();function s(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=$E,m,y,v;if((!e||o(a,u,c[c.length-1]||void 0))&&(h=aD(n(a,c)),h[0]===zm))return h;if("children"in a&&a.children){const p=a;if(p.children&&h[0]!==Fm)for(y=(r?p.children.length:-1)+l,v=c.concat(p);y>-1&&y<p.children.length;){const g=p.children[y];if(m=s(g,y,v)(),m[0]===zm)return m;y=typeof m[1]=="number"?m[1]:y+l}}return h}}}function aD(t){return Array.isArray(t)?t:typeof t=="number"?[lD,t]:t==null?$E:[t]}function bs(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),sD(t,o,s,i);function s(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return l(a,f,c)}}function qE(t,e){let n=!1;return bs(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,zm}),!!((!t.depth||t.depth<3)&&Oy(t)&&(e.options.setext||n))}function uD(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(qE(t,n)){const c=n.enter("headingSetext"),f=n.enter("phrasing"),d=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return f(),c(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const l="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");o.move(l+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?l+" "+u:l,n.options.closeAtx&&(u+=" "+l),a(),s(),u}UE.peek=cD;function UE(t){return t.value||""}function cD(){return"<"}VE.peek=fD;function VE(t,e,n,r){const i=_y(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),l(),u}function fD(){return"!"}WE.peek=dD;function WE(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(t.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const c=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...s.current()});return l(),n.stack=c,o(),i==="full"||!u||u!==f?a+=s.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function dD(){return"!"}HE.peek=hD;function HE(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],s=n.compilePattern(l);let a;if(l.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function hD(){return"`"}function KE(t,e){const n=Oy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}YE.peek=pD;function YE(t,e,n,r){const i=_y(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let s,a;if(KE(t,n)){const c=n.stack;n.stack=[],s=n.enter("autolink");let f=l.move("<");return f+=l.move(n.containerPhrasing(t,{before:f,after:">",...l.current()})),f+=l.move(">"),s(),n.stack=c,f}s=n.enter("link"),a=n.enter("label");let u=l.move("[");return u+=l.move(n.containerPhrasing(t,{before:u,after:"](",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function pD(t,e,n){return KE(t,n)?"<":"["}GE.peek=mD;function GE(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const c=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...s.current()});return l(),n.stack=c,o(),i==="full"||!u||u!==f?a+=s.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function mD(){return"["}function My(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function gD(t){const e=My(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function yD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function JE(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function vD(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=t.ordered?yD(n):My(n);const s=t.ordered?l==="."?")":".":gD(n);let a=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),JE(n)===l&&c){let f=-1;for(;++f<t.children.length;){const d=t.children[f];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(l=s),n.bulletCurrent=l;const u=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),u}function wD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function bD(t,e,n,r){const i=wD(n);let o=n.bulletCurrent||My(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(l-o.length)),s.shift(l);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,s.current()),c);return a(),u;function c(f,d,h){return d?(h?"":" ".repeat(l))+f:(h?o:o+" ".repeat(l-o.length))+f}}function xD(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}const kD=Ay(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function SD(t,e,n,r){return(t.children.some(function(l){return kD(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function ED(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}QE.peek=OD;function QE(t,e,n,r){const i=ED(n),o=n.enter("strong"),l=n.createTracker(r);let s=l.move(i+i);return s+=l.move(n.containerPhrasing(t,{before:s,after:i,...l.current()})),s+=l.move(i+i),o(),s}function OD(t,e,n){return n.options.strong||"*"}function TD(t,e,n,r){return n.safe(t.value,r)}function CD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function ND(t,e,n){const r=(JE(n)+(n.options.ruleSpaces?" ":"")).repeat(CD(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _D={blockquote:HI,break:bw,code:JI,definition:XI,emphasis:BE,hardBreak:bw,heading:uD,html:UE,image:VE,imageReference:WE,inlineCode:HE,link:YE,linkReference:GE,list:vD,listItem:bD,paragraph:xD,root:SD,strong:QE,text:TD,thematicBreak:ND},AD=[MD];function MD(t,e,n,r){if(e.type==="code"&&jm(e,r)&&(t.type==="list"||t.type===e.type&&jm(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&qE(e,r))?void 0:n.spread?1:0}const po=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],PD=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:po},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:po},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:po},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:po},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:po},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:po},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:po},{atBreak:!0,character:"~"}];function RD(t){return t.label||!t.identifier?t.label||"":DE(t.identifier)}function ID(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function DD(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let l=-1,s=n.before;r.push(-1);let a=e.createTracker(n);for(;++l<i.length;){const u=i[l];let c;if(r[r.length-1]=l,l+1<i.length){let f=e.handle.handlers[i[l+1].type];f&&f.peek&&(f=f.peek),c=f?f(i[l+1],t,e,{before:"",after:"",...a.current()}).charAt(0):""}else c=n.after;o.length>0&&(s==="\r"||s===`
`)&&u.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",a=e.createTracker(n),a.move(o.join(""))),o.push(a.move(e.handle(u,t,e,{...a.current(),before:s,after:c}))),s=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function LD(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),l=[];let s=-1;for(r.push(-1);++s<i.length;){const a=i[s];r[r.length-1]=s,l.push(o.move(e.handle(a,t,e,{before:`
`,after:`
`,...o.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),s<i.length-1&&l.push(o.move(jD(a,i[s+1],t,e)))}return r.pop(),l.join("")}function jD(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const zD=/\r?\n|\r/g;function FD(t,e){const n=[];let r=0,i=0,o;for(;o=zD.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return l(t.slice(r)),n.join("");function l(s){n.push(e(s,i,!s))}}function BD(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],l={};let s=-1;for(;++s<t.unsafe.length;){const c=t.unsafe[s];if(!FE(t.stack,c))continue;const f=t.compilePattern(c);let d;for(;d=f.exec(r);){const h="before"in c||!!c.atBreak,m="after"in c,y=d.index+(h?d[1].length:0);i.includes(y)?(l[y].before&&!h&&(l[y].before=!1),l[y].after&&!m&&(l[y].after=!1)):(i.push(y),l[y]={before:h,after:m})}}i.sort($D);let a=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const c=i[s];c<a||c>=u||c+1<u&&i[s+1]===c+1&&l[c].after&&!l[c+1].before&&!l[c+1].after||i[s-1]===c-1&&l[c].before&&!l[c-1].before&&!l[c-1].after||(a!==c&&o.push(xw(r.slice(a,c),"\\")),a=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),a++))}return o.push(xw(r.slice(a,u),n.after)),o.join("")}function $D(t,e){return t-e}function xw(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let l=-1,s=0,a;for(;a=n.exec(o);)r.push(a.index);for(;++l<r.length;)s!==r[l]&&i.push(t.slice(s,r[l])),i.push("\\"),s=r[l];return i.push(t.slice(s)),i.join("")}function qD(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:a,current:l,shift:s};function l(){return{now:{line:i,column:o},lineShift:r}}function s(u){r+=u}function a(u){const c=u||"",f=c.split(/\r?\n|\r/g),d=f[f.length-1];return i+=f.length-1,o=f.length===1?o+d.length:1+d.length+r,c}}function UD(t,e={}){const n={enter:i,indentLines:FD,associationId:RD,containerPhrasing:KD,containerFlow:YD,createTracker:qD,compilePattern:ID,safe:GD,stack:[],unsafe:[...PD],join:[...AD],handlers:{..._D},options:{},indexStack:[],handle:void 0};zE(n,e),n.options.tightDefinitions&&n.join.push(HD),n.handle=UI("type",{invalid:VD,unknown:WD,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),l;function l(){n.stack.pop()}}}function VD(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function WD(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function HD(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function KD(t,e){return DD(t,this,e)}function YD(t,e){return LD(t,this,e)}function GD(t,e){return BD(this,t,e)}function Bm(t){const e=this;e.compiler=n;function n(r){return UD(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function kw(t){if(t)throw t}var Wc=Object.prototype.hasOwnProperty,XE=Object.prototype.toString,Sw=Object.defineProperty,Ew=Object.getOwnPropertyDescriptor,Ow=function(e){return typeof Array.isArray=="function"?Array.isArray(e):XE.call(e)==="[object Array]"},Tw=function(e){if(!e||XE.call(e)!=="[object Object]")return!1;var n=Wc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Wc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Wc.call(e,i)},Cw=function(e,n){Sw&&n.name==="__proto__"?Sw(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Nw=function(e,n){if(n==="__proto__")if(Wc.call(e,n)){if(Ew)return Ew(e,n).value}else return;return e[n]},JD=function t(){var e,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=Nw(s,n),i=Nw(e,n),s!==i&&(c&&i&&(Tw(i)||(o=Ow(i)))?(o?(o=!1,l=r&&Ow(r)?r:[]):l=r&&Tw(r)?r:{},Cw(s,{name:n,newValue:t(c,l,i)})):typeof i<"u"&&Cw(s,{name:n,newValue:i}));return s};const Yh=_u(JD);function $m(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function QD(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const c=t[++o];let f=-1;if(a){l(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?XD(c,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function XD(t,e){let n;return r;function r(...l){const s=t.length>l.length;let a;s&&l.push(i);try{a=t.apply(this,l)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,e(l,...s))}function o(l){i(null,l)}}class Sn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Ba(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const Or={basename:ZD,dirname:eL,extname:tL,join:nL,sep:"/"};function ZD(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Du(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function eL(t){if(Du(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function tL(t){Du(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const s=t.codePointAt(e);if(s===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function nL(...t){let e=-1,n;for(;++e<t.length;)Du(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":rL(n)}function rL(t){Du(t);const e=t.codePointAt(0)===47;let n=iL(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function iL(t,e){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=t.length;){if(l<t.length)s=t.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function Du(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const oL={cwd:lL};function lL(){return"/"}function qm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function sL(t){if(typeof t=="string")t=new URL(t);else if(!qm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return aL(t)}function aL(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Gh=["history","path","basename","stem","extname","dirname"];class uL{constructor(e){let n;e?qm(e)?n={path:e}:typeof e=="string"||cL(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":oL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Gh.length;){const o=Gh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Gh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Or.basename(this.path):void 0}set basename(e){Qh(e,"basename"),Jh(e,"basename"),this.path=Or.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Or.dirname(this.path):void 0}set dirname(e){_w(this.basename,"dirname"),this.path=Or.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Or.extname(this.path):void 0}set extname(e){if(Jh(e,"extname"),_w(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Or.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qm(e)&&(e=sL(e)),Qh(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Or.basename(this.path,this.extname):void 0}set stem(e){Qh(e,"stem"),Jh(e,"stem"),this.path=Or.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Sn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Jh(t,e){if(t&&t.includes(Or.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Or.sep+"`")}function Qh(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _w(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function cL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fL=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},dL={}.hasOwnProperty;class Py extends fL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QD()}copy(){const e=new Py;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Yh(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ep("data",this.frozen),this.namespace[e]=n,this):dL.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ep("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wc(e),r=this.parser||this.Parser;return Xh("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Xh("process",this.parser||this.Parser),Zh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=wc(e),a=r.parse(s);r.run(a,s,function(c,f,d){if(c||!f||!d)return u(c);const h=f,m=r.stringify(h,d);pL(m)?d.value=m:d.result=m,u(c,d)});function u(c,f){c||!f?l(c):o?o(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Xh("processSync",this.parser||this.Parser),Zh("processSync",this.compiler||this.Compiler),this.process(e,i),Mw("processSync","process",n),r;function i(o,l){n=!0,kw(o),r=l}}run(e,n,r){Aw(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=wc(n);i.run(e,a,u);function u(c,f,d){const h=f||e;c?s(c):l?l(h):r(void 0,h,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),Mw("runSync","run",r),i;function o(l,s){kw(l),i=s,r=!0}}stringify(e,n){this.freeze();const r=wc(n),i=this.compiler||this.Compiler;return Zh("stringify",i),Aw(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(ep("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=Yh(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...m]=c;const y=r[d][1];$m(y)&&$m(h)&&(h=Yh(!0,y,h)),r[d]=[u,h,...m]}}}}const Um=new Py().freeze();function Xh(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Zh(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ep(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Aw(t){if(!$m(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Mw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wc(t){return hL(t)?t:new uL(t)}function hL(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function pL(t){return typeof t=="string"||mL(t)}function mL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var ZE=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Le=(t,e,n)=>(ZE(t,e,"read from private field"),n?n.call(t):e.get(t)),St=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},it=(t,e,n,r)=>(ZE(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let eO=class{},tO=class{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var n;(n=this.top())==null||n.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw nE();return e}}},gL=class nO extends eO{constructor(e,n,r){super(),this.type=e,this.content=n,this.attrs=r}push(e,...n){this.content.push(e,...n)}pop(){return this.content.pop()}static create(e,n,r){return new nO(e,n,r)}};var Sr,pa,Hc,Kc,Yc,ma,ga;const Vm=class extends tO{constructor(e){super(),St(this,Sr,void 0),St(this,pa,void 0),St(this,Hc,void 0),St(this,Kc,void 0),St(this,Yc,void 0),St(this,ma,void 0),St(this,ga,void 0),it(this,Sr,ze.none),it(this,pa,n=>n.isText),it(this,Hc,(n,r)=>{if(Le(this,pa).call(this,n)&&Le(this,pa).call(this,r)&&ze.sameSet(n.marks,r.marks))return this.schema.text(n.text+r.text,n.marks)}),it(this,Kc,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!r)throw rP(n);return r}),it(this,Yc,n=>{const r=Le(this,Kc).call(this,n);r.spec.parseMarkdown.runner(this,n,r)}),this.injectRoot=(n,r,i)=>(this.openNode(r,i),this.next(n.children),this),this.openNode=(n,r)=>(this.open(gL.create(n,[],r)),this),it(this,ma,()=>{it(this,Sr,ze.none);const n=this.close();return Le(this,ga).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>(Le(this,ma).call(this),this),it(this,ga,(n,r,i)=>{const o=n.createAndFill(r,i,Le(this,Sr));if(!o)throw nP(n,r,i);return this.push(o),o}),this.addNode=(n,r,i)=>(Le(this,ga).call(this,n,r,i),this),this.openMark=(n,r)=>{const i=n.create(r);return it(this,Sr,i.addToSet(Le(this,Sr))),this},this.closeMark=n=>(it(this,Sr,n.removeFromSet(Le(this,Sr))),this),this.addText=n=>{const r=this.top();if(!r)throw nE();const i=r.pop(),o=this.schema.text(n,Le(this,Sr));if(!i)return r.push(o),this;const l=Le(this,Hc).call(this,i,o);return l?(r.push(l),this):(r.push(i,o),this)},this.build=()=>{let n;do n=Le(this,ma).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(r=>Le(this,Yc).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(n,r)=>{const i=n.runSync(n.parse(r),r);return this.next(i),this},this.schema=e}};Sr=new WeakMap,pa=new WeakMap,Hc=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,ma=new WeakMap,ga=new WeakMap,Vm.create=(t,e)=>{const n=new Vm(t);return r=>(n.run(e,r),n.toDoc())};let yL=Vm;const Wm=class extends eO{constructor(e,n,r,i={}){super(),this.type=e,this.children=n,this.value=r,this.props=i,this.push=(o,...l)=>{this.children||(this.children=[]),this.children.push(o,...l)},this.pop=()=>{var o;return(o=this.children)==null?void 0:o.pop()}}};Wm.create=(t,e,n,r={})=>new Wm(t,e,n,r);let Pw=Wm;const vL=t=>Object.prototype.hasOwnProperty.call(t,"size");var Vr,ya,Gc,Jc,va,Qc,wa,Xc,Zc,pl,bo,ef,ba;const Hm=class extends tO{constructor(e){super(),St(this,Vr,void 0),St(this,ya,void 0),St(this,Gc,void 0),St(this,Jc,void 0),St(this,va,void 0),St(this,Qc,void 0),St(this,wa,void 0),St(this,Xc,void 0),St(this,Zc,void 0),St(this,pl,void 0),St(this,bo,void 0),St(this,ef,void 0),St(this,ba,void 0),it(this,Vr,ze.none),it(this,ya,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!r)throw iP(n.type);return r}),it(this,Gc,n=>Le(this,ya).call(this,n).spec.toMarkdown.runner(this,n)),it(this,Jc,(n,r)=>Le(this,ya).call(this,n).spec.toMarkdown.runner(this,n,r)),it(this,va,n=>{const{marks:r}=n,i=o=>o.type.spec.priority??50;[...r].sort((o,l)=>i(o)-i(l)).every(o=>!Le(this,Jc).call(this,o,n))&&Le(this,Gc).call(this,n),r.forEach(o=>Le(this,ba).call(this,o))}),it(this,Qc,(n,r)=>{var i;if(n.type===r||((i=n.children)==null?void 0:i.length)!==1)return n;const o=u=>{var c;if(u.type===r)return u;if(((c=u.children)==null?void 0:c.length)!==1)return null;const[f]=u.children;return f?o(f):null},l=o(n);if(!l)return n;const s=l.children?[...l.children]:void 0,a={...n,children:s};return a.children=s,l.children=[a],l}),it(this,wa,n=>{const{children:r}=n;return r&&(n.children=r.reduce((i,o,l)=>{if(l===0)return[o];const s=i.at(-1);if(s&&s.isMark&&o.isMark){o=Le(this,Qc).call(this,o,s.type);const{children:a,...u}=o,{children:c,...f}=s;if(o.type===s.type&&a&&c&&JSON.stringify(u)===JSON.stringify(f)){const d={...f,children:[...c,...a]};return i.slice(0,-1).concat(Le(this,wa).call(this,d))}}return i.concat(o)},[])),n}),it(this,Xc,n=>{const r={...n.props,type:n.type};return n.children&&(r.children=n.children),n.value&&(r.value=n.value),r}),this.openNode=(n,r,i)=>(this.open(Pw.create(n,void 0,r,i)),this),it(this,Zc,(n,r)=>{let i="",o="";const l=n.children;let s=-1,a=-1;const u=f=>{f&&f.forEach((d,h)=>{d.type==="text"&&d.value&&(s<0&&(s=h),a=h)})};if(l){u(l);const f=l==null?void 0:l[a],d=l==null?void 0:l[s];f&&f.value.endsWith(" ")&&(o=f.value.match(/ +$/)[0],f.value=f.value.trimEnd()),d&&d.value.startsWith(" ")&&(i=d.value.match(/^ +/)[0],d.value=d.value.trimStart())}i.length&&Le(this,bo).call(this,"text",void 0,i);const c=r();return o.length&&Le(this,bo).call(this,"text",void 0,o),c}),it(this,pl,(n=!1)=>{const r=this.close(),i=()=>Le(this,bo).call(this,r.type,r.children,r.value,r.props);return n?Le(this,Zc).call(this,r,i):i()}),this.closeNode=()=>(Le(this,pl).call(this),this),it(this,bo,(n,r,i,o)=>{const l=Pw.create(n,r,i,o),s=Le(this,wa).call(this,Le(this,Xc).call(this,l));return this.push(s),s}),this.addNode=(n,r,i,o)=>(Le(this,bo).call(this,n,r,i,o),this),it(this,ef,(n,r,i,o)=>n.isInSet(Le(this,Vr))?this:(it(this,Vr,n.addToSet(Le(this,Vr))),this.openNode(r,i,{...o,isMark:!0}))),it(this,ba,n=>{n.isInSet(Le(this,Vr))&&(it(this,Vr,n.type.removeFromSet(Le(this,Vr))),Le(this,pl).call(this,!0))}),this.withMark=(n,r,i,o)=>(Le(this,ef).call(this,n,r,i,o),this),this.closeMark=n=>(Le(this,ba).call(this,n),this),this.build=()=>{let n=null;do n=Le(this,pl).call(this);while(this.size());return n},this.next=n=>vL(n)?(n.forEach(r=>{Le(this,va).call(this,r)}),this):(Le(this,va).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=e}};Vr=new WeakMap,ya=new WeakMap,Gc=new WeakMap,Jc=new WeakMap,va=new WeakMap,Qc=new WeakMap,wa=new WeakMap,Xc=new WeakMap,Zc=new WeakMap,pl=new WeakMap,bo=new WeakMap,ef=new WeakMap,ba=new WeakMap,Hm.create=(t,e)=>{const n=new Hm(t);return r=>(n.run(r),n.toString(e))};let wL=Hm;const rO=65535,iO=Math.pow(2,16);function bL(t,e){return t+e*iO}function Rw(t){return t&rO}function xL(t){return(t-(t&rO))/iO}const oO=1,lO=2,tf=4,sO=8;class Km{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&sO)>0}get deletedBefore(){return(this.delInfo&(oO|tf))>0}get deletedAfter(){return(this.delInfo&(lO|tf))>0}get deletedAcross(){return(this.delInfo&tf)>0}}class Nn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Nn.empty)return Nn.empty}recover(e){let n=0,r=Rw(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+xL(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[s+o],c=this.ranges[s+l],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,h=a+i+(d<0?0:c);if(r)return h;let m=e==(n<0?a:f)?null:bL(s/3,e-a),y=e==a?lO:e==f?oO:tf;return(n<0?e!=a:e!=f)&&(y|=sO),new Km(h,y,m)}i+=c-u}return r?e+i:new Km(e+i,0,null)}touches(e,n){let r=0,i=Rw(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[s+o],c=a+u;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+l]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],s=l-(this.inverted?o:0),a=l+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(s,s+u,a,a+c),o+=c-u}}invert(){return new Nn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Nn.empty:new Nn(e<0?[0,-e,0]:[0,0,e])}}Nn.empty=new Nn([]);class Ul{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ul(this.maps,this.mirror,e,n)}copy(){return new Ul(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ul;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this.maps[o],s=l.mapResult(e,n);if(s.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new Km(e,i,null)}}const tp=Object.create(null);class rn{getMap(){return Nn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in tp)throw new RangeError("Duplicate use of step JSON ID "+e);return tp[e]=n,n.prototype.jsonID=e,n}}class Ct{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ct(e,null)}static fail(e){return new Ct(null,e)}static fromReplace(e,n,r,i){try{return Ct.ok(e.replace(n,r,i))}catch(o){if(o instanceof Kf)return Ct.fail(o.message);throw o}}}function Ry(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Ry(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return le.fromArray(r)}class Qr extends rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new he(Ry(n.content,(l,s)=>!l.isAtom||!s.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,o)}invert(){return new _r(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Qr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Qr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qr(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("addMark",Qr);class _r extends rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new he(Ry(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,r)}invert(){return new Qr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _r(n.pos,r.pos,this.mark)}merge(e){return e instanceof _r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _r(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("removeMark",_r);class zi extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new he(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new zi(this.pos,n.marks[i]);return new zi(this.pos,this.mark)}}return new ss(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zi(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("addNodeMark",zi);class ss extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new he(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new zi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ss(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ss(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("removeNodeMark",ss);class Bt extends rn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ym(e,this.from,this.to)?Ct.fail("Structure replace would overwrite content"):Ct.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Nn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Bt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Bt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Bt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?he.empty:new he(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Bt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?he.empty:new he(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Bt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bt(n.from,n.to,he.fromJSON(e,n.slice),!!n.structure)}}rn.jsonID("replace",Bt);class tn extends rn{constructor(e,n,r,i,o,l,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=s}apply(e){if(this.structure&&(Ym(e,this.from,this.gapFrom)||Ym(e,this.gapTo,this.to)))return Ct.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ct.fromReplace(e,this.from,this.to,r):Ct.fail("Content does not fit in gap")}getMap(){return new Nn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new tn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new tn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new tn(n.from,n.to,n.gapFrom,n.gapTo,he.fromJSON(e,n.slice),n.insert,!!n.structure)}}rn.jsonID("replaceAround",tn);function Ym(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function kL(t,e,n,r){let i=[],o=[],l,s;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+a.nodeSize,n),m=r.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(m)||(l&&l.to==d&&l.mark.eq(f[y])?l.to=h:i.push(l=new _r(d,h,f[y])));s&&s.to==d?s.to=h:o.push(s=new Qr(d,h,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function SL(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,s)=>{if(!l.isInline)return;o++;let a=null;if(r instanceof zd){let u=l.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(l.marks)&&(a=[r]):a=l.marks;if(a&&a.length){let u=Math.min(s+l.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let h=0;h<i.length;h++){let m=i[h];m.step==o-1&&f.eq(i[h].style)&&(d=m)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(l=>t.step(new _r(l.from,l.to,l.style)))}function Iy(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),l=[],s=e+1;for(let a=0;a<o.childCount;a++){let u=o.child(a),c=s+u.nodeSize,f=r.matchType(u.type);if(!f)l.push(new Bt(s,c,he.empty));else{r=f;for(let d=0;d<u.marks.length;d++)n.allowsMarkType(u.marks[d].type)||t.step(new _r(s,c,u.marks[d]));if(i&&u.isText&&n.whitespace!="pre"){let d,h=/\r?\n|\r/g,m;for(;d=h.exec(u.text);)m||(m=new he(le.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),l.push(new Bt(s+d.index,s+d.index+d[0].length,m))}}s=c}if(!r.validEnd){let a=r.fillBefore(le.empty,!0);t.replace(s,s,new he(a,0,0))}for(let a=l.length-1;a>=0;a--)t.step(l[a])}function EL(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $d(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,l,n))return r;if(r==0||i.type.spec.isolating||!EL(i,o,l))break}return null}function OL(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),s=i.after(o+1),a=l,u=s,c=le.empty,f=0;for(let m=o,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,c=le.from(r.node(m).copy(c)),f++):a--;let d=le.empty,h=0;for(let m=o,y=!1;m>n;m--)y||i.after(m+1)<i.end(m)?(y=!0,d=le.from(i.node(m).copy(d)),h++):u++;t.step(new tn(a,u,l,s,new he(c.append(d),f,h),c.size-f,!0))}function aO(t,e,n=null,r=t){let i=TL(t,e),o=i&&CL(r,e);return o?i.map(Iw).concat({type:e,attrs:n}).concat(o.map(Iw)):null}function Iw(t){return{type:t,attrs:null}}function TL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,i,l)?o:null}function CL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let a=(l.length?l[l.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:l}function NL(t,e,n){let r=le.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let s=n[l].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new tn(i,o,i,o,new he(r,0,0),n.length,!0))}function _L(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,s)=>{let a=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,a)&&AL(t.doc,t.mapping.slice(o).map(s),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?u=!1:!h&&m&&(u=!0)}u===!1&&cO(t,l,s,o),Iy(t,t.mapping.slice(o).map(s,1),r,void 0,u===null);let c=t.mapping.slice(o),f=c.map(s,1),d=c.map(s+l.nodeSize,1);return t.step(new tn(f,d,f+1,d-1,new he(le.from(r.create(a,null,l.marks)),0,0),1,!0)),u===!0&&uO(t,l,s,o),!1}})}function uO(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let l,s=/\r?\n|\r/g;for(;l=s.exec(i.text);){let a=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function cO(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function AL(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ML(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new tn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new he(le.from(l),0,0),1,!0))}function $a(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),m=r&&r[c+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!y.type.validContent(h))return!1}let s=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(s,s,a?a.type:i.node(o+1).type)}function PL(t,e,n=1,r){let i=t.doc.resolve(e),o=le.empty,l=le.empty;for(let s=i.depth,a=i.depth-n,u=n-1;s>a;s--,u--){o=le.from(i.node(s).copy(o));let c=r&&r[u];l=le.from(c?c.type.create(c.attrs,l):i.node(s).copy(l))}t.step(new Bt(e,e,new he(o.append(l),n,n),!0))}function qd(t,e){let n=t.resolve(e),r=n.index();return IL(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function RL(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function IL(t,e){return!!(t&&e&&!t.isLeaf&&RL(t,e))}function DL(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(i&&l.inlineContent){let c=l.whitespace=="pre",f=!!l.contentMatch.matchType(i);c&&!f?r=!1:!c&&f&&(r=!0)}let s=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);cO(t,c.node(),c.before(),s)}l.inlineContent&&Iy(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let a=t.mapping.slice(s),u=a.map(e-n);if(t.step(new Bt(u,a.map(e+n,-1),he.empty,!0)),r===!0){let c=t.doc.resolve(u);uO(t,c.node(),c.before(),t.steps.length)}return t}function LL(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function jL(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let s=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,a=r.index(l)+(s>0?1:0),u=r.node(l),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return s==0?r.pos:s<0?r.before(l+1):r.after(l+1)}return null}function Dy(t,e,n=e,r=he.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return fO(i,o,r)?new Bt(e,n,r):new zL(i,o,r).fit()}function fO(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class zL{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=le.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,s=i.depth;for(;l&&s&&o.childCount==1;)o=o.firstChild.content,l--,s--;let a=new he(o,l,s);return e>-1?new tn(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Bt(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=np(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:a,match:u}=this.frontier[s],c,f=null;if(n==1&&(l?u.matchType(l.type)||(f=u.fillBefore(le.from(l),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:f};if(n==2&&l&&(c=u.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=np(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new he(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=np(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new he(xa(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new he(xa(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let l=this.unplaced,s=r?r.content:l.content,a=l.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));f=f.matchFragment(i)}let h=s.size+e-(l.content.size-l.openEnd);for(;u<s.childCount;){let y=s.child(u),v=f.matchType(y.type);if(!v)break;u++,(u>1||a==0||y.content.size)&&(f=v,c.push(dO(y.mark(d.allowedMarks(y.marks)),u==1?a:0,u==s.childCount?h:-1)))}let m=u==s.childCount;m||(h=-1),this.placed=ka(this.placed,n,le.from(c)),this.frontier[n].match=f,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,v=s;y<h;y++){let p=v.lastChild;this.frontier.push({type:p.type,match:p.contentMatchAt(p.childCount)}),v=p.content}this.unplaced=m?e==0?he.empty:new he(xa(l.content,e-1,1),e-1,h<0?l.openEnd:e-1):new he(xa(l.content,e,u),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!rp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=rp(e,n,i,r,o);if(l){for(let s=n-1;s>=0;s--){let{match:a,type:u}=this.frontier[s],c=rp(e,s,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ka(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ka(this.placed,this.depth,le.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=ka(this.placed,this.frontier.length,n))}}function xa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(xa(t.firstChild.content,e-1,n)))}function ka(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ka(t.lastChild.content,e-1,n)))}function np(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function dO(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,dO(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),t.copy(r)}function rp(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,l);return s&&!FL(n,o.content,l)?s:null}function FL(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function BL(t){return t.spec.defining||t.spec.definingForContent}function $L(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(fO(i,o,r))return t.step(new Bt(e,n,r));let l=pO(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let s=-(i.depth+1);l.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let m=i.node(d).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;l.indexOf(d)>-1?s=d:i.before(d)==h&&l.splice(1,0,-d)}let a=l.indexOf(s),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let m=d.firstChild;if(u.push(m),h==r.openStart)break;d=m.content}for(let d=c-1;d>=0;d--){let h=u[d],m=BL(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(s)-1)))c=d;else if(m||!h.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),m=u[h];if(m)for(let y=0;y<l.length;y++){let v=l[(y+a)%l.length],p=!0;v<0&&(p=!1,v=-v);let g=i.node(v-1),b=i.index(v-1);if(g.canReplaceWith(b,b,m.type,m.marks))return t.replace(i.before(v),p?o.after(v):n,new he(hO(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=l.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=l[d];h<0||(e=i.before(h),n=o.after(h))}}function hO(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(hO(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(le.empty,!0))}return t}function qL(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=LL(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new he(le.from(r),0,0))}function UL(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=pO(r,i);for(let l=0;l<o.length;l++){let s=o[l],a=l==o.length-1;if(a&&s==0||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(a||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function pO(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Vl extends rn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ct.fromReplace(e,this.pos,this.pos+1,new he(le.from(i),0,n.isLeaf?0:1))}getMap(){return Nn.empty}invert(e){return new Vl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Vl(n.pos,n.attr,n.value)}}rn.jsonID("attr",Vl);class yu extends rn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ct.ok(r)}getMap(){return Nn.empty}invert(e){return new yu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yu(n.attr,n.value)}}rn.jsonID("docAttr",yu);let as=class extends Error{};as=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};as.prototype=Object.create(Error.prototype);as.prototype.constructor=as;as.prototype.name="TransformError";class VL{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ul}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new as(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=he.empty){let i=Dy(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new he(le.from(r),0,0))}delete(e,n){return this.replace(e,n,he.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return $L(this,e,n,r),this}replaceRangeWith(e,n,r){return qL(this,e,n,r),this}deleteRange(e,n){return UL(this,e,n),this}lift(e,n){return OL(this,e,n),this}join(e,n=1){return DL(this,e,n),this}wrap(e,n){return NL(this,e,n),this}setBlockType(e,n=e,r,i=null){return _L(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return ML(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Vl(e,n,r)),this}setDocAttribute(e,n){return this.step(new yu(e,n)),this}addNodeMark(e,n){return this.step(new zi(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ze)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ss(e,n)),this}split(e,n=1,r){return PL(this,e,n,r),this}addMark(e,n,r){return kL(this,e,n,r),this}removeMark(e,n,r){return SL(this,e,n,r),this}clearIncompatible(e,n,r){return Iy(this,e,n,r),this}}const ip=Object.create(null);class Be{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Gm(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=he.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let s=0;s<l.length;s++){let{$from:a,$to:u}=l[s],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),s?he.empty:n),s==0&&jw(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:s}=i[o],a=e.mapping.slice(r),u=a.map(l.pos),c=a.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),jw(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new He(e):ml(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?ml(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ml(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Pn(e.node(0))}static atStart(e){return ml(e,e,0,0,1)||new Pn(e)}static atEnd(e){return ml(e,e,e.content.size,e.childCount,-1)||new Pn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ip[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ip)throw new RangeError("Duplicate use of selection JSON ID "+e);return ip[e]=n,n.prototype.jsonID=e,n}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Be.prototype.visible=!0;class Gm{constructor(e,n){this.$from=e,this.$to=n}}let Dw=!1;function Lw(t){!Dw&&!t.parent.inlineContent&&(Dw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class He extends Be{constructor(e,n=e){Lw(e),Lw(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Be.near(r);let i=e.resolve(n.map(this.anchor));return new He(i.parent.inlineContent?i:r,r)}replace(e,n=he.empty){if(super.replace(e,n),n==he.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof He&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ud(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Be.findFrom(n,r,!0)||Be.findFrom(n,-r,!0);if(o)n=o.$head;else return Be.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Be.findFrom(e,-r,!0)||Be.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new He(e,n)}}Be.jsonID("text",He);class Ud{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ud(e.map(this.anchor),e.map(this.head))}resolve(e){return He.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ce extends Be{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Be.near(o):new Ce(o)}content(){return new he(le.from(this.node),0,0)}eq(e){return e instanceof Ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ly(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ce(e.resolve(n.anchor))}static create(e,n){return new Ce(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ce.prototype.visible=!1;Be.jsonID("node",Ce);class Ly{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ud(r,r):new Ly(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ce.isSelectable(r)?new Ce(n):Be.near(n)}}class Pn extends Be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=he.empty){if(n==he.empty){e.delete(0,e.doc.content.size);let r=Be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Pn(e)}map(e){return new Pn(e)}eq(e){return e instanceof Pn}getBookmark(){return WL}}Be.jsonID("all",Pn);const WL={map(){return this},resolve(t){return new Pn(t)}};function ml(t,e,n,r,i,o=!1){if(e.inlineContent)return He.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let s=e.child(l);if(s.isAtom){if(!o&&Ce.isSelectable(s))return Ce.create(t,n-(i<0?s.nodeSize:0))}else{let a=ml(t,s,n+i,i<0?s.childCount:0,i,o);if(a)return a}n+=s.nodeSize*i}return null}function jw(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Bt||i instanceof tn))return;let o=t.mapping.maps[r],l;o.forEach((s,a,u,c)=>{l==null&&(l=c)}),t.setSelection(Be.near(t.doc.resolve(l),n))}const zw=1,bc=2,Fw=4;class HL extends VL{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|zw)&~bc,this.storedMarks=null,this}get selectionSet(){return(this.updated&zw)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bc,this}ensureMarks(e){return ze.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ze.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Fw,this}get scrolledIntoView(){return(this.updated&Fw)>0}}function Bw(t,e){return!e||!t?t:t.bind(e)}class Sa{constructor(e,n,r){this.name=e,this.init=Bw(n.init,r),this.apply=Bw(n.apply,r)}}const KL=[new Sa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sa("selection",{init(t,e){return t.selection||Be.atStart(e.doc)},apply(t){return t.selection}}),new Sa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class op{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=KL.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sa(r.key,r.spec.state,r))})}}class Dl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let s=this.config.plugins[l];if(s.spec.appendTransaction){let a=i?i[l].n:0,u=i?i[l].state:this,c=a<n.length&&s.spec.appendTransaction.call(s,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,l)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<l?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Dl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new HL(this)}static create(e){let n=new op(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Dl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new op(this.schema,e.plugins),r=n.fields,i=new Dl(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new op(e.schema,e.plugins),o=new Dl(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=Gi.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=Be.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let a=r[s],u=a.spec.state;if(a.key==l.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[l.name]=u.fromJSON.call(a,e,n[s],o);return}}o[l.name]=l.init(e,o)}}),o}}function mO(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=mO(i,e,{})),n[r]=i}return n}class hr{constructor(e){this.spec=e,this.props={},e.props&&mO(e.props,this,this.props),this.key=e.key?e.key.key:gO("plugin")}getState(e){return e[this.key]}}const lp=Object.create(null);function gO(t){return t in lp?t+"$"+ ++lp[t]:(lp[t]=0,t+"$")}class pr{constructor(e="key"){this.key=gO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class mr{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?YL(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function YL(t){return function(e,n,r,i){let o=t;if(n[1]){let l=n[0].lastIndexOf(n[1]);o+=n[0].slice(l+n[1].length),r+=l;let s=r-i;s>0&&(o=n[0].slice(l-s,l)+o,r=i)}return e.tr.insertText(o,r,i)}}const GL=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let l=t.tr,s=o.transform;for(let a=s.steps.length-1;a>=0;a--)l.step(s.steps[a].invert(s.docs[a]));if(o.text){let a=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else l.delete(o.from,o.to);e(l)}return!0}}return!1};new mr(/--$/,"—");new mr(/\.\.\.$/,"…");new mr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");new mr(/"$/,"”");new mr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");new mr(/'$/,"’");function jy(t,e,n=null,r){return new mr(t,(i,o,l,s)=>{let a=n instanceof Function?n(o):n,u=i.tr.delete(l,s),c=u.doc.resolve(l),f=c.blockRange(),d=f&&aO(f,e,a);if(!d)return null;u.wrap(f,d);let h=u.doc.resolve(l-1).nodeBefore;return h&&h.type==e&&qd(u.doc,l-1)&&(!r||r(o,h))&&u.join(l-1),u})}function yO(t,e,n=null){return new mr(t,(r,i,o,l)=>{let s=r.doc.resolve(o),a=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?r.tr.delete(o,l).setBlockType(o,o,e,a):null})}const no=typeof navigator<"u"?navigator:null,$w=typeof document<"u"?document:null,rl=no&&no.userAgent||"",Jm=/Edge\/(\d+)/.exec(rl),vO=/MSIE \d/.exec(rl),Qm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rl),zy=!!(vO||Qm||Jm);vO?document.documentMode:Qm?+Qm[1]:Jm&&+Jm[1];const JL=!zy&&/gecko\/(\d+)/i.test(rl);JL&&+(/Firefox\/(\d+)/.exec(rl)||[0,0])[1];const qw=!zy&&/Chrome\/(\d+)/.exec(rl);qw&&+qw[1];const QL=!zy&&!!no&&/Apple Computer/.test(no.vendor),XL=QL&&(/Mobile\/\w+/.test(rl)||!!no&&no.maxTouchPoints>2);XL||no&&/Mac/.test(no.platform);const ZL=!!$w&&"webkitFontSmoothing"in $w.documentElement.style;ZL&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];function sp(t,e,n,r,i,o){if(t.composing)return!1;const l=t.state,s=l.doc.resolve(e);if(s.parent.type.spec.code)return!1;const a=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"￼")+r;for(let u=0;u<i.length;u++){const c=i[u].match.exec(a),f=c&&c[0]&&i[u].handler(l,c,e-(c[0].length-r.length),n);if(f)return t.dispatch(f.setMeta(o,{transform:f,from:e,to:n,text:r})),!0}return!1}const e3=new pr("MILKDOWN_CUSTOM_INPUTRULES");function t3({rules:t}){const e=new hr({key:e3,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return sp(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&sp(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?sp(n,i.pos,i.pos,`
`,t,e):!1}}});return e}function Vd(t,e,n={}){return new mr(t,(r,i,o,l)=>{var s,a,u,c;const{tr:f}=r,d=i.length;let h=i[d-1],m=i[0],y=[],v=l;const p={group:h,fullMatch:m,start:o,end:l},g=(s=n.updateCaptured)==null?void 0:s.call(n,p);if(Object.assign(p,g),{group:h,fullMatch:m,start:o,end:l}=p,m===null||(h==null?void 0:h.trim())==="")return null;if(h){const b=m.search(/\S/),w=o+m.indexOf(h),x=w+h.length;y=(a=f.storedMarks)!=null?a:[],x<l&&f.delete(x,l),w>o&&f.delete(o+b,w),v=o+b+h.length;const S=(u=n.getAttr)==null?void 0:u.call(n,i);f.addMark(o,v,e.create(S)),f.setStoredMarks(y),(c=n.beforeDispatch)==null||c.call(n,{match:i,start:o,end:l,tr:f})}return f})}function n3(t,e){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function r3(t,e){if(!(t instanceof Ce))return;const{node:n,$from:r}=t;if(n3(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const Fy=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function i3(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const wO=(t,e,n)=>{let r=i3(t,n);if(!r)return!1;let i=xO(r);if(!i){let l=r.blockRange(),s=l&&$d(l);return s==null?!1:(e&&e(t.tr.lift(l,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(SO(t,i,e,-1))return!0;if(r.parent.content.size==0&&(us(o,"end")||Ce.isSelectable(o)))for(let l=r.depth;;l--){let s=Dy(t.doc,r.before(l),r.after(l),he.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(us(o,"end")?Be.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Ce.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function us(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const bO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=xO(r)}let l=o&&o.nodeBefore;return!l||!Ce.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function xO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function o3(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const l3=(t,e,n)=>{let r=o3(t,n);if(!r)return!1;let i=kO(r);if(!i)return!1;let o=i.nodeAfter;if(SO(t,i,e,1))return!0;if(r.parent.content.size==0&&(us(o,"start")||Ce.isSelectable(o))){let l=Dy(t.doc,r.before(),r.after(),he.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=t.tr.step(l);s.setSelection(us(o,"start")?Be.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Ce.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},s3=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=kO(r)}let l=o&&o.nodeAfter;return!l||!Ce.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,o.pos)).scrollIntoView()),!0)};function kO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const a3=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function By(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const u3=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=By(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let s=n.after(),a=t.tr.replaceWith(s,s,l.createAndFill());a.setSelection(Be.near(a.doc.resolve(s),1)),e(a.scrollIntoView())}return!0},c3=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Pn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=By(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(l,o.createAndFill());s.setSelection(He.create(s.doc,l+1)),e(s.scrollIntoView())}return!0},f3=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if($a(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&$d(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function d3(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ce&&e.selection.node.isBlock)return!r.parentOffset||!$a(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;let o=i.parentOffset==i.parent.content.size,l=e.tr;(e.selection instanceof He||e.selection instanceof Pn)&&l.deleteSelection();let s=r.depth==0?null:By(r.node(-1).contentMatchAt(r.indexAfter(-1))),a=t&&t(i.parent,o,r),u=a?[a]:o&&s?[{type:s}]:void 0,c=$a(l.doc,l.mapping.map(r.pos),1,u);if(!u&&!c&&$a(l.doc,l.mapping.map(r.pos),1,s?[{type:s}]:void 0)&&(s&&(u=[{type:s}]),c=!0),!c)return!1;if(l.split(l.mapping.map(r.pos),1,u),!o&&!r.parentOffset&&r.parent.type!=s){let f=l.mapping.map(r.before()),d=l.doc.resolve(f);s&&r.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&l.setNodeMarkup(l.mapping.map(r.before()),s)}return n&&n(l.scrollIntoView()),!0}}const h3=d3(),p3=(t,e)=>(e&&e(t.tr.setSelection(new Pn(t.doc))),!0);function m3(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||qd(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function SO(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,l,s,a=i.type.spec.isolating||o.type.spec.isolating;if(!a&&m3(t,e,n))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(l=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(l[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,m=le.empty;for(let p=l.length-1;p>=0;p--)m=le.from(l[p].create(null,m));m=le.from(i.copy(m));let y=t.tr.step(new tn(e.pos-1,h,e.pos,h,new he(m,1,0),l.length,!0)),v=y.doc.resolve(h+2*l.length);v.nodeAfter&&v.nodeAfter.type==i.type&&qd(y.doc,v.pos)&&y.join(v.pos),n(y.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&a?null:Be.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&$d(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(u&&us(o,"start",!0)&&us(i,"end")){let h=i,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let y=o,v=1;for(;!y.isTextblock;y=y.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,y.content)){if(n){let p=le.empty;for(let b=m.length-1;b>=0;b--)p=le.from(m[b].copy(p));let g=t.tr.step(new tn(e.pos-m.length,e.pos+o.nodeSize,e.pos+v,e.pos+o.nodeSize-v,new he(p,m.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function EO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(He.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const g3=EO(-1),y3=EO(1);function $y(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),s=l&&aO(l,t,e);return s?(r&&r(n.tr.wrap(l,s).scrollIntoView()),!0):!1}}function vu(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(l,s,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[l];o.setBlockType(s,a,t,e)}r(o.scrollIntoView())}return!0}}function v3(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:o,$to:l}=e[i],s=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,l.pos,(a,u)=>{if(s||!r&&a.isAtom&&a.isInline&&u>=o.pos&&u+a.nodeSize<=l.pos)return!1;s=a.inlineContent&&a.type.allowsMarkType(n)}),s)return!0}return!1}function w3(t){let e=[];for(let n=0;n<t.length;n++){let{$from:r,$to:i}=t[n];r.doc.nodesBetween(r.pos,i.pos,(o,l)=>{if(o.isAtom&&o.content.size&&o.isInline&&l>=r.pos&&l+o.nodeSize<=i.pos)return l+1>r.pos&&e.push(new Gm(r,r.doc.resolve(l+1))),r=r.doc.resolve(l+1+o.content.size),!1}),r.pos<i.pos&&e.push(new Gm(r,i))}return e}function qy(t,e=null,n){let r=(n&&n.removeWhenPresent)!==!1,i=(n&&n.enterInlineAtoms)!==!1;return function(o,l){let{empty:s,$cursor:a,ranges:u}=o.selection;if(s&&!a||!v3(o.doc,u,t,i))return!1;if(l)if(a)t.isInSet(o.storedMarks||a.marks())?l(o.tr.removeStoredMark(t)):l(o.tr.addStoredMark(t.create(e)));else{let c,f=o.tr;i||(u=w3(u)),r?c=!u.some(d=>o.doc.rangeHasMark(d.$from.pos,d.$to.pos,t)):c=!u.every(d=>{let h=!1;return f.doc.nodesBetween(d.$from.pos,d.$to.pos,(m,y,v)=>{if(h)return!1;h=!t.isInSet(m.marks)&&!!v&&v.type.allowsMarkType(t)&&!(m.isText&&/^\s*$/.test(m.textBetween(Math.max(0,d.$from.pos-y),Math.min(m.nodeSize,d.$to.pos-y))))}),!h});for(let d=0;d<u.length;d++){let{$from:h,$to:m}=u[d];if(!c)f.removeMark(h.pos,m.pos,t);else{let y=h.pos,v=m.pos,p=h.nodeAfter,g=m.nodeBefore,b=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,w=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;y+b<v&&(y+=b,v-=w),f.addMark(y,v,t.create(e))}}l(f.scrollIntoView())}return!0}}function Wd(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let ap=Wd(Fy,wO,bO),Uw=Wd(Fy,l3,s3);const Yr={Enter:Wd(a3,c3,f3,h3),"Mod-Enter":u3,Backspace:ap,"Mod-Backspace":ap,"Shift-Backspace":ap,Delete:Uw,"Mod-Delete":Uw,"Mod-a":p3},OO={"Ctrl-h":Yr.Backspace,"Alt-Backspace":Yr["Mod-Backspace"],"Ctrl-d":Yr.Delete,"Ctrl-Alt-Backspace":Yr["Mod-Delete"],"Alt-Delete":Yr["Mod-Delete"],"Alt-d":Yr["Mod-Delete"],"Ctrl-a":g3,"Ctrl-e":y3};for(let t in Yr)OO[t]=Yr[t];const b3=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,x3=b3?OO:Yr;var ro={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k3=typeof navigator<"u"&&/Mac/.test(navigator.platform),S3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $t=0;$t<10;$t++)ro[48+$t]=ro[96+$t]=String($t);for(var $t=1;$t<=24;$t++)ro[$t+111]="F"+$t;for(var $t=65;$t<=90;$t++)ro[$t]=String.fromCharCode($t+32),Xf[$t]=String.fromCharCode($t);for(var up in ro)Xf.hasOwnProperty(up)||(Xf[up]=ro[up]);function E3(t){var e=k3&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||S3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Xf:ro)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const O3=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function T3(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let s=0;s<e.length-1;s++){let a=e[s];if(/^(cmd|meta|m)$/i.test(a))l=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))O3?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function C3(t){let e=Object.create(null);for(let n in t)e[T3(n)]=t[n];return e}function cp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function TO(t){return new hr({props:{handleKeyDown:N3(t)}})}function N3(t){let e=C3(t);return function(n,r){let i=E3(r),o,l=e[cp(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=e[cp(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ro[r.keyCode])&&o!=i){let s=e[cp(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}const qt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Xm=null;const Hr=function(t,e,n){let r=Xm||(Xm=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},_3=function(){Xm=null},Jo=function(t,e,n,r){return n&&(Vw(t,e,n,r,-1)||Vw(t,e,n,r,1))},A3=/^(img|br|input|textarea|hr)$/i;function Vw(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Wn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Lu(t)||A3.test(t.nodeName)||t.contentEditable=="false")return!1;e=qt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Wn(t):0}else return!1}}function Wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function M3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Wn(t)}else if(t.parentNode&&!Lu(t))e=qt(t),t=t.parentNode;else return null}}function P3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Lu(t))e=qt(t)+1,t=t.parentNode;else return null}}function R3(t,e,n){for(let r=e==0,i=e==Wn(t);r||i;){if(t==n)return!0;let o=qt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Wn(t)}}function Lu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Hd=function(t){return t.focusNode&&Jo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function To(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function I3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function D3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Wn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Wn(r.startContainer),r.startOffset)}}}const Rr=typeof navigator<"u"?navigator:null,Ww=typeof document<"u"?document:null,co=Rr&&Rr.userAgent||"",Zm=/Edge\/(\d+)/.exec(co),CO=/MSIE \d/.exec(co),eg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(co),kn=!!(CO||eg||Zm),Ji=CO?document.documentMode:eg?+eg[1]:Zm?+Zm[1]:0,dr=!kn&&/gecko\/(\d+)/i.test(co);dr&&+(/Firefox\/(\d+)/.exec(co)||[0,0])[1];const tg=!kn&&/Chrome\/(\d+)/.exec(co),en=!!tg,NO=tg?+tg[1]:0,an=!kn&&!!Rr&&/Apple Computer/.test(Rr.vendor),cs=an&&(/Mobile\/\w+/.test(co)||!!Rr&&Rr.maxTouchPoints>2),$n=cs||(Rr?/Mac/.test(Rr.platform):!1),L3=Rr?/Win/.test(Rr.platform):!1,sr=/Android \d/.test(co),ju=!!Ww&&"webkitFontSmoothing"in Ww.documentElement.style,j3=ju?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function z3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function qr(t,e){return typeof t=="number"?t:t[e]}function F3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Hw(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;l=wu(l)){if(l.nodeType!=1)continue;let s=l,a=s==o.body,u=a?z3(o):F3(s),c=0,f=0;if(e.top<u.top+qr(r,"top")?f=-(u.top-e.top+qr(i,"top")):e.bottom>u.bottom-qr(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+qr(i,"top")-u.top:e.bottom-u.bottom+qr(i,"bottom")),e.left<u.left+qr(r,"left")?c=-(u.left-e.left+qr(i,"left")):e.right>u.right-qr(r,"right")&&(c=e.right-u.right+qr(i,"right")),c||f)if(a)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let m=s.scrollLeft-d,y=s.scrollTop-h;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function B3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let s=t.root.elementFromPoint(o,l);if(!s||s==t.dom||!t.dom.contains(s))continue;let a=s.getBoundingClientRect();if(a.top>=n-20){r=s,i=a.top;break}}return{refDOM:r,refTop:i,stack:_O(t.dom)}}function _O(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wu(r));return e}function $3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;AO(n,r==0?0:r-e)}function AO(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ul=null;function q3(t){if(t.setActive)return t.setActive();if(ul)return t.focus(ul);let e=_O(t);t.focus(ul==null?{get preventScroll(){return ul={preventScroll:!0},!0}}:void 0),ul||(ul=!1,AO(e,0))}function MO(t,e){let n,r=2e8,i,o=0,l=e.top,s=e.top,a,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Hr(c).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.top<=l&&m.bottom>=s){l=Math.max(m.bottom,l),s=Math.min(m.top,s);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=c,r=y,i=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,c.nodeType==1&&y&&(o=f+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!a&&m.left<=e.left&&m.right>=e.left&&(a=c,u={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(o=f+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?U3(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:MO(n,i)}function U3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ei(r,1);if(o.top!=o.bottom&&Uy(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Uy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function V3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function W3(t,e,n){let{node:r,offset:i}=MO(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function H3(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)){let a=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&(!l&&a.left>r.left||a.top>r.top?i=s.posBefore:(!l&&a.right<r.left||a.bottom<r.top)&&(i=s.posAfter),l=!0),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function PO(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let s=l.getClientRects();for(let a=0;a<s.length;a++){let u=s[a];if(Uy(e,u))return PO(l,e,u)}}if((o=(o+1)%r)==i)break}return t}function K3(t,e){let n=t.dom.ownerDocument,r,i=0,o=D3(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let u=t.dom.getBoundingClientRect();if(!Uy(e,u)||(l=PO(t.dom,e,u),!l))return null}if(an)for(let u=l;r&&u;u=wu(u))u.draggable&&(r=void 0);if(l=V3(l,e),r){if(dr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;ju&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=H3(t,r,i,e))}s==null&&(s=W3(t,l,e));let a=t.docView.nearestDesc(l,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function Kw(t){return t.top<t.bottom||t.left<t.right}function Ei(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Kw(r))return r}return Array.prototype.find.call(n,Kw)||t.getBoundingClientRect()}const Y3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function RO(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=ju||dr;if(r.nodeType==3)if(l&&(Y3.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Ei(Hr(r,i,i),n);if(dr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ei(Hr(r,i-1,i-1),-1);if(u.top==a.top){let c=Ei(Hr(r,i,i+1),-1);if(c.top!=a.top)return Gs(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,Gs(Ei(Hr(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Wn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return fp(a.getBoundingClientRect(),!1)}if(o==null&&i<Wn(r)){let a=r.childNodes[i];if(a.nodeType==1)return fp(a.getBoundingClientRect(),!0)}return fp(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Wn(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Hr(a,Wn(a)-(l?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Gs(Ei(u,1),!1)}if(o==null&&i<Wn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Hr(a,0,l?0:1):a.nodeType==1?a:null:null;if(u)return Gs(Ei(u,-1),!0)}return Gs(Ei(r.nodeType==3?Hr(r):r,-n),n>=0)}function Gs(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function fp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function IO(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function G3(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return IO(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let l=RO(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let a;if(s.nodeType==1)a=s.getClientRects();else if(s.nodeType==3)a=Hr(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?l.top-c.top>(c.bottom-l.top)*2:c.bottom-l.bottom>(l.bottom-c.top)*2))return!1}}return!0})}const J3=/[\u0590-\u08ac]/;function Q3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,s=t.domSelection();return s?!J3.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:l:IO(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),v=m&&!h.contains(m.nodeType==1?m:m.parentNode)||a==m&&u==y;try{s.collapse(c,f),a&&(a!=c||u!=f)&&s.extend&&s.extend(a,u)}catch{}return d!=null&&(s.caretBidiLevel=d),v}):r.pos==r.start()||r.pos==r.end()}let Yw=null,Gw=null,Jw=!1;function X3(t,e,n){return Yw==e&&Gw==n?Jw:(Yw=e,Gw=n,Jw=n=="up"||n=="down"?G3(t,e,n):Q3(t,e,n))}const Yn=0,Qw=1,Mo=2,Ir=3;class zu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Yn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>qt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],s=o+l.size;if(s>e||l instanceof LO){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof DO&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?qt(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?qt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,s=0;;s++){let a=this.children[s],u=l+a.size;if(i==-1&&e<=u){let c=l+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=l;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=qt(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||s==this.children.length-1)){n=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=qt(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let d=0,h=0;d<this.children.length;d++){let m=this.children[d],y=h+m.size;if(o>h&&l<y)return m.setSelection(e-h-m.border,n-h-m.border,r,i);h=y}let s=this.domFromPos(e,e?-1:1),a=n==e?s:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((dr||an)&&e==n){let{node:d,offset:h}=s;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==`
`),c&&h==d.nodeValue.length)for(let m=d,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(s=a={node:y.parentNode,offset:qt(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=d.childNodes[h-1];c=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(dr&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&an)&&Jo(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Jo(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(s.node,s.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let h=s;s=a,a=h}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let s=r+o.border,a=l-o.border;if(e>=s&&n<=a){this.dirty=e==r||n==l?Mo:Qw,e==s&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ir:o.markDirty(e-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Mo:Ir}r=l}this.dirty=Mo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Mo:Qw;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class DO extends zu{constructor(e,n,r,i){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let s=document.createElement("span");s.appendChild(l),l=s}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Yn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Z3 extends zu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qo extends zu{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=ws.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Qo(e,n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&Ir||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ir&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Yn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Yn}}slice(e,n,r){let i=Qo.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=rg(o,n,l,r)),e>0&&(o=rg(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}class Qi extends zu{constructor(e,n,r,i,o,l,s,a,u){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(e,n,r,i,o,l){let s=o.nodeViews[n.type.name],a,u=s&&s(n,o,()=>{if(!a)return l;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=ws.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=FO(c,r,n),u?a=new e4(e,n,r,i,c,f||null,d,u,o,l+1):n.isText?new Kd(e,n,r,i,c,d,o):new Qi(e,n,r,i,c,f||null,d,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>le.empty)}return e}matchesNode(e,n,r){return this.dirty==Yn&&e.eq(this.node)&&Zf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,s=o&&o.pos<0,a=new n4(this,l&&l.node,e);o4(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?ze.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,f,h,e)||a.updateNextNode(u,c,f,e,d,i)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Mo)&&(l&&this.protectLocalComposition(e,l),jO(this.contentDOM,this.children,e),cs&&l4(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof He)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,s=s4(this.node.content,l,r-n,i-n);return s<0?null:{node:o,pos:s,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new Z3(this,o,n,i);e.input.compositionNodes.push(l),this.children=rg(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Ir||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Yn}updateOuterDeco(e){if(Zf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zO(this.dom,this.nodeDOM,ng(this.outerDeco,this.node,n),ng(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Xw(t,e,n,r,i){FO(r,e,t);let o=new Qi(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Kd extends Qi{constructor(e,n,r,i,o,l,s){super(e,n,r,i,o,null,l,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ir||this.dirty!=Yn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Yn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Yn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Kd(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ir)}get domAtom(){return!1}isText(e){return this.node.text==e}}class LO extends zu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Yn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class e4 extends Qi{constructor(e,n,r,i,o,l,s,a,u,c){super(e,n,r,i,o,l,s,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Ir)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function jO(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],s=l.dom;if(s.parentNode==t){for(;s!=r;)r=Zw(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(l instanceof Qo){let a=r?r.previousSibling:t.lastChild;jO(l.contentDOM,l.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Zw(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const qa=function(t){t&&(this.nodeName=t)};qa.prototype=Object.create(null);const Po=[new qa];function ng(t,e,n){if(t.length==0)return Po;let r=n?Po[0]:new qa,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new qa(l.nodeName));for(let s in l){let a=l[s];a!=null&&(n&&i.length==1&&i.push(r=new qa(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+a:s=="style"?r.style=(r.style?r.style+";":"")+a:s!="nodeName"&&(r[s]=a))}}}return i}function zO(t,e,n,r){if(n==Po&&r==Po)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],s=n[o];if(o){let a;s&&s.nodeName==l.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==l.nodeName||(a=document.createElement(l.nodeName),a.pmIsDeco=!0,a.appendChild(i),s=Po[0]),i=a}t4(i,s||Po[0],l)}return i}function t4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function FO(t,e,n){return zO(t,t,Po,ng(e,n,t.nodeType!=1))}function Zf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Zw(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class n4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=r4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Yn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){s=a;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let a=Qo.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let u=this.top.children[s];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==Ir&&l.dom==l.contentDOM&&(l.dirty=Mo),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof Qi){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,f,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Ir&&Zf(n,a.outerDeco));if(!d&&a.update(e,n,r,i))return this.destroyBetween(this.index,s),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,i,l)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Mo,f.updateChildren(i,l+1),f.dirty=Yn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Zf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=Qi.create(this.top,n,r,i,o,l);if(s.contentDOM){s.children=e.children,e.children=[];for(let a of s.children)a.parent=s}return e.destroy(),s}addNode(e,n,r,i,o){let l=Qi.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new DO(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Qo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Kd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((an||en)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new LO(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function r4(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let s;for(;;)if(r){let u=n.children[r-1];if(u instanceof Qo)n=u,r=u.children.length;else{s=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=s.node;if(a){if(a!=t.child(i-1))break;--i,o.set(s,i),l.push(s)}}return{index:i,matched:o,matches:l.reverse()}}function i4(t,e){return t.type.side-e.type.side}function o4(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let l=0,s=[],a=null;for(let u=0;;){let c,f;for(;l<i.length&&i[l].to==o;){let v=i[l++];v.widget&&(c?(f||(f=[c])).push(v):c=v)}if(c)if(f){f.sort(i4);for(let v=0;v<f.length;v++)n(f[v],u,!!a)}else n(c,u,!!a);let d,h;if(a)h=-1,d=a,a=null;else if(u<t.childCount)h=u,d=t.child(u++);else break;for(let v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let m=o+d.nodeSize;if(d.isText){let v=m;l<i.length&&i[l].from<v&&(v=i[l].from);for(let p=0;p<s.length;p++)s[p].to<v&&(v=s[p].to);v<m&&(a=d.cut(v-o),d=d.cut(0,v-o),m=v,h=-1)}else for(;l<i.length&&i[l].to<m;)l++;let y=d.isInline&&!d.isLeaf?s.filter(v=>!v.inline):s.slice();r(d,y,e.forChild(o,d),h),o=m}}function l4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function s4(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),s=o;if(o+=l.nodeSize,!l.isText)continue;let a=l.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-s,r-s)==e)return r-e.length;let u=s<r?a.lastIndexOf(e,r-s-1):-1;if(u>=0&&u+e.length+s>=n)return s+u;if(n==r&&a.length>=r+e.length-s&&a.slice(r-s,r-s+e.length)==e)return r}}return-1}function rg(t,e,n,r,i){let o=[];for(let l=0,s=0;l<t.length;l++){let a=t[l],u=s,c=s+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Vy(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let s=r.resolve(l),a,u;if(Hd(n)){for(a=l;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Ce.isSelectable(f)&&i.parent&&!(f.isInline&&R3(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Ce(l==d?s:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=l,d=l;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[a,l]=d==t.state.selection.anchor?[d,f]:[f,d],s=r.resolve(l)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!u){let f=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;u=Wy(t,c,s,f)}return u}function BO(t){return t.editable?t.hasFocus():qO(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ei(t,e=!1){let n=t.state.selection;if($O(t,n),!!BO(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&en){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Jo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)u4(t);else{let{anchor:r,head:i}=n,o,l;eb&&!(n instanceof He)&&(n.$from.parent.inlineContent||(o=tb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=tb(t,n.to))),t.docView.setSelection(r,i,t.root,e),eb&&(o&&nb(o),l&&nb(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&a4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const eb=an||en&&NO<63;function tb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(an&&i&&i.contentEditable=="false")return dp(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return dp(i);if(o)return dp(o)}}function dp(t){return t.contentEditable="true",an&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function nb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function a4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!BO(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function u4(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,qt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&kn&&Ji<=11&&(r.disabled=!0,r.disabled=!1)}function $O(t,e){if(e instanceof Ce){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(rb(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else rb(t)}function rb(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Wy(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||He.between(e,n,r)}function ib(t){return t.editable&&!t.hasFocus()?!1:qO(t)}function qO(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function c4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Jo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ig(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Be.findFrom(o,e)}function _i(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ob(t,e,n){let r=t.state.selection;if(r instanceof He)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return _i(t,new He(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ig(t.state,e);return i&&i instanceof Ce?_i(t,i):!1}else if(!($n&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(s))&&!l.contentDOM?Ce.isSelectable(o)?_i(t,new Ce(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):ju?_i(t,new He(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ce&&r.node.isInline)return _i(t,new He(e>0?r.$to:r.$from));{let i=ig(t.state,e);return i?_i(t,i):!1}}}function ed(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ua(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function cl(t,e){return e<0?f4(t):d4(t)}function f4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(dr&&n.nodeType==1&&r<ed(n)&&Ua(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(Ua(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(UO(n))break;{let s=n.previousSibling;for(;s&&Ua(s,-1);)i=n.parentNode,o=qt(s),s=s.previousSibling;if(s)n=s,r=ed(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?og(t,n,r):i&&og(t,i,o)}function d4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ed(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(Ua(s,1))o=n,l=++r;else break}else{if(UO(n))break;{let s=n.nextSibling;for(;s&&Ua(s,1);)o=s.parentNode,l=qt(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=ed(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&og(t,o,l)}function UO(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function h4(t,e){for(;t&&e==t.childNodes.length&&!Lu(t);)e=qt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function p4(t,e){for(;t&&!e&&!Lu(t);)e=qt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function og(t,e,n){if(e.nodeType!=3){let o,l;(l=h4(e,n))?(e=l,n=0):(o=p4(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Hd(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ei(t)},50)}function lb(t,e){let n=t.state.doc.resolve(e);if(!(en||L3)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function sb(t,e,n){let r=t.state.selection;if(r instanceof He&&!r.empty||n.indexOf("s")>-1||$n&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=ig(t.state,e);if(l&&l instanceof Ce)return _i(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,s=r instanceof Pn?Be.near(l,e):Be.findFrom(l,e);return s?_i(t,s):!1}return!1}function ab(t,e){if(!(t.state.selection instanceof He))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function ub(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function m4(t){if(!an||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ub(t,r,"true"),setTimeout(()=>ub(t,r,"false"),20)}return!1}function g4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function y4(t,e){let n=e.keyCode,r=g4(e);if(n==8||$n&&n==72&&r=="c")return ab(t,-1)||cl(t,-1);if(n==46&&!e.shiftKey||$n&&n==68&&r=="c")return ab(t,1)||cl(t,1);if(n==13||n==27)return!0;if(n==37||$n&&n==66&&r=="c"){let i=n==37?lb(t,t.state.selection.from)=="ltr"?-1:1:-1;return ob(t,i,r)||cl(t,i)}else if(n==39||$n&&n==70&&r=="c"){let i=n==39?lb(t,t.state.selection.from)=="ltr"?1:-1:1;return ob(t,i,r)||cl(t,i)}else{if(n==38||$n&&n==80&&r=="c")return sb(t,-1,r)||cl(t,-1);if(n==40||$n&&n==78&&r=="c")return m4(t)||sb(t,1,r)||cl(t,1);if(r==($n?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function VO(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let l=t.someProp("clipboardSerializer")||ws.fromSchema(t.state.schema),s=JO(),a=s.createElement("div");a.appendChild(l.serializeFragment(r,{document:s}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=GO[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let m=s.createElement(c[h]);for(;a.firstChild;)m.appendChild(a.firstChild);a.appendChild(m),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d,slice:e}}function WO(t,e,n,r,i){let o=i.parent.type.spec.code,l,s;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new he(le.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):he.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)s=f;else{let d=i.marks(),{schema:h}=t.state,m=ws.fromSchema(h);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let v=l.appendChild(document.createElement("p"));y&&v.appendChild(m.serializeNode(h.text(y,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),l=x4(n),ju&&k4(l);let u=l&&l.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=l.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;l=d}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||ls.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!v4.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=S4(cb(s,+c[1],+c[2]),c[4]);else if(s=he.maxOpen(w4(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=cb(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s,t)}),s}const v4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function w4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(s=>{if(!l)return;let a=i.findWrapping(s.type),u;if(!a)return l=null;if(u=l.length&&o.length&&KO(a,o,s,l[l.length-1],0))l[l.length-1]=u;else{l.length&&(l[l.length-1]=YO(l[l.length-1],o.length));let c=HO(s,a);l.push(c),i=i.matchType(c.type),o=a}}),l)return le.from(l)}return t}function HO(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,le.from(t));return t}function KO(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=KO(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(le.from(HO(n,t,i+1))))}}function YO(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,YO(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(le.empty,!0);return t.copy(n.append(r))}function lg(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,s=l.content;return t.childCount>1&&(o=0),i<r-1&&(s=lg(s,e,n,r,i+1,o)),i>=n&&(s=e<0?l.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(l.contentMatchAt(l.childCount).fillBefore(le.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(s))}function cb(t,e,n){return e<t.openStart&&(t=new he(lg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new he(lg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const GO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fb=null;function JO(){return fb||(fb=document.implementation.createHTMLDocument("title"))}function b4(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function x4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=JO().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&GO[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=b4(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function k4(t){let e=t.querySelectorAll(en?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function S4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let s=r.length-2;s>=0;s-=2){let a=n.nodes[r[s]];if(!a||a.hasRequiredAttrs())break;i=le.from(a.create(r[s+1],i)),o++,l++}return new he(i,o,l)}const un={},cn={},E4={touchstart:!0,touchmove:!0};class O4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function T4(t){for(let e in un){let n=un[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{N4(t,r)&&!Hy(t,r)&&(t.editable||!(r.type in cn))&&n(t,r)},E4[e]?{passive:!0}:void 0)}an&&t.dom.addEventListener("input",()=>null),sg(t)}function Fi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function C4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function sg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Hy(t,r))})}function Hy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function N4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function _4(t,e){!Hy(t,e)&&un[e.type]&&(t.editable||!(e.type in cn))&&un[e.type](t,e)}cn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!XO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(sr&&en&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),cs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,To(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||y4(t,n)?n.preventDefault():Fi(t,"key")};cn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};cn.keypress=(t,e)=>{let n=e;if(XO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||$n&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Yd(t){return{left:t.clientX,top:t.clientY}}function A4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ky(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,s=>l>o.depth?s(t,n,o.nodeAfter,o.before(l),i,!0):s(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function Wl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function M4(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ce.isSelectable(r)?(Wl(t,new Ce(n),"pointer"),!0):!1}function P4(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ce&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let s=l>o.depth?o.nodeAfter:o.node(l);if(Ce.isSelectable(s)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(Wl(t,Ce.create(t.state.doc,i),"pointer"),!0):!1}function R4(t,e,n,r,i){return Ky(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?P4(t,n):M4(t,n))}function I4(t,e,n,r){return Ky(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function D4(t,e,n,r){return Ky(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||L4(t,n,r)}function L4(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Wl(t,He.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(l.inlineContent)Wl(t,He.create(r,s+1,s+1+l.content.size),"pointer");else if(Ce.isSelectable(l))Wl(t,Ce.create(r,s),"pointer");else continue;return!0}}function Yy(t){return td(t)}const QO=$n?"metaKey":"ctrlKey";un.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Yy(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&A4(n,t.input.lastClick)&&!n[QO]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let l=t.posAtCoords(Yd(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new j4(t,l,n,!!r)):(o=="doubleClick"?I4:D4)(t,l.pos,l.inside,n)?n.preventDefault():Fi(t,"pointer"))};class j4{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[QO],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,l=c.depth?c.before():0}const s=i?null:r.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Ce&&u.from<=l&&u.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ei(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Yd(e))),this.updateAllowDefault(e),this.allowDefault||!n?Fi(this.view,"pointer"):R4(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||an&&this.mightDrag&&!this.mightDrag.node.isAtom||en&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Wl(this.view,Be.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Fi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}un.touchstart=t=>{t.input.lastTouch=Date.now(),Yy(t),Fi(t,"pointer")};un.touchmove=t=>{t.input.lastTouch=Date.now(),Fi(t,"pointer")};un.contextmenu=t=>Yy(t);function XO(t,e){return t.composing?!0:an&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const z4=sr?5e3:-1;cn.compositionstart=cn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof He&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),td(t,!0),t.markCursor=null;else if(td(t,!e.selection.empty),dr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let s=t.domSelection();s&&s.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}ZO(t,z4)};cn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,ZO(t,20))};function ZO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>td(t),e))}function eT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=B4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function F4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=M3(e.focusNode,e.focusOffset),r=P3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function B4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function td(t,e=!1){if(!(sr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),eT(t),e||t.docView&&t.docView.dirty){let n=Vy(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $4(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const bu=kn&&Ji<15||cs&&j3<604;un.copy=cn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=bu?null:n.clipboardData,l=r.content(),{dom:s,text:a}=VO(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):$4(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function q4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function U4(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xu(t,r.value,null,i,e):xu(t,r.textContent,r.innerHTML,i,e)},50)}function xu(t,e,n,r,i){let o=WO(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||he.empty)))return!0;if(!o)return!1;let l=q4(o),s=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}cn.paste=(t,e)=>{let n=e;if(t.composing&&!sr)return;let r=bu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&xu(t,tT(r),r.getData("text/html"),i,n)?n.preventDefault():U4(t,n)};class nT{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const rT=$n?"altKey":"ctrlKey";un.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Yd(n)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ce?i.to-1:i.to))){if(r&&r.mightDrag)l=Ce.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(l=Ce.create(t.state.doc,f.posBefore))}}let s=(l||t.state.selection).content(),{dom:a,text:u,slice:c}=VO(t,s);(!n.dataTransfer.files.length||!en||NO>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(bu?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",bu||n.dataTransfer.setData("text/plain",u),t.dragging=new nT(c,!n[rT],l)};un.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};cn.dragover=cn.dragenter=(t,e)=>e.preventDefault();cn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Yd(n));if(!i)return;let o=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",m=>{l=m(l,t)}):l=WO(t,tT(n.dataTransfer),bu?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&!n[rT]);if(t.someProp("handleDrop",m=>m(t,n,l||he.empty,s))){n.preventDefault();return}if(!l)return;n.preventDefault();let a=l?jL(t.state.doc,o.pos,l):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(s){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let c=u.mapping.map(a),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,l.content.firstChild):u.replaceRange(c,c,l),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&Ce.isSelectable(l.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(l.content.firstChild))u.setSelection(new Ce(h));else{let m=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((y,v,p,g)=>m=g),u.setSelection(Wy(t,h,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};un.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ei(t)},20))};un.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};un.beforeinput=(t,e)=>{if(en&&sr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,To(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in cn)un[t]=cn[t];function ku(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class nd{constructor(e,n){this.toDOM=e,this.spec=n||jo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new An(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof nd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ku(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xi{constructor(e,n){this.attrs=e,this.spec=n||jo}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new An(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xi&&ku(this.attrs,e.attrs)&&ku(this.spec,e.spec)}static is(e){return e.type instanceof Xi}destroy(){}}class Gy{constructor(e,n){this.attrs=e,this.spec=n||jo}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new An(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Gy&&ku(this.attrs,e.attrs)&&ku(this.spec,e.spec)}destroy(){}}class An{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new An(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new An(e,e,new nd(n,r))}static inline(e,n,r,i){return new An(e,n,new Xi(r,i))}static node(e,n,r,i){return new An(e,n,new Gy(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xi}get widget(){return this.type instanceof nd}}const gl=[],jo={};class Et{constructor(e,n){this.local=e.length?e:gl,this.children=n.length?n:gl}static create(e,n){return n.length?rd(n,e,0,jo):Jt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let l=0;l<this.local.length;l++){let s=this.local[l];s.from<=n&&s.to>=e&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let s=this.children[l]+1;this.children[l+2].findInner(e-s,n-s,r,i+s,o)}}map(e,n,r){return this==Jt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||jo)}mapInner(e,n,r,i,o){let l;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,r,i);a&&a.type.valid(n,a)?(l||(l=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?V4(this.children,l||[],e,n,r,i,o):l?new Et(l.sort(zo),gl):Jt}add(e,n){return n.length?this==Jt?Et.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((s,a)=>{let u=a+r,c;if(c=oT(n,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,a,a+s.nodeSize,rd(c,s,u+1,jo)),o+=3}});let l=iT(o?lT(n):n,-r);for(let s=0;s<l.length;s++)l[s].type.valid(e,l[s])||l.splice(s--,1);return new Et(l.length?this.local.concat(l).sort(zo):this.local,i||this.children)}remove(e){return e.length==0||this==Jt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,s=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<a&&(e[c]=null,(l||(l=[])).push(f));if(!l)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(l,s+1);u!=Jt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let s=0;s<i.length;s++)i[s].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Et(i,r):Jt}forChild(e,n){if(this==Jt)return this;if(n.isLeaf)return Et.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(r=this.children[s+2]);break}let o=e+1,l=o+n.content.size;for(let s=0;s<this.local.length;s++){let a=this.local[s];if(a.from<l&&a.to>o&&a.type instanceof Xi){let u=Math.max(o,a.from)-o,c=Math.min(l,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let s=new Et(i.sort(zo),gl);return r?new Ii([s,r]):s}return r||Jt}eq(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Jy(this.localsInner(e))}localsInner(e){if(this==Jt)return gl;if(e.inlineContent||!this.local.some(Xi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xi||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Et.empty=new Et([],[]);Et.removeOverlap=Jy;const Jt=Et.empty;class Ii{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,jo));return Ii.from(r)}forChild(e,n){if(n.isLeaf)return Et.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Jt&&(o instanceof Ii?r=r.concat(o.members):r.push(o))}return Ii.from(r)}eq(e){if(!(e instanceof Ii)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?Jy(r?n:n.sort(zo)):gl}static from(e){switch(e.length){case 0:return Jt;case 1:return e[0];default:return new Ii(e.every(n=>n instanceof Et)?e:e.reduce((n,r)=>n.concat(r instanceof Et?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function V4(t,e,n,r,i,o,l){let s=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,m,y)=>{let v=y-m-(h-d);for(let p=0;p<s.length;p+=3){let g=s[p+1];if(g<0||d>g+c-f)continue;let b=s[p]+c-f;h>=b?s[p+1]=d<=b?-2:-1:d>=c&&v&&(s[p]+=v,s[p+1]+=v)}f+=v}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){a=!0,s[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:m,offset:y}=r.content.findIndex(f),v=r.maybeChild(m);if(v&&y==f&&y+v.nodeSize==h){let p=s[u+2].mapInner(n,v,c+1,t[u]+o+1,l);p!=Jt?(s[u]=f,s[u+1]=h,s[u+2]=p):(s[u+1]=-2,a=!0)}else a=!0}if(a){let u=W4(s,t,e,n,i,o,l),c=rd(u,r,0,l);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Et(e.sort(zo),s)}function iT(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new An(i.from+e,i.to+e,i.type))}return n}function W4(t,e,n,r,i,o,l){function s(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):l.onRemove&&l.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)s(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&s(t[a+2],e[a]+o+1);return n}function oT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function lT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function rd(t,e,n,r){let i=[],o=!1;e.forEach((s,a)=>{let u=oT(t,s,a+n);if(u){o=!0;let c=rd(u,s,n+a+1,r);c!=Jt&&i.push(a,a+s.nodeSize,c)}});let l=iT(o?lT(t):t,-n).sort(zo);for(let s=0;s<l.length;s++)l[s].type.valid(e,l[s])||(r.onRemove&&r.onRemove(l[s].spec),l.splice(s--,1));return l.length||i.length?new Et(l,i):Jt}function zo(t,e){return t.from-e.from||t.to-e.to}function Jy(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),db(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),db(e,i,r.copy(o.from,r.to)));break}}}return e}function db(t,e,n){for(;e<t.length&&zo(n,t[e])>0;)e++;t.splice(e,0,n)}function hp(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Jt&&e.push(r)}),t.cursorWrapper&&e.push(Et.create(t.state.doc,[t.cursorWrapper.deco])),Ii.from(e)}const H4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},K4=kn&&Ji<=11;class Y4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class G4{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Y4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);kn&&Ji<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),K4&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,H4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ib(this.view)){if(this.suppressingSelectionUpdates)return ei(this.view);if(kn&&Ji<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Jo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=wu(o))n.add(o);for(let o=e.anchorNode;o;o=wu(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&ib(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),o=-1,l=-1,s=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],a);f&&(o=o<0?f.from:Math.min(f.from,o),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(s=!0))}if(dr&&a.length){let c=a.filter(f=>f.nodeName=="BR");if(c.length==2){let[f,d]=c;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of c){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||X4(e,f)!=h)&&d.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Hd(r)&&(u=Vy(e))&&u.eq(Be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ei(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),J4(e)),this.handleDOMChange(o,l,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ei(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let f=e.addedNodes[c];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(kn&&Ji<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let l=i&&i.parentNode==e.target?qt(i)+1:0,s=r.localPosFromDOM(e.target,l,-1),a=o&&o.parentNode==e.target?qt(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:s,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let hb=new WeakMap,pb=!1;function J4(t){if(!hb.has(t)&&(hb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=dr,pb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pb=!0}}function mb(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Jo(l.node,l.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Q4(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return mb(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?mb(t,n):null}function X4(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Z4(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:s}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Hd(a)||u.push({node:a.focusNode,offset:a.focusOffset})),en&&t.input.lastKeyCode===8)for(let v=o;v>i;v--){let p=r.childNodes[v-1],g=p.pmViewDesc;if(p.nodeName=="BR"&&!g){o=v;break}if(!g||g.size)break}let f=t.state.doc,d=t.someProp("domParser")||ls.fromSchema(t.state.schema),h=f.resolve(l),m=null,y=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:ej,context:h});if(u&&u[0].pos!=null){let v=u[0].pos,p=u[1]&&u[1].pos;p==null&&(p=v),m={anchor:v+l,head:p+l}}return{doc:y,sel:m,from:l,to:s}}function ej(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(an&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||an&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const tj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nj(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=Vy(t,A);if(C&&!t.state.selection.eq(C)){if(en&&sr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",O=>O(t,To(13,"Enter"))))return;let E=t.state.tr.setSelection(C);A=="pointer"?E.setMeta("pointer",!0):A=="key"&&E.scrollIntoView(),o&&E.setMeta("composition",o),t.dispatch(E)}return}let l=t.state.doc.resolve(e),s=l.sharedDepth(n);e=l.before(s+1),n=t.state.doc.resolve(n).after(s+1);let a=t.state.selection,u=Z4(t,e,n),c=t.state.doc,f=c.slice(u.from,u.to),d,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,h="end"):(d=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=oj(f.content,u.doc.content,u.from,d,h);if(m&&t.input.domChangeCount++,(cs&&t.input.lastIOSEnter>Date.now()-225||sr)&&i.some(A=>A.nodeType==1&&!tj.test(A.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",A=>A(t,To(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&a instanceof He&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let A=gb(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let C=t.state.tr.setSelection(A);o&&C.setMeta("composition",o),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof He&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),kn&&Ji<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let y=u.doc.resolveNoCache(m.start-u.from),v=u.doc.resolveNoCache(m.endB-u.from),p=c.resolve(m.start),g=y.sameParent(v)&&y.parent.inlineContent&&p.end()>=m.endA,b;if((cs&&t.input.lastIOSEnter>Date.now()-225&&(!g||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!g&&y.pos<u.doc.content.size&&!y.sameParent(v)&&(b=Be.findFrom(u.doc.resolve(y.pos+1),1,!0))&&b.head==v.pos)&&t.someProp("handleKeyDown",A=>A(t,To(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&ij(c,m.start,m.endA,y,v)&&t.someProp("handleKeyDown",A=>A(t,To(8,"Backspace")))){sr&&en&&t.domObserver.suppressSelectionUpdates();return}en&&sr&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),sr&&!g&&y.start()!=v.start()&&v.parentOffset==0&&y.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,v=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,To(13,"Enter"))})},20));let w=m.start,x=m.endA,S,T,k;if(g){if(y.pos==v.pos)kn&&Ji<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ei(t),20)),S=t.state.tr.delete(w,x),T=c.resolve(m.start).marksAcross(c.resolve(m.endA));else if(m.endA==m.endB&&(k=rj(y.parent.content.cut(y.parentOffset,v.parentOffset),p.parent.content.cut(p.parentOffset,m.endA-p.start()))))S=t.state.tr,k.type=="add"?S.addMark(w,x,k.mark):S.removeMark(w,x,k.mark);else if(y.parent.child(y.index()).isText&&y.index()==v.index()-(v.textOffset?0:1)){let A=y.parent.textBetween(y.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",C=>C(t,w,x,A)))return;S=t.state.tr.insertText(A,w,x)}}if(S||(S=t.state.tr.replace(w,x,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let A=gb(t,S.doc,u.sel);A&&!(en&&sr&&t.composing&&A.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==w||A.head==S.mapping.map(x)-1)||kn&&A.empty&&A.head==w)&&S.setSelection(A)}T&&S.ensureMarks(T),o&&S.setMeta("composition",o),t.dispatch(S.scrollIntoView())}function gb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Wy(t,e.resolve(n.anchor),e.resolve(n.head))}function rj(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,s,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],l="add",a=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],l="remove",a=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(le.from(u).eq(t))return{mark:s,type:l}}function ij(t,e,n,r,i){if(n-e<=i.pos-r.pos||pp(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==e+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(pp(o,!0,!0));return!l.parent.isTextblock||l.pos>n||pp(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function pp(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function oj(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(l,s));r-=l+a-o}if(l<o&&t.size<e.size){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<e.size&&yb(e.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}else if(s<o){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<t.size&&yb(t.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}return{start:o,endA:l,endB:s}}function yb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class lj{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new O4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(kb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=bb(this),wb(this),this.nodeViews=xb(this),this.docView=Xw(this.state.doc,vb(this),hp(this),this.dom,this),this.domObserver=new G4(this,(r,i,o,l)=>nj(this,r,i,o,l)),this.domObserver.start(),T4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&sg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(eT(this),l=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=xb(this);aj(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&sg(this),this.editable=bb(this),wb(this);let a=hp(this),u=vb(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,a);(f||!e.selection.eq(i.selection))&&(l=!0);let d=c=="preserve"&&l&&this.dom.style.overflowAnchor==null&&B3(this);if(l){this.domObserver.stop();let h=f&&(kn||en)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&sj(i.selection,e.selection);if(f){let m=en?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=F4(this)),(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Xw(e.doc,u,a,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&c4(this))?ei(this,h):($O(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&$3(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ce){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Hw(this,n.getBoundingClientRect(),e)}else Hw(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new nT(e.slice,e.move,i<0?void 0:Ce.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let s=this.directPlugins[l].props[e];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let s=o[l].props[e];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&q3(this.dom),ei(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return K3(this,e)}coordsAtPos(e,n=1){return RO(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return X3(this,n||this.state,e)}pasteHTML(e,n){return xu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return xu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(C4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return _4(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?an&&this.root.nodeType===11&&I3(this.dom.ownerDocument)==this.dom&&Q4(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function vb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[An.node(0,t.state.doc.content.size,e)]}function wb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:An.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function bb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function sj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function xb(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function aj(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function kb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xe=(t,e,n)=>(sT(t,e,"read from private field"),n?n.call(t):e.get(t)),jt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ut=(t,e,n,r)=>(sT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function fo(t,e){return t.meta={package:"@milkdown/core",group:"System",...e},t}const aT={strong:(t,e,n,r)=>{const i=t.marker||n.options.strong||"*",o=n.enter("strong"),l=n.createTracker(r);let s=l.move(i+i);return s+=l.move(n.containerPhrasing(t,{before:s,after:i,...l.current()})),s+=l.move(i+i),o(),s},emphasis:(t,e,n,r)=>{const i=t.marker||n.options.emphasis||"*",o=n.enter("emphasis"),l=n.createTracker(r);let s=l.move(i);return s+=l.move(n.containerPhrasing(t,{before:s,after:i,...l.current()})),s+=l.move(i),o(),s}},Va=Ue({},"editorView"),Ea=Ue({},"editorState"),mp=Ue([],"initTimer"),Sb=Ue({},"editor"),Su=Ue([],"inputRules"),Dr=Ue([],"prosePlugins"),Eu=Ue([],"remarkPlugins"),ag=Ue([],"nodeView"),ug=Ue([],"markView"),Fo=Ue(Um().use(Lm).use(Bm),"remark"),Wa=Ue({handlers:aT},"remarkStringifyOptions"),nf=ao("ConfigReady");function uj(t){const e=n=>(n.record(nf),async()=>(await t(n),n.done(nf),()=>{n.clearTimer(nf)}));return fo(e,{displayName:"Config"}),e}const Bo=ao("InitReady");function cj(t){const e=n=>(n.inject(Sb,t).inject(Dr,[]).inject(Eu,[]).inject(Su,[]).inject(ag,[]).inject(ug,[]).inject(Wa,{handlers:aT}).inject(Fo,Um().use(Lm).use(Bm)).inject(mp,[nf]).record(Bo),async()=>{await n.waitTimers(mp);const r=n.get(Wa);return n.set(Fo,Um().use(Lm).use(Bm,r)),n.done(Bo),()=>{n.remove(Sb).remove(Dr).remove(Eu).remove(Su).remove(ag).remove(ug).remove(Wa).remove(Fo).remove(mp).clearTimer(Bo)}});return fo(e,{displayName:"Init"}),e}const Pr=ao("SchemaReady"),gp=Ue([],"schemaTimer"),Zi=Ue({},"schema"),Hl=Ue([],"nodes"),Kl=Ue([],"marks");function Eb(t){var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}}const uT=t=>(t.inject(Zi,{}).inject(Hl,[]).inject(Kl,[]).inject(gp,[Bo]).record(Pr),async()=>{await t.waitTimers(gp);const e=t.get(Fo),n=t.get(Eu).reduce((l,s)=>l.use(s.plugin,s.options),e);t.set(Fo,n);const r=Object.fromEntries(t.get(Hl).map(([l,s])=>[l,Eb(s)])),i=Object.fromEntries(t.get(Kl).map(([l,s])=>[l,Eb(s)])),o=new PP({nodes:r,marks:i});return t.set(Zi,o),t.done(Pr),()=>{t.remove(Zi).remove(Hl).remove(Kl).remove(gp).clearTimer(Pr)}});fo(uT,{displayName:"Schema"});var yl,xo;let cT=class{constructor(){jt(this,yl,void 0),jt(this,xo,void 0),ut(this,yl,new iE),ut(this,xo,null),this.setCtx=e=>{ut(this,xo,e)}}get ctx(){return xe(this,xo)}create(e,n){const r=e.create(xe(this,yl).sliceMap);return r.set(n),r}get(e){return xe(this,yl).get(e).get()}remove(e){return xe(this,yl).remove(e)}call(e,n){if(xe(this,xo)==null)throw oP();const r=this.get(e)(n),i=xe(this,xo).get(Va);return r(i.state,i.dispatch,i)}};yl=new WeakMap,xo=new WeakMap;function fj(t="cmdKey"){return Ue(()=>()=>!1,t)}const Xe=Ue(new cT,"commands"),yp=Ue([Pr],"commandsTimer"),Ha=ao("CommandsReady"),fT=t=>{const e=new cT;return e.setCtx(t),t.inject(Xe,e).inject(yp,[Pr]).record(Ha),async()=>(await t.waitTimers(yp),t.done(Ha),()=>{t.remove(Xe).remove(yp).clearTimer(Ha)})};fo(fT,{displayName:"Commands"});const rf=ao("ParserReady"),dT=()=>{throw Ey()},of=Ue(dT,"parser"),vp=Ue([],"parserTimer"),hT=t=>(t.inject(of,dT).inject(vp,[Pr]).record(rf),async()=>{await t.waitTimers(vp);const e=t.get(Fo),n=t.get(Zi);return t.set(of,yL.create(n,e)),t.done(rf),()=>{t.remove(of).remove(vp).clearTimer(rf)}});fo(hT,{displayName:"Parser"});const Ka=ao("SerializerReady"),wp=Ue([],"serializerTimer"),pT=()=>{throw Ey()},lf=Ue(pT,"serializer"),mT=t=>(t.inject(lf,pT).inject(wp,[Pr]).record(Ka),async()=>{await t.waitTimers(wp);const e=t.get(Fo),n=t.get(Zi);return t.set(lf,wL.create(n,e)),t.done(Ka),()=>{t.remove(lf).remove(wp).clearTimer(Ka)}});fo(mT,{displayName:"Serializer"});const sf=Ue("","defaultValue"),bp=Ue(t=>t,"stateOptions"),xp=Ue([],"editorStateTimer"),af=ao("EditorStateReady");function dj(t,e,n){if(typeof t=="string")return e(t);if(t.type==="html")return ls.fromSchema(n).parse(t.dom);if(t.type==="json")return Gi.fromJSON(n,t.value);throw Z2(t)}const hj=new pr("MILKDOWN_STATE_TRACKER");function pj(t){const e=Wd(GL,Fy,wO,bO);return t.Backspace=e,t}const gT=t=>(t.inject(sf,"").inject(Ea,{}).inject(bp,e=>e).inject(xp,[rf,Ka,Ha]).record(af),async()=>{await t.waitTimers(xp);const e=t.get(Zi),n=t.get(of),r=t.get(Su),i=t.get(bp),o=t.get(Dr),l=t.get(sf),s=dj(l,n,e),a=[...o,new hr({key:hj,state:{init:()=>{},apply:(f,d,h,m)=>{t.set(Ea,m)}}}),t3({rules:r}),TO(pj(x3))];t.set(Dr,a);const u=i({schema:e,doc:s,plugins:a}),c=Dl.create(u);return t.set(Ea,c),t.done(af),()=>{t.remove(sf).remove(Ea).remove(bp).remove(xp).clearTimer(af)}});fo(gT,{displayName:"EditorState"});const uf=ao("EditorViewReady"),kp=Ue([],"editorViewTimer"),cf=Ue({},"editorViewOptions"),ff=Ue(null,"root"),cg=Ue(null,"rootDOM"),fg=Ue({},"rootAttrs");function mj(t,e){const n=document.createElement("div");n.className="milkdown",t.appendChild(n),e.set(cg,n);const r=e.get(fg);return Object.entries(r).forEach(([i,o])=>n.setAttribute(i,o)),n}function gj(t){t.classList.add("editor"),t.setAttribute("role","textbox")}const yj=new pr("MILKDOWN_VIEW_CLEAR"),yT=t=>(t.inject(ff,document.body).inject(Va,{}).inject(cf,{}).inject(cg,null).inject(fg,{}).inject(kp,[af]).record(uf),async()=>{await t.wait(Bo);const e=t.get(ff)||document.body,n=typeof e=="string"?document.querySelector(e):e;t.update(Dr,a=>[new hr({key:yj,view:u=>{const c=n?mj(n,t):void 0;return(()=>{if(c&&n){const f=u.dom;n.replaceChild(c,f),c.appendChild(f)}})(),{destroy:()=>{c!=null&&c.parentNode&&(c==null||c.parentNode.replaceChild(u.dom,c)),c==null||c.remove()}}}}),...a]),await t.waitTimers(kp);const r=t.get(Ea),i=t.get(cf),o=Object.fromEntries(t.get(ag)),l=Object.fromEntries(t.get(ug)),s=new lj(n,{state:r,nodeViews:o,markViews:l,...i});return gj(s.dom),t.set(Va,s),t.done(uf),()=>{s==null||s.destroy(),t.remove(ff).remove(Va).remove(cf).remove(cg).remove(fg).remove(kp).clearTimer(uf)}});fo(yT,{displayName:"EditorView"});var vl,Fn,Oi,Oa,df,hf,On,Ti,wl,pf,bl,Ta,mf,ko,Ca;const vj=class vT{constructor(){jt(this,vl,void 0),jt(this,Fn,void 0),jt(this,Oi,void 0),jt(this,Oa,void 0),jt(this,df,void 0),jt(this,hf,void 0),jt(this,On,void 0),jt(this,Ti,void 0),jt(this,wl,void 0),jt(this,pf,void 0),jt(this,bl,void 0),jt(this,Ta,void 0),jt(this,mf,void 0),jt(this,ko,void 0),jt(this,Ca,void 0),ut(this,vl,!1),ut(this,Fn,"Idle"),ut(this,Oi,[]),ut(this,Oa,()=>{}),ut(this,df,new iE),ut(this,hf,new hP),ut(this,On,new Map),ut(this,Ti,new Map),ut(this,wl,new dP(xe(this,df),xe(this,hf))),ut(this,pf,()=>{const e=uj(async r=>{await Promise.all(xe(this,Oi).map(i=>i(r)))}),n=[uT,hT,mT,fT,gT,yT,cj(this),e];xe(this,bl).call(this,n,xe(this,Ti))}),ut(this,bl,(e,n)=>{e.forEach(r=>{const i=xe(this,wl).produce(xe(this,vl)?r.meta:void 0),o=r(i);n.set(r,{ctx:i,handler:o,cleanup:void 0})})}),ut(this,Ta,(e,n=!1)=>Promise.all([e].flat().map(r=>{const i=xe(this,On).get(r),o=i==null?void 0:i.cleanup;return n?xe(this,On).delete(r):xe(this,On).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof o=="function"?o():o}))),ut(this,mf,async()=>{await Promise.all([...xe(this,Ti).entries()].map(([e,{cleanup:n}])=>typeof n=="function"?n():n)),xe(this,Ti).clear()}),ut(this,ko,e=>{ut(this,Fn,e),xe(this,Oa).call(this,e)}),ut(this,Ca,e=>[...e.entries()].map(async([n,r])=>{const{ctx:i,handler:o}=r;if(!o)return;const l=await o();e.set(n,{ctx:i,handler:o,cleanup:l})})),this.enableInspector=(e=!0)=>(ut(this,vl,e),this),this.onStatusChange=e=>(ut(this,Oa,e),this),this.config=e=>(xe(this,Oi).push(e),this),this.removeConfig=e=>(ut(this,Oi,xe(this,Oi).filter(n=>n!==e)),this),this.use=e=>{const n=[e].flat();return n.flat().forEach(r=>{xe(this,On).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),xe(this,Fn)==="Created"&&xe(this,bl).call(this,n,xe(this,On)),this},this.remove=async e=>xe(this,Fn)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(e))},50)})):(await xe(this,Ta).call(this,[e].flat(),!0),this),this.create=async()=>xe(this,Fn)==="OnCreate"?this:(xe(this,Fn)==="Created"&&await this.destroy(),xe(this,ko).call(this,"OnCreate"),xe(this,pf).call(this),xe(this,bl).call(this,[...xe(this,On).keys()],xe(this,On)),await Promise.all([xe(this,Ca).call(this,xe(this,Ti)),xe(this,Ca).call(this,xe(this,On))].flat()),xe(this,ko).call(this,"Created"),this),this.destroy=async(e=!1)=>xe(this,Fn)==="Destroyed"||xe(this,Fn)==="OnDestroy"?this:xe(this,Fn)==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(e))},50)}):(e&&ut(this,Oi,[]),xe(this,ko).call(this,"OnDestroy"),await xe(this,Ta).call(this,[...xe(this,On).keys()],e),await xe(this,mf).call(this),xe(this,ko).call(this,"Destroyed"),this),this.action=e=>e(xe(this,wl)),this.inspect=()=>xe(this,vl)?[...xe(this,Ti).values(),...xe(this,On).values()].map(({ctx:e})=>{var n;return(n=e==null?void 0:e.inspector)==null?void 0:n.read()}).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new vT}get ctx(){return xe(this,wl)}get status(){return xe(this,Fn)}};vl=new WeakMap,Fn=new WeakMap,Oi=new WeakMap,Oa=new WeakMap,df=new WeakMap,hf=new WeakMap,On=new WeakMap,Ti=new WeakMap,wl=new WeakMap,pf=new WeakMap,bl=new WeakMap,Ta=new WeakMap,mf=new WeakMap,ko=new WeakMap,Ca=new WeakMap;let wj=vj;var bj="Expected a function",Ob=0/0,xj="[object Symbol]",kj=/^\s+|\s+$/g,Sj=/^[-+]0x[0-9a-f]+$/i,Ej=/^0b[01]+$/i,Oj=/^0o[0-7]+$/i,Tj=parseInt,Cj=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,Nj=typeof self=="object"&&self&&self.Object===Object&&self,_j=Cj||Nj||Function("return this")(),Aj=Object.prototype,Mj=Aj.toString,Pj=Math.max,Rj=Math.min,Sp=function(){return _j.Date.now()};function Ij(t,e,n){var r,i,o,l,s,a,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(bj);e=Tb(e)||0,dg(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Pj(Tb(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(S){var T=r,k=i;return r=i=void 0,u=S,l=t.apply(k,T),l}function m(S){return u=S,s=setTimeout(p,e),c?h(S):l}function y(S){var T=S-a,k=S-u,A=e-T;return f?Rj(A,o-k):A}function v(S){var T=S-a,k=S-u;return a===void 0||T>=e||T<0||f&&k>=o}function p(){var S=Sp();if(v(S))return g(S);s=setTimeout(p,y(S))}function g(S){return s=void 0,d&&r?h(S):(r=i=void 0,l)}function b(){s!==void 0&&clearTimeout(s),u=0,r=a=i=s=void 0}function w(){return s===void 0?l:g(Sp())}function x(){var S=Sp(),T=v(S);if(r=arguments,i=this,a=S,T){if(s===void 0)return m(a);if(f)return s=setTimeout(p,e),h(a)}return s===void 0&&(s=setTimeout(p,e)),l}return x.cancel=b,x.flush=w,x}function dg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Dj(t){return!!t&&typeof t=="object"}function Lj(t){return typeof t=="symbol"||Dj(t)&&Mj.call(t)==xj}function Tb(t){if(typeof t=="number")return t;if(Lj(t))return Ob;if(dg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(kj,"");var n=Ej.test(t);return n||Oj.test(t)?Tj(t.slice(2),n?2:8):Sj.test(t)?Ob:+t}var jj=Ij;const zj=_u(jj);class wT{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const hg=Ue(new wT,"listener"),Fj=new pr("MILKDOWN_LISTENER"),bT=t=>(t.inject(hg,new wT),async()=>{await t.wait(Bo);const e=t.get(hg),{listeners:n}=e;n.beforeMount.forEach(s=>s(t)),await t.wait(Ka);const r=t.get(lf);let i=null,o=null;const l=new hr({key:Fj,view:()=>({destroy:()=>{n.destroy.forEach(s=>s(t))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(s=>s(t)),!1),blur:()=>(n.blur.forEach(s=>s(t)),!1)}},state:{init:(s,a)=>{i=a.doc,o=r(a.doc)},apply:s=>!s.docChanged||s.getMeta("addToHistory")===!1?void 0:zj(()=>{const{doc:a}=s;if(n.updated.length>0&&i&&!i.eq(a)&&n.updated.forEach(u=>{u(t,a,i)}),n.markdownUpdated.length>0&&i&&!i.eq(a)){const u=r(a);n.markdownUpdated.forEach(c=>{c(t,u,o)}),o=u}i=a},200)()}});t.update(Dr,s=>s.concat(l)),await t.wait(uf),n.mounted.forEach(s=>s(t))});bT.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};let Bj=t=>crypto.getRandomValues(new Uint8Array(t)),$j=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let l="";for(;;){let s=n(i),a=i;for(;a--;)if(l+=t[s[a]&r]||"",l.length===o)return l}}},qj=(t,e=21)=>$j(t,e,Bj);qj("abcedfghicklmn",10);function pt(t,e){const n=fj(t),r=i=>async()=>{r.key=n,await i.wait(Ha);const o=e(i);return i.get(Xe).create(n,o),r.run=l=>i.get(Xe).call(t,l),()=>{i.get(Xe).remove(n)}};return r}function gr(t){const e=n=>async()=>{await n.wait(Pr);const r=t(n);return n.update(Su,i=>[...i,r]),e.inputRule=r,()=>{n.update(Su,i=>i.filter(o=>o!==r))}};return e}function Uj(t,e){const n=r=>async()=>{const i=e(r);return r.update(Kl,o=>[...o.filter(l=>l[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Kl,o=>o.filter(([l])=>l!==t))}};return n.type=r=>{const i=r.get(Zi).marks[t];if(!i)throw sP(t);return i},n}function Qy(t,e){const n=r=>async()=>{const i=e(r);return r.update(Hl,o=>[...o.filter(l=>l[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Hl,o=>o.filter(([l])=>l!==t))}};return n.type=r=>{const i=r.get(Zi).nodes[t];if(!i)throw lP(t);return i},n}function xs(t){let e;const n=r=>async()=>(await r.wait(Pr),e=t(r),r.update(Dr,i=>[...i,e]),()=>{r.update(Dr,i=>i.filter(o=>o!==e))});return n.plugin=()=>e,n.key=()=>e.spec.key,n}function Vj(t){const e=n=>async()=>{await n.wait(Pr);const r=t(n),i=TO(r);return n.update(Dr,o=>[...o,i]),e.keymap=r,()=>{n.update(Dr,o=>o.filter(l=>l!==i))}};return e}function fi(t,e){const n=Ue(t,e),r=i=>(i.inject(n),()=>()=>{i.remove(n)});return r.key=n,r}function yr(t,e){const n=fi(e,t),r=Qy(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.node=r,i.type=o=>r.type(o),i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>l=>()=>{const s=l.get(n.key),a=o(s)(l);l.update(Hl,u=>[...u.filter(c=>c[0]!==t),[t,a]]),i.schema=a},i}function Gd(t,e){const n=fi(e,t),r=Uj(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.mark=r,i.type=r.type,i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>l=>()=>{const s=l.get(n.key),a=o(s)(l);l.update(Kl,u=>[...u.filter(c=>c[0]!==t),[t,a]]),i.schema=a},i}function Xn(t,e){const n=Object.fromEntries(Object.entries(e).map(([l,{shortcuts:s}])=>[l,s])),r=fi(n,`${t}Keymap`),i=Vj(l=>{const s=l.get(r.key),a=Object.entries(e).flatMap(([u,{command:c}])=>[s[u]].flat().map(f=>[f,c(l)]));return Object.fromEntries(a)}),o=[r,i];return o.ctx=r,o.shortcuts=i,o.key=r.key,o.keymap=i.keymap,o}const vr=(t,e=()=>({}))=>fi(e,`${t}Attr`),Jd=(t,e=()=>({}))=>fi(e,`${t}Attr`);function Fu(t,e,n){const r=fi(n??{},t),i=l=>async()=>{await l.wait(Bo);const s={plugin:e(l),options:l.get(r.key)};return l.update(Eu,a=>[...a,s]),()=>{l.update(Eu,a=>a.filter(u=>u!==s))}},o=[r,i];return o.id=t,o.plugin=i,o.options=r,o}function xT(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Wj(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Hj=[["ß","ss"],["ẞ","Ss"],["ä","ae"],["Ä","Ae"],["ö","oe"],["Ö","Oe"],["ü","ue"],["Ü","Ue"],["À","A"],["Á","A"],["Â","A"],["Ã","A"],["Ä","Ae"],["Å","A"],["Æ","AE"],["Ç","C"],["È","E"],["É","E"],["Ê","E"],["Ë","E"],["Ì","I"],["Í","I"],["Î","I"],["Ï","I"],["Ð","D"],["Ñ","N"],["Ò","O"],["Ó","O"],["Ô","O"],["Õ","O"],["Ö","Oe"],["Ő","O"],["Ø","O"],["Ù","U"],["Ú","U"],["Û","U"],["Ü","Ue"],["Ű","U"],["Ý","Y"],["Þ","TH"],["ß","ss"],["à","a"],["á","a"],["â","a"],["ã","a"],["ä","ae"],["å","a"],["æ","ae"],["ç","c"],["è","e"],["é","e"],["ê","e"],["ë","e"],["ì","i"],["í","i"],["î","i"],["ï","i"],["ð","d"],["ñ","n"],["ò","o"],["ó","o"],["ô","o"],["õ","o"],["ö","oe"],["ő","o"],["ø","o"],["ù","u"],["ú","u"],["û","u"],["ü","ue"],["ű","u"],["ý","y"],["þ","th"],["ÿ","y"],["ẞ","SS"],["à","a"],["À","A"],["á","a"],["Á","A"],["â","a"],["Â","A"],["ã","a"],["Ã","A"],["è","e"],["È","E"],["é","e"],["É","E"],["ê","e"],["Ê","E"],["ì","i"],["Ì","I"],["í","i"],["Í","I"],["ò","o"],["Ò","O"],["ó","o"],["Ó","O"],["ô","o"],["Ô","O"],["õ","o"],["Õ","O"],["ù","u"],["Ù","U"],["ú","u"],["Ú","U"],["ý","y"],["Ý","Y"],["ă","a"],["Ă","A"],["Đ","D"],["đ","d"],["ĩ","i"],["Ĩ","I"],["ũ","u"],["Ũ","U"],["ơ","o"],["Ơ","O"],["ư","u"],["Ư","U"],["ạ","a"],["Ạ","A"],["ả","a"],["Ả","A"],["ấ","a"],["Ấ","A"],["ầ","a"],["Ầ","A"],["ẩ","a"],["Ẩ","A"],["ẫ","a"],["Ẫ","A"],["ậ","a"],["Ậ","A"],["ắ","a"],["Ắ","A"],["ằ","a"],["Ằ","A"],["ẳ","a"],["Ẳ","A"],["ẵ","a"],["Ẵ","A"],["ặ","a"],["Ặ","A"],["ẹ","e"],["Ẹ","E"],["ẻ","e"],["Ẻ","E"],["ẽ","e"],["Ẽ","E"],["ế","e"],["Ế","E"],["ề","e"],["Ề","E"],["ể","e"],["Ể","E"],["ễ","e"],["Ễ","E"],["ệ","e"],["Ệ","E"],["ỉ","i"],["Ỉ","I"],["ị","i"],["Ị","I"],["ọ","o"],["Ọ","O"],["ỏ","o"],["Ỏ","O"],["ố","o"],["Ố","O"],["ồ","o"],["Ồ","O"],["ổ","o"],["Ổ","O"],["ỗ","o"],["Ỗ","O"],["ộ","o"],["Ộ","O"],["ớ","o"],["Ớ","O"],["ờ","o"],["Ờ","O"],["ở","o"],["Ở","O"],["ỡ","o"],["Ỡ","O"],["ợ","o"],["Ợ","O"],["ụ","u"],["Ụ","U"],["ủ","u"],["Ủ","U"],["ứ","u"],["Ứ","U"],["ừ","u"],["Ừ","U"],["ử","u"],["Ử","U"],["ữ","u"],["Ữ","U"],["ự","u"],["Ự","U"],["ỳ","y"],["Ỳ","Y"],["ỵ","y"],["Ỵ","Y"],["ỷ","y"],["Ỷ","Y"],["ỹ","y"],["Ỹ","Y"],["ء","e"],["آ","a"],["أ","a"],["ؤ","w"],["إ","i"],["ئ","y"],["ا","a"],["ب","b"],["ة","t"],["ت","t"],["ث","th"],["ج","j"],["ح","h"],["خ","kh"],["د","d"],["ذ","dh"],["ر","r"],["ز","z"],["س","s"],["ش","sh"],["ص","s"],["ض","d"],["ط","t"],["ظ","z"],["ع","e"],["غ","gh"],["ـ","_"],["ف","f"],["ق","q"],["ك","k"],["ل","l"],["م","m"],["ن","n"],["ه","h"],["و","w"],["ى","a"],["ي","y"],["َ‎","a"],["ُ","u"],["ِ‎","i"],["٠","0"],["١","1"],["٢","2"],["٣","3"],["٤","4"],["٥","5"],["٦","6"],["٧","7"],["٨","8"],["٩","9"],["چ","ch"],["ک","k"],["گ","g"],["پ","p"],["ژ","zh"],["ی","y"],["۰","0"],["۱","1"],["۲","2"],["۳","3"],["۴","4"],["۵","5"],["۶","6"],["۷","7"],["۸","8"],["۹","9"],["ټ","p"],["ځ","z"],["څ","c"],["ډ","d"],["ﺫ","d"],["ﺭ","r"],["ړ","r"],["ﺯ","z"],["ږ","g"],["ښ","x"],["ګ","g"],["ڼ","n"],["ۀ","e"],["ې","e"],["ۍ","ai"],["ٹ","t"],["ڈ","d"],["ڑ","r"],["ں","n"],["ہ","h"],["ھ","h"],["ے","e"],["А","A"],["а","a"],["Б","B"],["б","b"],["В","V"],["в","v"],["Г","G"],["г","g"],["Д","D"],["д","d"],["ъе","ye"],["Ъе","Ye"],["ъЕ","yE"],["ЪЕ","YE"],["Е","E"],["е","e"],["Ё","Yo"],["ё","yo"],["Ж","Zh"],["ж","zh"],["З","Z"],["з","z"],["И","I"],["и","i"],["ый","iy"],["Ый","Iy"],["ЫЙ","IY"],["ыЙ","iY"],["Й","Y"],["й","y"],["К","K"],["к","k"],["Л","L"],["л","l"],["М","M"],["м","m"],["Н","N"],["н","n"],["О","O"],["о","o"],["П","P"],["п","p"],["Р","R"],["р","r"],["С","S"],["с","s"],["Т","T"],["т","t"],["У","U"],["у","u"],["Ф","F"],["ф","f"],["Х","Kh"],["х","kh"],["Ц","Ts"],["ц","ts"],["Ч","Ch"],["ч","ch"],["Ш","Sh"],["ш","sh"],["Щ","Sch"],["щ","sch"],["Ъ",""],["ъ",""],["Ы","Y"],["ы","y"],["Ь",""],["ь",""],["Э","E"],["э","e"],["Ю","Yu"],["ю","yu"],["Я","Ya"],["я","ya"],["ă","a"],["Ă","A"],["ș","s"],["Ș","S"],["ț","t"],["Ț","T"],["ţ","t"],["Ţ","T"],["ş","s"],["Ş","S"],["ç","c"],["Ç","C"],["ğ","g"],["Ğ","G"],["ı","i"],["İ","I"],["ա","a"],["Ա","A"],["բ","b"],["Բ","B"],["գ","g"],["Գ","G"],["դ","d"],["Դ","D"],["ե","ye"],["Ե","Ye"],["զ","z"],["Զ","Z"],["է","e"],["Է","E"],["ը","y"],["Ը","Y"],["թ","t"],["Թ","T"],["ժ","zh"],["Ժ","Zh"],["ի","i"],["Ի","I"],["լ","l"],["Լ","L"],["խ","kh"],["Խ","Kh"],["ծ","ts"],["Ծ","Ts"],["կ","k"],["Կ","K"],["հ","h"],["Հ","H"],["ձ","dz"],["Ձ","Dz"],["ղ","gh"],["Ղ","Gh"],["ճ","tch"],["Ճ","Tch"],["մ","m"],["Մ","M"],["յ","y"],["Յ","Y"],["ն","n"],["Ն","N"],["շ","sh"],["Շ","Sh"],["ո","vo"],["Ո","Vo"],["չ","ch"],["Չ","Ch"],["պ","p"],["Պ","P"],["ջ","j"],["Ջ","J"],["ռ","r"],["Ռ","R"],["ս","s"],["Ս","S"],["վ","v"],["Վ","V"],["տ","t"],["Տ","T"],["ր","r"],["Ր","R"],["ց","c"],["Ց","C"],["ու","u"],["ՈՒ","U"],["Ու","U"],["փ","p"],["Փ","P"],["ք","q"],["Ք","Q"],["օ","o"],["Օ","O"],["ֆ","f"],["Ֆ","F"],["և","yev"],["ა","a"],["ბ","b"],["გ","g"],["დ","d"],["ე","e"],["ვ","v"],["ზ","z"],["თ","t"],["ი","i"],["კ","k"],["ლ","l"],["მ","m"],["ნ","n"],["ო","o"],["პ","p"],["ჟ","zh"],["რ","r"],["ს","s"],["ტ","t"],["უ","u"],["ფ","ph"],["ქ","q"],["ღ","gh"],["ყ","k"],["შ","sh"],["ჩ","ch"],["ც","ts"],["ძ","dz"],["წ","ts"],["ჭ","tch"],["ხ","kh"],["ჯ","j"],["ჰ","h"],["č","c"],["ď","d"],["ě","e"],["ň","n"],["ř","r"],["š","s"],["ť","t"],["ů","u"],["ž","z"],["Č","C"],["Ď","D"],["Ě","E"],["Ň","N"],["Ř","R"],["Š","S"],["Ť","T"],["Ů","U"],["Ž","Z"],["ހ","h"],["ށ","sh"],["ނ","n"],["ރ","r"],["ބ","b"],["ޅ","lh"],["ކ","k"],["އ","a"],["ވ","v"],["މ","m"],["ފ","f"],["ދ","dh"],["ތ","th"],["ލ","l"],["ގ","g"],["ޏ","gn"],["ސ","s"],["ޑ","d"],["ޒ","z"],["ޓ","t"],["ޔ","y"],["ޕ","p"],["ޖ","j"],["ޗ","ch"],["ޘ","tt"],["ޙ","hh"],["ޚ","kh"],["ޛ","th"],["ޜ","z"],["ޝ","sh"],["ޞ","s"],["ޟ","d"],["ޠ","t"],["ޡ","z"],["ޢ","a"],["ޣ","gh"],["ޤ","q"],["ޥ","w"],["ަ","a"],["ާ","aa"],["ި","i"],["ީ","ee"],["ު","u"],["ޫ","oo"],["ެ","e"],["ޭ","ey"],["ޮ","o"],["ޯ","oa"],["ް",""],["α","a"],["β","v"],["γ","g"],["δ","d"],["ε","e"],["ζ","z"],["η","i"],["θ","th"],["ι","i"],["κ","k"],["λ","l"],["μ","m"],["ν","n"],["ξ","ks"],["ο","o"],["π","p"],["ρ","r"],["σ","s"],["τ","t"],["υ","y"],["φ","f"],["χ","x"],["ψ","ps"],["ω","o"],["ά","a"],["έ","e"],["ί","i"],["ό","o"],["ύ","y"],["ή","i"],["ώ","o"],["ς","s"],["ϊ","i"],["ΰ","y"],["ϋ","y"],["ΐ","i"],["Α","A"],["Β","B"],["Γ","G"],["Δ","D"],["Ε","E"],["Ζ","Z"],["Η","I"],["Θ","TH"],["Ι","I"],["Κ","K"],["Λ","L"],["Μ","M"],["Ν","N"],["Ξ","KS"],["Ο","O"],["Π","P"],["Ρ","R"],["Σ","S"],["Τ","T"],["Υ","Y"],["Φ","F"],["Χ","X"],["Ψ","PS"],["Ω","O"],["Ά","A"],["Έ","E"],["Ί","I"],["Ό","O"],["Ύ","Y"],["Ή","I"],["Ώ","O"],["Ϊ","I"],["Ϋ","Y"],["ā","a"],["ē","e"],["ģ","g"],["ī","i"],["ķ","k"],["ļ","l"],["ņ","n"],["ū","u"],["Ā","A"],["Ē","E"],["Ģ","G"],["Ī","I"],["Ķ","K"],["Ļ","L"],["Ņ","N"],["Ū","U"],["č","c"],["š","s"],["ž","z"],["Č","C"],["Š","S"],["Ž","Z"],["ą","a"],["č","c"],["ę","e"],["ė","e"],["į","i"],["š","s"],["ų","u"],["ū","u"],["ž","z"],["Ą","A"],["Č","C"],["Ę","E"],["Ė","E"],["Į","I"],["Š","S"],["Ų","U"],["Ū","U"],["Ќ","Kj"],["ќ","kj"],["Љ","Lj"],["љ","lj"],["Њ","Nj"],["њ","nj"],["Тс","Ts"],["тс","ts"],["ą","a"],["ć","c"],["ę","e"],["ł","l"],["ń","n"],["ś","s"],["ź","z"],["ż","z"],["Ą","A"],["Ć","C"],["Ę","E"],["Ł","L"],["Ń","N"],["Ś","S"],["Ź","Z"],["Ż","Z"],["Є","Ye"],["І","I"],["Ї","Yi"],["Ґ","G"],["є","ye"],["і","i"],["ї","yi"],["ґ","g"],["Ĳ","IJ"],["ĳ","ij"],["¢","c"],["¥","Y"],["߿","b"],["৳","t"],["૱","Bo"],["฿","B"],["₠","CE"],["₡","C"],["₢","Cr"],["₣","F"],["₥","m"],["₦","N"],["₧","Pt"],["₨","Rs"],["₩","W"],["₫","s"],["€","E"],["₭","K"],["₮","T"],["₯","Dp"],["₰","S"],["₱","P"],["₲","G"],["₳","A"],["₴","S"],["₵","C"],["₶","tt"],["₷","S"],["₸","T"],["₹","R"],["₺","L"],["₽","P"],["₿","B"],["﹩","$"],["￠","c"],["￥","Y"],["￦","W"],["𝐀","A"],["𝐁","B"],["𝐂","C"],["𝐃","D"],["𝐄","E"],["𝐅","F"],["𝐆","G"],["𝐇","H"],["𝐈","I"],["𝐉","J"],["𝐊","K"],["𝐋","L"],["𝐌","M"],["𝐍","N"],["𝐎","O"],["𝐏","P"],["𝐐","Q"],["𝐑","R"],["𝐒","S"],["𝐓","T"],["𝐔","U"],["𝐕","V"],["𝐖","W"],["𝐗","X"],["𝐘","Y"],["𝐙","Z"],["𝐚","a"],["𝐛","b"],["𝐜","c"],["𝐝","d"],["𝐞","e"],["𝐟","f"],["𝐠","g"],["𝐡","h"],["𝐢","i"],["𝐣","j"],["𝐤","k"],["𝐥","l"],["𝐦","m"],["𝐧","n"],["𝐨","o"],["𝐩","p"],["𝐪","q"],["𝐫","r"],["𝐬","s"],["𝐭","t"],["𝐮","u"],["𝐯","v"],["𝐰","w"],["𝐱","x"],["𝐲","y"],["𝐳","z"],["𝐴","A"],["𝐵","B"],["𝐶","C"],["𝐷","D"],["𝐸","E"],["𝐹","F"],["𝐺","G"],["𝐻","H"],["𝐼","I"],["𝐽","J"],["𝐾","K"],["𝐿","L"],["𝑀","M"],["𝑁","N"],["𝑂","O"],["𝑃","P"],["𝑄","Q"],["𝑅","R"],["𝑆","S"],["𝑇","T"],["𝑈","U"],["𝑉","V"],["𝑊","W"],["𝑋","X"],["𝑌","Y"],["𝑍","Z"],["𝑎","a"],["𝑏","b"],["𝑐","c"],["𝑑","d"],["𝑒","e"],["𝑓","f"],["𝑔","g"],["𝑖","i"],["𝑗","j"],["𝑘","k"],["𝑙","l"],["𝑚","m"],["𝑛","n"],["𝑜","o"],["𝑝","p"],["𝑞","q"],["𝑟","r"],["𝑠","s"],["𝑡","t"],["𝑢","u"],["𝑣","v"],["𝑤","w"],["𝑥","x"],["𝑦","y"],["𝑧","z"],["𝑨","A"],["𝑩","B"],["𝑪","C"],["𝑫","D"],["𝑬","E"],["𝑭","F"],["𝑮","G"],["𝑯","H"],["𝑰","I"],["𝑱","J"],["𝑲","K"],["𝑳","L"],["𝑴","M"],["𝑵","N"],["𝑶","O"],["𝑷","P"],["𝑸","Q"],["𝑹","R"],["𝑺","S"],["𝑻","T"],["𝑼","U"],["𝑽","V"],["𝑾","W"],["𝑿","X"],["𝒀","Y"],["𝒁","Z"],["𝒂","a"],["𝒃","b"],["𝒄","c"],["𝒅","d"],["𝒆","e"],["𝒇","f"],["𝒈","g"],["𝒉","h"],["𝒊","i"],["𝒋","j"],["𝒌","k"],["𝒍","l"],["𝒎","m"],["𝒏","n"],["𝒐","o"],["𝒑","p"],["𝒒","q"],["𝒓","r"],["𝒔","s"],["𝒕","t"],["𝒖","u"],["𝒗","v"],["𝒘","w"],["𝒙","x"],["𝒚","y"],["𝒛","z"],["𝒜","A"],["𝒞","C"],["𝒟","D"],["𝒢","g"],["𝒥","J"],["𝒦","K"],["𝒩","N"],["𝒪","O"],["𝒫","P"],["𝒬","Q"],["𝒮","S"],["𝒯","T"],["𝒰","U"],["𝒱","V"],["𝒲","W"],["𝒳","X"],["𝒴","Y"],["𝒵","Z"],["𝒶","a"],["𝒷","b"],["𝒸","c"],["𝒹","d"],["𝒻","f"],["𝒽","h"],["𝒾","i"],["𝒿","j"],["𝓀","h"],["𝓁","l"],["𝓂","m"],["𝓃","n"],["𝓅","p"],["𝓆","q"],["𝓇","r"],["𝓈","s"],["𝓉","t"],["𝓊","u"],["𝓋","v"],["𝓌","w"],["𝓍","x"],["𝓎","y"],["𝓏","z"],["𝓐","A"],["𝓑","B"],["𝓒","C"],["𝓓","D"],["𝓔","E"],["𝓕","F"],["𝓖","G"],["𝓗","H"],["𝓘","I"],["𝓙","J"],["𝓚","K"],["𝓛","L"],["𝓜","M"],["𝓝","N"],["𝓞","O"],["𝓟","P"],["𝓠","Q"],["𝓡","R"],["𝓢","S"],["𝓣","T"],["𝓤","U"],["𝓥","V"],["𝓦","W"],["𝓧","X"],["𝓨","Y"],["𝓩","Z"],["𝓪","a"],["𝓫","b"],["𝓬","c"],["𝓭","d"],["𝓮","e"],["𝓯","f"],["𝓰","g"],["𝓱","h"],["𝓲","i"],["𝓳","j"],["𝓴","k"],["𝓵","l"],["𝓶","m"],["𝓷","n"],["𝓸","o"],["𝓹","p"],["𝓺","q"],["𝓻","r"],["𝓼","s"],["𝓽","t"],["𝓾","u"],["𝓿","v"],["𝔀","w"],["𝔁","x"],["𝔂","y"],["𝔃","z"],["𝔄","A"],["𝔅","B"],["𝔇","D"],["𝔈","E"],["𝔉","F"],["𝔊","G"],["𝔍","J"],["𝔎","K"],["𝔏","L"],["𝔐","M"],["𝔑","N"],["𝔒","O"],["𝔓","P"],["𝔔","Q"],["𝔖","S"],["𝔗","T"],["𝔘","U"],["𝔙","V"],["𝔚","W"],["𝔛","X"],["𝔜","Y"],["𝔞","a"],["𝔟","b"],["𝔠","c"],["𝔡","d"],["𝔢","e"],["𝔣","f"],["𝔤","g"],["𝔥","h"],["𝔦","i"],["𝔧","j"],["𝔨","k"],["𝔩","l"],["𝔪","m"],["𝔫","n"],["𝔬","o"],["𝔭","p"],["𝔮","q"],["𝔯","r"],["𝔰","s"],["𝔱","t"],["𝔲","u"],["𝔳","v"],["𝔴","w"],["𝔵","x"],["𝔶","y"],["𝔷","z"],["𝔸","A"],["𝔹","B"],["𝔻","D"],["𝔼","E"],["𝔽","F"],["𝔾","G"],["𝕀","I"],["𝕁","J"],["𝕂","K"],["𝕃","L"],["𝕄","M"],["𝕆","N"],["𝕊","S"],["𝕋","T"],["𝕌","U"],["𝕍","V"],["𝕎","W"],["𝕏","X"],["𝕐","Y"],["𝕒","a"],["𝕓","b"],["𝕔","c"],["𝕕","d"],["𝕖","e"],["𝕗","f"],["𝕘","g"],["𝕙","h"],["𝕚","i"],["𝕛","j"],["𝕜","k"],["𝕝","l"],["𝕞","m"],["𝕟","n"],["𝕠","o"],["𝕡","p"],["𝕢","q"],["𝕣","r"],["𝕤","s"],["𝕥","t"],["𝕦","u"],["𝕧","v"],["𝕨","w"],["𝕩","x"],["𝕪","y"],["𝕫","z"],["𝕬","A"],["𝕭","B"],["𝕮","C"],["𝕯","D"],["𝕰","E"],["𝕱","F"],["𝕲","G"],["𝕳","H"],["𝕴","I"],["𝕵","J"],["𝕶","K"],["𝕷","L"],["𝕸","M"],["𝕹","N"],["𝕺","O"],["𝕻","P"],["𝕼","Q"],["𝕽","R"],["𝕾","S"],["𝕿","T"],["𝖀","U"],["𝖁","V"],["𝖂","W"],["𝖃","X"],["𝖄","Y"],["𝖅","Z"],["𝖆","a"],["𝖇","b"],["𝖈","c"],["𝖉","d"],["𝖊","e"],["𝖋","f"],["𝖌","g"],["𝖍","h"],["𝖎","i"],["𝖏","j"],["𝖐","k"],["𝖑","l"],["𝖒","m"],["𝖓","n"],["𝖔","o"],["𝖕","p"],["𝖖","q"],["𝖗","r"],["𝖘","s"],["𝖙","t"],["𝖚","u"],["𝖛","v"],["𝖜","w"],["𝖝","x"],["𝖞","y"],["𝖟","z"],["𝖠","A"],["𝖡","B"],["𝖢","C"],["𝖣","D"],["𝖤","E"],["𝖥","F"],["𝖦","G"],["𝖧","H"],["𝖨","I"],["𝖩","J"],["𝖪","K"],["𝖫","L"],["𝖬","M"],["𝖭","N"],["𝖮","O"],["𝖯","P"],["𝖰","Q"],["𝖱","R"],["𝖲","S"],["𝖳","T"],["𝖴","U"],["𝖵","V"],["𝖶","W"],["𝖷","X"],["𝖸","Y"],["𝖹","Z"],["𝖺","a"],["𝖻","b"],["𝖼","c"],["𝖽","d"],["𝖾","e"],["𝖿","f"],["𝗀","g"],["𝗁","h"],["𝗂","i"],["𝗃","j"],["𝗄","k"],["𝗅","l"],["𝗆","m"],["𝗇","n"],["𝗈","o"],["𝗉","p"],["𝗊","q"],["𝗋","r"],["𝗌","s"],["𝗍","t"],["𝗎","u"],["𝗏","v"],["𝗐","w"],["𝗑","x"],["𝗒","y"],["𝗓","z"],["𝗔","A"],["𝗕","B"],["𝗖","C"],["𝗗","D"],["𝗘","E"],["𝗙","F"],["𝗚","G"],["𝗛","H"],["𝗜","I"],["𝗝","J"],["𝗞","K"],["𝗟","L"],["𝗠","M"],["𝗡","N"],["𝗢","O"],["𝗣","P"],["𝗤","Q"],["𝗥","R"],["𝗦","S"],["𝗧","T"],["𝗨","U"],["𝗩","V"],["𝗪","W"],["𝗫","X"],["𝗬","Y"],["𝗭","Z"],["𝗮","a"],["𝗯","b"],["𝗰","c"],["𝗱","d"],["𝗲","e"],["𝗳","f"],["𝗴","g"],["𝗵","h"],["𝗶","i"],["𝗷","j"],["𝗸","k"],["𝗹","l"],["𝗺","m"],["𝗻","n"],["𝗼","o"],["𝗽","p"],["𝗾","q"],["𝗿","r"],["𝘀","s"],["𝘁","t"],["𝘂","u"],["𝘃","v"],["𝘄","w"],["𝘅","x"],["𝘆","y"],["𝘇","z"],["𝘈","A"],["𝘉","B"],["𝘊","C"],["𝘋","D"],["𝘌","E"],["𝘍","F"],["𝘎","G"],["𝘏","H"],["𝘐","I"],["𝘑","J"],["𝘒","K"],["𝘓","L"],["𝘔","M"],["𝘕","N"],["𝘖","O"],["𝘗","P"],["𝘘","Q"],["𝘙","R"],["𝘚","S"],["𝘛","T"],["𝘜","U"],["𝘝","V"],["𝘞","W"],["𝘟","X"],["𝘠","Y"],["𝘡","Z"],["𝘢","a"],["𝘣","b"],["𝘤","c"],["𝘥","d"],["𝘦","e"],["𝘧","f"],["𝘨","g"],["𝘩","h"],["𝘪","i"],["𝘫","j"],["𝘬","k"],["𝘭","l"],["𝘮","m"],["𝘯","n"],["𝘰","o"],["𝘱","p"],["𝘲","q"],["𝘳","r"],["𝘴","s"],["𝘵","t"],["𝘶","u"],["𝘷","v"],["𝘸","w"],["𝘹","x"],["𝘺","y"],["𝘻","z"],["𝘼","A"],["𝘽","B"],["𝘾","C"],["𝘿","D"],["𝙀","E"],["𝙁","F"],["𝙂","G"],["𝙃","H"],["𝙄","I"],["𝙅","J"],["𝙆","K"],["𝙇","L"],["𝙈","M"],["𝙉","N"],["𝙊","O"],["𝙋","P"],["𝙌","Q"],["𝙍","R"],["𝙎","S"],["𝙏","T"],["𝙐","U"],["𝙑","V"],["𝙒","W"],["𝙓","X"],["𝙔","Y"],["𝙕","Z"],["𝙖","a"],["𝙗","b"],["𝙘","c"],["𝙙","d"],["𝙚","e"],["𝙛","f"],["𝙜","g"],["𝙝","h"],["𝙞","i"],["𝙟","j"],["𝙠","k"],["𝙡","l"],["𝙢","m"],["𝙣","n"],["𝙤","o"],["𝙥","p"],["𝙦","q"],["𝙧","r"],["𝙨","s"],["𝙩","t"],["𝙪","u"],["𝙫","v"],["𝙬","w"],["𝙭","x"],["𝙮","y"],["𝙯","z"],["𝙰","A"],["𝙱","B"],["𝙲","C"],["𝙳","D"],["𝙴","E"],["𝙵","F"],["𝙶","G"],["𝙷","H"],["𝙸","I"],["𝙹","J"],["𝙺","K"],["𝙻","L"],["𝙼","M"],["𝙽","N"],["𝙾","O"],["𝙿","P"],["𝚀","Q"],["𝚁","R"],["𝚂","S"],["𝚃","T"],["𝚄","U"],["𝚅","V"],["𝚆","W"],["𝚇","X"],["𝚈","Y"],["𝚉","Z"],["𝚊","a"],["𝚋","b"],["𝚌","c"],["𝚍","d"],["𝚎","e"],["𝚏","f"],["𝚐","g"],["𝚑","h"],["𝚒","i"],["𝚓","j"],["𝚔","k"],["𝚕","l"],["𝚖","m"],["𝚗","n"],["𝚘","o"],["𝚙","p"],["𝚚","q"],["𝚛","r"],["𝚜","s"],["𝚝","t"],["𝚞","u"],["𝚟","v"],["𝚠","w"],["𝚡","x"],["𝚢","y"],["𝚣","z"],["𝚤","l"],["𝚥","j"],["𝛢","A"],["𝛣","B"],["𝛤","G"],["𝛥","D"],["𝛦","E"],["𝛧","Z"],["𝛨","I"],["𝛩","TH"],["𝛪","I"],["𝛫","K"],["𝛬","L"],["𝛭","M"],["𝛮","N"],["𝛯","KS"],["𝛰","O"],["𝛱","P"],["𝛲","R"],["𝛳","TH"],["𝛴","S"],["𝛵","T"],["𝛶","Y"],["𝛷","F"],["𝛸","x"],["𝛹","PS"],["𝛺","O"],["𝛻","D"],["𝛼","a"],["𝛽","b"],["𝛾","g"],["𝛿","d"],["𝜀","e"],["𝜁","z"],["𝜂","i"],["𝜃","th"],["𝜄","i"],["𝜅","k"],["𝜆","l"],["𝜇","m"],["𝜈","n"],["𝜉","ks"],["𝜊","o"],["𝜋","p"],["𝜌","r"],["𝜍","s"],["𝜎","s"],["𝜏","t"],["𝜐","y"],["𝜑","f"],["𝜒","x"],["𝜓","ps"],["𝜔","o"],["𝜕","d"],["𝜖","E"],["𝜗","TH"],["𝜘","K"],["𝜙","f"],["𝜚","r"],["𝜛","p"],["𝜜","A"],["𝜝","V"],["𝜞","G"],["𝜟","D"],["𝜠","E"],["𝜡","Z"],["𝜢","I"],["𝜣","TH"],["𝜤","I"],["𝜥","K"],["𝜦","L"],["𝜧","M"],["𝜨","N"],["𝜩","KS"],["𝜪","O"],["𝜫","P"],["𝜬","S"],["𝜭","TH"],["𝜮","S"],["𝜯","T"],["𝜰","Y"],["𝜱","F"],["𝜲","X"],["𝜳","PS"],["𝜴","O"],["𝜵","D"],["𝜶","a"],["𝜷","v"],["𝜸","g"],["𝜹","d"],["𝜺","e"],["𝜻","z"],["𝜼","i"],["𝜽","th"],["𝜾","i"],["𝜿","k"],["𝝀","l"],["𝝁","m"],["𝝂","n"],["𝝃","ks"],["𝝄","o"],["𝝅","p"],["𝝆","r"],["𝝇","s"],["𝝈","s"],["𝝉","t"],["𝝊","y"],["𝝋","f"],["𝝌","x"],["𝝍","ps"],["𝝎","o"],["𝝏","a"],["𝝐","e"],["𝝑","i"],["𝝒","k"],["𝝓","f"],["𝝔","r"],["𝝕","p"],["𝝖","A"],["𝝗","B"],["𝝘","G"],["𝝙","D"],["𝝚","E"],["𝝛","Z"],["𝝜","I"],["𝝝","TH"],["𝝞","I"],["𝝟","K"],["𝝠","L"],["𝝡","M"],["𝝢","N"],["𝝣","KS"],["𝝤","O"],["𝝥","P"],["𝝦","R"],["𝝧","TH"],["𝝨","S"],["𝝩","T"],["𝝪","Y"],["𝝫","F"],["𝝬","X"],["𝝭","PS"],["𝝮","O"],["𝝯","D"],["𝝰","a"],["𝝱","v"],["𝝲","g"],["𝝳","d"],["𝝴","e"],["𝝵","z"],["𝝶","i"],["𝝷","th"],["𝝸","i"],["𝝹","k"],["𝝺","l"],["𝝻","m"],["𝝼","n"],["𝝽","ks"],["𝝾","o"],["𝝿","p"],["𝞀","r"],["𝞁","s"],["𝞂","s"],["𝞃","t"],["𝞄","y"],["𝞅","f"],["𝞆","x"],["𝞇","ps"],["𝞈","o"],["𝞉","a"],["𝞊","e"],["𝞋","i"],["𝞌","k"],["𝞍","f"],["𝞎","r"],["𝞏","p"],["𝞐","A"],["𝞑","V"],["𝞒","G"],["𝞓","D"],["𝞔","E"],["𝞕","Z"],["𝞖","I"],["𝞗","TH"],["𝞘","I"],["𝞙","K"],["𝞚","L"],["𝞛","M"],["𝞜","N"],["𝞝","KS"],["𝞞","O"],["𝞟","P"],["𝞠","S"],["𝞡","TH"],["𝞢","S"],["𝞣","T"],["𝞤","Y"],["𝞥","F"],["𝞦","X"],["𝞧","PS"],["𝞨","O"],["𝞩","D"],["𝞪","av"],["𝞫","g"],["𝞬","d"],["𝞭","e"],["𝞮","z"],["𝞯","i"],["𝞰","i"],["𝞱","th"],["𝞲","i"],["𝞳","k"],["𝞴","l"],["𝞵","m"],["𝞶","n"],["𝞷","ks"],["𝞸","o"],["𝞹","p"],["𝞺","r"],["𝞻","s"],["𝞼","s"],["𝞽","t"],["𝞾","y"],["𝞿","f"],["𝟀","x"],["𝟁","ps"],["𝟂","o"],["𝟃","a"],["𝟄","e"],["𝟅","i"],["𝟆","k"],["𝟇","f"],["𝟈","r"],["𝟉","p"],["𝟊","F"],["𝟋","f"],["⒜","(a)"],["⒝","(b)"],["⒞","(c)"],["⒟","(d)"],["⒠","(e)"],["⒡","(f)"],["⒢","(g)"],["⒣","(h)"],["⒤","(i)"],["⒥","(j)"],["⒦","(k)"],["⒧","(l)"],["⒨","(m)"],["⒩","(n)"],["⒪","(o)"],["⒫","(p)"],["⒬","(q)"],["⒭","(r)"],["⒮","(s)"],["⒯","(t)"],["⒰","(u)"],["⒱","(v)"],["⒲","(w)"],["⒳","(x)"],["⒴","(y)"],["⒵","(z)"],["Ⓐ","(A)"],["Ⓑ","(B)"],["Ⓒ","(C)"],["Ⓓ","(D)"],["Ⓔ","(E)"],["Ⓕ","(F)"],["Ⓖ","(G)"],["Ⓗ","(H)"],["Ⓘ","(I)"],["Ⓙ","(J)"],["Ⓚ","(K)"],["Ⓛ","(L)"],["Ⓝ","(N)"],["Ⓞ","(O)"],["Ⓟ","(P)"],["Ⓠ","(Q)"],["Ⓡ","(R)"],["Ⓢ","(S)"],["Ⓣ","(T)"],["Ⓤ","(U)"],["Ⓥ","(V)"],["Ⓦ","(W)"],["Ⓧ","(X)"],["Ⓨ","(Y)"],["Ⓩ","(Z)"],["ⓐ","(a)"],["ⓑ","(b)"],["ⓒ","(b)"],["ⓓ","(c)"],["ⓔ","(e)"],["ⓕ","(f)"],["ⓖ","(g)"],["ⓗ","(h)"],["ⓘ","(i)"],["ⓙ","(j)"],["ⓚ","(k)"],["ⓛ","(l)"],["ⓜ","(m)"],["ⓝ","(n)"],["ⓞ","(o)"],["ⓟ","(p)"],["ⓠ","(q)"],["ⓡ","(r)"],["ⓢ","(s)"],["ⓣ","(t)"],["ⓤ","(u)"],["ⓥ","(v)"],["ⓦ","(w)"],["ⓧ","(x)"],["ⓨ","(y)"],["ⓩ","(z)"],["Ċ","C"],["ċ","c"],["Ġ","G"],["ġ","g"],["Ħ","H"],["ħ","h"],["Ż","Z"],["ż","z"],["𝟎","0"],["𝟏","1"],["𝟐","2"],["𝟑","3"],["𝟒","4"],["𝟓","5"],["𝟔","6"],["𝟕","7"],["𝟖","8"],["𝟗","9"],["𝟘","0"],["𝟙","1"],["𝟚","2"],["𝟛","3"],["𝟜","4"],["𝟝","5"],["𝟞","6"],["𝟟","7"],["𝟠","8"],["𝟡","9"],["𝟢","0"],["𝟣","1"],["𝟤","2"],["𝟥","3"],["𝟦","4"],["𝟧","5"],["𝟨","6"],["𝟩","7"],["𝟪","8"],["𝟫","9"],["𝟬","0"],["𝟭","1"],["𝟮","2"],["𝟯","3"],["𝟰","4"],["𝟱","5"],["𝟲","6"],["𝟳","7"],["𝟴","8"],["𝟵","9"],["𝟶","0"],["𝟷","1"],["𝟸","2"],["𝟹","3"],["𝟺","4"],["𝟻","5"],["𝟼","6"],["𝟽","7"],["𝟾","8"],["𝟿","9"],["①","1"],["②","2"],["③","3"],["④","4"],["⑤","5"],["⑥","6"],["⑦","7"],["⑧","8"],["⑨","9"],["⑩","10"],["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"],["⑴","1"],["⑵","2"],["⑶","3"],["⑷","4"],["⑸","5"],["⑹","6"],["⑺","7"],["⑻","8"],["⑼","9"],["⑽","10"],["⑾","11"],["⑿","12"],["⒀","13"],["⒁","14"],["⒂","15"],["⒃","16"],["⒄","17"],["⒅","18"],["⒆","19"],["⒇","20"],["⒈","1."],["⒉","2."],["⒊","3."],["⒋","4."],["⒌","5."],["⒍","6."],["⒎","7."],["⒏","8."],["⒐","9."],["⒑","10."],["⒒","11."],["⒓","12."],["⒔","13."],["⒕","14."],["⒖","15."],["⒗","16."],["⒘","17."],["⒙","18."],["⒚","19."],["⒛","20."],["⓪","0"],["⓫","11"],["⓬","12"],["⓭","13"],["⓮","14"],["⓯","15"],["⓰","16"],["⓱","17"],["⓲","18"],["⓳","19"],["⓴","20"],["⓵","1"],["⓶","2"],["⓷","3"],["⓸","4"],["⓹","5"],["⓺","6"],["⓻","7"],["⓼","8"],["⓽","9"],["⓾","10"],["⓿","0"],["🙰","&"],["🙱","&"],["🙲","&"],["🙳","&"],["🙴","&"],["🙵","&"],["🙶",'"'],["🙷",'"'],["🙸",'"'],["‽","?!"],["🙹","?!"],["🙺","?!"],["🙻","?!"],["🙼","/"],["🙽","\\"],["🜇","AR"],["🜈","V"],["🜉","V"],["🜆","VR"],["🜅","VF"],["🜩","2"],["🜪","5"],["🝡","f"],["🝢","W"],["🝣","U"],["🝧","V"],["🝨","T"],["🝪","V"],["🝫","MB"],["🝬","VB"],["🝲","3B"],["🝳","3B"],["💯","100"],["🔙","BACK"],["🔚","END"],["🔛","ON!"],["🔜","SOON"],["🔝","TOP"],["🔞","18"],["🔤","abc"],["🔠","ABCD"],["🔡","abcd"],["🔢","1234"],["🔣","T&@%"],["#️⃣","#"],["*️⃣","*"],["0️⃣","0"],["1️⃣","1"],["2️⃣","2"],["3️⃣","3"],["4️⃣","4"],["5️⃣","5"],["6️⃣","6"],["7️⃣","7"],["8️⃣","8"],["9️⃣","9"],["🔟","10"],["🅰️","A"],["🅱️","B"],["🆎","AB"],["🆑","CL"],["🅾️","O"],["🅿","P"],["🆘","SOS"],["🅲","C"],["🅳","D"],["🅴","E"],["🅵","F"],["🅶","G"],["🅷","H"],["🅸","I"],["🅹","J"],["🅺","K"],["🅻","L"],["🅼","M"],["🅽","N"],["🆀","Q"],["🆁","R"],["🆂","S"],["🆃","T"],["🆄","U"],["🆅","V"],["🆆","W"],["🆇","X"],["🆈","Y"],["🆉","Z"]],Kj=(t,e)=>{for(const[n,r]of e)t=t.replace(new RegExp(Wj(n),"g"),r);return t};function Yj(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={customReplacements:[],...e};const n=new Map([...Hj,...e.customReplacements]);return t=t.normalize(),t=Kj(t,n),t=t.normalize("NFD").replace(/\p{Diacritic}/gu,"").normalize(),t}const Gj=[["&"," and "],["🦄"," unicorn "],["♥"," love "]],Jj=t=>t.replace(/([A-Z]{2,})(\d+)/g,"$1 $2").replace(/([a-z\d]+)([A-Z]{2,})/g,"$1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z\d]+)/g,"$1 $2"),Qj=(t,e)=>{const n=xT(e);return t.replace(new RegExp(`${n}{2,}`,"g"),e).replace(new RegExp(`^${n}|${n}$`,"g"),"")},Xj=t=>{let e="a-z\\d";if(e+=t.lowercase?"":"A-Z",t.preserveCharacters.length>0)for(const n of t.preserveCharacters){if(n===t.separator)throw new Error(`The separator character \`${t.separator}\` cannot be included in preserved characters: ${t.preserveCharacters}`);e+=xT(n)}return new RegExp(`[^${e}]+`,"g")};function Zj(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={separator:"-",lowercase:!0,decamelize:!0,customReplacements:[],preserveLeadingUnderscore:!1,preserveTrailingDash:!1,preserveCharacters:[],...e};const n=e.preserveLeadingUnderscore&&t.startsWith("_"),r=e.preserveTrailingDash&&t.endsWith("-"),i=new Map([...Gj,...e.customReplacements]);t=Yj(t,{customReplacements:i}),e.decamelize&&(t=Jj(t));const o=Xj(e);return e.lowercase&&(t=t.toLowerCase()),t=t.replace(/([a-zA-Z\d]+)'([ts])(\s|$)/g,"$1$2$3"),t=t.replace(o,e.separator),t=t.replace(/\\/g,""),e.separator&&(t=Qj(t,e.separator)),n&&(t=`_${t}`),r&&(t=`${t}-`),t}function ez(t,e){return function(n,r){let{$from:i,$to:o,node:l}=n.selection;if(l&&l.isBlock||i.depth<2||!i.sameParent(o))return!1;let s=i.node(-1);if(s.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let f=le.empty,d=i.index(-1)?1:i.index(-2)?2:3;for(let p=i.depth-d;p>=i.depth-3;p--)f=le.from(i.node(p).copy(f));let h=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;f=f.append(le.from(t.createAndFill()));let m=i.before(i.depth-(d-1)),y=n.tr.replace(m,i.after(-h),new he(f,4-d,0)),v=-1;y.doc.nodesBetween(m,y.doc.content.size,(p,g)=>{if(v>-1)return!1;p.isTextblock&&p.content.size==0&&(v=g+1)}),v>-1&&y.setSelection(Be.near(y.doc.resolve(v))),r(y.scrollIntoView())}return!0}let a=o.pos==i.end()?s.contentMatchAt(0).defaultType:null,u=n.tr.delete(i.pos,o.pos),c=a?[e?{type:t,attrs:e}:null,{type:a}]:void 0;return $a(u.doc,i.pos,2,c)?(r&&r(u.split(i.pos,2,c).scrollIntoView()),!0):!1}}function kT(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?tz(e,n,t,o):nz(e,n,o):!0:!1}}function tz(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new tn(o-1,l,o,l,new he(le.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new hE(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const s=$d(r);if(s==null)return!1;i.lift(r,s);let a=i.mapping.map(o,-1)-1;return qd(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function nz(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,l.content.append(a?le.empty:le.from(i))))return!1;let f=o.pos,d=f+l.nodeSize;return r.step(new tn(f-(s?1:0),d+(a?1:0),f+1,d-1,new he((s?le.empty:le.from(i.copy(le.empty))).append(a?le.empty:le.from(i.copy(le.empty))),s?0:1,a?0:1),s?0:1)),e(r.scrollIntoView()),!0}function rz(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let s=o.parent,a=s.child(l-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==s.type,c=le.from(u?t.create():null),f=new he(le.from(t.create(null,le.from(s.type.create(null,c)))),u?3:1,0),d=o.start,h=o.end;n(e.tr.step(new tn(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function iz(t){const e=new Map;if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return bs(t,"definition",function(r){const i=Cb(r.identifier);i&&!e.get(i)&&e.set(i,r)}),n;function n(r){const i=Cb(r);return e.get(i)}}function Cb(t){return String(t||"").toUpperCase()}function oz(){return function(t){const e=iz(t);bs(t,function(n,r,i){if(n.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[Fm,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i&&typeof r=="number")return i.children[r]=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children},[Fm,r]}})}}function ST(t,e){var n;if(!(e.childCount>=1&&((n=e.lastChild)==null?void 0:n.type.name)==="hardbreak")){t.next(e.content);return}const r=[];e.content.forEach((i,o,l)=>{l!==e.childCount-1&&r.push(i)}),t.next(le.fromArray(r))}function ee(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-commonmark",...e}}),t}const Xy=Jd("emphasis");ee(Xy,{displayName:"Attr<emphasis>",group:"Emphasis"});const ks=Gd("emphasis",t=>({attrs:{marker:{default:t.get(Wa).emphasis||"*"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",t.get(Xy.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,n)=>{e.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));ee(ks.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});ee(ks.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const Zy=pt("ToggleEmphasis",t=>()=>qy(ks.type(t)));ee(Zy,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const ET=gr(t=>Vd(/(?:^|[^*])\*([^*]+)\*$/,ks.type(t),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:n+1}}));ee(ET,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const OT=gr(t=>Vd(/(?:^|[^_])_([^_]+)_$/,ks.type(t),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:n+1}}));ee(OT,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const ev=Xn("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:t=>{const e=t.get(Xe);return()=>e.call(Zy.key)}}});ee(ev.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});ee(ev.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const tv=Jd("strong");ee(tv,{displayName:"Attr<strong>",group:"Strong"});const Bu=Gd("strong",t=>({attrs:{marker:{default:t.get(Wa).strong||"*"}},parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",t.get(tv.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,n)=>{e.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));ee(Bu.mark,{displayName:"MarkSchema<strong>",group:"Strong"});ee(Bu.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const nv=pt("ToggleStrong",t=>()=>qy(Bu.type(t)));ee(nv,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const TT=gr(t=>Vd(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,Bu.type(t),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));ee(TT,{displayName:"InputRule<strong>",group:"Strong"});const rv=Xn("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:t=>{const e=t.get(Xe);return()=>e.call(nv.key)}}});ee(rv.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});ee(rv.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const iv=Jd("inlineCode");ee(iv,{displayName:"Attr<inlineCode>",group:"InlineCode"});const Bi=Gd("inlineCode",t=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",t.get(iv.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}));ee(Bi.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});ee(Bi.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const ov=pt("ToggleInlineCode",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:l}=r;return e.doc.rangeHasMark(o,l,Bi.type(t))?(n==null||n(i.removeMark(o,l,Bi.type(t))),!0):(Object.keys(e.schema.marks).filter(s=>s!==Bi.type.name).map(s=>e.schema.marks[s]).forEach(s=>{i.removeMark(o,l,s)}),n==null||n(i.addMark(o,l,Bi.type(t).create())),!0)});ee(ov,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const CT=gr(t=>Vd(/(?:\`)([^\`]+)(?:\`)$/,Bi.type(t)));ee(CT,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const lv=Xn("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:t=>{const e=t.get(Xe);return()=>e.call(ov.key)}}});ee(lv.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});ee(lv.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const sv=Jd("link");ee(sv,{displayName:"Attr<link>",group:"Link"});const Yl=Gd("link",t=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...t.get(sv.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,n,r)=>{const i=n.url,o=n.title;e.openMark(r,{href:i,title:o}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,n)=>{e.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));ee(Yl.mark,{displayName:"MarkSchema<link>",group:"Link"});const NT=pt("ToggleLink",t=>(e={})=>qy(Yl.type(t),e));ee(NT,{displayName:"Command<toggleLinkCommand>",group:"Link"});const _T=pt("UpdateLink",t=>(e={})=>(n,r)=>{if(!r)return!1;let i,o=-1;const{selection:l}=n,{from:s,to:a}=l;if(n.doc.nodesBetween(s,s===a?a+1:a,(m,y)=>{if(Yl.type(t).isInSet(m.marks))return i=m,o=y,!1}),!i)return!1;const u=i.marks.find(({type:m})=>m===Yl.type(t));if(!u)return!1;const c=o,f=o+i.nodeSize,{tr:d}=n,h=Yl.type(t).create({...u.attrs,...e});return h?(r(d.removeMark(c,f,u).addMark(c,f,h).setSelection(new He(d.selection.$anchor)).scrollIntoView()),!0):!1});ee(_T,{displayName:"Command<updateLinkCommand>",group:"Link"});const AT=Qy("doc",()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}}));ee(AT,{displayName:"NodeSchema<doc>",group:"Doc"});const av=vr("paragraph");ee(av,{displayName:"Attr<paragraph>",group:"Paragraph"});const il=yr("paragraph",t=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",t.get(av.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{e.openNode("paragraph"),ST(e,n),e.closeNode()}}}));ee(il.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});ee(il.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const uv=pt("TurnIntoText",t=>()=>vu(il.type(t)));ee(uv,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const cv=Xn("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:t=>{const e=t.get(Xe);return()=>e.call(uv.key)}}});ee(cv.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});ee(cv.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const lz=Array(6).fill(0).map((t,e)=>e+1);function sz(t){return Zj(t.textContent)}const Qd=fi(sz,"headingIdGenerator");ee(Qd,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const fv=vr("heading");ee(fv,{displayName:"Attr<heading>",group:"Heading"});const ol=yr("heading",t=>{const e=t.get(Qd.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:lz.map(n=>({tag:`h${n}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw nl(r);return{level:n,id:r.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...t.get(fv.key)(n),id:n.attrs.id||e(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,r,i)=>{const o=r.depth;n.openNode(i,{level:o}),n.next(r.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,r)=>{n.openNode("heading",void 0,{depth:r.attrs.level}),ST(n,r),n.closeNode()}}}});ee(ol.node,{displayName:"NodeSchema<heading>",group:"Heading"});ee(ol.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const MT=gr(t=>yO(/^(?<hashes>#+)\s$/,ol.type(t),e=>{var n,r;const i=((r=(n=e.groups)==null?void 0:n.hashes)==null?void 0:r.length)||0,o=t.get(Va),{$from:l}=o.state.selection,s=l.node();if(s.type.name==="heading"){let a=Number(s.attrs.level)+Number(i);return a>6&&(a=6),{level:a}}return{level:i}}));ee(MT,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Ai=pt("WrapInHeading",t=>e=>(e??(e=1),e<1?vu(il.type(t)):vu(ol.type(t),{level:e})));ee(Ai,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const dv=pt("DowngradeHeading",t=>()=>(e,n,r)=>{const{$from:i}=e.selection,o=i.node();if(o.type!==ol.type(t)||!e.selection.empty||i.parentOffset!==0)return!1;const l=o.attrs.level-1;return l?(n==null||n(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...o.attrs,level:l})),!0):vu(il.type(t))(e,n,r)});ee(dv,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const hv=Xn("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:t=>{const e=t.get(Xe);return()=>e.call(Ai.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:t=>{const e=t.get(Xe);return()=>e.call(dv.key)}}});ee(hv.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});ee(hv.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const pv=vr("blockquote");ee(pv,{displayName:"Attr<blockquote>",group:"Blockquote"});const $u=yr("blockquote",t=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",t.get(pv.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}));ee($u.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});ee($u.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const PT=gr(t=>jy(/^\s*>\s$/,$u.type(t)));ee(PT,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const mv=pt("WrapInBlockquote",t=>()=>$y($u.type(t)));ee(mv,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const gv=Xn("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:t=>{const e=t.get(Xe);return()=>e.call(mv.key)}}});ee(gv.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});ee(gv.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const yv=vr("codeBlock",()=>({pre:{},code:{}}));ee(yv,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const qu=yr("code_block",t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{language:e.dataset.language}}}],toDOM:e=>{const n=t.get(yv.key)(e);return["pre",{...n.pre,"data-language":e.attrs.language},["code",n.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,n,r)=>{const i=n.lang,o=n.value;e.openNode(r,{language:i}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,n)=>{var r;e.addNode("code",void 0,((r=n.content.firstChild)==null?void 0:r.text)||"",{lang:n.attrs.language})}}}));ee(qu.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});ee(qu.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const RT=gr(t=>yO(/^```(?<language>[a-z]*)?[\s\n]$/,qu.type(t),e=>{var n;return{language:((n=e.groups)==null?void 0:n.language)??""}}));ee(RT,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const vv=pt("CreateCodeBlock",t=>(e="")=>vu(qu.type(t),{language:e}));ee(vv,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const az=pt("UpdateCodeBlockLanguage",()=>({pos:t,language:e}={pos:-1,language:""})=>(n,r)=>t>=0?(r==null||r(n.tr.setNodeAttribute(t,"language",e)),!0):!1);ee(az,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const wv=Xn("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:t=>{const e=t.get(Xe);return()=>e.call(vv.key)}}});ee(wv.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});ee(wv.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const bv=vr("image");ee(bv,{displayName:"Attr<image>",group:"Image"});const Ss=yr("image",t=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...t.get(bv.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,n,r)=>{const i=n.url,o=n.alt,l=n.title;e.addNode(r,{src:i,alt:o,title:l})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,n)=>{e.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));ee(Ss.node,{displayName:"NodeSchema<image>",group:"Image"});ee(Ss.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const IT=pt("InsertImage",t=>(e={})=>(n,r)=>{if(!r)return!0;const{src:i="",alt:o="",title:l=""}=e,s=Ss.type(t).create({src:i,alt:o,title:l});return s&&r(n.tr.replaceSelectionWith(s).scrollIntoView()),!0});ee(IT,{displayName:"Command<insertImageCommand>",group:"Image"});const DT=pt("UpdateImage",t=>(e={})=>(n,r)=>{const i=r3(n.selection,Ss.type(t));if(!i)return!1;const{node:o,pos:l}=i,s={...o.attrs},{src:a,alt:u,title:c}=e;return a!==void 0&&(s.src=a),u!==void 0&&(s.alt=u),c!==void 0&&(s.title=c),r==null||r(n.tr.setNodeMarkup(l,void 0,s).scrollIntoView()),!0});ee(DT,{displayName:"Command<updateImageCommand>",group:"Image"});const uz=gr(t=>new mr(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,n,r,i)=>{const[o,l,s="",a]=n;return o?e.tr.replaceWith(r,i,Ss.type(t).create({src:s,alt:l,title:a})):null}));ee(uz,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const id=vr("hardbreak",t=>({"data-type":"hardbreak","data-is-inline":t.attrs.isInline}));ee(id,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const $o=yr("hardbreak",t=>({inline:!0,group:"inline",attrs:{isInline:{default:!1}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",t.get(id.key)(e)," "]:["br",t.get(id.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,n,r)=>{var i;e.addNode(r,{isInline:!!((i=n.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,n)=>{n.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));ee($o.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});ee($o.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const xv=pt("InsertHardbreak",t=>()=>(e,n)=>{var r;const{selection:i,tr:o}=e;if(!(i instanceof He))return!1;if(i.empty){const l=i.$from.node();if(l.childCount>0&&((r=l.lastChild)==null?void 0:r.type.name)==="hardbreak")return n==null||n(o.replaceRangeWith(i.to-1,i.to,e.schema.node("paragraph")).setSelection(Be.near(o.doc.resolve(i.to))).scrollIntoView()),!0}return n==null||n(o.setMeta("hardbreak",!0).replaceSelectionWith($o.type(t).create()).scrollIntoView()),!0});ee(xv,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const kv=Xn("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:t=>{const e=t.get(Xe);return()=>e.call(xv.key)}}});ee(kv.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});ee(kv.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const Sv=vr("hr");ee(Sv,{displayName:"Attr<hr>",group:"Hr"});const Uu=yr("hr",t=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",t.get(Sv.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));ee(Uu.node,{displayName:"NodeSchema<hr>",group:"Hr"});ee(Uu.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const LT=gr(t=>new mr(/^(?:---|___\s|\*\*\*\s)$/,(e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,Uu.type(t).create()),o}));ee(LT,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const jT=pt("InsertHr",t=>()=>(e,n)=>{if(!n)return!0;const r=il.node.type(t).create(),{tr:i,selection:o}=e,{from:l}=o,s=Uu.type(t).create();if(!s)return!0;const a=i.replaceSelectionWith(s).insert(l,r),u=Be.findFrom(a.doc.resolve(l),1,!0);return u&&n(a.setSelection(u).scrollIntoView()),!0});ee(jT,{displayName:"Command<insertHrCommand>",group:"Hr"});const Ev=vr("bulletList");ee(Ev,{displayName:"Attr<bulletList>",group:"BulletList"});const Es=yr("bullet_list",t=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{spread:e.dataset.spread}}}],toDOM:e=>["ul",{...t.get(Ev.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"false";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread==="true"}).next(n.content).closeNode()}}}));ee(Es.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});ee(Es.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const zT=gr(t=>jy(/^\s*([-+*])\s$/,Es.type(t)));ee(zT,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const Ov=pt("WrapInBulletList",t=>()=>$y(Es.type(t)));ee(Ov,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const Tv=Xn("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:t=>{const e=t.get(Xe);return()=>e.call(Ov.key)}}});ee(Tv.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});ee(Tv.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const Cv=vr("orderedList");ee(Cv,{displayName:"Attr<orderedList>",group:"OrderedList"});const Os=yr("ordered_list",t=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...t.get(Cv.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));ee(Os.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});ee(Os.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const FT=gr(t=>jy(/^\s*(\d+)\.\s$/,Os.type(t),e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])));ee(FT,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const Nv=pt("WrapInOrderedList",t=>()=>$y(Os.type(t)));ee(Nv,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const _v=Xn("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:t=>{const e=t.get(Xe);return()=>e.call(Nv.key)}}});ee(_v.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});ee(_v.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const Av=vr("listItem");ee(Av,{displayName:"Attr<listItem>",group:"ListItem"});const si=yr("list_item",t=>({group:"listItem",content:"(paragraph|blockquote) block*",attrs:{label:{default:"•"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw nl(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread}}}],toDOM:e=>["li",{...t.get(Av.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"•",o=n.label!=null?"ordered":"bullet",l=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:l}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));ee(si.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});ee(si.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const Mv=pt("SinkListItem",t=>()=>rz(si.type(t)));ee(Mv,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const Pv=pt("LiftListItem",t=>()=>kT(si.type(t)));ee(Pv,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const Rv=pt("SplitListItem",t=>()=>ez(si.type(t)));ee(Rv,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function cz(t){return(e,n,r)=>{const{selection:i}=e;if(!(i instanceof He))return!1;const{empty:o,$from:l}=i;if(!o||l.parentOffset!==0)return!1;const s=l.node(-1);return s.type!==si.type(t)||s.firstChild!==l.node()||l.node(-2).childCount>1?!1:kT(si.type(t))(e,n,r)}}const Iv=pt("LiftFirstListItem",t=>()=>cz(t));ee(Iv,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const Dv=Xn("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:t=>{const e=t.get(Xe);return()=>e.call(Rv.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:t=>{const e=t.get(Xe);return()=>e.call(Mv.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:t=>{const e=t.get(Xe);return()=>e.call(Pv.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:t=>{const e=t.get(Xe);return()=>e.call(Iv.key)}}});ee(Dv.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});ee(Dv.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const BT=Qy("text",()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}}));ee(BT,{displayName:"NodeSchema<text>",group:"Text"});const Lv=vr("html");ee(Lv,{displayName:"Attr<html>",group:"Html"});const jv=yr("html",t=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:""}},toDOM:e=>{const n=document.createElement("span"),r={...t.get(Lv.key)(e),"data-value":e.attrs.value,"data-type":"html"};return n.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,n,r)=>{e.addNode(r,{value:n.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,n)=>{e.addNode("html",void 0,n.attrs.value)}}}));ee(jv.node,{displayName:"NodeSchema<html>",group:"Html"});ee(jv.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const fz=[AT,av,il,Qd,fv,ol,id,$o,pv,$u,yv,qu,Sv,Uu,bv,Ss,Ev,Es,Cv,Os,Av,si,Xy,ks,tv,Bu,iv,Bi,sv,Yl,Lv,jv,BT].flat(),dz=[PT,zT,FT,RT,LT,MT].flat(),hz=[ET,OT,CT,TT],pz=[uv,mv,Ai,dv,vv,xv,jT,IT,DT,Nv,Ov,Mv,Rv,Pv,Iv,Zy,ov,nv,NT,_T],mz=[gv,wv,kv,hv,Dv,_v,Tv,cv,ev,lv,rv].flat(),zv=Fu("remarkAddOrderInList",()=>()=>t=>{bs(t,"list",e=>{if(e.ordered){const n=e.start??1;e.children.forEach((r,i)=>{r.label=i+n})}})});ee(zv.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});ee(zv.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const Fv=Fu("remarkLineBreak",()=>()=>t=>{const e=/[\t ]*(?:\r?\n|\r)/g;bs(t,"text",(n,r,i)=>{if(!n.value||typeof n.value!="string")return;const o=[];let l=0;e.lastIndex=0;let s=e.exec(n.value);for(;s;){const a=s.index;l!==a&&o.push({type:"text",value:n.value.slice(l,a)}),o.push({type:"break",data:{isInline:!0}}),l=a+s[0].length,s=e.exec(n.value)}if(o.length>0&&i&&typeof r=="number")return l<n.value.length&&o.push({type:"text",value:n.value.slice(l)}),i.children.splice(r,1,...o),r+o.length})});ee(Fv.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});ee(Fv.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const Bv=Fu("remarkInlineLink",()=>oz);ee(Bv.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});ee(Bv.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const gz=t=>!!t.children,yz=t=>t.type==="html";function vz(t,e){return n(t,0,null)[0];function n(r,i,o){if(gz(r)){const l=[];for(let s=0,a=r.children.length;s<a;s++){const u=r.children[s];if(u){const c=n(u,s,r);if(c)for(let f=0,d=c.length;f<d;f++){const h=c[f];h&&l.push(h)}}}r.children=l}return e(r,i,o)}}const $v=Fu("remarkHTMLTransformer",()=>()=>t=>{vz(t,(e,n,r)=>yz(e)?((r==null?void 0:r.type)==="root"&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});ee($v.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});ee($v.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const qv=Fu("remarkMarker",()=>()=>(t,e)=>{const n=r=>e.value.charAt(r.position.start.offset);bs(t,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=n(r)})});ee(qv.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});ee(qv.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const $T=xs(()=>{let t=!1;const e=new pr("MILKDOWN_INLINE_NODES_CURSOR"),n=new hr({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,o=i.nodeBefore,l=i.nodeAfter;return!!(o&&l&&o.isInline&&!o.isText&&l.isInline&&!l.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>t?(t=!1,requestAnimationFrame(()=>{if(n.getState(r.state)){const o=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:r=>(n.getState(r.state)&&(t=!0),!1),beforeinput:(r,i)=>{if(n.getState(r.state)&&i instanceof InputEvent&&i.data&&!t){const o=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(r){if(n.getState(r)){const i=r.selection.$from.pos,o=document.createElement("span"),l=An.widget(i,o,{side:-1}),s=document.createElement("span"),a=An.widget(i,s);return setTimeout(()=>{o.contentEditable="true",s.contentEditable="true"}),Et.create(r.doc,[l,a])}return Et.empty}}});return n});ee($T,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const qT=xs(t=>new hr({key:new pr("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof Bt))return;const{from:l}=o;return r.tr.setNodeMarkup(l,$o.type(t),void 0,[])}if(o instanceof Qr){let l=r.tr;const{from:s,to:a}=o;return r.doc.nodesBetween(s,a,(u,c)=>{u.type===$o.type(t)&&(l=l.setNodeMarkup(c,$o.type(t),void 0,[]))}),l}}}));ee(qT,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const Uv=fi(["table","code_block"],"hardbreakFilterNodes");ee(Uv,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const UT=xs(t=>{const e=t.get(Uv.key);return new hr({key:new pr("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,r)=>{const i=n.getMeta("hardbreak"),[o]=n.steps;if(i&&o){const{from:l}=o,s=r.doc.resolve(l);let a=s.depth,u=!0;for(;a>0;)e.includes(s.node(a).type.name)&&(u=!1),a--;return u}return!0}})});ee(UT,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const VT=xs(t=>{const e=new pr("MILKDOWN_HEADING_ID"),n=r=>{if(r.composing)return;const i=t.get(Qd.key),o=r.state.tr.setMeta("addToHistory",!1);let l=!1;r.state.doc.descendants((s,a)=>{if(s.type===ol.type(t)){if(s.textContent.trim().length===0)return;const u=s.attrs,c=i(s);u.id!==c&&(l=!0,o.setMeta(e,!0).setNodeMarkup(a,void 0,{...u,id:c}))}}),l&&r.dispatch(o)};return new hr({key:e,view:r=>(n(r),{update:(i,o)=>{i.state.doc.eq(o.doc)||n(i)}})})});ee(VT,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const WT=xs(t=>{const e=n=>{if(n.composing||!n.editable)return;const r=Os.type(t),i=Es.type(t),o=si.type(t),l=n.state,s=(c,f)=>{let d=!1;const h=`${f+1}.`;return c.label!==h&&(c.label=h,d=!0),d};let a=l.tr,u=!1;l.doc.descendants((c,f,d,h)=>{if(c.type===i){const m=c.maybeChild(0);(m==null?void 0:m.type)===o&&m.attrs.listType==="ordered"&&(u=!0,a.setNodeMarkup(f,r,{spread:"true"}),c.descendants((y,v,p,g)=>{if(y.type===o){const b={...y.attrs};s(b,g)&&(a=a.setNodeMarkup(v,void 0,b))}return!1}))}else if(c.type===o&&(d==null?void 0:d.type)===r){const m={...c.attrs};let y=!1;m.listType!=="ordered"&&(m.listType="ordered",y=!0),d!=null&&d.maybeChild(0)&&(y=s(m,h)),y&&(a=a.setNodeMarkup(f,void 0,m),u=!0)}}),u&&n.dispatch(a.setMeta("addToHistory",!1))};return new hr({key:new pr("MILKDOWN_KEEP_LIST_ORDER"),view:n=>(e(n),{update:r=>{e(r)}})})});ee(WT,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const wz=[qT,Uv,UT,$T,zv,Bv,Fv,$v,qv,VT,WT].flat(),bz=[fz,dz,hz,pz,mz,wz].flat();var od=200,Dt=function(){};Dt.prototype.append=function(e){return e.length?(e=Dt.from(e),!this.length&&e||e.length<od&&this.leafAppend(e)||this.length<od&&e.leafPrepend(this)||this.appendInner(e)):this};Dt.prototype.prepend=function(e){return e.length?Dt.from(e).append(this):this};Dt.prototype.appendInner=function(e){return new xz(this,e)};Dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Dt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};Dt.from=function(e){return e instanceof Dt?e:e&&e.length?new HT(e):Dt.empty};var HT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,s){for(var a=o;a<l;a++)if(i(this.values[a],s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,s){for(var a=o-1;a>=l;a--)if(i(this.values[a],s+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=od)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=od)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dt);Dt.empty=new HT([]);var xz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),l)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,l+s)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,l+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Dt);const kz=500;let Ou=class xl{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,s,a,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Tr(f.map));let h=f.step.map(i.slice(o)),m;h&&l.maybeStep(h).doc&&(m=l.mapping.maps[l.mapping.maps.length-1],u.push(new Tr(m,void 0,void 0,u.length+c.length))),o--,m&&i.appendMap(m,o)}else l.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,a=new xl(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:l,selection:s}}addTransform(e,n,r,i){let o=[],l=this.eventCount,s=this.items,a=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Tr(e.mapping.maps[c],f,n),h;(h=a&&a.merge(d))&&(d=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),n&&(l++,n=void 0),i||(a=d)}let u=l-r.depth;return u>Ez&&(s=Sz(s,u),l-=u),new xl(s.append(o),l)}remapping(e,n){let r=new Ul;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new xl(this.items.append(e.map(n=>new Tr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let a=n;this.items.forEach(d=>{let h=o.getMirror(--a);if(h==null)return;l=Math.min(l,h);let m=o.maps[h];if(d.step){let y=e.steps[h].invert(e.docs[h]),v=d.selection&&d.selection.map(o.slice(a+1,h));v&&s++,r.push(new Tr(m,y,v))}else r.push(new Tr(m))},i);let u=[];for(let d=n;d<l;d++)u.push(new Tr(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new xl(c,s);return f.emptyItemCount()>kz&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((l,s)=>{if(s>=e)i.push(l),l.selection&&o++;else if(l.step){let a=l.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=l.selection&&l.selection.map(n.slice(r));c&&o++;let f=new Tr(u.invert(),a,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else l.map&&r--},this.items.length,0),new xl(Dt.from(i.reverse()),o)}};Ou.empty=new Ou(Dt.empty,0);function Sz(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Tr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Tr(n.getMap().invert(),n,this.selection)}}}class Mi{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Ez=20;function Oz(t,e,n,r){let i=n.getMeta(qo),o;if(i)return i.historyState;n.getMeta(Nz)&&(t=new Mi(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(qo))return l.getMeta(qo).redo?new Mi(t.done.addTransform(n,void 0,r,gf(e)),t.undone,Nb(n.mapping.maps),t.prevTime,t.prevComposition):new Mi(t.done,t.undone.addTransform(n,void 0,r,gf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),a=t.prevTime==0||!l&&t.prevComposition!=s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Tz(n,t.prevRanges)),u=l?Ep(t.prevRanges,n.mapping):Nb(n.mapping.maps);return new Mi(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,gf(e)),Ou.empty,u,n.time,s??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Mi(t.done.rebased(n,o),t.undone.rebased(n,o),Ep(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Mi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ep(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Tz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Nb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,l)=>e.push(o,l));return e}function Ep(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function Cz(t,e,n){let r=gf(e),i=qo.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),s=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new Mi(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(l).setMeta(qo,{redo:n,historyState:a})}let Op=!1,_b=null;function gf(t){let e=t.plugins;if(_b!=e){Op=!1,_b=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Op=!0;break}}return Op}const qo=new pr("history"),Nz=new pr("closeHistory");function _z(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new hr({key:qo,state:{init(){return new Mi(Ou.empty,Ou.empty,null,0,-1)},apply(e,n,r){return Oz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?YT:r=="historyRedo"?GT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function KT(t,e){return(n,r)=>{let i=qo.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=Cz(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const YT=KT(!1,!0),GT=KT(!0,!0);function Ts(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-history",...e}}),t}const Vv=pt("Undo",()=>()=>YT);Ts(Vv,{displayName:"Command<undo>"});const Wv=pt("Redo",()=>()=>GT);Ts(Wv,{displayName:"Command<redo>"});const Hv=fi({},"historyProviderConfig");Ts(Hv,{displayName:"Ctx<historyProviderConfig>"});const JT=xs(t=>_z(t.get(Hv.key)));Ts(JT,{displayName:"Ctx<historyProviderPlugin>"});const Kv=Xn("historyKeymap",{Undo:{shortcuts:"Mod-z",command:t=>{const e=t.get(Xe);return()=>e.call(Vv.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:t=>{const e=t.get(Xe);return()=>e.call(Wv.key)}}});Ts(Kv.ctx,{displayName:"KeymapCtx<history>"});Ts(Kv.shortcuts,{displayName:"Keymap<history>"});const Az=[Hv,JT,Kv,Vv,Wv].flat(),Mz=`
- 
`,Ab=({content:t,setContent:e,isEditable:n})=>{const r=I.useRef(n);return Q2(i=>wj.make().config(o=>{o.set(ff,i),o.set(sf,t||Mz),o.get(hg).markdownUpdated((l,s)=>{e(s)}),o.update(cf,l=>({...l,editable:()=>r.current}))}).use(bT).use(bz).use(Az)),I.useEffect(()=>{r.current=n},[n]),F.jsx(J2,{})};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},a)=>I.createElement("svg",{ref:a,...Rz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QT("lucide",i),...s},[...l.map(([u,c])=>I.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=(t,e)=>{const n=I.forwardRef(({className:r,...i},o)=>I.createElement(Iz,{ref:o,iconNode:e,className:QT(`lucide-${Pz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Cs("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Cs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Cs("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Cs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=Cs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Cs("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);let xc;const jz=new Uint8Array(16);function zz(){if(!xc&&(xc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xc(jz)}const Lt=[];for(let t=0;t<256;++t)Lt.push((t+256).toString(16).slice(1));function Fz(t,e=0){return Lt[t[e+0]]+Lt[t[e+1]]+Lt[t[e+2]]+Lt[t[e+3]]+"-"+Lt[t[e+4]]+Lt[t[e+5]]+"-"+Lt[t[e+6]]+Lt[t[e+7]]+"-"+Lt[t[e+8]]+Lt[t[e+9]]+"-"+Lt[t[e+10]]+Lt[t[e+11]]+Lt[t[e+12]]+Lt[t[e+13]]+Lt[t[e+14]]+Lt[t[e+15]]}const Bz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mb={randomUUID:Bz};function XT(t,e,n){if(Mb.randomUUID&&!e&&!t)return Mb.randomUUID();t=t||{};const r=t.random||(t.rng||zz)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Fz(r)}function $z(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ZT(...t){return e=>t.forEach(n=>$z(n,e))}function In(...t){return I.useCallback(ZT(...t),t)}var Tu=I.forwardRef((t,e)=>{const{children:n,...r}=t,i=I.Children.toArray(n),o=i.find(Uz);if(o){const l=o.props.children,s=i.map(a=>a===o?I.Children.count(l)>1?I.Children.only(null):I.isValidElement(l)?l.props.children:null:a);return F.jsx(pg,{...r,ref:e,children:I.isValidElement(l)?I.cloneElement(l,void 0,s):null})}return F.jsx(pg,{...r,ref:e,children:n})});Tu.displayName="Slot";var pg=I.forwardRef((t,e)=>{const{children:n,...r}=t;if(I.isValidElement(n)){const i=Wz(n);return I.cloneElement(n,{...Vz(r,n.props),ref:e?ZT(e,i):i})}return I.Children.count(n)>1?I.Children.only(null):null});pg.displayName="SlotClone";var qz=({children:t})=>F.jsx(F.Fragment,{children:t});function Uz(t){return I.isValidElement(t)&&t.type===qz}function Vz(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Wz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=eC(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Hz(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=eC(t))&&(r&&(r+=" "),r+=e);return r}const Pb=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Rb=Hz,Jv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],f=o==null?void 0:o[u];if(c===null)return null;const d=Pb(c)||Pb(f);return i[u][d]}),s=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),a=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...h}=c;return Object.entries(h).every(m=>{let[y,v]=m;return Array.isArray(v)?v.includes({...o,...s}[y]):{...o,...s}[y]===v})?[...u,f,d]:u},[]);return Rb(t,l,a,n==null?void 0:n.class,n==null?void 0:n.className)};function tC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kz(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tC(t))&&(r&&(r+=" "),r+=e);return r}const Qv="-",Yz=t=>{const e=Jz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const s=l.split(Qv);return s[0]===""&&s.length!==1&&s.shift(),nC(s,e)||Gz(l)},getConflictingClassGroupIds:(l,s)=>{const a=n[l]||[];return s&&r[l]?[...a,...r[l]]:a}}},nC=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?nC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Qv);return(l=e.validators.find(({validator:s})=>s(o)))==null?void 0:l.classGroupId},Ib=/^\[(.+)\]$/,Gz=t=>{if(Ib.test(t)){const e=Ib.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Jz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Xz(Object.entries(t.classGroups),n).forEach(([o,l])=>{mg(l,r,o,e)}),r},mg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Db(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Qz(i)){mg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{mg(l,Db(e,o),n,r)})})},Db=(t,e)=>{let n=t;return e.split(Qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Qz=t=>t.isThemeGetter,Xz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,s])=>[e+l,s])):o);return[n,i]}):t,Zz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},rC="!",eF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,l=s=>{const a=[];let u=0,c=0,f;for(let v=0;v<s.length;v++){let p=s[v];if(u===0){if(p===i&&(r||s.slice(v,v+o)===e)){a.push(s.slice(c,v)),c=v+o;continue}if(p==="/"){f=v;continue}}p==="["?u++:p==="]"&&u--}const d=a.length===0?s:s.substring(c),h=d.startsWith(rC),m=h?d.substring(1):d,y=f&&f>c?f-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}};return n?s=>n({className:s,parseClassName:l}):l},tF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nF=t=>({cache:Zz(t.cacheSize),parseClassName:eF(t),...Yz(t)}),rF=/\s+/,iF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=t.trim().split(rF);let s="";for(let a=l.length-1;a>=0;a-=1){const u=l[a],{modifiers:c,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(u);let m=!!h,y=r(m?d.substring(0,h):d);if(!y){if(!m){s=u+(s.length>0?" "+s:s);continue}if(y=r(d),!y){s=u+(s.length>0?" "+s:s);continue}m=!1}const v=tF(c).join(":"),p=f?v+rC:v,g=p+y;if(o.includes(g))continue;o.push(g);const b=i(y,m);for(let w=0;w<b.length;++w){const x=b[w];o.push(p+x)}s=u+(s.length>0?" "+s:s)}return s};function oF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iC(e))&&(r&&(r+=" "),r+=n);return r}const iC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iC(t[r]))&&(n&&(n+=" "),n+=e);return n};function lF(t,...e){let n,r,i,o=l;function l(a){const u=e.reduce((c,f)=>f(c),t());return n=nF(u),r=n.cache.get,i=n.cache.set,o=s,s(a)}function s(a){const u=r(a);if(u)return u;const c=iF(a,n);return i(a,c),c}return function(){return o(oF.apply(null,arguments))}}const nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oC=/^\[(?:([a-z-]+):)?(.+)\]$/i,sF=/^\d+\/\d+$/,aF=new Set(["px","full","screen"]),uF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=t=>Gl(t)||aF.has(t)||sF.test(t),gi=t=>Ns(t,"length",xF),Gl=t=>!!t&&!Number.isNaN(Number(t)),Tp=t=>Ns(t,"number",Gl),Js=t=>!!t&&Number.isInteger(Number(t)),pF=t=>t.endsWith("%")&&Gl(t.slice(0,-1)),Pe=t=>oC.test(t),yi=t=>uF.test(t),mF=new Set(["length","size","percentage"]),gF=t=>Ns(t,mF,lC),yF=t=>Ns(t,"position",lC),vF=new Set(["image","url"]),wF=t=>Ns(t,vF,SF),bF=t=>Ns(t,"",kF),Qs=()=>!0,Ns=(t,e,n)=>{const r=oC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},xF=t=>cF.test(t)&&!fF.test(t),lC=()=>!1,kF=t=>dF.test(t),SF=t=>hF.test(t),EF=()=>{const t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),l=nt("borderSpacing"),s=nt("borderWidth"),a=nt("contrast"),u=nt("grayscale"),c=nt("hueRotate"),f=nt("invert"),d=nt("gap"),h=nt("gradientColorStops"),m=nt("gradientColorStopPositions"),y=nt("inset"),v=nt("margin"),p=nt("opacity"),g=nt("padding"),b=nt("saturate"),w=nt("scale"),x=nt("sepia"),S=nt("skew"),T=nt("space"),k=nt("translate"),A=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Pe,e],O=()=>[Pe,e],M=()=>["",Ur,gi],R=()=>["auto",Gl,Pe],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Pe],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[Gl,Pe];return{cacheSize:500,separator:":",theme:{colors:[Qs],spacing:[Ur,gi],blur:["none","",yi,Pe],brightness:P(),borderColor:[t],borderRadius:["none","","full",yi,Pe],borderSpacing:O(),borderWidth:M(),contrast:P(),grayscale:z(),hueRotate:P(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[pF,gi],inset:E(),margin:E(),opacity:P(),padding:O(),saturate:P(),scale:P(),sepia:z(),skew:P(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[yi]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),Pe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Js,Pe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Js,Pe]}],"grid-cols":[{"grid-cols":[Qs]}],"col-start-end":[{col:["auto",{span:["full",Js,Pe]},Pe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Qs]}],"row-start-end":[{row:["auto",{span:[Js,Pe]},Pe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[yi]},yi]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yi,gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tp]}],"font-family":[{font:[Qs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Gl,Tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,gi]}],"underline-offset":[{"underline-offset":["auto",Ur,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),yF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ur,Pe]}],"outline-w":[{outline:[Ur,gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ur,gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yi,bF]}],"shadow-color":[{shadow:[Qs]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",yi,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Js,Pe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ur,gi,Tp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OF=lF(EF);function Nt(...t){return OF(Kz(t))}const TF=Jv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border border-primary bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",bae:"min-h-12 px-4 py-2 rounded-md text-2xl font-semibold",icon:"h-9 w-9",tag:"rounded-full px-4 py-1 text-2xl font-semibold"}},defaultVariants:{variant:"secondary",size:"bae"}}),Xt=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const l=r?Tu:"button";return F.jsx(l,{className:Nt(TF({variant:e,size:n,className:t})),ref:o,...i})});Xt.displayName="Button";const Xd=I.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Nt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Xd.displayName="Card";const Xv=I.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Nt("flex flex-col space-y-1.5 p-6",t),...e}));Xv.displayName="CardHeader";const Zd=I.forwardRef(({className:t,...e},n)=>F.jsx("h3",{ref:n,className:Nt("font-semibold leading-none tracking-tight",t),...e}));Zd.displayName="CardTitle";const CF=I.forwardRef(({className:t,...e},n)=>F.jsx("p",{ref:n,className:Nt("text-sm text-muted-foreground",t),...e}));CF.displayName="CardDescription";const eh=I.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Nt("p-6 pt-0",t),...e}));eh.displayName="CardContent";const NF=I.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Nt("flex items-center p-6 pt-0",t),...e}));NF.displayName="CardFooter";var _F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=_F.reduce((t,e)=>{const n=I.forwardRef((r,i)=>{const{asChild:o,...l}=r,s=o?Tu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(s,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sC(t,e){t&&ms.flushSync(()=>t.dispatchEvent(e))}var AF="Separator",Lb="horizontal",MF=["horizontal","vertical"],aC=I.forwardRef((t,e)=>{const{decorative:n,orientation:r=Lb,...i}=t,o=PF(r)?r:Lb,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return F.jsx(Ht.div,{"data-orientation":o,...s,...i,ref:e})});aC.displayName=AF;function PF(t){return MF.includes(t)}var uC=aC;const Xo=I.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>F.jsx(uC,{ref:i,decorative:n,orientation:e,className:Nt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Xo.displayName=uC.displayName;const ti=I.forwardRef(({className:t,type:e,...n},r)=>F.jsx("input",{type:e,className:Nt("flex h-9 w-full rounded-md border-2 border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ti.displayName="Input";const RF=()=>new jd(Ld("staging"));function IF(){const t=RF(),e=tl(),{id:n}=QS(),[r,i]=I.useState(!0),[o,l]=I.useState(!1),[s,a]=I.useState(),[u,c]=I.useState([]),[f,d]=I.useState(""),[h,m]=I.useState(""),[y,v]=I.useState(0),[p,g]=I.useState(0);I.useEffect(()=>{(async()=>{if(n){try{const O=await t.api.GetRecipe(n);a(O),c(O.tags??[]),d(O.ingredients),m(O.instructions),g(O.cook_temp_deg_f),v(O.cook_time_minutes)}catch(O){console.error(O)}i(!1)}})()},[n]);const b=()=>{e("/my-recipe-app/recipes/")},w=async()=>{l(!0)},x=async()=>{l(!1),s&&(c(s.tags),d(s.ingredients),m(s.instructions),g(s.cook_temp_deg_f),v(s.cook_time_minutes))},S=async()=>{try{l(!1);const E=u.filter(M=>M!=null&&M!=null&&M!="");c(E);const O=await t.api.SaveRecipe({id:n||XT(),title:(s==null?void 0:s.title)??"",instructions:h,ingredients:f,cook_temp_deg_f:p,cook_time_minutes:y,tags:E});n||e(`/my-recipe-app/recipes/${O.id}`)}catch(E){console.error(E)}},T=E=>{v(Number(E.target.value))},k=E=>{g(Number(E.target.value))},A=async()=>{c([...u,"Tag"])},C=(E,O)=>{u[E]=O.target.value,(u[E]===void 0||u[E]===null||u[E]==="")&&u.splice(E,1),c([...u])};return F.jsxs("div",{className:"h-full mx-auto max-w-4xl",children:[F.jsxs("div",{className:"flex p-4 gap-4 justify-between",children:[F.jsxs(Xt,{className:"pl-2",onClick:b,children:[F.jsx(Yv,{size:30})," Recipes"]}),o?F.jsxs("div",{className:"flex gap-2",children:[F.jsx(Xt,{onClick:x,children:"Cancel"}),F.jsx(Xt,{variant:"default",onClick:S,children:"Save"})]}):F.jsx(Xt,{onClick:w,children:"Edit"})]}),r?F.jsx("span",{children:"Loading..."}):F.jsxs(Xd,{className:"rounded-none",children:[F.jsx(Xv,{className:"pt-4 pb-0 px-4",children:F.jsxs(Zd,{children:[F.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center",children:[F.jsx("div",{className:"text-4xl text-center",children:s==null?void 0:s.title}),(u==null?void 0:u.length)>0&&!o&&F.jsx("div",{className:"flex pt-2 text-xl gap-2",children:u==null?void 0:u.map((E,O)=>F.jsx("div",{className:"rounded-full border-2 border-primary-foreground px-3 text-lg",children:E},E+O))}),o&&F.jsxs("div",{className:"w-full flex-wrap flex pt-2 text-xl gap-2 justify-center",children:[u==null?void 0:u.map((E,O)=>F.jsx(ti,{defaultValue:E,onBlur:M=>C(O,M),className:"rounded-full px-3 text-lg w-36"},E+O)),F.jsx(Xt,{size:"icon",className:"rounded-full",onClick:A,children:F.jsx(Gv,{})})]}),!o&&(y>0||p>0)&&F.jsxs("div",{className:"flex items-center pt-2 gap-x-2 text-3xl",children:[y>0&&F.jsxs("div",{className:"flex",children:[F.jsx(sd,{size:36})," ",y,"min"]}),p>0&&F.jsxs("div",{className:"flex",children:[F.jsx(ld,{size:36})," ",p,"°F"]})]}),o&&F.jsxs("div",{className:"flex items-center pt-2 gap-x-2 text-3xl",children:[F.jsxs("div",{className:"flex",children:[F.jsx(sd,{size:36}),F.jsx(ti,{value:y,onChange:T,className:"mx-1 px-1 w-16 text-center text-3xl"}),"min"]}),F.jsxs("div",{className:"flex",children:[F.jsx(ld,{size:36}),F.jsx(ti,{value:p,onChange:k,className:"mx-1 px-1 w-16 text-center text-3xl"}),"°F"]})]})]}),F.jsx(Xo,{className:"my-4"})]})}),F.jsx(eh,{className:"px-4",children:F.jsxs("div",{className:"flex flex-col flex-grow items-start gap-2 transition-all",children:[F.jsx("div",{className:"text-3xl font-semibold",children:"Ingredients"}),F.jsx("div",{className:"text-2xl text-foreground w-full",children:F.jsx(W0,{children:F.jsx(Ab,{content:f,setContent:d,isEditable:o})})}),F.jsx(Xo,{className:"my-2"}),F.jsx("div",{className:"text-3xl font-semibold",children:"Instructions"}),F.jsx("div",{className:"text-2xl text-foreground w-full",children:F.jsx(W0,{children:F.jsx(Ab,{content:h,setContent:m,isEditable:o})})})]})})]})]})}var Cu=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{};function DF(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var _s=t=>{const{present:e,children:n}=t,r=LF(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),o=In(r.ref,jF(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:o}):null};_s.displayName="Presence";function LF(t){const[e,n]=I.useState(),r=I.useRef({}),i=I.useRef(t),o=I.useRef("none"),l=t?"mounted":"unmounted",[s,a]=DF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=kc(r.current);o.current=s==="mounted"?u:"none"},[s]),Cu(()=>{const u=r.current,c=i.current;if(c!==t){const d=o.current,h=kc(u);t?a("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,a]),Cu(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=h=>{const y=kc(r.current).includes(h.animationName);if(h.target===e&&y&&(a("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=h=>{h.target===e&&(o.current=kc(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:I.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function kc(t){return(t==null?void 0:t.animationName)||"none"}function jF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cC(t,e=[]){let n=[];function r(o,l){const s=I.createContext(l),a=n.length;n=[...n,l];const u=f=>{var p;const{scope:d,children:h,...m}=f,y=((p=d==null?void 0:d[t])==null?void 0:p[a])||s,v=I.useMemo(()=>m,Object.values(m));return F.jsx(y.Provider,{value:v,children:h})};u.displayName=o+"Provider";function c(f,d){var y;const h=((y=d==null?void 0:d[t])==null?void 0:y[a])||s,m=I.useContext(h);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(l=>I.createContext(l));return function(s){const a=(s==null?void 0:s[t])||o;return I.useMemo(()=>({[`__scope${t}`]:{...s,[t]:a}}),[s,a])}};return i.scopeName=t,[r,zF(i,...e)]}function zF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((s,{useScope:a,scopeName:u})=>{const f=a(o)[`__scope${u}`];return{...s,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Zt(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var FF=I.createContext(void 0);function BF(t){const e=I.useContext(FF);return t||e||"ltr"}function $F(t,[e,n]){return Math.min(n,Math.max(e,t))}function Tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function qF(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var Zv="ScrollArea",[fC,fV]=cC(Zv),[UF,Zn]=fC(Zv),dC=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...l}=t,[s,a]=I.useState(null),[u,c]=I.useState(null),[f,d]=I.useState(null),[h,m]=I.useState(null),[y,v]=I.useState(null),[p,g]=I.useState(0),[b,w]=I.useState(0),[x,S]=I.useState(!1),[T,k]=I.useState(!1),A=In(e,E=>a(E)),C=BF(i);return F.jsx(UF,{scope:n,type:r,dir:C,scrollHideDelay:o,scrollArea:s,viewport:u,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:w,children:F.jsx(Ht.div,{dir:C,...l,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});dC.displayName=Zv;var hC="ScrollAreaViewport",pC=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...l}=t,s=Zn(hC,n),a=I.useRef(null),u=In(e,a,s.onViewportChange);return F.jsxs(F.Fragment,{children:[F.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),F.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...l,asChild:i,ref:u,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:ZF({asChild:i,children:r},c=>F.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:c}))})]})});pC.displayName=hC;var jr="ScrollAreaScrollbar",e1=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Zn(jr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=i,s=t.orientation==="horizontal";return I.useEffect(()=>(s?o(!0):l(!0),()=>{s?o(!1):l(!1)}),[s,o,l]),i.type==="hover"?F.jsx(VF,{...r,ref:e,forceMount:n}):i.type==="scroll"?F.jsx(WF,{...r,ref:e,forceMount:n}):i.type==="auto"?F.jsx(mC,{...r,ref:e,forceMount:n}):i.type==="always"?F.jsx(t1,{...r,ref:e}):null});e1.displayName=jr;var VF=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Zn(jr,t.__scopeScrollArea),[o,l]=I.useState(!1);return I.useEffect(()=>{const s=i.scrollArea;let a=0;if(s){const u=()=>{window.clearTimeout(a),l(!0)},c=()=>{a=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",c),()=>{window.clearTimeout(a),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),F.jsx(_s,{present:n||o,children:F.jsx(mC,{"data-state":o?"visible":"hidden",...r,ref:e})})}),WF=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Zn(jr,t.__scopeScrollArea),o=t.orientation==="horizontal",l=nh(()=>a("SCROLL_END"),100),[s,a]=qF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,a]),I.useEffect(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let f=u[c];const d=()=>{const h=u[c];f!==h&&(a("SCROLL"),l()),f=h};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,o,a,l]),F.jsx(_s,{present:n||s!=="hidden",children:F.jsx(t1,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Tt(t.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:Tt(t.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),mC=I.forwardRef((t,e)=>{const n=Zn(jr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,l]=I.useState(!1),s=t.orientation==="horizontal",a=nh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;l(s?u:c)}},10);return fs(n.viewport,a),fs(n.content,a),F.jsx(_s,{present:r||o,children:F.jsx(t1,{"data-state":o?"visible":"hidden",...i,ref:e})})}),t1=I.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Zn(jr,t.__scopeScrollArea),o=I.useRef(null),l=I.useRef(0),[s,a]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bC(s.viewport,s.content),c={...r,sizes:s,onSizesChange:a,hasThumb:u>0&&u<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:d=>l.current=d};function f(d,h){return QF(d,l.current,s,h)}return n==="horizontal"?F.jsx(HF,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=jb(d,s,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}}):n==="vertical"?F.jsx(KF,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=jb(d,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}}):null}),HF=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Zn(jr,t.__scopeScrollArea),[l,s]=I.useState(),a=I.useRef(null),u=In(e,a,o.onScrollbarXChange);return I.useEffect(()=>{a.current&&s(getComputedStyle(a.current))},[a]),F.jsx(yC,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":th(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.x),onDragScroll:c=>t.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+c.deltaX;t.onWheelScroll(d),kC(d,f)&&c.preventDefault()}},onResize:()=>{a.current&&o.viewport&&l&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:ud(l.paddingLeft),paddingEnd:ud(l.paddingRight)}})}})}),KF=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Zn(jr,t.__scopeScrollArea),[l,s]=I.useState(),a=I.useRef(null),u=In(e,a,o.onScrollbarYChange);return I.useEffect(()=>{a.current&&s(getComputedStyle(a.current))},[a]),F.jsx(yC,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":th(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.y),onDragScroll:c=>t.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollTop+c.deltaY;t.onWheelScroll(d),kC(d,f)&&c.preventDefault()}},onResize:()=>{a.current&&o.viewport&&l&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:ud(l.paddingTop),paddingEnd:ud(l.paddingBottom)}})}})}),[YF,gC]=fC(jr),yC=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:c,onResize:f,...d}=t,h=Zn(jr,n),[m,y]=I.useState(null),v=In(e,A=>y(A)),p=I.useRef(null),g=I.useRef(""),b=h.viewport,w=r.content-r.viewport,x=Zt(c),S=Zt(a),T=nh(f,10);function k(A){if(p.current){const C=A.clientX-p.current.left,E=A.clientY-p.current.top;u({x:C,y:E})}}return I.useEffect(()=>{const A=C=>{const E=C.target;(m==null?void 0:m.contains(E))&&x(C,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,m,w,x]),I.useEffect(S,[r,S]),fs(m,T),fs(h.content,T),F.jsx(YF,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Zt(o),onThumbPointerUp:Zt(l),onThumbPositionChange:S,onThumbPointerDown:Zt(s),children:F.jsx(Ht.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:Tt(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),p.current=m.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(A))}),onPointerMove:Tt(t.onPointerMove,k),onPointerUp:Tt(t.onPointerUp,A=>{const C=A.target;C.hasPointerCapture(A.pointerId)&&C.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=g.current,h.viewport&&(h.viewport.style.scrollBehavior=""),p.current=null})})})}),ad="ScrollAreaThumb",vC=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gC(ad,t.__scopeScrollArea);return F.jsx(_s,{present:n||i.hasThumb,children:F.jsx(GF,{ref:e,...r})})}),GF=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Zn(ad,n),l=gC(ad,n),{onThumbPositionChange:s}=l,a=In(e,f=>l.onThumbChange(f)),u=I.useRef(),c=nh(()=>{u.current&&(u.current(),u.current=void 0)},100);return I.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(c(),!u.current){const h=XF(f,s);u.current=h,s()}};return s(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,c,s]),F.jsx(Ht.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Tt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),m=f.clientX-h.left,y=f.clientY-h.top;l.onThumbPointerDown({x:m,y})}),onPointerUp:Tt(t.onPointerUp,l.onThumbPointerUp)})});vC.displayName=ad;var n1="ScrollAreaCorner",wC=I.forwardRef((t,e)=>{const n=Zn(n1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?F.jsx(JF,{...t,ref:e}):null});wC.displayName=n1;var JF=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Zn(n1,n),[o,l]=I.useState(0),[s,a]=I.useState(0),u=!!(o&&s);return fs(i.scrollbarX,()=>{var f;const c=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(c),a(c)}),fs(i.scrollbarY,()=>{var f;const c=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(c),l(c)}),u?F.jsx(Ht.div,{...r,ref:e,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ud(t){return t?parseInt(t,10):0}function bC(t,e){const n=t/e;return isNaN(n)?0:n}function th(t){const e=bC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function QF(t,e,n,r="ltr"){const i=th(n),o=i/2,l=e||o,s=i-l,a=n.scrollbar.paddingStart+l,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return xC([a,u],f)(t)}function jb(t,e,n="ltr"){const r=th(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,l=e.content-e.viewport,s=o-r,a=n==="ltr"?[0,l]:[l*-1,0],u=$F(t,a);return xC([0,l],[0,s])(u)}function xC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function kC(t,e){return t>0&&t<e}var XF=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},l=n.left!==o.left,s=n.top!==o.top;(l||s)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function nh(t,e){const n=Zt(t),r=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),I.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function fs(t,e){const n=Zt(e);Cu(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function ZF(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=I.Children.only(r);return I.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var SC=dC,e5=pC,t5=wC;const EC=I.forwardRef(({className:t,children:e,...n},r)=>F.jsxs(SC,{ref:r,className:Nt("relative overflow-hidden",t),...n,children:[F.jsx(e5,{className:"h-full w-full rounded-[inherit]",children:e}),F.jsx(OC,{}),F.jsx(t5,{})]}));EC.displayName=SC.displayName;const OC=I.forwardRef(({className:t,orientation:e="vertical",...n},r)=>F.jsx(e1,{ref:r,orientation:e,className:Nt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:F.jsx(vC,{className:"relative flex-1 rounded-full bg-border"})}));OC.displayName=e1.displayName;const n5=({item:t})=>{const e=tl(),n=()=>{e(`/my-recipe-app/recipes/quill/${t.id}`)};return F.jsxs(Xt,{variant:"secondary",className:"justify-between pr-1 text-left text-wrap",onClick:n,children:[F.jsx("div",{className:"flex flex-col",children:t.title}),F.jsx("div",{className:"min-w-8 ml-4",children:F.jsx(Dz,{size:30})})]},t.id)},TC=Bn.forwardRef(({className:t},e)=>{const n=[{name:"Recipes",href:"/my-recipe-app/recipes"},{name:"Plan",href:"/my-recipe-app/plan"}],r=vs(),{pathname:i}=r;return F.jsx("div",{className:Nt("p-4 flex items-center text-2xl",t),ref:e,children:n.map((o,l)=>F.jsx(F2,{to:o.href,className:Nt("flex h-10 items-center justify-center rounded-full px-6 text-center transition-colors hover:text-primary-foreground",i!=null&&i.startsWith(o.href)||l===0&&i==="/"?"bg-primary font-semibold text-primary-foreground":"text-muted-foreground"),children:o.name},o.href))})}),r5=()=>new jd(Ld("staging"));function i5(){const t=r5(),e=tl(),[n,r]=I.useState([]),[i,o]=I.useState([]),[l,s]=I.useState([]),[a,u]=I.useState(""),[c,f]=I.useState("All"),d=v=>{u(v.target.value)},h=()=>{e("/my-recipe-app/upload/")};I.useEffect(()=>{(async()=>{try{const g=(await t.api.GetRecipes()).Recipes.map(x=>({...x,tags:x.tags&&x.tags.length?x.tags:["Uncategorized"]}));r(g);let b=g.reduce((x,S)=>x.concat(S.tags??[]),["All"]);const w=Array.from(new Set(b)).sort((x,S)=>x==="All"?-1:S==="All"||x==="Uncategorized"?1:S==="Uncategorized"?-1:x.localeCompare(S));o(w),f("All")}catch(p){console.error(p)}})()},[]);const m=()=>{const p=i.filter(g=>c==="All"||g.toLowerCase()===c.toLowerCase()).filter(g=>g!="All").map(g=>{var b=n.filter(w=>{var x;return(x=w.tags)==null?void 0:x.some(S=>S.toLowerCase()===g.toLowerCase())}).sort((w,x)=>w.title.localeCompare(x.title));return{tag:g,recipes:b}});s(p)},y=v=>{f(v)};return I.useEffect(()=>{n.length>0&&m()},[n,a,c]),F.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col ",children:[F.jsx(TC,{className:"hidden"}),F.jsxs("div",{className:"p-4 text-5xl flex justify-between",children:["Recipes",F.jsxs(Xt,{variant:"outline",onClick:h,children:[F.jsx(Gv,{className:"mr-2"})," Add"]})]}),F.jsx("div",{className:"flex px-4 pt-4 hidden",children:F.jsxs("div",{className:"relative flex-grow",children:[F.jsx(Lz,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),F.jsx(ti,{placeholder:"Search recipes",className:"pl-11 h-12 text-2xl",value:a,onChange:d})]})}),F.jsx("div",{className:"flex flex-wrap gap-2 px-4 pb-4 pt-2",children:i==null?void 0:i.map(v=>F.jsx(Xt,{size:"tag",variant:c===v?"default":"secondary",className:c===v?"text-background":"",onClick:()=>y(v),children:v},v))}),F.jsx(EC,{className:"h-full w-full",children:l==null?void 0:l.map(v=>{var p;return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"px-4 mb-2 text-2xl flex gap-2 items-center",children:[F.jsx("div",{className:"w-2",children:F.jsx(Xo,{className:"bg-muted-foreground"})}),F.jsx("span",{className:"text-muted-foreground",children:v.tag}),F.jsx("div",{className:"flex-grow",children:F.jsx(Xo,{className:"bg-muted-foreground"})})]}),F.jsx("div",{className:"px-4 mb-6 gap-2 flex flex-col",children:(p=v.recipes)==null?void 0:p.map(g=>F.jsx(n5,{item:g},g.id))})]})})})]})}const o5=1,l5=1e6;let Cp=0;function s5(){return Cp=(Cp+1)%Number.MAX_SAFE_INTEGER,Cp.toString()}const Np=new Map,zb=t=>{if(Np.has(t))return;const e=setTimeout(()=>{Np.delete(t),Ya({type:"REMOVE_TOAST",toastId:t})},l5);Np.set(t,e)},a5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,o5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zb(n):t.toasts.forEach(r=>{zb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yf=[];let vf={toasts:[]};function Ya(t){vf=a5(vf,t),yf.forEach(e=>{e(vf)})}function u5({...t}){const e=s5(),n=i=>Ya({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ya({type:"DISMISS_TOAST",toastId:e});return Ya({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function c5(){const[t,e]=I.useState(vf);return I.useEffect(()=>(yf.push(e),()=>{const n=yf.indexOf(e);n>-1&&yf.splice(n,1)}),[t]),{...t,toast:u5,dismiss:n=>Ya({type:"DISMISS_TOAST",toastId:n})}}function f5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var d5=["color"],h5=I.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=f5(t,d5);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),I.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function p5(t,e=[]){let n=[];function r(o,l){const s=I.createContext(l),a=n.length;n=[...n,l];function u(f){const{scope:d,children:h,...m}=f,y=(d==null?void 0:d[t][a])||s,v=I.useMemo(()=>m,Object.values(m));return F.jsx(y.Provider,{value:v,children:h})}function c(f,d){const h=(d==null?void 0:d[t][a])||s,m=I.useContext(h);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(l=>I.createContext(l));return function(s){const a=(s==null?void 0:s[t])||o;return I.useMemo(()=>({[`__scope${t}`]:{...s,[t]:a}}),[s,a])}};return i.scopeName=t,[r,m5(i,...e)]}function m5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((s,{useScope:a,scopeName:u})=>{const f=a(o)[`__scope${u}`];return{...s,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function g5(t){const e=t+"CollectionProvider",[n,r]=p5(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:m,children:y}=h,v=Bn.useRef(null),p=Bn.useRef(new Map).current;return F.jsx(i,{scope:m,itemMap:p,collectionRef:v,children:y})};l.displayName=e;const s=t+"CollectionSlot",a=Bn.forwardRef((h,m)=>{const{scope:y,children:v}=h,p=o(s,y),g=In(m,p.collectionRef);return F.jsx(Tu,{ref:g,children:v})});a.displayName=s;const u=t+"CollectionItemSlot",c="data-radix-collection-item",f=Bn.forwardRef((h,m)=>{const{scope:y,children:v,...p}=h,g=Bn.useRef(null),b=In(m,g),w=o(u,y);return Bn.useEffect(()=>(w.itemMap.set(g,{ref:g,...p}),()=>void w.itemMap.delete(g))),F.jsx(Tu,{[c]:"",ref:b,children:v})});f.displayName=u;function d(h){const m=o(t+"CollectionConsumer",h);return Bn.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const p=Array.from(v.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((w,x)=>p.indexOf(w.ref.current)-p.indexOf(x.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:l,Slot:a,ItemSlot:f},d,r]}function y5(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var v5="DismissableLayer",gg="dismissableLayer.update",w5="dismissableLayer.pointerDownOutside",b5="dismissableLayer.focusOutside",Fb,CC=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NC=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:s,...a}=t,u=I.useContext(CC),[c,f]=I.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=I.useState({}),m=In(e,T=>f(T)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(v),g=c?y.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=g>=p,x=k5(T=>{const k=T.target,A=[...u.branches].some(C=>C.contains(k));!w||A||(i==null||i(T),l==null||l(T),T.defaultPrevented||s==null||s())},d),S=S5(T=>{const k=T.target;[...u.branches].some(C=>C.contains(k))||(o==null||o(T),l==null||l(T),T.defaultPrevented||s==null||s())},d);return y5(T=>{g===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},d),I.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fb=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Bb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Fb)}},[c,d,n,u]),I.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Bb())},[c,u]),I.useEffect(()=>{const T=()=>h({});return document.addEventListener(gg,T),()=>document.removeEventListener(gg,T)},[]),F.jsx(Ht.div,{...a,ref:m,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Tt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Tt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Tt(t.onPointerDownCapture,x.onPointerDownCapture)})});NC.displayName=v5;var x5="DismissableLayerBranch",_C=I.forwardRef((t,e)=>{const n=I.useContext(CC),r=I.useRef(null),i=In(e,r);return I.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),F.jsx(Ht.div,{...t,ref:i})});_C.displayName=x5;function k5(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let a=function(){AC(w5,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function S5(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!r.current&&AC(b5,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bb(){const t=new CustomEvent(gg);document.dispatchEvent(t)}function AC(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sC(i,o):i.dispatchEvent(o)}var E5=NC,O5=_C,T5="Portal",MC=I.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=I.useState(!1);Cu(()=>o(!0),[]);const l=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return l?zS.createPortal(F.jsx(Ht.div,{...r,ref:e}),l):null});MC.displayName=T5;function C5({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=N5({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r,s=Zt(n),a=I.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&s(f)}else i(u)},[o,t,i,s]);return[l,a]}function N5({defaultProp:t,onChange:e}){const n=I.useState(t),[r]=n,i=I.useRef(r),o=Zt(e);return I.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var _5="VisuallyHidden",r1=I.forwardRef((t,e)=>F.jsx(Ht.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));r1.displayName=_5;var i1="ToastProvider",[o1,A5,M5]=g5("Toast"),[PC,dV]=cC("Toast",[M5]),[P5,rh]=PC(i1),RC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=t,[s,a]=I.useState(null),[u,c]=I.useState(0),f=I.useRef(!1),d=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i1}\`. Expected non-empty \`string\`.`),F.jsx(o1.Provider,{scope:e,children:F.jsx(P5,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:a,onToastAdd:I.useCallback(()=>c(h=>h+1),[]),onToastRemove:I.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:l})})};RC.displayName=i1;var IC="ToastViewport",R5=["F8"],yg="toast.viewportPause",vg="toast.viewportResume",DC=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=R5,label:i="Notifications ({hotkey})",...o}=t,l=rh(IC,n),s=A5(n),a=I.useRef(null),u=I.useRef(null),c=I.useRef(null),f=I.useRef(null),d=In(e,f,l.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=l.toastCount>0;I.useEffect(()=>{const v=p=>{var b;r.length!==0&&r.every(w=>p[w]||p.code===w)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),I.useEffect(()=>{const v=a.current,p=f.current;if(m&&v&&p){const g=()=>{if(!l.isClosePausedRef.current){const S=new CustomEvent(yg);p.dispatchEvent(S),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const S=new CustomEvent(vg);p.dispatchEvent(S),l.isClosePausedRef.current=!1}},w=S=>{!v.contains(S.relatedTarget)&&b()},x=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",g),v.addEventListener("focusout",w),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",x),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",x),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[m,l.isClosePausedRef]);const y=I.useCallback(({tabbingDirection:v})=>{const g=s().map(b=>{const w=b.ref.current,x=[w,...H5(w)];return v==="forwards"?x:x.reverse()});return(v==="forwards"?g.reverse():g).flat()},[s]);return I.useEffect(()=>{const v=f.current;if(v){const p=g=>{var x,S,T;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const k=document.activeElement,A=g.shiftKey;if(g.target===v&&A){(x=u.current)==null||x.focus();return}const O=y({tabbingDirection:A?"backwards":"forwards"}),M=O.findIndex(R=>R===k);_p(O.slice(M+1))?g.preventDefault():A?(S=u.current)==null||S.focus():(T=c.current)==null||T.focus()}};return v.addEventListener("keydown",p),()=>v.removeEventListener("keydown",p)}},[s,y]),F.jsxs(O5,{ref:a,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&F.jsx(wg,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});_p(v)}}),F.jsx(o1.Slot,{scope:n,children:F.jsx(Ht.ol,{tabIndex:-1,...o,ref:d})}),m&&F.jsx(wg,{ref:c,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});_p(v)}})]})});DC.displayName=IC;var LC="ToastFocusProxy",wg=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=rh(LC,n);return F.jsx(r1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var u;const s=l.relatedTarget;!((u=o.viewport)!=null&&u.contains(s))&&r()}})});wg.displayName=LC;var ih="Toast",I5="toast.swipeStart",D5="toast.swipeMove",L5="toast.swipeCancel",j5="toast.swipeEnd",jC=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=t,[s=!0,a]=C5({prop:r,defaultProp:i,onChange:o});return F.jsx(_s,{present:n||s,children:F.jsx(B5,{open:s,...l,ref:e,onClose:()=>a(!1),onPause:Zt(t.onPause),onResume:Zt(t.onResume),onSwipeStart:Tt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Tt(t.onSwipeMove,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Tt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Tt(t.onSwipeEnd,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),a(!1)})})})});jC.displayName=ih;var[z5,F5]=PC(ih,{onClose(){}}),B5=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:s,onPause:a,onResume:u,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...m}=t,y=rh(ih,n),[v,p]=I.useState(null),g=In(e,R=>p(R)),b=I.useRef(null),w=I.useRef(null),x=i||y.duration,S=I.useRef(0),T=I.useRef(x),k=I.useRef(0),{onToastAdd:A,onToastRemove:C}=y,E=Zt(()=>{var j;(v==null?void 0:v.contains(document.activeElement))&&((j=y.viewport)==null||j.focus()),l()}),O=I.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(E,R))},[E]);I.useEffect(()=>{const R=y.viewport;if(R){const j=()=>{O(T.current),u==null||u()},q=()=>{const U=new Date().getTime()-S.current;T.current=T.current-U,window.clearTimeout(k.current),a==null||a()};return R.addEventListener(yg,q),R.addEventListener(vg,j),()=>{R.removeEventListener(yg,q),R.removeEventListener(vg,j)}}},[y.viewport,x,a,u,O]),I.useEffect(()=>{o&&!y.isClosePausedRef.current&&O(x)},[o,x,y.isClosePausedRef,O]),I.useEffect(()=>(A(),()=>C()),[A,C]);const M=I.useMemo(()=>v?VC(v):null,[v]);return y.viewport?F.jsxs(F.Fragment,{children:[M&&F.jsx($5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),F.jsx(z5,{scope:n,onClose:E,children:ms.createPortal(F.jsx(o1.ItemSlot,{scope:n,children:F.jsx(E5,{asChild:!0,onEscapeKeyDown:Tt(s,()=>{y.isFocusedToastEscapeKeyDownRef.current||E(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:F.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...m,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Tt(t.onKeyDown,R=>{R.key==="Escape"&&(s==null||s(R.nativeEvent),R.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Tt(t.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:Tt(t.onPointerMove,R=>{if(!b.current)return;const j=R.clientX-b.current.x,q=R.clientY-b.current.y,U=!!w.current,W=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,N=W?z(0,j):0,P=W?0:z(0,q),L=R.pointerType==="touch"?10:2,_={x:N,y:P},V={originalEvent:R,delta:_};U?(w.current=_,Sc(D5,f,V,{discrete:!1})):$b(_,y.swipeDirection,L)?(w.current=_,Sc(I5,c,V,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(j)>L||Math.abs(q)>L)&&(b.current=null)}),onPointerUp:Tt(t.onPointerUp,R=>{const j=w.current,q=R.target;if(q.hasPointerCapture(R.pointerId)&&q.releasePointerCapture(R.pointerId),w.current=null,b.current=null,j){const U=R.currentTarget,W={originalEvent:R,delta:j};$b(j,y.swipeDirection,y.swipeThreshold)?Sc(j5,h,W,{discrete:!0}):Sc(L5,d,W,{discrete:!0}),U.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),$5=t=>{const{__scopeToast:e,children:n,...r}=t,i=rh(ih,e),[o,l]=I.useState(!1),[s,a]=I.useState(!1);return V5(()=>l(!0)),I.useEffect(()=>{const u=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:F.jsx(MC,{asChild:!0,children:F.jsx(r1,{...r,children:o&&F.jsxs(F.Fragment,{children:[i.label," ",n]})})})},q5="ToastTitle",zC=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return F.jsx(Ht.div,{...r,ref:e})});zC.displayName=q5;var U5="ToastDescription",FC=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return F.jsx(Ht.div,{...r,ref:e})});FC.displayName=U5;var BC="ToastAction",$C=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?F.jsx(UC,{altText:n,asChild:!0,children:F.jsx(l1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BC}\`. Expected non-empty \`string\`.`),null)});$C.displayName=BC;var qC="ToastClose",l1=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=F5(qC,n);return F.jsx(UC,{asChild:!0,children:F.jsx(Ht.button,{type:"button",...r,ref:e,onClick:Tt(t.onClick,i.onClose)})})});l1.displayName=qC;var UC=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return F.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function VC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),W5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...VC(r))}}),e}function Sc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sC(i,o):i.dispatchEvent(o)}var $b=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function V5(t=()=>{}){const e=Zt(t);Cu(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function W5(t){return t.nodeType===t.ELEMENT_NODE}function H5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _p(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var K5=RC,WC=DC,HC=jC,KC=zC,YC=FC,GC=$C,JC=l1;const Y5=K5,QC=I.forwardRef(({className:t,...e},n)=>F.jsx(WC,{ref:n,className:Nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QC.displayName=WC.displayName;const G5=Jv("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XC=I.forwardRef(({className:t,variant:e,...n},r)=>F.jsx(HC,{ref:r,className:Nt(G5({variant:e}),t),...n}));XC.displayName=HC.displayName;const J5=I.forwardRef(({className:t,...e},n)=>F.jsx(GC,{ref:n,className:Nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));J5.displayName=GC.displayName;const ZC=I.forwardRef(({className:t,...e},n)=>F.jsx(JC,{ref:n,className:Nt("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:F.jsx(h5,{className:"h-4 w-4"})}));ZC.displayName=JC.displayName;const eN=I.forwardRef(({className:t,...e},n)=>F.jsx(KC,{ref:n,className:Nt("text-sm font-semibold [&+div]:text-xs",t),...e}));eN.displayName=KC.displayName;const tN=I.forwardRef(({className:t,...e},n)=>F.jsx(YC,{ref:n,className:Nt("text-sm opacity-90",t),...e}));tN.displayName=YC.displayName;function Q5(){const{toasts:t}=c5();return F.jsxs(Y5,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return F.jsxs(XC,{...o,children:[F.jsxs("div",{className:"grid gap-1",children:[n&&F.jsx(eN,{children:n}),r&&F.jsx(tN,{children:r})]}),i,F.jsx(ZC,{})]},e)}),F.jsx(QC,{})]})}const X5={theme:"system",setTheme:()=>null},Z5=I.createContext(X5);function eB({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,o]=I.useState(()=>localStorage.getItem(n)||e);I.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(a);return}s.classList.add(i)},[i]);const l={theme:i,setTheme:s=>{localStorage.setItem(n,s),o(s)}};return F.jsx(Z5.Provider,{...r,value:l,children:t})}const nN=6048e5,tB=864e5,qb=Symbol.for("constructDateFrom");function Lr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qb in t?t[qb](e):t instanceof Date?new t.constructor(e):new Date(e)}function er(t,e){return Lr(e||t,t)}function nB(t,e,n){const r=er(t,n==null?void 0:n.in);if(isNaN(e))return Lr((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),o=Lr((n==null?void 0:n.in)||t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return i>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}let rB={};function oh(){return rB}function Nu(t,e){var s,a,u,c;const n=oh(),r=(e==null?void 0:e.weekStartsOn)??((a=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=er(t,e==null?void 0:e.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function cd(t,e){return Nu(t,{...e,weekStartsOn:1})}function rN(t,e){const n=er(t,e==null?void 0:e.in),r=n.getFullYear(),i=Lr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=cd(i),l=Lr(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const s=cd(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Ub(t){const e=er(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function iB(t,...e){const n=Lr.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Vb(t,e){const n=er(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function oB(t,e,n){const[r,i]=iB(n==null?void 0:n.in,t,e),o=Vb(r),l=Vb(i),s=+o-Ub(o),a=+l-Ub(l);return Math.round((s-a)/tB)}function lB(t,e){const n=rN(t,e),r=Lr((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),cd(r)}function sB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function aB(t){return!(!sB(t)&&typeof t!="number"||isNaN(+er(t)))}function uB(t,e){const n=er(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const cB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fB=(t,e,n)=>{let r;const i=cB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ap(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mB={date:Ap({formats:dB,defaultWidth:"full"}),time:Ap({formats:hB,defaultWidth:"full"}),dateTime:Ap({formats:pB,defaultWidth:"full"})},gB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yB=(t,e,n,r)=>gB[t];function Xs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):l;i=t.formattingValues[s]||t.formattingValues[l]}else{const l=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const vB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OB={ordinalNumber:EB,era:Xs({values:vB,defaultWidth:"wide"}),quarter:Xs({values:wB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xs({values:bB,defaultWidth:"wide"}),day:Xs({values:xB,defaultWidth:"wide"}),dayPeriod:Xs({values:kB,defaultWidth:"wide",formattingValues:SB,defaultFormattingWidth:"wide"})};function Zs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(s)?CB(s,f=>f.test(l)):TB(s,f=>f.test(l));let u;u=t.valueCallback?t.valueCallback(a):a,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(l.length);return{value:u,rest:c}}}function TB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function NB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const s=e.slice(i.length);return{value:l,rest:s}}}const _B=/^(\d+)(th|st|nd|rd)?/i,AB=/\d+/i,MB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PB={any:[/^b/i,/^(a|c)/i]},RB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IB={any:[/1/i,/2/i,/3/i,/4/i]},DB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$B={ordinalNumber:NB({matchPattern:_B,parsePattern:AB,valueCallback:t=>parseInt(t,10)}),era:Zs({matchPatterns:MB,defaultMatchWidth:"wide",parsePatterns:PB,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:RB,defaultMatchWidth:"wide",parsePatterns:IB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zs({matchPatterns:DB,defaultMatchWidth:"wide",parsePatterns:LB,defaultParseWidth:"any"}),day:Zs({matchPatterns:jB,defaultMatchWidth:"wide",parsePatterns:zB,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:FB,defaultMatchWidth:"any",parsePatterns:BB,defaultParseWidth:"any"})},qB={code:"en-US",formatDistance:fB,formatLong:mB,formatRelative:yB,localize:OB,match:$B,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UB(t,e){const n=er(t,e==null?void 0:e.in);return oB(n,uB(n))+1}function VB(t,e){const n=er(t,e==null?void 0:e.in),r=+cd(n)-+lB(n);return Math.round(r/nN)+1}function iN(t,e){var c,f,d,h;const n=er(t,e==null?void 0:e.in),r=n.getFullYear(),i=oh(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,l=Lr((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const s=Nu(l,e),a=Lr((e==null?void 0:e.in)||t,0);a.setFullYear(r,0,o),a.setHours(0,0,0,0);const u=Nu(a,e);return+n>=+s?r+1:+n>=+u?r:r-1}function WB(t,e){var s,a,u,c;const n=oh(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=iN(t,e),o=Lr((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Nu(o,e)}function HB(t,e){const n=er(t,e==null?void 0:e.in),r=+Nu(n,e)-+WB(n,e);return Math.round(r/nN)+1}function Ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const vi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ge(i,e.length)}},fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return vi.y(t,e)},Y:function(t,e,n,r){const i=iN(t,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Ge(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ge(o,e.length)},R:function(t,e){const n=rN(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return vi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=HB(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ge(i,e.length)},I:function(t,e,n){const r=VB(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):vi.d(t,e)},D:function(t,e,n){const r=UB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ge(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ge(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ge(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=fl.noon:r===0?i=fl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=fl.evening:r>=12?i=fl.afternoon:r>=4?i=fl.morning:i=fl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):vi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):vi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):vi.s(t,e)},S:function(t,e){return vi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Kb(r);case"XXXX":case"XX":return So(r);case"XXXXX":case"XXX":default:return So(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Kb(r);case"xxxx":case"xx":return So(r);case"xxxxx":case"xxx":default:return So(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hb(r,":");case"OOOO":default:return"GMT"+So(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hb(r,":");case"zzzz":default:return"GMT"+So(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ge(r,e.length)},T:function(t,e,n){return Ge(+t,e.length)}};function Hb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ge(o,2)}function Kb(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):So(t,e)}function So(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ge(Math.trunc(r/60),2),o=Ge(r%60,2);return n+i+e+o}const Yb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},oN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Yb(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Yb(r,e)).replace("{{time}}",oN(i,e))},YB={p:oN,P:KB},GB=/^D+$/,JB=/^Y+$/,QB=["D","DD","YY","YYYY"];function XB(t){return GB.test(t)}function ZB(t){return JB.test(t)}function e$(t,e,n){const r=t$(t,e,n);if(console.warn(r),QB.includes(t))throw new RangeError(r)}function t$(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const n$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i$=/^'([^]*?)'?$/,o$=/''/g,l$=/[a-zA-Z]/;function s$(t,e,n){var c,f,d,h,m,y,v,p;const r=oh(),i=(n==null?void 0:n.locale)??r.locale??qB,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((p=(v=r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??0,s=er(t,n==null?void 0:n.in);if(!aB(s))throw new RangeError("Invalid time value");let a=e.match(r$).map(g=>{const b=g[0];if(b==="p"||b==="P"){const w=YB[b];return w(g,i.formatLong)}return g}).join("").match(n$).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:a$(g)};if(Wb[b])return{isToken:!0,value:g};if(b.match(l$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(a=i.localize.preprocessor(s,a));const u={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return a.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ZB(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XB(b))&&e$(b,e,String(t));const w=Wb[b[0]];return w(s,b,i.localize,u)}).join("")}function a$(t){const e=t.match(i$);return e?e[1].replace(o$,"'"):t}const mo=0;function u$(){const[t,e]=I.useState([mo-1,mo,mo+1,mo+2,mo+3,mo+4,mo+5]),n=I.useRef(null),r=I.useRef(null),i=I.useRef([]),o=I.useRef(null),l=s=>{const a=nB(new Date,s);return s$(a,"MMMM yyyy")};return I.useEffect(()=>{if(n.current&&i.current.forEach(s=>{s&&n.current.unobserve(s)}),r.current&&i.current.forEach(s=>{s&&r.current.unobserve(s)}),n.current=new IntersectionObserver(s=>{s[0].isIntersecting&&e(a=>[...a,a[a.length-1]+1])}),r.current=new IntersectionObserver(s=>{var a;if(s[0].isIntersecting){const u=o.current,c=((a=i.current[0])==null?void 0:a.getBoundingClientRect().height)||0,f=u?u.scrollTop:0;e(d=>{const h=[d[0]-1,...d];return u&&(u.scrollTop=f+c),h})}}),i.current.length>0){const s=i.current[0],a=i.current[i.current.length-1];s&&r.current.observe(s),a&&n.current.observe(a)}return()=>{n.current&&i.current.forEach(s=>{s&&n.current.unobserve(s)}),r.current&&i.current.forEach(s=>{s&&r.current.unobserve(s)})}},[t]),F.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col",children:[F.jsx(TC,{}),F.jsx("div",{className:"h-full px-4 overflow-y-scroll no-scrollbar",ref:o,children:t.map((s,a)=>F.jsx("div",{className:"text-2xl p-2 mb-4 h-24 border",ref:u=>i.current[a]=u,children:l(s)},s))})]})}var c$="Label",lN=I.forwardRef((t,e)=>F.jsx(Ht.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lN.displayName=c$;var sN=lN;const f$=Jv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aN=I.forwardRef(({className:t,...e},n)=>F.jsx(sN,{ref:n,className:Nt(f$(),t),...e}));aN.displayName=sN.displayName;const d$=()=>new jd(Ld("staging"));function h$(){const t=d$(),e=tl(),[n,r]=I.useState(!1),[i,o]=I.useState([]),l=()=>{e("/my-recipe-app/recipes/")},s=u=>{const c=Array.from(u.target.files||[]),f=[];c.forEach(d=>{const h=new FileReader;h.onloadend=()=>{var y;const m=((y=h.result)==null?void 0:y.toString().split(",")[1])||"";f.push({filename:d.name,content:m,mime_type:d.type}),f.length===c.length&&o(v=>[...v,...f])},h.readAsDataURL(d)})},a=async()=>{try{r(!0);const u=await t.api.UploadRecipe({files:i});e(`/my-recipe-app/recipes/${u.id}`)}catch(u){console.error("Upload failed:",u)}finally{r(!1)}};return F.jsxs("div",{className:"h-full mx-auto max-w-4xl ",children:[F.jsx("div",{className:"p-4",children:F.jsxs(Xt,{onClick:l,children:[F.jsx(Yv,{size:30})," Recipes"]})}),F.jsxs(Xd,{className:"rounded-none pt-4",children:[F.jsx(Zd,{className:"px-4 pb-4",children:F.jsx(aN,{htmlFor:"file",className:"text-4xl font-semibold",children:"Add Recipe from Pictures"})}),F.jsxs(eh,{className:"p-4 pt-0 flex items-center gap-2",children:[F.jsx(ti,{id:"file",type:"file",accept:"image/*",multiple:!0,onChange:s,className:"border-0 p-0 cursor-pointer file:cursor-pointer h-12 text-2xl file:mr-3 file:min-h-12 file:px-4 file:py-2 f font-semibold file:text-2xl file:font-semibold file:bg-secondary file:text-secondary-foreground file:rounded-md file:shadow file:hover:bg-secondary/80"}),F.jsx(Xt,{variant:"default",onClick:a,disabled:n||i.length===0,children:n?"Uploading...":"Add"})]})]})]})}function p$(){this.__data__=[],this.size=0}var m$=p$;function g$(t,e){return t===e||t!==t&&e!==e}var uN=g$,y$=uN;function v$(t,e){for(var n=t.length;n--;)if(y$(t[n][0],e))return n;return-1}var lh=v$,w$=lh,b$=Array.prototype,x$=b$.splice;function k$(t){var e=this.__data__,n=w$(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():x$.call(e,n,1),--this.size,!0}var S$=k$,E$=lh;function O$(t){var e=this.__data__,n=E$(e,t);return n<0?void 0:e[n][1]}var T$=O$,C$=lh;function N$(t){return C$(this.__data__,t)>-1}var _$=N$,A$=lh;function M$(t,e){var n=this.__data__,r=A$(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var P$=M$,R$=m$,I$=S$,D$=T$,L$=_$,j$=P$;function As(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}As.prototype.clear=R$;As.prototype.delete=I$;As.prototype.get=D$;As.prototype.has=L$;As.prototype.set=j$;var sh=As,z$=sh;function F$(){this.__data__=new z$,this.size=0}var B$=F$;function $$(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var q$=$$;function U$(t){return this.__data__.get(t)}var V$=U$;function W$(t){return this.__data__.has(t)}var H$=W$,K$=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,cN=K$,Y$=cN,G$=typeof self=="object"&&self&&self.Object===Object&&self,J$=Y$||G$||Function("return this")(),di=J$,Q$=di,X$=Q$.Symbol,s1=X$,Gb=s1,fN=Object.prototype,Z$=fN.hasOwnProperty,e6=fN.toString,ea=Gb?Gb.toStringTag:void 0;function t6(t){var e=Z$.call(t,ea),n=t[ea];try{t[ea]=void 0;var r=!0}catch{}var i=e6.call(t);return r&&(e?t[ea]=n:delete t[ea]),i}var n6=t6,r6=Object.prototype,i6=r6.toString;function o6(t){return i6.call(t)}var l6=o6,Jb=s1,s6=n6,a6=l6,u6="[object Null]",c6="[object Undefined]",Qb=Jb?Jb.toStringTag:void 0;function f6(t){return t==null?t===void 0?c6:u6:Qb&&Qb in Object(t)?s6(t):a6(t)}var ah=f6;function d6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dN=d6,h6=ah,p6=dN,m6="[object AsyncFunction]",g6="[object Function]",y6="[object GeneratorFunction]",v6="[object Proxy]";function w6(t){if(!p6(t))return!1;var e=h6(t);return e==g6||e==y6||e==m6||e==v6}var hN=w6,b6=di,x6=b6["__core-js_shared__"],k6=x6,Mp=k6,Xb=function(){var t=/[^.]+$/.exec(Mp&&Mp.keys&&Mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function S6(t){return!!Xb&&Xb in t}var E6=S6,O6=Function.prototype,T6=O6.toString;function C6(t){if(t!=null){try{return T6.call(t)}catch{}try{return t+""}catch{}}return""}var pN=C6,N6=hN,_6=E6,A6=dN,M6=pN,P6=/[\\^$.*+?()[\]{}|]/g,R6=/^\[object .+?Constructor\]$/,I6=Function.prototype,D6=Object.prototype,L6=I6.toString,j6=D6.hasOwnProperty,z6=RegExp("^"+L6.call(j6).replace(P6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F6(t){if(!A6(t)||_6(t))return!1;var e=N6(t)?z6:R6;return e.test(M6(t))}var B6=F6;function $6(t,e){return t==null?void 0:t[e]}var q6=$6,U6=B6,V6=q6;function W6(t,e){var n=V6(t,e);return U6(n)?n:void 0}var Ms=W6,H6=Ms,K6=di,Y6=H6(K6,"Map"),a1=Y6,G6=Ms,J6=G6(Object,"create"),uh=J6,Zb=uh;function Q6(){this.__data__=Zb?Zb(null):{},this.size=0}var X6=Q6;function Z6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var e8=Z6,t8=uh,n8="__lodash_hash_undefined__",r8=Object.prototype,i8=r8.hasOwnProperty;function o8(t){var e=this.__data__;if(t8){var n=e[t];return n===n8?void 0:n}return i8.call(e,t)?e[t]:void 0}var l8=o8,s8=uh,a8=Object.prototype,u8=a8.hasOwnProperty;function c8(t){var e=this.__data__;return s8?e[t]!==void 0:u8.call(e,t)}var f8=c8,d8=uh,h8="__lodash_hash_undefined__";function p8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=d8&&e===void 0?h8:e,this}var m8=p8,g8=X6,y8=e8,v8=l8,w8=f8,b8=m8;function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=g8;Ps.prototype.delete=y8;Ps.prototype.get=v8;Ps.prototype.has=w8;Ps.prototype.set=b8;var x8=Ps,ex=x8,k8=sh,S8=a1;function E8(){this.size=0,this.__data__={hash:new ex,map:new(S8||k8),string:new ex}}var O8=E8;function T8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var C8=T8,N8=C8;function _8(t,e){var n=t.__data__;return N8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ch=_8,A8=ch;function M8(t){var e=A8(this,t).delete(t);return this.size-=e?1:0,e}var P8=M8,R8=ch;function I8(t){return R8(this,t).get(t)}var D8=I8,L8=ch;function j8(t){return L8(this,t).has(t)}var z8=j8,F8=ch;function B8(t,e){var n=F8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $8=B8,q8=O8,U8=P8,V8=D8,W8=z8,H8=$8;function Rs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rs.prototype.clear=q8;Rs.prototype.delete=U8;Rs.prototype.get=V8;Rs.prototype.has=W8;Rs.prototype.set=H8;var mN=Rs,K8=sh,Y8=a1,G8=mN,J8=200;function Q8(t,e){var n=this.__data__;if(n instanceof K8){var r=n.__data__;if(!Y8||r.length<J8-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new G8(r)}return n.set(t,e),this.size=n.size,this}var X8=Q8,Z8=sh,e9=B$,t9=q$,n9=V$,r9=H$,i9=X8;function Is(t){var e=this.__data__=new Z8(t);this.size=e.size}Is.prototype.clear=e9;Is.prototype.delete=t9;Is.prototype.get=n9;Is.prototype.has=r9;Is.prototype.set=i9;var o9=Is,l9="__lodash_hash_undefined__";function s9(t){return this.__data__.set(t,l9),this}var a9=s9;function u9(t){return this.__data__.has(t)}var c9=u9,f9=mN,d9=a9,h9=c9;function fd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new f9;++e<n;)this.add(t[e])}fd.prototype.add=fd.prototype.push=d9;fd.prototype.has=h9;var p9=fd;function m9(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var g9=m9;function y9(t,e){return t.has(e)}var v9=y9,w9=p9,b9=g9,x9=v9,k9=1,S9=2;function E9(t,e,n,r,i,o){var l=n&k9,s=t.length,a=e.length;if(s!=a&&!(l&&a>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&S9?new w9:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],y=e[f];if(r)var v=l?r(y,m,f,e,t,o):r(m,y,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!b9(e,function(p,g){if(!x9(h,g)&&(m===p||i(m,p,n,r,o)))return h.push(g)})){d=!1;break}}else if(!(m===y||i(m,y,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var gN=E9,O9=di,T9=O9.Uint8Array,C9=T9;function N9(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _9=N9;function A9(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var M9=A9,tx=s1,nx=C9,P9=uN,R9=gN,I9=_9,D9=M9,L9=1,j9=2,z9="[object Boolean]",F9="[object Date]",B9="[object Error]",$9="[object Map]",q9="[object Number]",U9="[object RegExp]",V9="[object Set]",W9="[object String]",H9="[object Symbol]",K9="[object ArrayBuffer]",Y9="[object DataView]",rx=tx?tx.prototype:void 0,Pp=rx?rx.valueOf:void 0;function G9(t,e,n,r,i,o,l){switch(n){case Y9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case K9:return!(t.byteLength!=e.byteLength||!o(new nx(t),new nx(e)));case z9:case F9:case q9:return P9(+t,+e);case B9:return t.name==e.name&&t.message==e.message;case U9:case W9:return t==e+"";case $9:var s=I9;case V9:var a=r&L9;if(s||(s=D9),t.size!=e.size&&!a)return!1;var u=l.get(t);if(u)return u==e;r|=j9,l.set(t,e);var c=R9(s(t),s(e),r,i,o,l);return l.delete(t),c;case H9:if(Pp)return Pp.call(t)==Pp.call(e)}return!1}var J9=G9;function Q9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var X9=Q9,Z9=Array.isArray,u1=Z9,eq=X9,tq=u1;function nq(t,e,n){var r=e(t);return tq(t)?r:eq(r,n(t))}var rq=nq;function iq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var l=t[n];e(l,n,t)&&(o[i++]=l)}return o}var oq=iq;function lq(){return[]}var sq=lq,aq=oq,uq=sq,cq=Object.prototype,fq=cq.propertyIsEnumerable,ix=Object.getOwnPropertySymbols,dq=ix?function(t){return t==null?[]:(t=Object(t),aq(ix(t),function(e){return fq.call(t,e)}))}:uq,hq=dq;function pq(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mq=pq;function gq(t){return t!=null&&typeof t=="object"}var fh=gq,yq=ah,vq=fh,wq="[object Arguments]";function bq(t){return vq(t)&&yq(t)==wq}var xq=bq,ox=xq,kq=fh,yN=Object.prototype,Sq=yN.hasOwnProperty,Eq=yN.propertyIsEnumerable,Oq=ox(function(){return arguments}())?ox:function(t){return kq(t)&&Sq.call(t,"callee")&&!Eq.call(t,"callee")},Tq=Oq,dd={exports:{}};function Cq(){return!1}var Nq=Cq;dd.exports;(function(t,e){var n=di,r=Nq,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,s=l?n.Buffer:void 0,a=s?s.isBuffer:void 0,u=a||r;t.exports=u})(dd,dd.exports);var vN=dd.exports,_q=9007199254740991,Aq=/^(?:0|[1-9]\d*)$/;function Mq(t,e){var n=typeof t;return e=e??_q,!!e&&(n=="number"||n!="symbol"&&Aq.test(t))&&t>-1&&t%1==0&&t<e}var Pq=Mq,Rq=9007199254740991;function Iq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rq}var wN=Iq,Dq=ah,Lq=wN,jq=fh,zq="[object Arguments]",Fq="[object Array]",Bq="[object Boolean]",$q="[object Date]",qq="[object Error]",Uq="[object Function]",Vq="[object Map]",Wq="[object Number]",Hq="[object Object]",Kq="[object RegExp]",Yq="[object Set]",Gq="[object String]",Jq="[object WeakMap]",Qq="[object ArrayBuffer]",Xq="[object DataView]",Zq="[object Float32Array]",eU="[object Float64Array]",tU="[object Int8Array]",nU="[object Int16Array]",rU="[object Int32Array]",iU="[object Uint8Array]",oU="[object Uint8ClampedArray]",lU="[object Uint16Array]",sU="[object Uint32Array]",ot={};ot[Zq]=ot[eU]=ot[tU]=ot[nU]=ot[rU]=ot[iU]=ot[oU]=ot[lU]=ot[sU]=!0;ot[zq]=ot[Fq]=ot[Qq]=ot[Bq]=ot[Xq]=ot[$q]=ot[qq]=ot[Uq]=ot[Vq]=ot[Wq]=ot[Hq]=ot[Kq]=ot[Yq]=ot[Gq]=ot[Jq]=!1;function aU(t){return jq(t)&&Lq(t.length)&&!!ot[Dq(t)]}var uU=aU;function cU(t){return function(e){return t(e)}}var fU=cU,hd={exports:{}};hd.exports;(function(t,e){var n=cN,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,s=function(){try{var a=i&&i.require&&i.require("util").types;return a||l&&l.binding&&l.binding("util")}catch{}}();t.exports=s})(hd,hd.exports);var dU=hd.exports,hU=uU,pU=fU,lx=dU,sx=lx&&lx.isTypedArray,mU=sx?pU(sx):hU,bN=mU,gU=mq,yU=Tq,vU=u1,wU=vN,bU=Pq,xU=bN,kU=Object.prototype,SU=kU.hasOwnProperty;function EU(t,e){var n=vU(t),r=!n&&yU(t),i=!n&&!r&&wU(t),o=!n&&!r&&!i&&xU(t),l=n||r||i||o,s=l?gU(t.length,String):[],a=s.length;for(var u in t)(e||SU.call(t,u))&&!(l&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bU(u,a)))&&s.push(u);return s}var OU=EU,TU=Object.prototype;function CU(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TU;return t===n}var NU=CU;function _U(t,e){return function(n){return t(e(n))}}var AU=_U,MU=AU,PU=MU(Object.keys,Object),RU=PU,IU=NU,DU=RU,LU=Object.prototype,jU=LU.hasOwnProperty;function zU(t){if(!IU(t))return DU(t);var e=[];for(var n in Object(t))jU.call(t,n)&&n!="constructor"&&e.push(n);return e}var FU=zU,BU=hN,$U=wN;function qU(t){return t!=null&&$U(t.length)&&!BU(t)}var UU=qU,VU=OU,WU=FU,HU=UU;function KU(t){return HU(t)?VU(t):WU(t)}var YU=KU,GU=rq,JU=hq,QU=YU;function XU(t){return GU(t,QU,JU)}var ZU=XU,ax=ZU,e7=1,t7=Object.prototype,n7=t7.hasOwnProperty;function r7(t,e,n,r,i,o){var l=n&e7,s=ax(t),a=s.length,u=ax(e),c=u.length;if(a!=c&&!l)return!1;for(var f=a;f--;){var d=s[f];if(!(l?d in e:n7.call(e,d)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var v=l;++f<a;){d=s[f];var p=t[d],g=e[d];if(r)var b=l?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(!(b===void 0?p===g||i(p,g,n,r,o):b)){y=!1;break}v||(v=d=="constructor")}if(y&&!v){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(y=!1)}return o.delete(t),o.delete(e),y}var i7=r7,o7=Ms,l7=di,s7=o7(l7,"DataView"),a7=s7,u7=Ms,c7=di,f7=u7(c7,"Promise"),d7=f7,h7=Ms,p7=di,m7=h7(p7,"Set"),g7=m7,y7=Ms,v7=di,w7=y7(v7,"WeakMap"),b7=w7,bg=a7,xg=a1,kg=d7,Sg=g7,Eg=b7,xN=ah,Ds=pN,ux="[object Map]",x7="[object Object]",cx="[object Promise]",fx="[object Set]",dx="[object WeakMap]",hx="[object DataView]",k7=Ds(bg),S7=Ds(xg),E7=Ds(kg),O7=Ds(Sg),T7=Ds(Eg),Eo=xN;(bg&&Eo(new bg(new ArrayBuffer(1)))!=hx||xg&&Eo(new xg)!=ux||kg&&Eo(kg.resolve())!=cx||Sg&&Eo(new Sg)!=fx||Eg&&Eo(new Eg)!=dx)&&(Eo=function(t){var e=xN(t),n=e==x7?t.constructor:void 0,r=n?Ds(n):"";if(r)switch(r){case k7:return hx;case S7:return ux;case E7:return cx;case O7:return fx;case T7:return dx}return e});var C7=Eo,Rp=o9,N7=gN,_7=J9,A7=i7,px=C7,mx=u1,gx=vN,M7=bN,P7=1,yx="[object Arguments]",vx="[object Array]",Ec="[object Object]",R7=Object.prototype,wx=R7.hasOwnProperty;function I7(t,e,n,r,i,o){var l=mx(t),s=mx(e),a=l?vx:px(t),u=s?vx:px(e);a=a==yx?Ec:a,u=u==yx?Ec:u;var c=a==Ec,f=u==Ec,d=a==u;if(d&&gx(t)){if(!gx(e))return!1;l=!0,c=!1}if(d&&!c)return o||(o=new Rp),l||M7(t)?N7(t,e,n,r,i,o):_7(t,e,a,n,r,i,o);if(!(n&P7)){var h=c&&wx.call(t,"__wrapped__"),m=f&&wx.call(e,"__wrapped__");if(h||m){var y=h?t.value():t,v=m?e.value():e;return o||(o=new Rp),i(y,v,n,r,o)}}return d?(o||(o=new Rp),A7(t,e,n,r,i,o)):!1}var D7=I7,L7=D7,bx=fh;function kN(t,e,n,r,i){return t===e?!0:t==null||e==null||!bx(t)&&!bx(e)?t!==t&&e!==e:L7(t,e,n,r,kN,i)}var j7=kN,z7=j7;function F7(t,e){return z7(t,e)}var B7=F7,SN={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ut,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(o,l,s){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),l=i(18),s=i(19),a=i(45),u=i(46),c=i(47),f=i(48),d=i(49),h=i(12),m=i(32),y=i(33),v=i(31),p=i(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:l.default,Leaf:s.default,Embed:f.default,Scroll:a.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:h.default,Class:m.default,Style:y.default,Store:v.default}};r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)g.hasOwnProperty(b)&&(p[b]=g[b])};return function(p,g){v(p,g);function b(){this.constructor=p}p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=function(v){o(p,v);function p(g){var b=this;return g="[Parchment] "+g,b=v.call(this,g)||this,b.message=g,b.name=b.constructor.name,b}return p}(Error);r.ParchmentError=l;var s={},a={},u={},c={};r.DATA_KEY="__blot";var f;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function d(v,p){var g=m(v);if(g==null)throw new l("Unable to create "+v+" blot");var b=g,w=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:b.create(p);return new b(w,p)}r.create=d;function h(v,p){return p===void 0&&(p=!1),v==null?null:v[r.DATA_KEY]!=null?v[r.DATA_KEY].blot:p?h(v.parentNode,p):null}r.find=h;function m(v,p){p===void 0&&(p=f.ANY);var g;if(typeof v=="string")g=c[v]||s[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)g=c.text;else if(typeof v=="number")v&f.LEVEL&f.BLOCK?g=c.block:v&f.LEVEL&f.INLINE&&(g=c.inline);else if(v instanceof HTMLElement){var b=(v.getAttribute("class")||"").split(/\s+/);for(var w in b)if(g=a[b[w]],g)break;g=g||u[v.tagName]}return g==null?null:p&f.LEVEL&g.scope&&p&f.TYPE&g.scope?g:null}r.query=m;function y(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];if(v.length>1)return v.map(function(w){return y(w)});var g=v[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new l("Invalid definition");if(g.blotName==="abstract")throw new l("Cannot register abstract class");if(c[g.blotName||g.attrName]=g,typeof g.keyName=="string")s[g.keyName]=g;else if(g.className!=null&&(a[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(w){return w.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var b=Array.isArray(g.tagName)?g.tagName:[g.tagName];b.forEach(function(w){(u[w]==null||g.className==null)&&(u[w]=g)})}return g}r.register=y},function(n,r,i){var o=i(51),l=i(11),s=i(3),a=i(20),u=String.fromCharCode(0),c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var h={};return f.length===0?this:(h.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var h={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},c.prototype.push=function(f){var d=this.ops.length,h=this.ops[d-1];if(f=s(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(f),this;if(l(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],h=[];return this.forEach(function(m){var y=f(m)?d:h;y.push(m)}),[d,h]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+a.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+a.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var h=[],m=a.iterator(this.ops),y=0;y<d&&m.hasNext();){var v;y<f?v=m.next(f-y):(v=m.next(d-y),h.push(v)),y+=a.length(v)}return new c(h)},c.prototype.compose=function(f){var d=a.iterator(this.ops),h=a.iterator(f.ops),m=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var v=y.retain;d.peekType()==="insert"&&d.peekLength()<=v;)v-=d.peekLength(),m.push(d.next());y.retain-v>0&&h.next(y.retain-v)}for(var p=new c(m);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(d.peekType()==="delete")p.push(d.next());else{var g=Math.min(d.peekLength(),h.peekLength()),b=d.next(g),w=h.next(g);if(typeof w.retain=="number"){var x={};typeof b.retain=="number"?x.retain=g:x.insert=b.insert;var S=a.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(S&&(x.attributes=S),p.push(x),!h.hasNext()&&l(p.ops[p.ops.length-1],x)){var T=new c(d.rest());return p.concat(T).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&p.push(w)}return p.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var h=[this,f].map(function(g){return g.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var w=g===f?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),m=new c,y=o(h[0],h[1],d),v=a.iterator(this.ops),p=a.iterator(f.ops);return y.forEach(function(g){for(var b=g[1].length;b>0;){var w=0;switch(g[0]){case o.INSERT:w=Math.min(p.peekLength(),b),m.push(p.next(w));break;case o.DELETE:w=Math.min(b,v.peekLength()),v.next(w),m.delete(w);break;case o.EQUAL:w=Math.min(v.peekLength(),p.peekLength(),b);var x=v.next(w),S=p.next(w);l(x.insert,S.insert)?m.retain(w,a.attributes.diff(x.attributes,S.attributes)):m.push(S).delete(w);break}b-=w}}),m.chop()},c.prototype.eachLine=function(f,d){d=d||`
`;for(var h=a.iterator(this.ops),m=new c,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var v=h.peek(),p=a.length(v)-h.peekLength(),g=typeof v.insert=="string"?v.insert.indexOf(d,p)-p:-1;if(g<0)m.push(h.next());else if(g>0)m.push(h.next(g));else{if(f(m,h.next(1).attributes||{},y)===!1)return;y+=1,m=new c}}m.length()>0&&f(m,{},y)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var h=a.iterator(this.ops),m=a.iterator(f.ops),y=new c;h.hasNext()||m.hasNext();)if(h.peekType()==="insert"&&(d||m.peekType()!=="insert"))y.retain(a.length(h.next()));else if(m.peekType()==="insert")y.push(m.next());else{var v=Math.min(h.peekLength(),m.peekLength()),p=h.next(v),g=m.next(v);if(p.delete)continue;g.delete?y.push(g):y.retain(v,a.attributes.transform(p.attributes,g.attributes,d))}return y.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var h=a.iterator(this.ops),m=0;h.hasNext()&&m<=f;){var y=h.peekLength(),v=h.peekType();if(h.next(),v==="delete"){f-=Math.min(y,f-m);continue}else v==="insert"&&(m<f||!d)&&(f+=y);m+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var m=i.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!y)return!1;var v;for(v in h);return typeof v>"u"||i.call(h,v)},c=function(h,m){l&&m.name==="__proto__"?l(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},f=function(h,m){if(m==="__proto__")if(i.call(h,m)){if(s)return s(h,m).value}else return;return h[m]};n.exports=function d(){var h,m,y,v,p,g,b=arguments[0],w=1,x=arguments.length,S=!1;for(typeof b=="boolean"&&(S=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<x;++w)if(h=arguments[w],h!=null)for(m in h)y=f(b,m),v=f(h,m),b!==v&&(S&&v&&(u(v)||(p=a(v)))?(p?(p=!1,g=y&&a(y)?y:[]):g=y&&u(y)?y:{},c(b,{name:m,newValue:d(S,g,v)})):typeof v<"u"&&c(b,{name:m,newValue:v}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function E(O,M){for(var R=0;R<M.length;R++){var j=M[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,M,R){return M&&E(O.prototype,M),R&&E(O,R),O}}(),l=function E(O,M,R){O===null&&(O=Function.prototype);var j=Object.getOwnPropertyDescriptor(O,M);if(j===void 0){var q=Object.getPrototypeOf(O);return q===null?void 0:E(q,M,R)}else{if("value"in j)return j.value;var U=j.get;return U===void 0?void 0:U.call(R)}},s=i(3),a=b(s),u=i(2),c=b(u),f=i(0),d=b(f),h=i(16),m=b(h),y=i(6),v=b(y),p=i(7),g=b(p);function b(E){return E&&E.__esModule?E:{default:E}}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function x(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function S(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var T=1,k=function(E){S(O,E);function O(){return w(this,O),x(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"attach",value:function(){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,j){var q=d.default.query(R,d.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,j)}},{key:"formatAt",value:function(R,j,q,U){this.format(q,U)}},{key:"insertAt",value:function(R,j,q){if(typeof j=="string"&&j.endsWith(`
`)){var U=d.default.create(A.blotName);this.parent.insertBefore(U,R===0?this:this.next),U.insertAt(0,j.slice(0,-1))}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,R,j,q)}}]),O}(d.default.Embed);k.scope=d.default.Scope.BLOCK_BLOT;var A=function(E){S(O,E);function O(M){w(this,O);var R=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M));return R.cache={},R}return o(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(R,j){return j.length()===0?R:R.insert(j.value(),C(j))},new c.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(R,j){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,R,j),this.cache={}}},{key:"formatAt",value:function(R,j,q,U){j<=0||(d.default.query(q,d.default.Scope.BLOCK)?R+j===this.length()&&this.format(q,U):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,R,Math.min(j,this.length()-R-1),q,U),this.cache={})}},{key:"insertAt",value:function(R,j,q){if(q!=null)return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,R,j,q);if(j.length!==0){var U=j.split(`
`),W=U.shift();W.length>0&&(R<this.length()-1||this.children.tail==null?l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var z=this;U.reduce(function(N,P){return z=z.split(N,!0),z.insertAt(0,P),P.length},R+W.length)}}},{key:"insertBefore",value:function(R,j){var q=this.children.head;l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,R,j),q instanceof m.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(R,j){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,R,j),this.cache={}}},{key:"optimize",value:function(R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j&&(R===0||R>=this.length()-T)){var q=this.clone();return R===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var U=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,R,j);return this.cache={},U}}}]),O}(d.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[v.default,d.default.Embed,g.default];function C(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(O=(0,a.default)(O,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?O:C(E.parent,O)}r.bubbleFormats=C,r.BlockEmbed=k,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},l=function(){function z(N,P){var L=[],_=!0,V=!1,H=void 0;try{for(var D=N[Symbol.iterator](),$;!(_=($=D.next()).done)&&(L.push($.value),!(P&&L.length===P));_=!0);}catch(Y){V=!0,H=Y}finally{try{!_&&D.return&&D.return()}finally{if(V)throw H}}return L}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return z(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function z(N,P){for(var L=0;L<P.length;L++){var _=P[L];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,_.key,_)}}return function(N,P,L){return P&&z(N.prototype,P),L&&z(N,L),N}}();i(50);var a=i(2),u=C(a),c=i(14),f=C(c),d=i(8),h=C(d),m=i(9),y=C(m),v=i(0),p=C(v),g=i(15),b=C(g),w=i(3),x=C(w),S=i(10),T=C(S),k=i(34),A=C(k);function C(z){return z&&z.__esModule?z:{default:z}}function E(z,N,P){return N in z?Object.defineProperty(z,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[N]=P,z}function O(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}var M=(0,T.default)("quill"),R=function(){s(z,null,[{key:"debug",value:function(P){P===!0&&(P="log"),T.default.level(P)}},{key:"find",value:function(P){return P.__quill||p.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&M.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,L){var _=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var H=P.attrName||P.blotName;typeof H=="string"?this.register("formats/"+H,P,L):Object.keys(P).forEach(function(D){_.register(D,P[D],L)})}else this.imports[P]!=null&&!V&&M.warn("Overwriting "+P+" with",L),this.imports[P]=L,(P.startsWith("blots/")||P.startsWith("formats/"))&&L.blotName!=="abstract"?p.default.register(L):P.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function z(N){var P=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,z),this.options=j(N,L),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",N);this.options.debug&&z.debug(this.options.debug);var _=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(H){H===h.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(H,D){var $=P.selection.lastRange,Y=$&&$.length===0?$.index:void 0;q.call(P,function(){return P.editor.update(null,D,Y)},H)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+_+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(z,[{key:"addContainer",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var _=P;P=document.createElement("div"),P.classList.add(_)}return this.container.insertBefore(P,L),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,L,_){var V=this,H=U(P,L,_),D=l(H,4);return P=D[0],L=D[1],_=D[3],q.call(this,function(){return V.editor.deleteText(P,L)},_,P,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,L){var _=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return q.call(this,function(){var H=_.getSelection(!0),D=new u.default;if(H==null)return D;if(p.default.query(P,p.default.Scope.BLOCK))D=_.editor.formatLine(H.index,H.length,E({},P,L));else{if(H.length===0)return _.selection.format(P,L),D;D=_.editor.formatText(H.index,H.length,E({},P,L))}return _.setSelection(H,h.default.sources.SILENT),D},V)}},{key:"formatLine",value:function(P,L,_,V,H){var D=this,$=void 0,Y=U(P,L,_,V,H),G=l(Y,4);return P=G[0],L=G[1],$=G[2],H=G[3],q.call(this,function(){return D.editor.formatLine(P,L,$)},H,P,0)}},{key:"formatText",value:function(P,L,_,V,H){var D=this,$=void 0,Y=U(P,L,_,V,H),G=l(Y,4);return P=G[0],L=G[1],$=G[2],H=G[3],q.call(this,function(){return D.editor.formatText(P,L,$)},H,P,0)}},{key:"getBounds",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=void 0;typeof P=="number"?_=this.selection.getBounds(P,L):_=this.selection.getBounds(P.index,P.length);var V=this.container.getBoundingClientRect();return{bottom:_.bottom-V.top,height:_.height,left:_.left-V.left,right:_.right-V.left,top:_.top-V.top,width:_.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,_=U(P,L),V=l(_,2);return P=V[0],L=V[1],this.editor.getContents(P,L)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,L):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,L)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,_=U(P,L),V=l(_,2);return P=V[0],L=V[1],this.editor.getText(P,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,L,_){var V=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return q.call(this,function(){return V.editor.insertEmbed(P,L,_)},H,P)}},{key:"insertText",value:function(P,L,_,V,H){var D=this,$=void 0,Y=U(P,0,_,V,H),G=l(Y,4);return P=G[0],$=G[2],H=G[3],q.call(this,function(){return D.editor.insertText(P,L,$)},H,P,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,L,_){this.clipboard.dangerouslyPasteHTML(P,L,_)}},{key:"removeFormat",value:function(P,L,_){var V=this,H=U(P,L,_),D=l(H,4);return P=D[0],L=D[1],_=D[3],q.call(this,function(){return V.editor.removeFormat(P,L)},_,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var L=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return q.call(this,function(){P=new u.default(P);var V=L.getLength(),H=L.editor.deleteText(0,V),D=L.editor.applyDelta(P),$=D.ops[D.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),D.delete(1));var Y=H.compose(D);return Y},_)}},{key:"setSelection",value:function(P,L,_){if(P==null)this.selection.setRange(null,L||z.sources.API);else{var V=U(P,L,_),H=l(V,4);P=H[0],L=H[1],_=H[3],this.selection.setRange(new g.Range(P,L),_),_!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,_=new u.default().insert(P);return this.setContents(_,L)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,L=this.scroll.update(P);return this.selection.update(P),L}},{key:"updateContents",value:function(P){var L=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return q.call(this,function(){return P=new u.default(P),L.editor.applyDelta(P,_)},_,!0)}}]),z}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=h.default.events,R.sources=h.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:p.default,"core/module":y.default,"core/theme":A.default};function j(z,N){if(N=(0,x.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},N),!N.theme||N.theme===R.DEFAULTS.theme)N.theme=A.default;else if(N.theme=R.import("themes/"+N.theme),N.theme==null)throw new Error("Invalid theme "+N.theme+". Did you register it?");var P=(0,x.default)(!0,{},N.theme.DEFAULTS);[P,N].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(H){V.modules[H]===!0&&(V.modules[H]={})})});var L=Object.keys(P.modules).concat(Object.keys(N.modules)),_=L.reduce(function(V,H){var D=R.import("modules/"+H);return D==null?M.error("Cannot load "+H+" module. Are you sure you registered it?"):V[H]=D.DEFAULTS||{},V},{});return N.modules!=null&&N.modules.toolbar&&N.modules.toolbar.constructor!==Object&&(N.modules.toolbar={container:N.modules.toolbar}),N=(0,x.default)(!0,{},R.DEFAULTS,{modules:_},P,N),["bounds","container","scrollingContainer"].forEach(function(V){typeof N[V]=="string"&&(N[V]=document.querySelector(N[V]))}),N.modules=Object.keys(N.modules).reduce(function(V,H){return N.modules[H]&&(V[H]=N.modules[H]),V},{}),N}function q(z,N,P,L){if(this.options.strict&&!this.isEnabled()&&N===h.default.sources.USER)return new u.default;var _=P==null?null:this.getSelection(),V=this.editor.delta,H=z();if(_!=null&&(P===!0&&(P=_.index),L==null?_=W(_,H,N):L!==0&&(_=W(_,P,L,N)),this.setSelection(_,h.default.sources.SILENT)),H.length()>0){var D,$=[h.default.events.TEXT_CHANGE,H,V,N];if((D=this.emitter).emit.apply(D,[h.default.events.EDITOR_CHANGE].concat($)),N!==h.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,$)}}return H}function U(z,N,P,L,_){var V={};return typeof z.index=="number"&&typeof z.length=="number"?typeof N!="number"?(_=L,L=P,P=N,N=z.length,z=z.index):(N=z.length,z=z.index):typeof N!="number"&&(_=L,L=P,P=N,N=0),(typeof P>"u"?"undefined":o(P))==="object"?(V=P,_=L):typeof P=="string"&&(L!=null?V[P]=L:_=P),_=_||h.default.sources.API,[z,N,V,_]}function W(z,N,P,L){if(z==null)return null;var _=void 0,V=void 0;if(N instanceof u.default){var H=[z.index,z.index+z.length].map(function(G){return N.transformPosition(G,L!==h.default.sources.USER)}),D=l(H,2);_=D[0],V=D[1]}else{var $=[z.index,z.index+z.length].map(function(G){return G<N||G===N&&L===h.default.sources.USER?G:P>=0?G+P:Math.max(N,G+P)}),Y=l($,2);_=Y[0],V=Y[1]}return new g.Range(_,V-_)}r.expandConfig=j,r.overload=U,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,b){return g&&v(p.prototype,g),b&&v(p,b),p}}(),l=function v(p,g,b){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,g);if(w===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,g,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},s=i(7),a=f(s),u=i(0),c=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function h(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function m(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var y=function(v){m(p,v);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(b,w,x,S){if(p.compare(this.statics.blotName,x)<0&&c.default.query(x,c.default.Scope.BLOT)){var T=this.isolate(b,w);S&&T.wrap(x,S)}else l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,b,w,x,S)}},{key:"optimize",value:function(b){if(l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,b),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var x=p.order.indexOf(b),S=p.order.indexOf(w);return x>=0||S>=0?x-S:b===w?0:b<w?-1:1}}]),p}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,a.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(b,w){for(var x=0;x<w.length;x++){var S=w[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,x){return w&&g(b.prototype,w),x&&g(b,x),b}}(),l=function g(b,w,x){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,w);if(S===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:g(T,w,x)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(x)}},s=i(54),a=f(s),u=i(10),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function h(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function m(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(g){document.addEventListener(g,function(){for(var b=arguments.length,w=Array(b),x=0;x<b;x++)w[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var T;(T=S.__quill.emitter).handleDOM.apply(T,w)}})})});var p=function(g){m(b,g);function b(){d(this,b);var w=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",y.error),w}return o(b,[{key:"emit",value:function(){y.log.apply(y,arguments),l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var S=arguments.length,T=Array(S>1?S-1:0),k=1;k<S;k++)T[k-1]=arguments[k];(this.listeners[x.type]||[]).forEach(function(A){var C=A.node,E=A.handler;(x.target===C||C.contains(x.target))&&E.apply(void 0,[x].concat(T))})}},{key:"listenDOM",value:function(x,S,T){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:S,handler:T})}}]),b}(a.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var l=function s(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,s),this.quill=a,this.options=u};l.DEFAULTS={},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],l="warn";function s(u){if(o.indexOf(u)<=o.indexOf(l)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];(c=console)[u].apply(c,d)}}function a(u){return o.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=a.level=function(u){l=u},r.default=a},function(n,r,i){var o=Array.prototype.slice,l=i(52),s=i(53),a=n.exports=function(d,h,m){return m||(m={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?m.strict?d===h:d==h:f(d,h,m)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,h,m){var y,v;if(u(d)||u(h)||d.prototype!==h.prototype)return!1;if(s(d))return s(h)?(d=o.call(d),h=o.call(h),a(d,h,m)):!1;if(c(d)){if(!c(h)||d.length!==h.length)return!1;for(y=0;y<d.length;y++)if(d[y]!==h[y])return!1;return!0}try{var p=l(d),g=l(h)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),y=p.length-1;y>=0;y--)if(p[y]!=g[y])return!1;for(y=p.length-1;y>=0;y--)if(v=p[y],!a(d[v],h[v],m))return!1;return typeof d==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),l=function(){function s(a,u,c){c===void 0&&(c={}),this.attrName=a,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(a){return[].map.call(a.attributes,function(u){return u.name})},s.prototype.add=function(a,u){return this.canAdd(a,u)?(a.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(a,u){var c=o.query(a,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(a){a.removeAttribute(this.keyName)},s.prototype.value=function(a){var u=a.getAttribute(this.keyName);return this.canAdd(a,u)&&u?u:""},s}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function k(A,C){var E=[],O=!0,M=!1,R=void 0;try{for(var j=A[Symbol.iterator](),q;!(O=(q=j.next()).done)&&(E.push(q.value),!(C&&E.length===C));O=!0);}catch(U){M=!0,R=U}finally{try{!O&&j.return&&j.return()}finally{if(M)throw R}}return E}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(A,C){for(var E=0;E<C.length;E++){var O=C[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,C,E){return C&&k(A.prototype,C),E&&k(A,E),A}}(),s=function k(A,C,E){A===null&&(A=Function.prototype);var O=Object.getOwnPropertyDescriptor(A,C);if(O===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:k(M,C,E)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(E)}},a=i(2),u=g(a),c=i(0),f=g(c),d=i(4),h=g(d),m=i(6),y=g(m),v=i(7),p=g(v);function g(k){return k&&k.__esModule?k:{default:k}}function b(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function w(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var S=function(k){x(A,k);function A(){return b(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(y.default);S.blotName="code",S.tagName="CODE";var T=function(k){x(A,k);function A(){return b(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return l(A,[{key:"delta",value:function(){var E=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(M,R){return M.insert(R).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,O){if(!(E===this.statics.blotName&&O)){var M=this.descendant(p.default,this.length()-1),R=o(M,1),j=R[0];j!=null&&j.deleteAt(j.length()-1,1),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,E,O)}}},{key:"formatAt",value:function(E,O,M,R){if(O!==0&&!(f.default.query(M,f.default.Scope.BLOCK)==null||M===this.statics.blotName&&R===this.statics.formats(this.domNode))){var j=this.newlineIndex(E);if(!(j<0||j>=E+O)){var q=this.newlineIndex(E,!0)+1,U=j-q+1,W=this.isolate(q,U),z=W.next;W.format(M,R),z instanceof A&&z.formatAt(0,E-q+O-U,M,R)}}}},{key:"insertAt",value:function(E,O,M){if(M==null){var R=this.descendant(p.default,E),j=o(R,2),q=j[0],U=j[1];q.insertAt(U,O)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var M=this.domNode.textContent.slice(E).indexOf(`
`);return M>-1?E+M:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,E);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(E),O.moveChildren(this),O.remove())}},{key:"replace",value:function(E){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var M=f.default.find(O);M==null?O.parentNode.removeChild(O):M instanceof f.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(E){var O=s(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,E);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),A}(h.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=S,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},l=function(){function z(N,P){var L=[],_=!0,V=!1,H=void 0;try{for(var D=N[Symbol.iterator](),$;!(_=($=D.next()).done)&&(L.push($.value),!(P&&L.length===P));_=!0);}catch(Y){V=!0,H=Y}finally{try{!_&&D.return&&D.return()}finally{if(V)throw H}}return L}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return z(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function z(N,P){for(var L=0;L<P.length;L++){var _=P[L];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,_.key,_)}}return function(N,P,L){return P&&z(N.prototype,P),L&&z(N,L),N}}(),a=i(2),u=O(a),c=i(20),f=O(c),d=i(0),h=O(d),m=i(13),y=O(m),v=i(24),p=O(v),g=i(4),b=O(g),w=i(16),x=O(w),S=i(21),T=O(S),k=i(11),A=O(k),C=i(3),E=O(C);function O(z){return z&&z.__esModule?z:{default:z}}function M(z,N,P){return N in z?Object.defineProperty(z,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[N]=P,z}function R(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}var j=/^[ -~]*$/,q=function(){function z(N){R(this,z),this.scroll=N,this.delta=this.getDelta()}return s(z,[{key:"applyDelta",value:function(P){var L=this,_=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),P=W(P),P.reduce(function(H,D){var $=D.retain||D.delete||D.insert.length||1,Y=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var G=D.insert;G.endsWith(`
`)&&_&&(_=!1,G=G.slice(0,-1)),H>=V&&!G.endsWith(`
`)&&(_=!0),L.scroll.insertAt(H,G);var te=L.scroll.line(H),ce=l(te,2),Se=ce[0],Oe=ce[1],be=(0,E.default)({},(0,g.bubbleFormats)(Se));if(Se instanceof b.default){var Ie=Se.descendant(h.default.Leaf,Oe),xt=l(Ie,1),st=xt[0];be=(0,E.default)(be,(0,g.bubbleFormats)(st))}Y=f.default.attributes.diff(be,Y)||{}}else if(o(D.insert)==="object"){var X=Object.keys(D.insert)[0];if(X==null)return H;L.scroll.insertAt(H,X,D.insert[X])}V+=$}return Object.keys(Y).forEach(function(Z){L.scroll.formatAt(H,$,Z,Y[Z])}),H+$},0),P.reduce(function(H,D){return typeof D.delete=="number"?(L.scroll.deleteAt(H,D.delete),H):H+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,L){return this.scroll.deleteAt(P,L),this.update(new u.default().retain(P).delete(L))}},{key:"formatLine",value:function(P,L){var _=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(H){if(!(_.scroll.whitelist!=null&&!_.scroll.whitelist[H])){var D=_.scroll.lines(P,Math.max(L,1)),$=L;D.forEach(function(Y){var G=Y.length();if(!(Y instanceof y.default))Y.format(H,V[H]);else{var te=P-Y.offset(_.scroll),ce=Y.newlineIndex(te+$)-te+1;Y.formatAt(te,ce,H,V[H])}$-=G})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(L,(0,T.default)(V)))}},{key:"formatText",value:function(P,L){var _=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(H){_.scroll.formatAt(P,L,H,V[H])}),this.update(new u.default().retain(P).retain(L,(0,T.default)(V)))}},{key:"getContents",value:function(P,L){return this.delta.slice(P,P+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,L){return P.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=[],V=[];L===0?this.scroll.path(P).forEach(function(D){var $=l(D,1),Y=$[0];Y instanceof b.default?_.push(Y):Y instanceof h.default.Leaf&&V.push(Y)}):(_=this.scroll.lines(P,L),V=this.scroll.descendants(h.default.Leaf,P,L));var H=[_,V].map(function(D){if(D.length===0)return{};for(var $=(0,g.bubbleFormats)(D.shift());Object.keys($).length>0;){var Y=D.shift();if(Y==null)return $;$=U((0,g.bubbleFormats)(Y),$)}return $});return E.default.apply(E.default,H)}},{key:"getText",value:function(P,L){return this.getContents(P,L).filter(function(_){return typeof _.insert=="string"}).map(function(_){return _.insert}).join("")}},{key:"insertEmbed",value:function(P,L,_){return this.scroll.insertAt(P,L,_),this.update(new u.default().retain(P).insert(M({},L,_)))}},{key:"insertText",value:function(P,L){var _=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,L),Object.keys(V).forEach(function(H){_.scroll.formatAt(P,L.length,H,V[H])}),this.update(new u.default().retain(P).insert(L,(0,T.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==b.default.blotName||P.children.length>1?!1:P.children.head instanceof x.default}},{key:"removeFormat",value:function(P,L){var _=this.getText(P,L),V=this.scroll.line(P+L),H=l(V,2),D=H[0],$=H[1],Y=0,G=new u.default;D!=null&&(D instanceof y.default?Y=D.newlineIndex($)-$+1:Y=D.length()-$,G=D.delta().slice($,$+Y-1).insert(`
`));var te=this.getContents(P,L+Y),ce=te.diff(new u.default().insert(_).concat(G)),Se=new u.default().retain(P).concat(ce);return this.applyDelta(Se)}},{key:"update",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(j)&&h.default.find(L[0].target)){var H=h.default.find(L[0].target),D=(0,g.bubbleFormats)(H),$=H.offset(this.scroll),Y=L[0].oldValue.replace(p.default.CONTENTS,""),G=new u.default().insert(Y),te=new u.default().insert(H.value()),ce=new u.default().retain($).concat(G.diff(te,_));P=ce.reduce(function(Se,Oe){return Oe.insert?Se.insert(Oe.insert,D):Se.push(Oe)},new u.default),this.delta=V.compose(P)}else this.delta=this.getDelta(),(!P||!(0,A.default)(V.compose(P),this.delta))&&(P=V.diff(this.delta,_));return P}}]),z}();function U(z,N){return Object.keys(N).reduce(function(P,L){return z[L]==null||(N[L]===z[L]?P[L]=N[L]:Array.isArray(N[L])?N[L].indexOf(z[L])<0&&(P[L]=N[L].concat([z[L]])):P[L]=[N[L],z[L]]),P},{})}function W(z){return z.reduce(function(N,P){if(P.insert===1){var L=(0,T.default)(P.attributes);return delete L.image,N.insert({image:P.attributes.image},L)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,T.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var _=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return N.insert(_,P.attributes)}return N.push(P)},new u.default)}r.default=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function k(A,C){var E=[],O=!0,M=!1,R=void 0;try{for(var j=A[Symbol.iterator](),q;!(O=(q=j.next()).done)&&(E.push(q.value),!(C&&E.length===C));O=!0);}catch(U){M=!0,R=U}finally{try{!O&&j.return&&j.return()}finally{if(M)throw R}}return E}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(A,C){for(var E=0;E<C.length;E++){var O=C[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,C,E){return C&&k(A.prototype,C),E&&k(A,E),A}}(),s=i(0),a=p(s),u=i(21),c=p(u),f=i(11),d=p(f),h=i(8),m=p(h),y=i(10),v=p(y);function p(k){return k&&k.__esModule?k:{default:k}}function g(k){if(Array.isArray(k)){for(var A=0,C=Array(k.length);A<k.length;A++)C[A]=k[A];return C}else return Array.from(k)}function b(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}var w=(0,v.default)("quill:selection"),x=function k(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,k),this.index=A,this.length=C},S=function(){function k(A,C){var E=this;b(this,k),this.emitter=C,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(O,M){O===m.default.events.TEXT_CHANGE&&M.length()>0&&E.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var O=E.getNativeRange();O!=null&&O.start.node!==E.cursor.textNode&&E.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(O,M){if(M.range){var R=M.range,j=R.startNode,q=R.startOffset,U=R.endNode,W=R.endOffset;E.setNativeRange(j,q,U,W)}}),this.update(m.default.sources.SILENT)}return l(k,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var E=C.cursor.restore();if(!E)return;setTimeout(function(){C.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||a.default.query(C,a.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var M=a.default.find(O.start.node,!1);if(M==null)return;if(M instanceof a.default.Leaf){var R=M.split(O.start.offset);M.parent.insertBefore(this.cursor,R)}else M.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(C,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();C=Math.min(C,O-1),E=Math.min(C+E,O-1)-C;var M=void 0,R=this.scroll.leaf(C),j=o(R,2),q=j[0],U=j[1];if(q==null)return null;var W=q.position(U,!0),z=o(W,2);M=z[0],U=z[1];var N=document.createRange();if(E>0){N.setStart(M,U);var P=this.scroll.leaf(C+E),L=o(P,2);if(q=L[0],U=L[1],q==null)return null;var _=q.position(U,!0),V=o(_,2);return M=V[0],U=V[1],N.setEnd(M,U),N.getBoundingClientRect()}else{var H="left",D=void 0;return M instanceof Text?(U<M.data.length?(N.setStart(M,U),N.setEnd(M,U+1)):(N.setStart(M,U-1),N.setEnd(M,U),H="right"),D=N.getBoundingClientRect()):(D=q.domNode.getBoundingClientRect(),U>0&&(H="right")),{bottom:D.top+D.height,height:D.height,left:D[H],right:D[H],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var E=C.getRangeAt(0);if(E==null)return null;var O=this.normalizeNative(E);return w.info("getNativeRange",O),O}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var E=this.normalizedToRange(C);return[E,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var E=this,O=[[C.start.node,C.start.offset]];C.native.collapsed||O.push([C.end.node,C.end.offset]);var M=O.map(function(q){var U=o(q,2),W=U[0],z=U[1],N=a.default.find(W,!0),P=N.offset(E.scroll);return z===0?P:N instanceof a.default.Container?P+N.length():P+N.index(W,z)}),R=Math.min(Math.max.apply(Math,g(M)),this.scroll.length()-1),j=Math.min.apply(Math,[R].concat(g(M)));return new x(j,R-j)}},{key:"normalizeNative",value:function(C){if(!T(this.root,C.startContainer)||!C.collapsed&&!T(this.root,C.endContainer))return null;var E={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[E.start,E.end].forEach(function(O){for(var M=O.node,R=O.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>R)M=M.childNodes[R],R=0;else if(M.childNodes.length===R)M=M.lastChild,R=M instanceof Text?M.data.length:M.childNodes.length+1;else break;O.node=M,O.offset=R}),E}},{key:"rangeToNative",value:function(C){var E=this,O=C.collapsed?[C.index]:[C.index,C.index+C.length],M=[],R=this.scroll.length();return O.forEach(function(j,q){j=Math.min(R-1,j);var U=void 0,W=E.scroll.leaf(j),z=o(W,2),N=z[0],P=z[1],L=N.position(P,q!==0),_=o(L,2);U=_[0],P=_[1],M.push(U,P)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(C){var E=this.lastRange;if(E!=null){var O=this.getBounds(E.index,E.length);if(O!=null){var M=this.scroll.length()-1,R=this.scroll.line(Math.min(E.index,M)),j=o(R,1),q=j[0],U=q;if(E.length>0){var W=this.scroll.line(Math.min(E.index+E.length,M)),z=o(W,1);U=z[0]}if(!(q==null||U==null)){var N=C.getBoundingClientRect();O.top<N.top?C.scrollTop-=N.top-O.top:O.bottom>N.bottom&&(C.scrollTop+=O.bottom-N.bottom)}}}}},{key:"setNativeRange",value:function(C,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",C,E,O,M),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||O.parentNode==null))){var j=document.getSelection();if(j!=null)if(C!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||R||C!==q.startContainer||E!==q.startOffset||O!==q.endContainer||M!==q.endOffset){C.tagName=="BR"&&(E=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),O.tagName=="BR"&&(M=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var U=document.createRange();U.setStart(C,E),U.setEnd(O,M),j.removeAllRanges(),j.addRange(U)}}else j.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof E=="string"&&(O=E,E=!1),w.info("setRange",C),C!=null){var M=this.rangeToNative(C);this.setNativeRange.apply(this,g(M).concat([E]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,E=this.lastRange,O=this.getRange(),M=o(O,2),R=M[0],j=M[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(E,this.lastRange)){var q;!this.composing&&j!=null&&j.native.collapsed&&j.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[m.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(E),C];if((q=this.emitter).emit.apply(q,[m.default.events.EDITOR_CHANGE].concat(U)),C!==m.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,U)}}}}]),k}();function T(k,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),k.contains(A)}r.Range=x,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var p=0;p<v.length;p++){var g=v[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}}(),l=function m(y,v,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,v,p)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(p)}},s=i(0),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(p,g){p.children.length===0?l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(a.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){f(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(44),s=i(30),a=i(1),u=function(f){o(d,f);function d(h){var m=f.call(this,h)||this;return m.build(),m}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var y=c(m);h.insertBefore(y,h.children.head||void 0)}catch(v){if(v instanceof a.ParchmentError)return;throw v}})},d.prototype.deleteAt=function(h,m){if(h===0&&m===this.length())return this.remove();this.children.forEachAt(h,m,function(y,v,p){y.deleteAt(v,p)})},d.prototype.descendant=function(h,m){var y=this.children.find(m),v=y[0],p=y[1];return h.blotName==null&&h(v)||h.blotName!=null&&v instanceof h?[v,p]:v instanceof d?v.descendant(h,p):[null,-1]},d.prototype.descendants=function(h,m,y){m===void 0&&(m=0),y===void 0&&(y=Number.MAX_VALUE);var v=[],p=y;return this.children.forEachAt(m,y,function(g,b,w){(h.blotName==null&&h(g)||h.blotName!=null&&g instanceof h)&&v.push(g),g instanceof d&&(v=v.concat(g.descendants(h,b,p))),p-=w}),v},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(h,m,y,v){this.children.forEachAt(h,m,function(p,g,b){p.formatAt(g,b,y,v)})},d.prototype.insertAt=function(h,m,y){var v=this.children.find(h),p=v[0],g=v[1];if(p)p.insertAt(g,m,y);else{var b=y==null?a.create("text",m):a.create(m,y);this.appendChild(b)}},d.prototype.insertBefore=function(h,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new a.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,m)},d.prototype.length=function(){return this.children.reduce(function(h,m){return h+m.length()},0)},d.prototype.moveChildren=function(h,m){this.children.forEach(function(y){h.insertBefore(y,m)})},d.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var m=a.create(this.statics.defaultChild);this.appendChild(m),m.optimize(h)}else this.remove()},d.prototype.path=function(h,m){m===void 0&&(m=!1);var y=this.children.find(h,m),v=y[0],p=y[1],g=[[this,h]];return v instanceof d?g.concat(v.path(p,m)):(v!=null&&g.push([v,p]),g)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),f.prototype.replace.call(this,h)},d.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(v,p,g){v=v.split(p,m),y.appendChild(v)}),y},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,m){var y=this,v=[],p=[];h.forEach(function(g){g.target===y.domNode&&g.type==="childList"&&(v.push.apply(v,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=a.find(g);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===y.domNode)&&b.detach()}}),v.filter(function(g){return g.parentNode==y.domNode}).sort(function(g,b){return g===b?0:g.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var b=null;g.nextSibling!=null&&(b=a.find(g.nextSibling));var w=c(g);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(y),y.insertBefore(w,b||void 0))})},d}(s.default);function c(f){var d=a.find(f);if(d==null)try{d=a.create(f)}catch{d=a.create(a.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(m){d.domNode.appendChild(m)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){f(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12),s=i(31),a=i(17),u=i(1),c=function(f){o(d,f);function d(h){var m=f.call(this,h)||this;return m.attributes=new s.default(m.domNode),m}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,m){var y=u.query(h);y instanceof l.default?this.attributes.attribute(y,m):m&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==m)&&this.replaceWith(h,m)},d.prototype.formats=function(){var h=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(h[this.statics.blotName]=m),h},d.prototype.replaceWith=function(h,m){var y=f.prototype.replaceWith.call(this,h,m);return this.attributes.copy(y),y},d.prototype.update=function(h,m){var y=this;f.prototype.update.call(this,h,m),h.some(function(v){return v.target===y.domNode&&v.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,m){var y=f.prototype.wrap.call(this,h,m);return y instanceof d&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},d}(a.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(30),s=i(1),a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(l.default);r.default=a},function(n,r,i){var o=i(11),l=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=l(!0,{},c);f||(d=Object.keys(d).reduce(function(m,y){return d[y]!=null&&(m[y]=d[y]),m},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(d[h]=u[h]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,h){return o(u[h],c[h])||(d[h]=c[h]===void 0?null:c[h]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(h,m){return u[m]===void 0&&(h[m]=c[m]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new a(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function a(u){this.ops=u,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(f,u):h.insert=c.insert,h}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},n.exports=s},function(n,r){var i=function(){function o(y,v){return v!=null&&y instanceof v}var l;try{l=Map}catch{l=function(){}}var s;try{s=Set}catch{s=function(){}}var a;try{a=Promise}catch{a=function(){}}function u(y,v,p,g,b){typeof v=="object"&&(p=v.depth,g=v.prototype,b=v.includeNonEnumerable,v=v.circular);var w=[],x=[],S=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof p>"u"&&(p=1/0);function T(k,A){if(k===null)return null;if(A===0)return k;var C,E;if(typeof k!="object")return k;if(o(k,l))C=new l;else if(o(k,s))C=new s;else if(o(k,a))C=new a(function(N,P){k.then(function(L){N(T(L,A-1))},function(L){P(T(L,A-1))})});else if(u.__isArray(k))C=[];else if(u.__isRegExp(k))C=new RegExp(k.source,m(k)),k.lastIndex&&(C.lastIndex=k.lastIndex);else if(u.__isDate(k))C=new Date(k.getTime());else{if(S&&Buffer.isBuffer(k))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(k.length):C=new Buffer(k.length),k.copy(C),C;o(k,Error)?C=Object.create(k):typeof g>"u"?(E=Object.getPrototypeOf(k),C=Object.create(E)):(C=Object.create(g),E=g)}if(v){var O=w.indexOf(k);if(O!=-1)return x[O];w.push(k),x.push(C)}o(k,l)&&k.forEach(function(N,P){var L=T(P,A-1),_=T(N,A-1);C.set(L,_)}),o(k,s)&&k.forEach(function(N){var P=T(N,A-1);C.add(P)});for(var M in k){var R;E&&(R=Object.getOwnPropertyDescriptor(E,M)),!(R&&R.set==null)&&(C[M]=T(k[M],A-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(k),M=0;M<j.length;M++){var q=j[M],U=Object.getOwnPropertyDescriptor(k,q);U&&!U.enumerable&&!b||(C[q]=T(k[q],A-1),U.enumerable||Object.defineProperty(C,q,{enumerable:!1}))}if(b)for(var W=Object.getOwnPropertyNames(k),M=0;M<W.length;M++){var z=W[M],U=Object.getOwnPropertyDescriptor(k,z);U&&U.enumerable||(C[z]=T(k[z],A-1),Object.defineProperty(C,z,{enumerable:!1}))}return C}return T(y,p)}u.clonePrototype=function(v){if(v===null)return null;var p=function(){};return p.prototype=v,new p};function c(y){return Object.prototype.toString.call(y)}u.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}u.__isDate=f;function d(y){return typeof y=="object"&&c(y)==="[object Array]"}u.__isArray=d;function h(y){return typeof y=="object"&&c(y)==="[object RegExp]"}u.__isRegExp=h;function m(y){var v="";return y.global&&(v+="g"),y.ignoreCase&&(v+="i"),y.multiline&&(v+="m"),v}return u.__getRegExpFlags=m,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(E,O){var M=[],R=!0,j=!1,q=void 0;try{for(var U=E[Symbol.iterator](),W;!(R=(W=U.next()).done)&&(M.push(W.value),!(O&&M.length===O));R=!0);}catch(z){j=!0,q=z}finally{try{!R&&U.return&&U.return()}finally{if(j)throw q}}return M}return function(E,O){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return C(E,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function C(E,O){for(var M=0;M<O.length;M++){var R=O[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,O,M){return O&&C(E.prototype,O),M&&C(E,M),E}}(),s=function C(E,O,M){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,O);if(R===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,O,M)}else{if("value"in R)return R.value;var q=R.get;return q===void 0?void 0:q.call(M)}},a=i(0),u=w(a),c=i(8),f=w(c),d=i(4),h=w(d),m=i(16),y=w(m),v=i(13),p=w(v),g=i(25),b=w(g);function w(C){return C&&C.__esModule?C:{default:C}}function x(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function S(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function T(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}function k(C){return C instanceof h.default||C instanceof d.BlockEmbed}var A=function(C){T(E,C);function E(O,M){x(this,E);var R=S(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O));return R.emitter=M.emitter,Array.isArray(M.whitelist)&&(R.whitelist=M.whitelist.reduce(function(j,q){return j[q]=!0,j},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return l(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,R){var j=this.line(M),q=o(j,2),U=q[0],W=q[1],z=this.line(M+R),N=o(z,1),P=N[0];if(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,M,R),P!=null&&U!==P&&W>0){if(U instanceof d.BlockEmbed||P instanceof d.BlockEmbed){this.optimize();return}if(U instanceof p.default){var L=U.newlineIndex(U.length(),!0);if(L>-1&&(U=U.split(L+1),U===P)){this.optimize();return}}else if(P instanceof p.default){var _=P.newlineIndex(0);_>-1&&P.split(_+1)}var V=P.children.head instanceof y.default?null:P.children.head;U.moveChildren(P,V),U.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,R,j,q){this.whitelist!=null&&!this.whitelist[j]||(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,M,R,j,q),this.optimize())}},{key:"insertAt",value:function(M,R,j){if(!(j!=null&&this.whitelist!=null&&!this.whitelist[R])){if(M>=this.length())if(j==null||u.default.query(R,u.default.Scope.BLOCK)==null){var q=u.default.create(this.statics.defaultChild);this.appendChild(q),j==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),q.insertAt(0,R,j)}else{var U=u.default.create(R,j);this.appendChild(U)}else s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,M,R,j);this.optimize()}}},{key:"insertBefore",value:function(M,R){if(M.statics.scope===u.default.Scope.INLINE_BLOT){var j=u.default.create(this.statics.defaultChild);j.appendChild(M),M=j}s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,M,R)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(k,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,j=function q(U,W,z){var N=[],P=z;return U.children.forEachAt(W,z,function(L,_,V){k(L)?N.push(L):L instanceof u.default.Container&&(N=N.concat(q(L,_,P))),P-=V}),N};return j(this,M,R)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,M,R),M.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,M,R))}},{key:"path",value:function(M){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var R=f.default.sources.USER;typeof M=="string"&&(R=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,R,M),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,R,M)}}}]),E}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[h.default,d.BlockEmbed,b.default],r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l=function(){function D($,Y){var G=[],te=!0,ce=!1,Se=void 0;try{for(var Oe=$[Symbol.iterator](),be;!(te=(be=Oe.next()).done)&&(G.push(be.value),!(Y&&G.length===Y));te=!0);}catch(Ie){ce=!0,Se=Ie}finally{try{!te&&Oe.return&&Oe.return()}finally{if(ce)throw Se}}return G}return function($,Y){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return D($,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D($,Y){for(var G=0;G<Y.length;G++){var te=Y[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty($,te.key,te)}}return function($,Y,G){return Y&&D($.prototype,Y),G&&D($,G),$}}(),a=i(21),u=C(a),c=i(11),f=C(c),d=i(3),h=C(d),m=i(2),y=C(m),v=i(20),p=C(v),g=i(0),b=C(g),w=i(5),x=C(w),S=i(10),T=C(S),k=i(9),A=C(k);function C(D){return D&&D.__esModule?D:{default:D}}function E(D,$,Y){return $ in D?Object.defineProperty(D,$,{value:Y,enumerable:!0,configurable:!0,writable:!0}):D[$]=Y,D}function O(D,$){if(!(D instanceof $))throw new TypeError("Cannot call a class as a function")}function M(D,$){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:D}function R(D,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);D.prototype=Object.create($&&$.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(D,$):D.__proto__=$)}var j=(0,T.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(D){R($,D),s($,null,[{key:"match",value:function(G,te){return te=H(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!te[ce]!==G[ce]&&te[ce]!==null})?!1:te.key===(G.which||G.keyCode)}}]);function $(Y,G){O(this,$);var te=M(this,($.__proto__||Object.getPrototypeOf($)).call(this,Y,G));return te.bindings={},Object.keys(te.options.bindings).forEach(function(ce){ce==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||te.options.bindings[ce]&&te.addBinding(te.options.bindings[ce])}),te.addBinding({key:$.keys.ENTER,shiftKey:null},L),te.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},z),te.addBinding({key:$.keys.DELETE},{collapsed:!0},N)):(te.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),te.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},N)),te.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},P),te.addBinding({key:$.keys.DELETE},{collapsed:!1},P),te.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),te.listen(),te}return s($,[{key:"addBinding",value:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=H(G);if(Se==null||Se.key==null)return j.warn("Attempted to add invalid keyboard binding",Se);typeof te=="function"&&(te={handler:te}),typeof ce=="function"&&(ce={handler:ce}),Se=(0,h.default)(Se,te,ce),this.bindings[Se.key]=this.bindings[Se.key]||[],this.bindings[Se.key].push(Se)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var ce=te.which||te.keyCode,Se=(G.bindings[ce]||[]).filter(function(ve){return $.match(te,ve)});if(Se.length!==0){var Oe=G.quill.getSelection();if(!(Oe==null||!G.quill.hasFocus())){var be=G.quill.getLine(Oe.index),Ie=l(be,2),xt=Ie[0],st=Ie[1],X=G.quill.getLeaf(Oe.index),Z=l(X,2),se=Z[0],ue=Z[1],re=Oe.length===0?[se,ue]:G.quill.getLeaf(Oe.index+Oe.length),Ne=l(re,2),_e=Ne[0],Ae=Ne[1],Q=se instanceof b.default.Text?se.value().slice(0,ue):"",ie=_e instanceof b.default.Text?_e.value().slice(Ae):"",fe={collapsed:Oe.length===0,empty:Oe.length===0&&xt.length()<=1,format:G.quill.getFormat(Oe),offset:st,prefix:Q,suffix:ie},Me=Se.some(function(ve){if(ve.collapsed!=null&&ve.collapsed!==fe.collapsed||ve.empty!=null&&ve.empty!==fe.empty||ve.offset!=null&&ve.offset!==fe.offset)return!1;if(Array.isArray(ve.format)){if(ve.format.every(function(Ke){return fe.format[Ke]==null}))return!1}else if(o(ve.format)==="object"&&!Object.keys(ve.format).every(function(Ke){return ve.format[Ke]===!0?fe.format[Ke]!=null:ve.format[Ke]===!1?fe.format[Ke]==null:(0,f.default)(ve.format[Ke],fe.format[Ke])}))return!1;return ve.prefix!=null&&!ve.prefix.test(fe.prefix)||ve.suffix!=null&&!ve.suffix.test(fe.suffix)?!1:ve.handler.call(G,Oe,fe)!==!0});Me&&te.preventDefault()}}}})}}]),$}(A.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,Y){Y.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,x.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function($){this.quill.history.cutoff();var Y=new y.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(Y,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,x.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,Y){this.quill.format("list",!1,x.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var Y=this.quill.getLine($.index),G=l(Y,2),te=G[0],ce=G[1],Se=(0,h.default)({},te.formats(),{list:"checked"}),Oe=new y.default().retain($.index).insert(`
`,Se).retain(te.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(Oe,x.default.sources.USER),this.quill.setSelection($.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,Y){var G=this.quill.getLine($.index),te=l(G,2),ce=te[0],Se=te[1],Oe=new y.default().retain($.index).insert(`
`,Y.format).retain(ce.length()-Se-1).retain(1,{header:null});this.quill.updateContents(Oe,x.default.sources.USER),this.quill.setSelection($.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,Y){var G=Y.prefix.length,te=this.quill.getLine($.index),ce=l(te,2),Se=ce[0],Oe=ce[1];if(Oe>G)return!0;var be=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText($.index," ",x.default.sources.USER),this.quill.history.cutoff();var Ie=new y.default().retain($.index-Oe).delete(G+1).retain(Se.length()-2-Oe).retain(1,{list:be});this.quill.updateContents(Ie,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-G,x.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var Y=this.quill.getLine($.index),G=l(Y,2),te=G[0],ce=G[1],Se=new y.default().retain($.index+te.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Se,x.default.sources.USER)}},"embed left":W(U.keys.LEFT,!1),"embed left shift":W(U.keys.LEFT,!0),"embed right":W(U.keys.RIGHT,!1),"embed right shift":W(U.keys.RIGHT,!0)}};function W(D,$){var Y,G=D===U.keys.LEFT?"prefix":"suffix";return Y={key:D,shiftKey:$,altKey:null},E(Y,G,/^$/),E(Y,"handler",function(ce){var Se=ce.index;D===U.keys.RIGHT&&(Se+=ce.length+1);var Oe=this.quill.getLeaf(Se),be=l(Oe,1),Ie=be[0];return Ie instanceof b.default.Embed?(D===U.keys.LEFT?$?this.quill.setSelection(ce.index-1,ce.length+1,x.default.sources.USER):this.quill.setSelection(ce.index-1,x.default.sources.USER):$?this.quill.setSelection(ce.index,ce.length+1,x.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,x.default.sources.USER),!1):!0}),Y}function z(D,$){if(!(D.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(D.index),G=l(Y,1),te=G[0],ce={};if($.offset===0){var Se=this.quill.getLine(D.index-1),Oe=l(Se,1),be=Oe[0];if(be!=null&&be.length()>1){var Ie=te.formats(),xt=this.quill.getFormat(D.index-1,1);ce=p.default.attributes.diff(Ie,xt)||{}}}var st=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(D.index-st,st,x.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(D.index-st,st,ce,x.default.sources.USER),this.quill.focus()}}function N(D,$){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(D.index>=this.quill.getLength()-Y)){var G={},te=0,ce=this.quill.getLine(D.index),Se=l(ce,1),Oe=Se[0];if($.offset>=Oe.length()-1){var be=this.quill.getLine(D.index+1),Ie=l(be,1),xt=Ie[0];if(xt){var st=Oe.formats(),X=this.quill.getFormat(D.index,1);G=p.default.attributes.diff(st,X)||{},te=xt.length()}}this.quill.deleteText(D.index,Y,x.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(D.index+te-1,Y,G,x.default.sources.USER)}}function P(D){var $=this.quill.getLines(D),Y={};if($.length>1){var G=$[0].formats(),te=$[$.length-1].formats();Y=p.default.attributes.diff(te,G)||{}}this.quill.deleteText(D,x.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(D.index,1,Y,x.default.sources.USER),this.quill.setSelection(D.index,x.default.sources.SILENT),this.quill.focus()}function L(D,$){var Y=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var G=Object.keys($.format).reduce(function(te,ce){return b.default.query(ce,b.default.Scope.BLOCK)&&!Array.isArray($.format[ce])&&(te[ce]=$.format[ce]),te},{});this.quill.insertText(D.index,`
`,G,x.default.sources.USER),this.quill.setSelection(D.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(te){G[te]==null&&(Array.isArray($.format[te])||te!=="link"&&Y.quill.format(te,$.format[te],x.default.sources.USER))})}function _(D){return{key:U.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(Y){var G=b.default.query("code-block"),te=Y.index,ce=Y.length,Se=this.quill.scroll.descendant(G,te),Oe=l(Se,2),be=Oe[0],Ie=Oe[1];if(be!=null){var xt=this.quill.getIndex(be),st=be.newlineIndex(Ie,!0)+1,X=be.newlineIndex(xt+Ie+ce),Z=be.domNode.textContent.slice(st,X).split(`
`);Ie=0,Z.forEach(function(se,ue){D?(be.insertAt(st+Ie,G.TAB),Ie+=G.TAB.length,ue===0?te+=G.TAB.length:ce+=G.TAB.length):se.startsWith(G.TAB)&&(be.deleteAt(st+Ie,G.TAB.length),Ie-=G.TAB.length,ue===0?te-=G.TAB.length:ce-=G.TAB.length),Ie+=se.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(te,ce,x.default.sources.SILENT)}}}}function V(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(Y,G){this.quill.format(D,!G.format[D],x.default.sources.USER)}}}function H(D){if(typeof D=="string"||typeof D=="number")return H({key:D});if((typeof D>"u"?"undefined":o(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if(U.keys[D.key.toUpperCase()]!=null)D.key=U.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[q]=D.shortKey,delete D.shortKey),D}r.default=U,r.SHORTKEY=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,b){var w=[],x=!0,S=!1,T=void 0;try{for(var k=g[Symbol.iterator](),A;!(x=(A=k.next()).done)&&(w.push(A.value),!(b&&w.length===b));x=!0);}catch(C){S=!0,T=C}finally{try{!x&&k.return&&k.return()}finally{if(S)throw T}}return w}return function(g,b){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function p(g,b,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:p(S,b,w)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(w)}},s=function(){function p(g,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,w){return b&&p(g.prototype,b),w&&p(g,w),g}}(),a=i(0),u=d(a),c=i(7),f=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function y(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var v=function(p){y(g,p),s(g,null,[{key:"value",value:function(){}}]);function g(b,w){h(this,g);var x=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return x.selection=w,x.textNode=document.createTextNode(g.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return s(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,x){if(this._length!==0)return l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,x);for(var S=this,T=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=g.CONTENTS.length,S.optimize(),S.formatAt(T,g.CONTENTS.length,w,x),this._length=0)}},{key:"index",value:function(w,x){return w===this.textNode?0:l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,w,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,x=this.selection.getNativeRange(),S=void 0,T=void 0,k=void 0;if(x!=null&&x.start.node===w&&x.end.node===w){var A=[w,x.start.offset,x.end.offset];S=A[0],T=A[1],k=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var C=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(S=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=g.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var E=[T,k].map(function(M){return Math.max(0,Math.min(S.data.length,M-1))}),O=o(E,2);return T=O[0],k=O[1],{startNode:S,startOffset:T,endNode:S,endOffset:k}}}}},{key:"update",value:function(w,x){var S=this;if(w.some(function(k){return k.type==="characterData"&&k.target===S.textNode})){var T=this.restore();T&&(x.range=T)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=u(o),s=i(4),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default.Container);h.allowedChildren=[a.default,s.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function v(p,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,b){return g&&v(p.prototype,g),b&&v(p,b),p}}(),l=function v(p,g,b){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,g);if(w===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,g,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},s=i(0),a=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function f(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function d(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var h=function(v){d(p,v);function p(){return c(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(b){var w=l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):w}}]),p}(a.default.Attributor.Style),m=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),y=new h("color","color",{scope:a.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=m,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(v,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,g){return p&&y(v.prototype,p),g&&y(v,g),v}}(),l=function y(v,p,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,p);if(b===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,p,g)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(g)}},s=i(6),a=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){d(v,y);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(g,b){if(g!==this.statics.blotName||!b)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,g,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(g){var b=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g);return g=this.sanitize(g),b.setAttribute("href",g),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return m(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),v}(a.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(y,v){var p=document.createElement("a");p.href=y;var g=p.href.slice(0,p.href.indexOf(":"));return v.indexOf(g)>-1}r.default=h,r.sanitize=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=function(){function v(p,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,b){return g&&v(p.prototype,g),b&&v(p,b),p}}(),s=i(23),a=f(s),u=i(107),c=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function m(v,p){v.setAttribute(p,v.getAttribute(p)!=="true")}var y=function(){function v(p){var g=this;d(this,v),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case a.default.keys.ENTER:g.togglePicker();break;case a.default.keys.ESCAPE:g.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),g.hasAttribute("value")&&w.setAttribute("data-value",g.getAttribute("value")),g.textContent&&w.setAttribute("data-label",g.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(x){switch(x.keyCode){case a.default.keys.ENTER:b.selectItem(w,!0),x.preventDefault();break;case a.default.keys.ESCAPE:b.escape(),x.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=c.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var x=g.buildItem(w);b.appendChild(x),w.selected===!0&&g.selectItem(x)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(b){g.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(g!==w&&(w!=null&&w.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),v}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=j(o),s=i(5),a=j(s),u=i(4),c=j(u),f=i(16),d=j(f),h=i(25),m=j(h),y=i(24),v=j(y),p=i(35),g=j(p),b=i(6),w=j(b),x=i(22),S=j(x),T=i(7),k=j(T),A=i(55),C=j(A),E=i(42),O=j(E),M=i(23),R=j(M);function j(q){return q&&q.__esModule?q:{default:q}}a.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":m.default,"blots/cursor":v.default,"blots/embed":g.default,"blots/inline":w.default,"blots/scroll":S.default,"blots/text":k.default,"modules/clipboard":C.default,"modules/history":O.default,"modules/keyboard":R.default}),l.default.register(c.default,d.default,v.default,w.default,S.default,k.default),r.default=a.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),l=function(){function s(a){this.domNode=a,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(a){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?u=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?u=document.createElement(a):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return o.create(a)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},s.prototype.deleteAt=function(a,u){var c=this.isolate(a,u);c.remove()},s.prototype.formatAt=function(a,u,c,f){var d=this.isolate(a,u);if(o.query(c,o.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);d.wrap(h),h.format(c,f)}},s.prototype.insertAt=function(a,u,c){var f=c==null?o.create("text",u):o.create(u,c),d=this.split(a);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(a,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;a.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=c)&&a.domNode.insertBefore(this.domNode,c),this.parent=a,this.attach()},s.prototype.isolate=function(a,u){var c=this.split(a);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},s.prototype.optimize=function(a){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},s.prototype.replaceWith=function(a,u){var c=typeof a=="string"?o.create(a,u):a;return c.replace(this),c},s.prototype.split=function(a,u){return a===0?this:this.next},s.prototype.update=function(a,u){},s.prototype.wrap=function(a,u){var c=typeof a=="string"?o.create(a,u):a;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),l=i(32),s=i(33),a=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=o.default.keys(this.domNode),h=l.default.keys(this.domNode),m=s.default.keys(this.domNode);d.concat(h).concat(m).forEach(function(y){var v=a.query(y,a.Scope.ATTRIBUTE);v instanceof o.default&&(f.attributes[v.attrName]=v)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(h){var m=d.attributes[h].value(d.domNode);f.format(h,m)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=f.attributes[h].value(f.domNode),d},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},c}(l.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(l.default);r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}();function l(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(u,c){l(this,a),this.quill=u,this.options=c,this.modules={}}return o(a,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),a}();s.DEFAULTS={modules:{}},s.themes={default:s},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,w){return b&&p(g.prototype,b),w&&p(g,w),g}}(),l=function p(g,b,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:p(S,b,w)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(w)}},s=i(0),a=f(s),u=i(7),c=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function m(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var y="\uFEFF",v=function(p){m(g,p);function g(b){d(this,g);var w=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(x){w.contentNode.appendChild(x)}),w.leftGuard=document.createTextNode(y),w.rightGuard=document.createTextNode(y),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return o(g,[{key:"index",value:function(w,x){return w===this.leftGuard?0:w===this.rightGuard?1:l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,w,x)}},{key:"restore",value:function(w){var x=void 0,S=void 0,T=w.data.split(y).join("");if(w===this.leftGuard)if(this.prev instanceof c.default){var k=this.prev.length();this.prev.insertAt(k,T),x={startNode:this.prev.domNode,startOffset:k+T.length}}else S=document.createTextNode(T),this.parent.insertBefore(a.default.create(S),this),x={startNode:S,startOffset:T.length};else w===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,T),x={startNode:this.next.domNode,startOffset:T.length}):(S=document.createTextNode(T),this.parent.insertBefore(a.default.create(S),this.next),x={startNode:S,startOffset:T.length}));return w.data=y,x}},{key:"update",value:function(w,x){var S=this;w.forEach(function(T){if(T.type==="characterData"&&(T.target===S.leftGuard||T.target===S.rightGuard)){var k=S.restore(T.target);k&&(x.range=k)}})}}]),g}(a.default.Embed);r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}var a={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new l.default.Attributor.Attribute("align","align",a),c=new l.default.Attributor.Class("align","ql-align",a),f=new l.default.Attributor.Style("align","text-align",a);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),l=a(o),s=i(26);function a(f){return f&&f.__esModule?f:{default:f}}var u=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}var a={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},u=new l.default.Attributor.Attribute("direction","dir",a),c=new l.default.Attributor.Class("direction","ql-direction",a),f=new l.default.Attributor.Style("direction","direction",a);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(g,b){for(var w=0;w<b.length;w++){var x=b[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,w){return b&&p(g.prototype,b),w&&p(g,w),g}}(),l=function p(g,b,w){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:p(S,b,w)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(w)}},s=i(0),a=u(s);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function f(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function d(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new a.default.Attributor.Class("font","ql-font",h),y=function(p){d(g,p);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(w){return l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),g}(a.default.Attributor.Style),v=new y("font","font-family",h);r.FontStyle=v,r.FontClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),l=s(o);function s(c){return c&&c.__esModule?c:{default:c}}var a=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=a,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(w,x){for(var S=0;S<x.length;S++){var T=x[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,x,S){return x&&b(w.prototype,x),S&&b(w,S),w}}(),l=i(0),s=d(l),a=i(5),u=d(a),c=i(9),f=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function m(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v=function(b){y(w,b);function w(x,S){h(this,w);var T=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,S));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(k,A,C,E){k!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||E===u.default.sources.USER?T.record(A,C):T.transform(A))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(w,[{key:"change",value:function(S,T){if(this.stack[S].length!==0){var k=this.stack[S].pop();this.stack[T].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[S],u.default.sources.USER),this.ignoreChange=!1;var A=g(k[S]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,T){if(S.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(T),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var C=this.stack.undo.pop();k=k.compose(C.undo),S=C.redo.compose(S)}else this.lastRecorded=A;this.stack.undo.push({redo:S,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(T){T.undo=S.transform(T.undo,!0),T.redo=S.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=S.transform(T.undo,!0),T.redo=S.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(f.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(x){return s.default.query(x,s.default.Scope.BLOCK)!=null}):!1}function g(b){var w=b.reduce(function(S,T){return S+=T.delete||0,S},0),x=b.length()-w;return p(b)&&(x-=1),x}r.default=v,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function L(_,V){for(var H=0;H<V.length;H++){var D=V[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}return function(_,V,H){return V&&L(_.prototype,V),H&&L(_,H),_}}(),l=function L(_,V,H){_===null&&(_=Function.prototype);var D=Object.getOwnPropertyDescriptor(_,V);if(D===void 0){var $=Object.getPrototypeOf(_);return $===null?void 0:L($,V,H)}else{if("value"in D)return D.value;var Y=D.get;return Y===void 0?void 0:Y.call(H)}},s=i(3),a=A(s),u=i(2),c=A(u),f=i(8),d=A(f),h=i(23),m=A(h),y=i(34),v=A(y),p=i(59),g=A(p),b=i(60),w=A(b),x=i(28),S=A(x),T=i(61),k=A(T);function A(L){return L&&L.__esModule?L:{default:L}}function C(L,_){if(!(L instanceof _))throw new TypeError("Cannot call a class as a function")}function E(L,_){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:L}function O(L,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);L.prototype=Object.create(_&&_.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(L,_):L.__proto__=_)}var M=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],q=["1","2","3",!1],U=["small",!1,"large","huge"],W=function(L){O(_,L);function _(V,H){C(this,_);var D=E(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,V,H)),$=function Y(G){if(!document.body.contains(V.root))return document.body.removeEventListener("click",Y);D.tooltip!=null&&!D.tooltip.root.contains(G.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(te){te.container.contains(G.target)||te.close()})};return V.emitter.listenDOM("click",document.body,$),D}return o(_,[{key:"addModule",value:function(H){var D=l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(H,D){H.forEach(function($){var Y=$.getAttribute("class")||"";Y.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),D[G]!=null))if(G==="direction")$.innerHTML=D[G][""]+D[G].rtl;else if(typeof D[G]=="string")$.innerHTML=D[G];else{var te=$.value||"";te!=null&&D[G][te]&&($.innerHTML=D[G][te])}})})}},{key:"buildPickers",value:function(H,D){var $=this;this.pickers=H.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&P(G,M),new w.default(G,D.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var te=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&P(G,R,te==="background"?"#ffffff":"#000000"),new g.default(G,D[te])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?P(G,j):G.classList.contains("ql-header")?P(G,q):G.classList.contains("ql-size")&&P(G,U)),new S.default(G)});var Y=function(){$.pickers.forEach(function(te){te.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Y)}}]),_}(v.default);W.DEFAULTS=(0,a.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var _=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var H=new FileReader;H.onload=function(D){var $=_.quill.getSelection(!0);_.quill.updateContents(new c.default().retain($.index).delete($.length).insert({image:D.target.result}),d.default.sources.USER),_.quill.setSelection($.index+1,d.default.sources.SILENT),V.value=""},H.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(L){O(_,L);function _(V,H){C(this,_);var D=E(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,V,H));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return o(_,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(D){m.default.match(D,"enter")?(H.save(),D.preventDefault()):m.default.match(D,"escape")&&(H.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,d.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":H=N(H);case"formula":{if(!H)break;var $=this.quill.getSelection(!0);if($!=null){var Y=$.index+$.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),H,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",d.default.sources.USER),this.quill.setSelection(Y+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),_}(k.default);function N(L){var _=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return _?(_[1]||"https")+"://www.youtube.com/embed/"+_[2]+"?showinfo=0":(_=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(_[1]||"https")+"://player.vimeo.com/video/"+_[2]+"/":L}function P(L,_){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_.forEach(function(H){var D=document.createElement("option");H===V?D.setAttribute("selected","selected"):D.setAttribute("value",H),L.appendChild(D)})}r.BaseTooltip=z,r.default=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},l.prototype.contains=function(s){for(var a,u=this.iterator();a=u();)if(a===s)return!0;return!1},l.prototype.insertBefore=function(s,a){s&&(s.next=a,a!=null?(s.prev=a.prev,a.prev!=null&&(a.prev.next=s),a.prev=s,a===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},l.prototype.offset=function(s){for(var a=0,u=this.head;u!=null;){if(u===s)return a;a+=u.length(),u=u.next}return-1},l.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},l.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var a=s;return s!=null&&(s=s.next),a}},l.prototype.find=function(s,a){a===void 0&&(a=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||a&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},l.prototype.forEach=function(s){for(var a,u=this.iterator();a=u();)s(a)},l.prototype.forEachAt=function(s,a,u){if(!(a<=0))for(var c=this.find(s),f=c[0],d=c[1],h,m=s-d,y=this.iterator(f);(h=y())&&m<s+a;){var v=h.length();s>m?u(h,s-m,Math.min(a,m+v-s)):u(h,0,Math.min(v,s+a-m)),m+=v}},l.prototype.map=function(s){return this.reduce(function(a,u){return a.push(s(u)),a},[])},l.prototype.reduce=function(s,a){for(var u,c=this.iterator();u=c();)a=s(a,u);return a},l}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){f(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(17),s=i(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){o(d,f);function d(h){var m=f.call(this,h)||this;return m.scroll=m,m.observer=new MutationObserver(function(y){m.update(y)}),m.observer.observe(m.domNode,a),m.attach(),m}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,m){this.update(),h===0&&m===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,h,m)},d.prototype.formatAt=function(h,m,y,v){this.update(),f.prototype.formatAt.call(this,h,m,y,v)},d.prototype.insertAt=function(h,m,y){this.update(),f.prototype.insertAt.call(this,h,m,y)},d.prototype.optimize=function(h,m){var y=this;h===void 0&&(h=[]),m===void 0&&(m={}),f.prototype.optimize.call(this,m);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)h.push(v.pop());for(var p=function(x,S){S===void 0&&(S=!0),!(x==null||x===y)&&x.domNode.parentNode!=null&&(x.domNode[s.DATA_KEY].mutations==null&&(x.domNode[s.DATA_KEY].mutations=[]),S&&p(x.parent))},g=function(x){x.domNode[s.DATA_KEY]==null||x.domNode[s.DATA_KEY].mutations==null||(x instanceof l.default&&x.children.forEach(g),x.optimize(m))},b=h,w=0;b.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(x){var S=s.find(x.target,!0);S!=null&&(S.domNode===x.target&&(x.type==="childList"?(p(s.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(T){var k=s.find(T,!1);p(k,!1),k instanceof l.default&&k.children.forEach(function(A){p(A,!1)})})):x.type==="attributes"&&p(S.prev)),p(S))}),this.children.forEach(g),b=[].slice.call(this.observer.takeRecords()),v=b.slice();v.length>0;)h.push(v.pop())}},d.prototype.update=function(h,m){var y=this;m===void 0&&(m={}),h=h||this.observer.takeRecords(),h.map(function(v){var p=s.find(v.target,!0);return p==null?null:p.domNode[s.DATA_KEY].mutations==null?(p.domNode[s.DATA_KEY].mutations=[v],p):(p.domNode[s.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===y||v.domNode[s.DATA_KEY]==null||v.update(v.domNode[s.DATA_KEY].mutations||[],m)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,m),this.optimize(h,m)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)d.hasOwnProperty(h)&&(f[h]=d[h])};return function(f,d){c(f,d);function h(){this.constructor=f}f.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),s=i(1);function a(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,h){var m=this;d===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof l.default||(y=y.wrap(f.blotName,!0)),m.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,d,h)},f.prototype.formatAt=function(d,h,m,y){if(this.formats()[m]!=null||s.query(m,s.Scope.ATTRIBUTE)){var v=this.isolate(d,h);v.format(m,y)}else c.prototype.formatAt.call(this,d,h,m,y)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var m=this.next;m instanceof f&&m.prev===this&&a(h,m.formats())&&(m.moveChildren(this),m.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(l.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),s=i(1),a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,h,m){s.query(h,s.Scope.BLOCK)!=null?this.format(h,m):u.prototype.formatAt.call(this,f,d,h,m)},c.prototype.insertAt=function(f,d,h){if(h==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,h);else{var m=this.split(f),y=s.create(d,h);m.parent.insertBefore(y,m)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(l.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){a(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),s=function(a){o(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){a.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,h){c===0&&f===this.length()?this.format(d,h):a.prototype.formatAt.call(this,c,f,d,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(l.default);r.default=s},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),s=i(1),a=function(u){o(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,h){h==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var h=s.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(f,d){var h=this;f.some(function(m){return m.type==="characterData"&&m.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(l.default);r.default=a},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,a){return arguments.length>1&&!this.contains(s)==!a?a:l.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,a){return a=a||0,this.substr(a,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,a){var u=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>u.length)&&(a=u.length),a-=s.length;var c=u.indexOf(s,a);return c!==-1&&c===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,h=0;h<c;h++)if(d=u[h],a.call(f,d,h,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,l=0;function s(w,x,S){if(w==x)return w?[[l,w]]:[];(S<0||w.length<S)&&(S=null);var T=f(w,x),k=w.substring(0,T);w=w.substring(T),x=x.substring(T),T=d(w,x);var A=w.substring(w.length-T);w=w.substring(0,w.length-T),x=x.substring(0,x.length-T);var C=a(w,x);return k&&C.unshift([l,k]),A&&C.push([l,A]),m(C),S!=null&&(C=p(C,S)),C=g(C),C}function a(w,x){var S;if(!w)return[[o,x]];if(!x)return[[i,w]];var T=w.length>x.length?w:x,k=w.length>x.length?x:w,A=T.indexOf(k);if(A!=-1)return S=[[o,T.substring(0,A)],[l,k],[o,T.substring(A+k.length)]],w.length>x.length&&(S[0][0]=S[2][0]=i),S;if(k.length==1)return[[i,w],[o,x]];var C=h(w,x);if(C){var E=C[0],O=C[1],M=C[2],R=C[3],j=C[4],q=s(E,M),U=s(O,R);return q.concat([[l,j]],U)}return u(w,x)}function u(w,x){for(var S=w.length,T=x.length,k=Math.ceil((S+T)/2),A=k,C=2*k,E=new Array(C),O=new Array(C),M=0;M<C;M++)E[M]=-1,O[M]=-1;E[A+1]=0,O[A+1]=0;for(var R=S-T,j=R%2!=0,q=0,U=0,W=0,z=0,N=0;N<k;N++){for(var P=-N+q;P<=N-U;P+=2){var L=A+P,_;P==-N||P!=N&&E[L-1]<E[L+1]?_=E[L+1]:_=E[L-1]+1;for(var V=_-P;_<S&&V<T&&w.charAt(_)==x.charAt(V);)_++,V++;if(E[L]=_,_>S)U+=2;else if(V>T)q+=2;else if(j){var H=A+R-P;if(H>=0&&H<C&&O[H]!=-1){var D=S-O[H];if(_>=D)return c(w,x,_,V)}}}for(var $=-N+W;$<=N-z;$+=2){var H=A+$,D;$==-N||$!=N&&O[H-1]<O[H+1]?D=O[H+1]:D=O[H-1]+1;for(var Y=D-$;D<S&&Y<T&&w.charAt(S-D-1)==x.charAt(T-Y-1);)D++,Y++;if(O[H]=D,D>S)z+=2;else if(Y>T)W+=2;else if(!j){var L=A+R-$;if(L>=0&&L<C&&E[L]!=-1){var _=E[L],V=A+_-L;if(D=S-D,_>=D)return c(w,x,_,V)}}}}return[[i,w],[o,x]]}function c(w,x,S,T){var k=w.substring(0,S),A=x.substring(0,T),C=w.substring(S),E=x.substring(T),O=s(k,A),M=s(C,E);return O.concat(M)}function f(w,x){if(!w||!x||w.charAt(0)!=x.charAt(0))return 0;for(var S=0,T=Math.min(w.length,x.length),k=T,A=0;S<k;)w.substring(A,k)==x.substring(A,k)?(S=k,A=S):T=k,k=Math.floor((T-S)/2+S);return k}function d(w,x){if(!w||!x||w.charAt(w.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,T=Math.min(w.length,x.length),k=T,A=0;S<k;)w.substring(w.length-k,w.length-A)==x.substring(x.length-k,x.length-A)?(S=k,A=S):T=k,k=Math.floor((T-S)/2+S);return k}function h(w,x){var S=w.length>x.length?w:x,T=w.length>x.length?x:w;if(S.length<4||T.length*2<S.length)return null;function k(U,W,z){for(var N=U.substring(z,z+Math.floor(U.length/4)),P=-1,L="",_,V,H,D;(P=W.indexOf(N,P+1))!=-1;){var $=f(U.substring(z),W.substring(P)),Y=d(U.substring(0,z),W.substring(0,P));L.length<Y+$&&(L=W.substring(P-Y,P)+W.substring(P,P+$),_=U.substring(0,z-Y),V=U.substring(z+$),H=W.substring(0,P-Y),D=W.substring(P+$))}return L.length*2>=U.length?[_,V,H,D,L]:null}var A=k(S,T,Math.ceil(S.length/4)),C=k(S,T,Math.ceil(S.length/2)),E;if(!A&&!C)return null;C?A?E=A[4].length>C[4].length?A:C:E=C:E=A;var O,M,R,j;w.length>x.length?(O=E[0],M=E[1],R=E[2],j=E[3]):(R=E[0],j=E[1],O=E[2],M=E[3]);var q=E[4];return[O,M,R,j,q]}function m(w){w.push([l,""]);for(var x=0,S=0,T=0,k="",A="",C;x<w.length;)switch(w[x][0]){case o:T++,A+=w[x][1],x++;break;case i:S++,k+=w[x][1],x++;break;case l:S+T>1?(S!==0&&T!==0&&(C=f(A,k),C!==0&&(x-S-T>0&&w[x-S-T-1][0]==l?w[x-S-T-1][1]+=A.substring(0,C):(w.splice(0,0,[l,A.substring(0,C)]),x++),A=A.substring(C),k=k.substring(C)),C=d(A,k),C!==0&&(w[x][1]=A.substring(A.length-C)+w[x][1],A=A.substring(0,A.length-C),k=k.substring(0,k.length-C))),S===0?w.splice(x-T,S+T,[o,A]):T===0?w.splice(x-S,S+T,[i,k]):w.splice(x-S-T,S+T,[i,k],[o,A]),x=x-S-T+(S?1:0)+(T?1:0)+1):x!==0&&w[x-1][0]==l?(w[x-1][1]+=w[x][1],w.splice(x,1)):x++,T=0,S=0,k="",A="";break}w[w.length-1][1]===""&&w.pop();var E=!1;for(x=1;x<w.length-1;)w[x-1][0]==l&&w[x+1][0]==l&&(w[x][1].substring(w[x][1].length-w[x-1][1].length)==w[x-1][1]?(w[x][1]=w[x-1][1]+w[x][1].substring(0,w[x][1].length-w[x-1][1].length),w[x+1][1]=w[x-1][1]+w[x+1][1],w.splice(x-1,1),E=!0):w[x][1].substring(0,w[x+1][1].length)==w[x+1][1]&&(w[x-1][1]+=w[x+1][1],w[x][1]=w[x][1].substring(w[x+1][1].length)+w[x+1][1],w.splice(x+1,1),E=!0)),x++;E&&m(w)}var y=s;y.INSERT=o,y.DELETE=i,y.EQUAL=l,n.exports=y;function v(w,x){if(x===0)return[l,w];for(var S=0,T=0;T<w.length;T++){var k=w[T];if(k[0]===i||k[0]===l){var A=S+k[1].length;if(x===A)return[T+1,w];if(x<A){w=w.slice();var C=x-S,E=[k[0],k[1].slice(0,C)],O=[k[0],k[1].slice(C)];return w.splice(T,1,E,O),[T+1,w]}else S=A}}throw new Error("cursor_pos is out of bounds!")}function p(w,x){var S=v(w,x),T=S[1],k=S[0],A=T[k],C=T[k+1];if(A==null)return w;if(A[0]!==l)return w;if(C!=null&&A[1]+C[1]===C[1]+A[1])return T.splice(k,2,C,A),b(T,k,2);if(C!=null&&C[1].indexOf(A[1])===0){T.splice(k,2,[C[0],A[1]],[0,A[1]]);var E=C[1].slice(A[1].length);return E.length>0&&T.splice(k+2,0,[C[0],E]),b(T,k,3)}else return w}function g(w){for(var x=!1,S=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},T=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},k=2;k<w.length;k+=1)w[k-2][0]===l&&T(w[k-2][1])&&w[k-1][0]===i&&S(w[k-1][1])&&w[k][0]===o&&S(w[k][1])&&(x=!0,w[k-1][1]=w[k-2][1].slice(-1)+w[k-1][1],w[k][1]=w[k-2][1].slice(-1)+w[k][1],w[k-2][1]=w[k-2][1].slice(0,-1));if(!x)return w;for(var A=[],k=0;k<w.length;k+=1)w[k][1].length>0&&A.push(w[k]);return A}function b(w,x,S){for(var T=x+S-1;T>=0&&T>=x-1;T--)if(T+1<w.length){var k=w[T],A=w[T+1];k[0]===A[1]&&w.splice(T,2,[k[0],k[1]+A[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var l=[];for(var s in o)l.push(s);return l}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:l,r.supported=o;function o(s){return Object.prototype.toString.call(s)=="[object Arguments]"}r.unsupported=l;function l(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(o=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function a(){this._events=new l,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c,f){var d=o?o+c:c,h=this._events[d];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var m=0,y=h.length,v=new Array(y);m<y;m++)v[m]=h[m].fn;return v},a.prototype.emit=function(c,f,d,h,m,y){var v=o?o+c:c;if(!this._events[v])return!1;var p=this._events[v],g=arguments.length,b,w;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,d),!0;case 4:return p.fn.call(p.context,f,d,h),!0;case 5:return p.fn.call(p.context,f,d,h,m),!0;case 6:return p.fn.call(p.context,f,d,h,m,y),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];p.fn.apply(p.context,b)}else{var x=p.length,S;for(w=0;w<x;w++)switch(p[w].once&&this.removeListener(c,p[w].fn,void 0,!0),g){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,f);break;case 3:p[w].fn.call(p[w].context,f,d);break;case 4:p[w].fn.call(p[w].context,f,d,h);break;default:if(!b)for(S=1,b=new Array(g-1);S<g;S++)b[S-1]=arguments[S];p[w].fn.apply(p[w].context,b)}}return!0},a.prototype.on=function(c,f,d){var h=new s(f,d||this),m=o?o+c:c;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},a.prototype.once=function(c,f,d){var h=new s(f,d||this,!0),m=o?o+c:c;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},a.prototype.removeListener=function(c,f,d,h){var m=o?o+c:c;if(!this._events[m])return this;if(!f)return--this._eventsCount===0?this._events=new l:delete this._events[m],this;var y=this._events[m];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[m]);else{for(var v=0,p=[],g=y.length;v<g;v++)(y[v].fn!==f||h&&!y[v].once||d&&y[v].context!==d)&&p.push(y[v]);p.length?this._events[m]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new l:delete this._events[m]}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=o?o+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new l:delete this._events[f])):(this._events=new l,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,typeof n<"u"&&(n.exports=a)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l=function(){function X(Z,se){var ue=[],re=!0,Ne=!1,_e=void 0;try{for(var Ae=Z[Symbol.iterator](),Q;!(re=(Q=Ae.next()).done)&&(ue.push(Q.value),!(se&&ue.length===se));re=!0);}catch(ie){Ne=!0,_e=ie}finally{try{!re&&Ae.return&&Ae.return()}finally{if(Ne)throw _e}}return ue}return function(Z,se){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return X(Z,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function X(Z,se){for(var ue=0;ue<se.length;ue++){var re=se[ue];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Z,re.key,re)}}return function(Z,se,ue){return se&&X(Z.prototype,se),ue&&X(Z,ue),Z}}(),a=i(3),u=O(a),c=i(2),f=O(c),d=i(0),h=O(d),m=i(5),y=O(m),v=i(10),p=O(v),g=i(9),b=O(g),w=i(36),x=i(37),S=i(13),T=O(S),k=i(26),A=i(38),C=i(39),E=i(40);function O(X){return X&&X.__esModule?X:{default:X}}function M(X,Z,se){return Z in X?Object.defineProperty(X,Z,{value:se,enumerable:!0,configurable:!0,writable:!0}):X[Z]=se,X}function R(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function j(X,Z){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:X}function q(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}var U=(0,p.default)("quill:clipboard"),W="__ql-matcher",z=[[Node.TEXT_NODE,st],[Node.TEXT_NODE,be],["br",ce],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,xt],["li",Oe],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",Se]],N=[w.AlignAttribute,A.DirectionAttribute].reduce(function(X,Z){return X[Z.keyName]=Z,X},{}),P=[w.AlignStyle,x.BackgroundStyle,k.ColorStyle,A.DirectionStyle,C.FontStyle,E.SizeStyle].reduce(function(X,Z){return X[Z.keyName]=Z,X},{}),L=function(X){q(Z,X);function Z(se,ue){R(this,Z);var re=j(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,se,ue));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],z.concat(re.options.matchers).forEach(function(Ne){var _e=l(Ne,2),Ae=_e[0],Q=_e[1];!ue.matchVisual&&Q===Ie||re.addMatcher(Ae,Q)}),re}return s(Z,[{key:"addMatcher",value:function(ue,re){this.matchers.push([ue,re])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[T.default.blotName]){var Ne=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Ne,M({},T.default.blotName,re[T.default.blotName]))}var _e=this.prepareMatching(),Ae=l(_e,2),Q=Ae[0],ie=Ae[1],fe=$(this.container,Q,ie);return H(fe,`
`)&&fe.ops[fe.ops.length-1].attributes==null&&(fe=fe.compose(new f.default().retain(fe.length()-1).delete(1))),U.log("convert",this.container.innerHTML,fe),this.container.innerHTML="",fe}},{key:"dangerouslyPasteHTML",value:function(ue,re){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),re),this.quill.setSelection(0,y.default.sources.SILENT);else{var _e=this.convert(re);this.quill.updateContents(new f.default().retain(ue).concat(_e),Ne),this.quill.setSelection(ue+_e.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var re=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var Ne=this.quill.getSelection(),_e=new f.default().retain(Ne.index),Ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){_e=_e.concat(re.convert()).delete(Ne.length),re.quill.updateContents(_e,y.default.sources.USER),re.quill.setSelection(_e.length()-Ne.length,y.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Ae,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,re=[],Ne=[];return this.matchers.forEach(function(_e){var Ae=l(_e,2),Q=Ae[0],ie=Ae[1];switch(Q){case Node.TEXT_NODE:Ne.push(ie);break;case Node.ELEMENT_NODE:re.push(ie);break;default:[].forEach.call(ue.container.querySelectorAll(Q),function(fe){fe[W]=fe[W]||[],fe[W].push(ie)});break}}),[re,Ne]}}]),Z}(b.default);L.DEFAULTS={matchers:[],matchVisual:!0};function _(X,Z,se){return(typeof Z>"u"?"undefined":o(Z))==="object"?Object.keys(Z).reduce(function(ue,re){return _(ue,re,Z[re])},X):X.reduce(function(ue,re){return re.attributes&&re.attributes[Z]?ue.push(re):ue.insert(re.insert,(0,u.default)({},M({},Z,se),re.attributes))},new f.default)}function V(X){if(X.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return X[Z]||(X[Z]=window.getComputedStyle(X))}function H(X,Z){for(var se="",ue=X.ops.length-1;ue>=0&&se.length<Z.length;--ue){var re=X.ops[ue];if(typeof re.insert!="string")break;se=re.insert+se}return se.slice(-1*Z.length)===Z}function D(X){if(X.childNodes.length===0)return!1;var Z=V(X);return["block","list-item"].indexOf(Z.display)>-1}function $(X,Z,se){return X.nodeType===X.TEXT_NODE?se.reduce(function(ue,re){return re(X,ue)},new f.default):X.nodeType===X.ELEMENT_NODE?[].reduce.call(X.childNodes||[],function(ue,re){var Ne=$(re,Z,se);return re.nodeType===X.ELEMENT_NODE&&(Ne=Z.reduce(function(_e,Ae){return Ae(re,_e)},Ne),Ne=(re[W]||[]).reduce(function(_e,Ae){return Ae(re,_e)},Ne)),ue.concat(Ne)},new f.default):new f.default}function Y(X,Z,se){return _(se,X,!0)}function G(X,Z){var se=h.default.Attributor.Attribute.keys(X),ue=h.default.Attributor.Class.keys(X),re=h.default.Attributor.Style.keys(X),Ne={};return se.concat(ue).concat(re).forEach(function(_e){var Ae=h.default.query(_e,h.default.Scope.ATTRIBUTE);Ae!=null&&(Ne[Ae.attrName]=Ae.value(X),Ne[Ae.attrName])||(Ae=N[_e],Ae!=null&&(Ae.attrName===_e||Ae.keyName===_e)&&(Ne[Ae.attrName]=Ae.value(X)||void 0),Ae=P[_e],Ae!=null&&(Ae.attrName===_e||Ae.keyName===_e)&&(Ae=P[_e],Ne[Ae.attrName]=Ae.value(X)||void 0))}),Object.keys(Ne).length>0&&(Z=_(Z,Ne)),Z}function te(X,Z){var se=h.default.query(X);if(se==null)return Z;if(se.prototype instanceof h.default.Embed){var ue={},re=se.value(X);re!=null&&(ue[se.blotName]=re,Z=new f.default().insert(ue,se.formats(X)))}else typeof se.formats=="function"&&(Z=_(Z,se.blotName,se.formats(X)));return Z}function ce(X,Z){return H(Z,`
`)||Z.insert(`
`),Z}function Se(){return new f.default}function Oe(X,Z){var se=h.default.query(X);if(se==null||se.blotName!=="list-item"||!H(Z,`
`))return Z;for(var ue=-1,re=X.parentNode;!re.classList.contains("ql-clipboard");)(h.default.query(re)||{}).blotName==="list"&&(ue+=1),re=re.parentNode;return ue<=0?Z:Z.compose(new f.default().retain(Z.length()-1).retain(1,{indent:ue}))}function be(X,Z){return H(Z,`
`)||(D(X)||Z.length()>0&&X.nextSibling&&D(X.nextSibling))&&Z.insert(`
`),Z}function Ie(X,Z){if(D(X)&&X.nextElementSibling!=null&&!H(Z,`

`)){var se=X.offsetHeight+parseFloat(V(X).marginTop)+parseFloat(V(X).marginBottom);X.nextElementSibling.offsetTop>X.offsetTop+se*1.5&&Z.insert(`
`)}return Z}function xt(X,Z){var se={},ue=X.style||{};return ue.fontStyle&&V(X).fontStyle==="italic"&&(se.italic=!0),ue.fontWeight&&(V(X).fontWeight.startsWith("bold")||parseInt(V(X).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(Z=_(Z,se)),parseFloat(ue.textIndent||0)>0&&(Z=new f.default().insert("	").concat(Z)),Z}function st(X,Z){var se=X.data;if(X.parentNode.tagName==="O:P")return Z.insert(se.trim());if(se.trim().length===0&&X.parentNode.classList.contains("ql-clipboard"))return Z;if(!V(X.parentNode).whiteSpace.startsWith("pre")){var ue=function(Ne,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&Ne?" ":_e};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,ue.bind(ue,!0)),(X.previousSibling==null&&D(X.parentNode)||X.previousSibling!=null&&D(X.previousSibling))&&(se=se.replace(/^\s+/,ue.bind(ue,!1))),(X.nextSibling==null&&D(X.parentNode)||X.nextSibling!=null&&D(X.nextSibling))&&(se=se.replace(/\s+$/,ue.bind(ue,!1)))}return Z.insert(se)}r.default=L,r.matchAttributor=G,r.matchBlot=te,r.matchNewline=be,r.matchSpacing=Ie,r.matchText=st},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var p=0;p<v.length;p++){var g=v[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}}(),l=function m(y,v,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,v,p)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(p)}},s=i(6),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(p){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(a.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function E(O,M){var R=[],j=!0,q=!1,U=void 0;try{for(var W=O[Symbol.iterator](),z;!(j=(z=W.next()).done)&&(R.push(z.value),!(M&&R.length===M));j=!0);}catch(N){q=!0,U=N}finally{try{!j&&W.return&&W.return()}finally{if(q)throw U}}return R}return function(O,M){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function E(O,M){for(var R=0;R<M.length;R++){var j=M[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,M,R){return M&&E(O.prototype,M),R&&E(O,R),O}}(),s=i(2),a=p(s),u=i(0),c=p(u),f=i(5),d=p(f),h=i(10),m=p(h),y=i(9),v=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function g(E,O,M){return O in E?Object.defineProperty(E,O,{value:M,enumerable:!0,configurable:!0,writable:!0}):E[O]=M,E}function b(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function w(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function x(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var S=(0,m.default)("quill:toolbar"),T=function(E){x(O,E);function O(M,R){b(this,O);var j=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,R));if(Array.isArray(j.options.container)){var q=document.createElement("div");A(q,j.options.container),M.container.parentNode.insertBefore(q,M.container),j.container=q}else typeof j.options.container=="string"?j.container=document.querySelector(j.options.container):j.container=j.options.container;if(!(j.container instanceof HTMLElement)){var U;return U=S.error("Container required for toolbar",j.options),w(j,U)}return j.container.classList.add("ql-toolbar"),j.controls=[],j.handlers={},Object.keys(j.options.handlers).forEach(function(W){j.addHandler(W,j.options.handlers[W])}),[].forEach.call(j.container.querySelectorAll("button, select"),function(W){j.attach(W)}),j.quill.on(d.default.events.EDITOR_CHANGE,function(W,z){W===d.default.events.SELECTION_CHANGE&&j.update(z)}),j.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var W=j.quill.selection.getRange(),z=o(W,1),N=z[0];j.update(N)}),j}return l(O,[{key:"addHandler",value:function(R,j){this.handlers[R]=j}},{key:"attach",value:function(R){var j=this,q=[].find.call(R.classList,function(W){return W.indexOf("ql-")===0});if(q){if(q=q.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){S.warn("ignoring attaching to disabled format",q,R);return}if(c.default.query(q)==null){S.warn("ignoring attaching to nonexistent format",q,R);return}}var U=R.tagName==="SELECT"?"change":"click";R.addEventListener(U,function(W){var z=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var N=R.options[R.selectedIndex];N.hasAttribute("selected")?z=!1:z=N.value||!1}else R.classList.contains("ql-active")?z=!1:z=R.value||!R.hasAttribute("value"),W.preventDefault();j.quill.focus();var P=j.quill.selection.getRange(),L=o(P,1),_=L[0];if(j.handlers[q]!=null)j.handlers[q].call(j,z);else if(c.default.query(q).prototype instanceof c.default.Embed){if(z=prompt("Enter "+q),!z)return;j.quill.updateContents(new a.default().retain(_.index).delete(_.length).insert(g({},q,z)),d.default.sources.USER)}else j.quill.format(q,z,d.default.sources.USER);j.update(_)}),this.controls.push([q,R])}}},{key:"update",value:function(R){var j=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(q){var U=o(q,2),W=U[0],z=U[1];if(z.tagName==="SELECT"){var N=void 0;if(R==null)N=null;else if(j[W]==null)N=z.querySelector("option[selected]");else if(!Array.isArray(j[W])){var P=j[W];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),N=z.querySelector('option[value="'+P+'"]')}N==null?(z.value="",z.selectedIndex=-1):N.selected=!0}else if(R==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var L=j[W]===z.getAttribute("value")||j[W]!=null&&j[W].toString()===z.getAttribute("value")||j[W]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",L)}else z.classList.toggle("ql-active",j[W]!=null)})}}]),O}(v.default);T.DEFAULTS={};function k(E,O,M){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+O),M!=null&&(R.value=M),E.appendChild(R)}function A(E,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(M){var R=document.createElement("span");R.classList.add("ql-formats"),M.forEach(function(j){if(typeof j=="string")k(R,j);else{var q=Object.keys(j)[0],U=j[q];Array.isArray(U)?C(R,q,U):k(R,q,U)}}),E.appendChild(R)})}function C(E,O,M){var R=document.createElement("select");R.classList.add("ql-"+O),M.forEach(function(j){var q=document.createElement("option");j!==!1?q.setAttribute("value",j):q.setAttribute("selected","selected"),R.appendChild(q)}),E.appendChild(R)}T.DEFAULTS={container:null,handlers:{clean:function(){var O=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(j){c.default.query(j,c.default.Scope.INLINE)!=null&&O.quill.format(j,!1)})}else this.quill.removeFormat(M,d.default.sources.USER)},direction:function(O){var M=this.quill.getFormat().align;O==="rtl"&&M==null?this.quill.format("align","right",d.default.sources.USER):!O&&M==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",O,d.default.sources.USER)},indent:function(O){var M=this.quill.getSelection(),R=this.quill.getFormat(M),j=parseInt(R.indent||0);if(O==="+1"||O==="-1"){var q=O==="+1"?1:-1;R.direction==="rtl"&&(q*=-1),this.quill.format("indent",j+q,d.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,d.default.sources.USER)},list:function(O){var M=this.quill.getSelection(),R=this.quill.getFormat(M);O==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",O,d.default.sources.USER)}}},r.default=T,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var p=0;p<v.length;p++){var g=v[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}}(),l=function m(y,v,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,v,p)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(p)}},s=i(28),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(v,p){c(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),g}return o(y,[{key:"buildItem",value:function(p){var g=l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g);var b=this.label.querySelector(".ql-color-label"),w=p&&p.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),y}(a.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var p=0;p<v.length;p++){var g=v[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}}(),l=function m(y,v,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,v,p)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(p)}},s=i(28),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(v,p){c(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=p[b.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(y,[{key:"selectItem",value:function(p,g){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(a.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}();function l(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(u,c){var f=this;l(this,a),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),y=0;if(m.right>h.right&&(y=h.right-m.right,this.root.style.left=f+y+"px"),m.left<h.left&&(y=h.left-m.left,this.root.style.left=f+y+"px"),m.bottom>h.bottom){var v=m.bottom-m.top,p=c.bottom-c.top+v;this.root.style.top=d-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(E,O){var M=[],R=!0,j=!1,q=void 0;try{for(var U=E[Symbol.iterator](),W;!(R=(W=U.next()).done)&&(M.push(W.value),!(O&&M.length===O));R=!0);}catch(z){j=!0,q=z}finally{try{!R&&U.return&&U.return()}finally{if(j)throw q}}return M}return function(E,O){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return C(E,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function C(E,O,M){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,O);if(R===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,O,M)}else{if("value"in R)return R.value;var q=R.get;return q===void 0?void 0:q.call(M)}},s=function(){function C(E,O){for(var M=0;M<O.length;M++){var R=O[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,O,M){return O&&C(E.prototype,O),M&&C(E,M),E}}(),a=i(3),u=b(a),c=i(8),f=b(c),d=i(43),h=b(d),m=i(27),y=b(m),v=i(15),p=i(41),g=b(p);function b(C){return C&&C.__esModule?C:{default:C}}function w(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function x(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function S(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(C){S(E,C);function E(O,M){w(this,E),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=T);var R=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,M));return R.quill.container.classList.add("ql-snow"),R}return s(E,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),g.default),this.tooltip=new A(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,j){M.handlers.link.call(M,!j.format.link)})}}]),E}(h.default);k.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var O=this.quill.getSelection();if(O==null||O.length==0)return;var M=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var R=this.quill.theme.tooltip;R.edit("link",M)}else this.quill.format("link",!1)}}}}});var A=function(C){S(E,C);function E(O,M){w(this,E);var R=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,M));return R.preview=R.root.querySelector("a.ql-preview"),R}return s(E,[{key:"listen",value:function(){var M=this;l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(M.linkRange!=null){var j=M.linkRange;M.restoreFocus(),M.quill.formatText(j,"link",!1,f.default.sources.USER),delete M.linkRange}R.preventDefault(),M.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(R,j,q){if(R!=null){if(R.length===0&&q===f.default.sources.USER){var U=M.quill.scroll.descendant(y.default,R.index),W=o(U,2),z=W[0],N=W[1];if(z!=null){M.linkRange=new v.Range(R.index-N,z.length());var P=y.default.formats(z.domNode);M.preview.textContent=P,M.preview.setAttribute("href",P),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(d.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),l=re(o),s=i(36),a=i(38),u=i(64),c=i(65),f=re(c),d=i(66),h=re(d),m=i(67),y=re(m),v=i(37),p=i(26),g=i(39),b=i(40),w=i(56),x=re(w),S=i(68),T=re(S),k=i(27),A=re(k),C=i(69),E=re(C),O=i(70),M=re(O),R=i(71),j=re(R),q=i(72),U=re(q),W=i(73),z=re(W),N=i(13),P=re(N),L=i(74),_=re(L),V=i(75),H=re(V),D=i(57),$=re(D),Y=i(41),G=re(Y),te=i(28),ce=re(te),Se=i(59),Oe=re(Se),be=i(60),Ie=re(be),xt=i(61),st=re(xt),X=i(108),Z=re(X),se=i(62),ue=re(se);function re(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}l.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":b.SizeStyle},!0),l.default.register({"formats/align":s.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":u.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":b.SizeClass,"formats/blockquote":f.default,"formats/code-block":P.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":x.default,"formats/code":N.Code,"formats/italic":T.default,"formats/link":A.default,"formats/script":E.default,"formats/strike":M.default,"formats/underline":j.default,"formats/image":U.default,"formats/video":z.default,"formats/list/item":m.ListItem,"modules/formula":_.default,"modules/syntax":H.default,"modules/toolbar":$.default,"themes/bubble":Z.default,"themes/snow":ue.default,"ui/icons":G.default,"ui/picker":ce.default,"ui/icon-picker":Ie.default,"ui/color-picker":Oe.default,"ui/tooltip":st.default},!0),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(v,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,g){return p&&y(v.prototype,p),g&&y(v,g),v}}(),l=function y(v,p,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,p);if(b===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,p,g)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(g)}},s=i(0),a=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){d(v,y);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"add",value:function(g,b){if(b==="+1"||b==="-1"){var w=this.value(g)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(g),!0):l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,g,b)}},{key:"canAdd",value:function(g,b){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,g,b)||l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,g,parseInt(b))}},{key:"value",value:function(g){return parseInt(l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,g))||void 0}}]),v}(a.default.Attributor.Class),m=new h("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(m,y){for(var v=0;v<y.length;v++){var p=y[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,v){return y&&h(m.prototype,y),v&&h(m,v),m}}(),l=i(4),s=a(l);function a(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function f(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){f(m,h);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),m}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function w(x,S){for(var T=0;T<S.length;T++){var k=S[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,S,T){return S&&w(x.prototype,S),T&&w(x,T),x}}(),l=function w(x,S,T){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,S);if(k===void 0){var A=Object.getPrototypeOf(x);return A===null?void 0:w(A,S,T)}else{if("value"in k)return k.value;var C=k.get;return C===void 0?void 0:C.call(T)}},s=i(0),a=h(s),u=i(4),c=h(u),f=i(25),d=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,x,S){return x in w?Object.defineProperty(w,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[x]=S,w}function y(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function v(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function p(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var g=function(w){p(x,w);function x(){return y(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(T,k){T===b.blotName&&!k?this.replaceWith(a.default.create(this.statics.scope)):l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,T,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,k){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,k),this):(this.parent.unwrap(),l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,T,k))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:l(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,T)}}]),x}(c.default);g.blotName="list-item",g.tagName="LI";var b=function(w){p(x,w),o(x,null,[{key:"create",value:function(T){var k=T==="ordered"?"OL":"UL",A=l(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,k);return(T==="checked"||T==="unchecked")&&A.setAttribute("data-checked",T==="checked"),A}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(S){y(this,x);var T=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S)),k=function(C){if(C.target.parentNode===S){var E=T.statics.formats(S),O=a.default.find(C.target);E==="checked"?O.format("list","unchecked"):E==="unchecked"&&O.format("list","checked")}};return S.addEventListener("touchstart",k),S.addEventListener("mousedown",k),T}return o(x,[{key:"format",value:function(T,k){this.children.length>0&&this.children.tail.format(T,k)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,k){if(T instanceof g)l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,T,k);else{var A=k==null?this.length():k.offset(this),C=this.split(A);C.parent.insertBefore(T,C)}}},{key:"optimize",value:function(T){l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,T);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var k=a.default.create(this.statics.defaultChild);T.moveChildren(k),this.appendChild(k)}l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,T)}}]),x}(d.default);b.blotName="list",b.scope=a.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[g],r.ListItem=g,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var p=0;p<v.length;p++){var g=v[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}}(),l=function m(y,v,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,v,p)}else{if("value"in g)return g.value;var w=g.get;return w===void 0?void 0:w.call(p)}},s=i(6),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(a.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,b){return g&&v(p.prototype,g),b&&v(p,b),p}}(),l=function v(p,g,b){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,g);if(w===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,g,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},s=i(0),a=c(s),u=i(27);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function h(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var m=["alt","height","width"],y=function(v){h(p,v);function p(){return f(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(b,w){m.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=l(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return m.reduce(function(w,x){return b.hasAttribute(x)&&(w[x]=b.getAttribute(x)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),p}(a.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,b){return g&&v(p.prototype,g),b&&v(p,b),p}}(),l=function v(p,g,b){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,g);if(w===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,g,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},s=i(4),a=i(27),u=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function h(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var m=["height","width"],y=function(v){h(p,v);function p(){return f(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(b,w){m.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=l(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return m.reduce(function(w,x){return b.hasAttribute(x)&&(w[x]=b.getAttribute(x)),w},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),p}(s.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(w,x){for(var S=0;S<x.length;S++){var T=x[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,x,S){return x&&b(w.prototype,x),S&&b(w,S),w}}(),l=function b(w,x,S){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,x);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,x,S)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(S)}},s=i(35),a=h(s),u=i(5),c=h(u),f=i(9),d=h(f);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function v(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var p=function(b){v(w,b);function w(){return m(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"create",value:function(S){var T=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",S)),T}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),w}(a.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(b){v(w,b),o(w,null,[{key:"register",value:function(){c.default.register(p,!0)}}]);function w(){m(this,w);var x=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return w}(d.default);r.FormulaBlot=p,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function S(T,k){for(var A=0;A<k.length;A++){var C=k[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,k,A){return k&&S(T.prototype,k),A&&S(T,A),T}}(),l=function S(T,k,A){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,k);if(C===void 0){var E=Object.getPrototypeOf(T);return E===null?void 0:S(E,k,A)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(A)}},s=i(0),a=y(s),u=i(5),c=y(u),f=i(9),d=y(f),h=i(13),m=y(h);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function p(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function g(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var b=function(S){g(T,S);function T(){return v(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),T}(m.default);b.className="ql-syntax";var w=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),x=function(S){g(T,S),o(T,null,[{key:"register",value:function(){c.default.register(w,!0),c.default.register(b,!0)}}]);function T(k,A){v(this,T);var C=p(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,A));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return C.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){C.highlight(),E=null},C.options.interval)}),C.highlight(),C}return o(T,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(E){E.highlight(A.options.highlight)}),this.quill.update(c.default.sources.SILENT),C!=null&&this.quill.setSelection(C,c.default.sources.SILENT)}}}]),T}(d.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var T=window.hljs.highlightAuto(S);return T.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=w,r.default=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(k,A,C){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,A);if(E===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:T(O,A,C)}else{if("value"in E)return E.value;var M=E.get;return M===void 0?void 0:M.call(C)}},l=function(){function T(k,A){for(var C=0;C<A.length;C++){var E=A[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,C){return A&&T(k.prototype,A),C&&T(k,C),k}}(),s=i(3),a=v(s),u=i(8),c=v(u),f=i(43),d=v(f),h=i(15),m=i(41),y=v(m);function v(T){return T&&T.__esModule?T:{default:T}}function p(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function g(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function b(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(T){b(k,T);function k(A,C){p(this,k),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=w);var E=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,C));return E.quill.container.classList.add("ql-bubble"),E}return l(k,[{key:"extendToolbar",value:function(C){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),k}(d.default);x.DEFAULTS=(0,a.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(T){b(k,T);function k(A,C){p(this,k);var E=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,C));return E.quill.on(c.default.events.EDITOR_CHANGE,function(O,M,R,j){if(O===c.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&j===c.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var q=E.quill.getLines(M.index,M.length);if(q.length===1)E.position(E.quill.getBounds(M));else{var U=q[q.length-1],W=E.quill.getIndex(U),z=Math.min(U.length()-1,M.index+M.length-W),N=E.quill.getBounds(new h.Range(W,z));E.position(N)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return l(k,[{key:"listen",value:function(){var C=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var E=C.quill.getSelection();E!=null&&C.position(C.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var E=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,C),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",E===0)return E;O.style.marginLeft=-1*E-O.offsetWidth/2+"px"}}]),k}(f.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=S,r.default=x},function(n,r,i){n.exports=i(63)}]).default})})(SN);var $7=SN.exports,q7=Ut&&Ut.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=Ut&&Ut.__assign||function(){return pd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pd.apply(this,arguments)},U7=Ut&&Ut.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,s=o.length;l<s;l++,i++)r[i]=o[l];return r},dh=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xr=dh(I),V7=dh(ms),ta=dh(B7),xx=dh($7),W7=function(t){q7(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,l,s,a){var u,c,f,d;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,l,a,r.unprivilegedEditor):o==="selection-change"&&((d=(f=r).onEditorChangeSelection)===null||d===void 0||d.call(f,l,a,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(xr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(xr.default.Children.count(n.children)){var i=xr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var l=this.getEditorContents(),s=(o=n.value,o??"");this.isEqualValue(s,l)||this.setEditorContents(this.editor,s)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),U7(this.cleanProps,this.dirtyProps).some(function(a){return!ta.default(n[a],i.props[a])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ta.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var s=this.regenerationSnapshot,o=s.delta,a=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),kx(function(){return i.setEditorSelection(u,a)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new xx.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ta.default(n.ops,r.ops):ta.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),kx(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=V7.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,l=this.state.generation,s={key:l,ref:function(a){n.editingArea=a}};return xr.default.Children.count(i)?xr.default.cloneElement(xr.default.Children.only(i),s):o?xr.default.createElement("pre",pd({},s)):xr.default.createElement("div",pd({},s))},e.prototype.render=function(){var n;return xr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var l,s;if(this.editor){var a=this.isDelta(this.value)?o.getContents():o.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=a,(s=(l=this.props).onChange)===null||s===void 0||s.call(l,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,l,s,a,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&n,h=f&&!n;ta.default(n,f)||(this.selection=n,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,n,r,i),d?(a=(s=this.props).onFocus)===null||a===void 0||a.call(s,n,r,i):h&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=xx.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(xr.default.Component);function kx(t){Promise.resolve().then(t)}var H7=W7;const Sx=_u(H7),K7=()=>new jd(Ld("staging"));function Y7(){const t=K7(),e=tl(),{id:n}=QS(),[r,i]=I.useState(!0),[o,l]=I.useState(!1),[s,a]=I.useState(),[u,c]=I.useState([]),[f,d]=I.useState(""),[h,m]=I.useState(""),[y,v]=I.useState(0),[p,g]=I.useState(0);I.useEffect(()=>{(async()=>{if(n){try{const M=await t.api.GetRecipe(n);a(M),c(M.tags??[]),d(M.ingredients),m(M.instructions),g(M.cook_temp_deg_f),v(M.cook_time_minutes)}catch(M){console.error(M)}i(!1)}})()},[n]);const b=()=>{e("/my-recipe-app/recipes/")},w=async()=>{l(!0)},x=async()=>{l(!1),s&&(c(s.tags),d(s.ingredients),m(s.instructions),g(s.cook_temp_deg_f),v(s.cook_time_minutes))},S=async()=>{try{l(!1);const O=u.filter(R=>R!=null&&R!=null&&R!="");c(O);const M=await t.api.SaveRecipe({id:n||XT(),title:(s==null?void 0:s.title)??"",instructions:h,ingredients:f,cook_temp_deg_f:p,cook_time_minutes:y,tags:O});n||e(`/my-recipe-app/recipes/${M.id}`)}catch(O){console.error(O)}},T=O=>{v(Number(O.target.value))},k=O=>{g(Number(O.target.value))},A=async()=>{c([...u,"Tag"])},C=(O,M)=>{u[O]=M.target.value,(u[O]===void 0||u[O]===null||u[O]==="")&&u.splice(O,1),c([...u])},E=I.useMemo(()=>o?{toolbar:[["bold","underline",{list:"ordered"},{list:"bullet"}]]}:{toolbar:!1},[o]);return F.jsxs("div",{className:"h-full mx-auto max-w-4xl",children:[F.jsxs("div",{className:"flex p-4 gap-4 justify-between",children:[F.jsxs(Xt,{className:"pl-2",onClick:b,children:[F.jsx(Yv,{size:30})," Recipes"]}),o?F.jsxs("div",{className:"flex gap-2",children:[F.jsx(Xt,{onClick:x,children:"Cancel"}),F.jsx(Xt,{variant:"default",onClick:S,children:"Save"})]}):F.jsx(Xt,{onClick:w,children:"Edit"})]}),r?F.jsx("span",{children:"Loading..."}):F.jsxs(Xd,{className:"rounded-none",children:[F.jsx(Xv,{className:"pt-4 pb-0 px-4",children:F.jsxs(Zd,{children:[F.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center",children:[F.jsx("div",{className:"text-4xl text-center",children:s==null?void 0:s.title}),(u==null?void 0:u.length)>0&&!o&&F.jsx("div",{className:"flex pt-2 text-xl gap-2",children:u==null?void 0:u.map((O,M)=>F.jsx("div",{className:"rounded-full border-2 border-primary-foreground px-3 text-lg",children:O},O+M))}),o&&F.jsxs("div",{className:"w-full flex-wrap flex pt-2 text-xl gap-2 justify-center",children:[u==null?void 0:u.map((O,M)=>F.jsx(ti,{defaultValue:O,onBlur:R=>C(M,R),className:"rounded-full px-3 text-lg w-36"},O+M)),F.jsx(Xt,{size:"icon",className:"rounded-full",onClick:A,children:F.jsx(Gv,{})})]}),!o&&(y>0||p>0)&&F.jsxs("div",{className:"flex items-center pt-2 gap-x-2 text-3xl",children:[y>0&&F.jsxs("div",{className:"flex",children:[F.jsx(sd,{size:36})," ",y,"min"]}),p>0&&F.jsxs("div",{className:"flex",children:[F.jsx(ld,{size:36})," ",p,"°F"]})]}),o&&F.jsxs("div",{className:"flex items-center pt-2 gap-x-2 text-3xl",children:[F.jsxs("div",{className:"flex",children:[F.jsx(sd,{size:36}),F.jsx(ti,{value:y,onChange:T,className:"mx-1 px-1 w-16 text-center text-3xl"}),"min"]}),F.jsxs("div",{className:"flex",children:[F.jsx(ld,{size:36}),F.jsx(ti,{value:p,onChange:k,className:"mx-1 px-1 w-16 text-center text-3xl"}),"°F"]})]})]}),F.jsx(Xo,{className:"my-4"})]})}),F.jsx(eh,{className:"px-4",children:F.jsxs("div",{className:"flex flex-col flex-grow items-start gap-2 transition-all",children:[F.jsx("div",{className:"text-3xl font-semibold",children:"Instructions"}),F.jsx(Sx,{defaultValue:f,onChange:d,readOnly:!o,modules:E,theme:"snow"},o?"edit-ingredients":"read-ingredients"),F.jsx(Xo,{className:"my-2"}),F.jsx("div",{className:"text-3xl font-semibold",children:"Instructions"}),F.jsx(Sx,{defaultValue:h,onChange:m,readOnly:!o,modules:E,theme:"bubble"},o?"edit-instructions":"read-instructions")]})})]})]})}const G7=O2([{path:"/my-recipe-app",element:F.jsx(y2,{to:"/my-recipe-app/recipes",replace:!0})},{path:"/my-recipe-app/plan",element:F.jsx(u$,{})},{path:"/my-recipe-app/recipes",element:F.jsx(i5,{})},{path:"/my-recipe-app/recipes/:id",element:F.jsx(IF,{})},{path:"/my-recipe-app/recipes/quill/:id",element:F.jsx(Y7,{})},{path:"/my-recipe-app/upload",element:F.jsx(h$,{})}]);Ip.createRoot(document.getElementById("root")).render(F.jsx(Bn.StrictMode,{children:F.jsxs(eB,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[F.jsx(I2,{router:G7}),F.jsx(Q5,{})]})}));
