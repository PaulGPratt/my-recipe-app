var KO=Object.defineProperty;var GO=(t,e,n)=>e in t?KO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yt=(t,e,n)=>(GO(t,typeof e!="symbol"?e+"":e,n),n);function AC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OC={exports:{}},tp={},DC={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),qO=Symbol.for("react.portal"),JO=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),XO=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),ZO=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),tD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),h1=Symbol.iterator;function iD(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var LC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jC=Object.assign,FC={};function pl(t,e,n){this.props=t,this.context=e,this.refs=FC,this.updater=n||LC}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zC(){}zC.prototype=pl.prototype;function Kv(t,e,n){this.props=t,this.context=e,this.refs=FC,this.updater=n||LC}var Gv=Kv.prototype=new zC;Gv.constructor=Kv;jC(Gv,pl.prototype);Gv.isPureReactComponent=!0;var p1=Array.isArray,$C=Object.prototype.hasOwnProperty,qv={current:null},BC={key:!0,ref:!0,__self:!0,__source:!0};function UC(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)$C.call(e,r)&&!BC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Au,type:t,key:o,ref:s,props:i,_owner:qv.current}}function oD(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function sD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m1=/\/+/g;function um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sD(""+t.key):e.toString(36)}function Jd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Au:case qO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+um(s,0):r,p1(i)?(n="",t!=null&&(n=t.replace(m1,"$&/")+"/"),Jd(i,e,n,"",function(c){return c})):i!=null&&(Jv(i)&&(i=oD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(m1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",p1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+um(o,a);s+=Jd(o,e,n,l,i)}else if(l=iD(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+um(o,a++),s+=Jd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gd(t,e,n){if(t==null)return t;var r=[],i=0;return Jd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Yd={transition:null},lD={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Yd,ReactCurrentOwner:qv};be.Children={map:gd,forEach:function(t,e,n){gd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gd(t,function(){e++}),e},toArray:function(t){return gd(t,function(e){return e})||[]},only:function(t){if(!Jv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=pl;be.Fragment=JO;be.Profiler=XO;be.PureComponent=Kv;be.StrictMode=YO;be.Suspense=tD;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=qv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$C.call(e,l)&&!BC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Au,type:t.type,key:i,ref:o,props:r,_owner:s}};be.createContext=function(t){return t={$$typeof:ZO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QO,_context:t},t.Consumer=t};be.createElement=UC;be.createFactory=function(t){var e=UC.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:eD,render:t}};be.isValidElement=Jv;be.lazy=function(t){return{$$typeof:rD,_payload:{_status:-1,_result:t},_init:aD}};be.memo=function(t,e){return{$$typeof:nD,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Yd.transition;Yd.transition={};try{t()}finally{Yd.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return Qt.current.useCallback(t,e)};be.useContext=function(t){return Qt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Qt.current.useEffect(t,e)};be.useId=function(){return Qt.current.useId()};be.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Qt.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};be.useRef=function(t){return Qt.current.useRef(t)};be.useState=function(t){return Qt.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Qt.current.useTransition()};be.version="18.2.0";DC.exports=be;var m=DC.exports;const Pn=ep(m),VC=AC({__proto__:null,default:Pn},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=m,uD=Symbol.for("react.element"),dD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,hD=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pD={key:!0,ref:!0,__self:!0,__source:!0};function WC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fD.call(e,r)&&!pD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uD,type:t,key:o,ref:s,props:i,_owner:hD.current}}tp.Fragment=dD;tp.jsx=WC;tp.jsxs=WC;OC.exports=tp;var y=OC.exports,Ug={},HC={exports:{}},Tn={},KC={exports:{}},GC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,D){var E=j.length;j.push(D);e:for(;0<E;){var J=E-1>>>1,le=j[J];if(0<i(le,D))j[J]=D,j[E]=le,E=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],E=j.pop();if(E!==D){j[0]=E;e:for(var J=0,le=j.length,T=le>>>1;J<T;){var Se=2*(J+1)-1,Z=j[Se],ee=Se+1,Te=j[ee];if(0>i(Z,E))ee<le&&0>i(Te,Z)?(j[J]=Te,j[ee]=E,J=ee):(j[J]=Z,j[Se]=E,J=Se);else if(ee<le&&0>i(Te,E))j[J]=Te,j[ee]=E,J=ee;else break e}}return D}function i(j,D){var E=j.sortIndex-D.sortIndex;return E!==0?E:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=j)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function C(j){if(g=!1,S(j),!p)if(n(l)!==null)p=!0,K(I);else{var D=n(c);D!==null&&te(C,D.startTime-j)}}function I(j,D){p=!1,g&&(g=!1,v(k),k=-1),h=!0;var E=f;try{for(S(D),d=n(l);d!==null&&(!(d.expirationTime>D)||j&&!P());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var le=J(d.expirationTime<=D);D=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),S(D)}else r(l);d=n(l)}if(d!==null)var T=!0;else{var Se=n(c);Se!==null&&te(C,Se.startTime-D),T=!1}return T}finally{d=null,f=E,h=!1}}var b=!1,R=null,k=-1,_=5,A=-1;function P(){return!(t.unstable_now()-A<_)}function O(){if(R!==null){var j=t.unstable_now();A=j;var D=!0;try{D=R(!0,j)}finally{D?U():(b=!1,R=null)}}else b=!1}var U;if(typeof w=="function")U=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=O,U=function(){V.postMessage(null)}}else U=function(){x(O,0)};function K(j){R=j,b||(b=!0,U())}function te(j,D){k=x(function(){j(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,K(I))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var E=f;f=D;try{return j()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var E=f;f=j;try{return D()}finally{f=E}},t.unstable_scheduleCallback=function(j,D,E){var J=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?J+E:J):E=J,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=E+le,j={id:u++,callback:D,priorityLevel:j,startTime:E,expirationTime:le,sortIndex:-1},E>J?(j.sortIndex=E,e(c,j),n(l)===null&&j===n(c)&&(g?(v(k),k=-1):g=!0,te(C,E-J))):(j.sortIndex=le,e(l,j),p||h||(p=!0,K(I))),j},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(j){var D=f;return function(){var E=f;f=D;try{return j.apply(this,arguments)}finally{f=E}}}})(GC);KC.exports=GC;var mD=KC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=m,En=mD;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JC=new Set,Jc={};function js(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(Jc[t]=e,t=0;t<e.length;t++)JC.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vg=Object.prototype.hasOwnProperty,gD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},y1={};function yD(t){return Vg.call(y1,t)?!0:Vg.call(g1,t)?!1:gD.test(t)?y1[t]=!0:(g1[t]=!0,!1)}function vD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wD(t,e,n,r){if(e===null||typeof e>"u"||vD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yv=/[\-:]([a-z])/g;function Xv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yv,Xv);Dt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yv,Xv);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yv,Xv);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qv(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wD(e,n,i,r)&&(n=null),r||i===null?yD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),YC=Symbol.for("react.provider"),XC=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Kg=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),QC=Symbol.for("react.offscreen"),v1=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,dm;function Yl(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function hm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yl(t):""}function xD(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=hm(t.type,!1),t;case 11:return t=hm(t.type.render,!1),t;case 1:return t=hm(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case fa:return"Portal";case Wg:return"Profiler";case Zv:return"StrictMode";case Hg:return"Suspense";case Kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XC:return(t.displayName||"Context")+".Consumer";case YC:return(t._context.displayName||"Context")+".Provider";case ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tw:return e=t.displayName||null,e!==null?e:Gg(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Gg(t(e))}catch{}}return null}function SD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(e);case 8:return e===Zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kD(t){var e=ZC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vd(t){t._valueTracker||(t._valueTracker=kD(t))}function eE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qg(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Io(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tE(t,e){e=e.checked,e!=null&&Qv(t,"checked",e,!1)}function Jg(t,e){tE(t,e);var n=Io(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yg(t,e.type,Io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yg(t,e,n){(e!=="number"||Yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function Ia(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Io(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Xl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Io(n)}}function nE(t,e){var n=Io(e.value),r=Io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wd,iE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wd=wd||document.createElement("div"),wd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bD=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){bD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function oE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function sE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CD=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if(CD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ny=null,Na=null,Ra=null;function b1(t){if(t=Lu(t)){if(typeof ny!="function")throw Error(W(280));var e=t.stateNode;e&&(e=sp(e),ny(t.stateNode,t.type,e))}}function aE(t){Na?Ra?Ra.push(t):Ra=[t]:Na=t}function lE(){if(Na){var t=Na,e=Ra;if(Ra=Na=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function cE(t,e){return t(e)}function uE(){}var pm=!1;function dE(t,e,n){if(pm)return t(e,n);pm=!0;try{return cE(t,e,n)}finally{pm=!1,(Na!==null||Ra!==null)&&(uE(),lE())}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=sp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var ry=!1;if(mi)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){ry=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{ry=!1}function ED(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ic=!1,Xf=null,Qf=!1,iy=null,TD={onError:function(t){Ic=!0,Xf=t}};function ID(t,e,n,r,i,o,s,a,l){Ic=!1,Xf=null,ED.apply(TD,arguments)}function ND(t,e,n,r,i,o,s,a,l){if(ID.apply(this,arguments),Ic){if(Ic){var c=Xf;Ic=!1,Xf=null}else throw Error(W(198));Qf||(Qf=!0,iy=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C1(t){if(Fs(t)!==t)throw Error(W(188))}function RD(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return C1(i),t;if(o===r)return C1(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function hE(t){return t=RD(t),t!==null?pE(t):null}function pE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pE(t);if(e!==null)return e;t=t.sibling}return null}var mE=En.unstable_scheduleCallback,E1=En.unstable_cancelCallback,_D=En.unstable_shouldYield,MD=En.unstable_requestPaint,ut=En.unstable_now,PD=En.unstable_getCurrentPriorityLevel,rw=En.unstable_ImmediatePriority,gE=En.unstable_UserBlockingPriority,Zf=En.unstable_NormalPriority,AD=En.unstable_LowPriority,yE=En.unstable_IdlePriority,np=null,Dr=null;function OD(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(np,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:jD,DD=Math.log,LD=Math.LN2;function jD(t){return t>>>=0,t===0?32:31-(DD(t)/LD|0)|0}var xd=64,Sd=4194304;function Ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ql(a):(o&=s,o!==0&&(r=Ql(o)))}else s=n&~i,s!==0?r=Ql(s):o!==0&&(r=Ql(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function FD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=FD(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function oy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vE(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function $D(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function iw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function wE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xE,ow,SE,kE,bE,sy=!1,kd=[],fo=null,ho=null,po=null,Qc=new Map,Zc=new Map,Qi=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T1(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function Ll(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&ow(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UD(t,e,n,r,i){switch(e){case"focusin":return fo=Ll(fo,t,e,n,r,i),!0;case"dragenter":return ho=Ll(ho,t,e,n,r,i),!0;case"mouseover":return po=Ll(po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qc.set(o,Ll(Qc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zc.set(o,Ll(Zc.get(o)||null,t,e,n,r,i)),!0}return!1}function CE(t){var e=ls(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=fE(n),e!==null){t.blockedOn=e,bE(t.priority,function(){SE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ty=r,n.target.dispatchEvent(r),ty=null}else return e=Lu(n),e!==null&&ow(e),t.blockedOn=n,!1;e.shift()}return!0}function I1(t,e,n){Xd(t)&&n.delete(e)}function VD(){sy=!1,fo!==null&&Xd(fo)&&(fo=null),ho!==null&&Xd(ho)&&(ho=null),po!==null&&Xd(po)&&(po=null),Qc.forEach(I1),Zc.forEach(I1)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,VD)))}function eu(t){function e(i){return jl(i,t)}if(0<kd.length){jl(kd[0],t);for(var n=1;n<kd.length;n++){var r=kd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&jl(fo,t),ho!==null&&jl(ho,t),po!==null&&jl(po,t),Qc.forEach(e),Zc.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&Qi.shift()}var _a=Ti.ReactCurrentBatchConfig,th=!0;function WD(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=1,sw(t,e,n,r)}finally{je=i,_a.transition=o}}function HD(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=4,sw(t,e,n,r)}finally{je=i,_a.transition=o}}function sw(t,e,n,r){if(th){var i=ay(t,e,n,r);if(i===null)Em(t,e,r,nh,n),T1(t,r);else if(UD(i,t,e,n,r))r.stopPropagation();else if(T1(t,r),e&4&&-1<BD.indexOf(t)){for(;i!==null;){var o=Lu(i);if(o!==null&&xE(o),o=ay(t,e,n,r),o===null&&Em(t,e,r,nh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Em(t,e,r,null,n)}}var nh=null;function ay(t,e,n,r){if(nh=null,t=nw(r),t=ls(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nh=t,null}function EE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PD()){case rw:return 1;case gE:return 4;case Zf:case AD:return 16;case yE:return 536870912;default:return 16}default:return 16}}var oo=null,aw=null,Qd=null;function TE(){if(Qd)return Qd;var t,e=aw,n=e.length,r,i="value"in oo?oo.value:oo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qd=i.slice(t,1<r?1-r:void 0)}function Zd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function N1(){return!1}function In(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bd:N1,this.isPropagationStopped=N1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lw=In(ml),Du=tt({},ml,{view:0,detail:0}),KD=In(Du),gm,ym,Fl,rp=tt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(gm=t.screenX-Fl.screenX,ym=t.screenY-Fl.screenY):ym=gm=0,Fl=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),R1=In(rp),GD=tt({},rp,{dataTransfer:0}),qD=In(GD),JD=tt({},Du,{relatedTarget:0}),vm=In(JD),YD=tt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=In(YD),QD=tt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZD=In(QD),eL=tt({},ml,{data:0}),_1=In(eL),tL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rL[t])?!!e[t]:!1}function cw(){return iL}var oL=tt({},Du,{key:function(t){if(t.key){var e=tL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(t){return t.type==="keypress"?Zd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sL=In(oL),aL=tt({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=In(aL),lL=tt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),cL=In(lL),uL=tt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),dL=In(uL),fL=tt({},rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=In(fL),pL=[9,13,27,32],uw=mi&&"CompositionEvent"in window,Nc=null;mi&&"documentMode"in document&&(Nc=document.documentMode);var mL=mi&&"TextEvent"in window&&!Nc,IE=mi&&(!uw||Nc&&8<Nc&&11>=Nc),P1=String.fromCharCode(32),A1=!1;function NE(t,e){switch(t){case"keyup":return pL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function gL(t,e){switch(t){case"compositionend":return RE(e);case"keypress":return e.which!==32?null:(A1=!0,P1);case"textInput":return t=e.data,t===P1&&A1?null:t;default:return null}}function yL(t,e){if(pa)return t==="compositionend"||!uw&&NE(t,e)?(t=TE(),Qd=aw=oo=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IE&&e.locale!=="ko"?null:e.data;default:return null}}var vL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vL[t.type]:e==="textarea"}function _E(t,e,n,r){aE(r),e=rh(e,"onChange"),0<e.length&&(n=new lw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rc=null,tu=null;function wL(t){BE(t,0)}function ip(t){var e=ya(t);if(eE(e))return t}function xL(t,e){if(t==="change")return e}var ME=!1;if(mi){var wm;if(mi){var xm="oninput"in document;if(!xm){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),xm=typeof D1.oninput=="function"}wm=xm}else wm=!1;ME=wm&&(!document.documentMode||9<document.documentMode)}function L1(){Rc&&(Rc.detachEvent("onpropertychange",PE),tu=Rc=null)}function PE(t){if(t.propertyName==="value"&&ip(tu)){var e=[];_E(e,tu,t,nw(t)),dE(wL,e)}}function SL(t,e,n){t==="focusin"?(L1(),Rc=e,tu=n,Rc.attachEvent("onpropertychange",PE)):t==="focusout"&&L1()}function kL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ip(tu)}function bL(t,e){if(t==="click")return ip(e)}function CL(t,e){if(t==="input"||t==="change")return ip(e)}function EL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:EL;function nu(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vg.call(e,i)||!cr(t[i],e[i]))return!1}return!0}function j1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F1(t,e){var n=j1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j1(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OE(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yf(t.document)}return e}function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TL(t){var e=OE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&dw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=F1(n,o);var s=F1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IL=mi&&"documentMode"in document&&11>=document.documentMode,ma=null,ly=null,_c=null,cy=!1;function z1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||ma==null||ma!==Yf(r)||(r=ma,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&nu(_c,r)||(_c=r,r=rh(ly,"onSelect"),0<r.length&&(e=new lw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},Sm={},DE={};mi&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function op(t){if(Sm[t])return Sm[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DE)return Sm[t]=e[n];return t}var LE=op("animationend"),jE=op("animationiteration"),FE=op("animationstart"),zE=op("transitionend"),$E=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){$E.set(t,e),js(e,[t])}for(var km=0;km<$1.length;km++){var bm=$1[km],NL=bm.toLowerCase(),RL=bm[0].toUpperCase()+bm.slice(1);Lo(NL,"on"+RL)}Lo(LE,"onAnimationEnd");Lo(jE,"onAnimationIteration");Lo(FE,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(zE,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function B1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ND(r,e,void 0,t),t.currentTarget=null}function BE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;B1(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;B1(i,a,c),o=l}}}if(Qf)throw t=iy,Qf=!1,iy=null,t}function Ge(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var r=t+"__bubble";n.has(r)||(UE(e,t,2,!1),n.add(r))}function Cm(t,e,n){var r=0;e&&(r|=4),UE(n,t,r,e)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Ed]){t[Ed]=!0,JC.forEach(function(n){n!=="selectionchange"&&(_L.has(n)||Cm(n,!1,t),Cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ed]||(e[Ed]=!0,Cm("selectionchange",!1,e))}}function UE(t,e,n,r){switch(EE(e)){case 1:var i=WD;break;case 4:i=HD;break;default:i=sw}n=i.bind(null,e,n,t),i=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Em(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ls(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}dE(function(){var c=o,u=nw(n),d=[];e:{var f=$E.get(t);if(f!==void 0){var h=lw,p=t;switch(t){case"keypress":if(Zd(n)===0)break e;case"keydown":case"keyup":h=sL;break;case"focusin":p="focus",h=vm;break;case"focusout":p="blur",h=vm;break;case"beforeblur":case"afterblur":h=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=qD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cL;break;case LE:case jE:case FE:h=XD;break;case zE:h=dL;break;case"scroll":h=KD;break;case"wheel":h=hL;break;case"copy":case"cut":case"paste":h=ZD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=M1}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=Xc(w,v),C!=null&&g.push(iu(w,C,S)))),x)break;w=w.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==ty&&(p=n.relatedTarget||n.fromElement)&&(ls(p)||p[gi]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?ls(p):null,p!==null&&(x=Fs(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=R1,C="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=M1,C="onPointerLeave",v="onPointerEnter",w="pointer"),x=h==null?f:ya(h),S=p==null?f:ya(p),f=new g(C,w+"leave",h,n,u),f.target=x,f.relatedTarget=S,C=null,ls(u)===c&&(g=new g(v,w+"enter",p,n,u),g.target=S,g.relatedTarget=x,C=g),x=C,h&&p)t:{for(g=h,v=p,w=0,S=g;S;S=Js(S))w++;for(S=0,C=v;C;C=Js(C))S++;for(;0<w-S;)g=Js(g),w--;for(;0<S-w;)v=Js(v),S--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Js(g),v=Js(v)}g=null}else g=null;h!==null&&U1(d,f,h,g,!1),p!==null&&x!==null&&U1(d,x,p,g,!0)}}e:{if(f=c?ya(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=xL;else if(O1(f))if(ME)I=CL;else{I=kL;var b=SL}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=bL);if(I&&(I=I(t,c))){_E(d,I,n,u);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Yg(f,"number",f.value)}switch(b=c?ya(c):window,t){case"focusin":(O1(b)||b.contentEditable==="true")&&(ma=b,ly=c,_c=null);break;case"focusout":_c=ly=ma=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,z1(d,n,u);break;case"selectionchange":if(IL)break;case"keydown":case"keyup":z1(d,n,u)}var R;if(uw)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else pa?NE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(IE&&n.locale!=="ko"&&(pa||k!=="onCompositionStart"?k==="onCompositionEnd"&&pa&&(R=TE()):(oo=u,aw="value"in oo?oo.value:oo.textContent,pa=!0)),b=rh(c,k),0<b.length&&(k=new _1(k,t,null,n,u),d.push({event:k,listeners:b}),R?k.data=R:(R=RE(n),R!==null&&(k.data=R)))),(R=mL?gL(t,n):yL(t,n))&&(c=rh(c,"onBeforeInput"),0<c.length&&(u=new _1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}BE(d,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xc(t,n),o!=null&&r.unshift(iu(t,o,i)),o=Xc(t,e),o!=null&&r.push(iu(t,o,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Xc(n,o),l!=null&&s.unshift(iu(n,l,a))):i||(l=Xc(n,o),l!=null&&s.push(iu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ML=/\r\n?/g,PL=/\u0000|\uFFFD/g;function V1(t){return(typeof t=="string"?t:""+t).replace(ML,`
`).replace(PL,"")}function Td(t,e,n){if(e=V1(e),V1(t)!==e&&n)throw Error(W(425))}function ih(){}var uy=null,dy=null;function fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,AL=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(t){return W1.resolve(null).then(t).catch(DL)}:hy;function DL(t){setTimeout(function(){throw t})}function Tm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),_r="__reactFiber$"+gl,ou="__reactProps$"+gl,gi="__reactContainer$"+gl,py="__reactEvents$"+gl,LL="__reactListeners$"+gl,jL="__reactHandles$"+gl;function ls(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H1(t);t!==null;){if(n=t[_r])return n;t=H1(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[_r]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function sp(t){return t[ou]||null}var my=[],va=-1;function jo(t){return{current:t}}function Je(t){0>va||(t.current=my[va],my[va]=null,va--)}function Ve(t,e){va++,my[va]=t.current,t.current=e}var No={},Vt=jo(No),ln=jo(!1),Cs=No;function Qa(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function oh(){Je(ln),Je(Vt)}function K1(t,e,n){if(Vt.current!==No)throw Error(W(168));Ve(Vt,e),Ve(ln,n)}function VE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,SD(t)||"Unknown",i));return tt({},n,r)}function sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Cs=Vt.current,Ve(Vt,t),Ve(ln,ln.current),!0}function G1(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=VE(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,Je(ln),Je(Vt),Ve(Vt,t)):Je(ln),Ve(ln,n)}var ri=null,ap=!1,Im=!1;function WE(t){ri===null?ri=[t]:ri.push(t)}function FL(t){ap=!0,WE(t)}function Fo(){if(!Im&&ri!==null){Im=!0;var t=0,e=je;try{var n=ri;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,ap=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),mE(rw,Fo),i}finally{je=e,Im=!1}}return null}var wa=[],xa=0,ah=null,lh=0,On=[],Dn=0,Es=null,oi=1,si="";function Xo(t,e){wa[xa++]=lh,wa[xa++]=ah,ah=t,lh=e}function HE(t,e,n){On[Dn++]=oi,On[Dn++]=si,On[Dn++]=Es,Es=t;var r=oi;t=si;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oi=1<<32-ar(e)+i|n<<i|r,si=o+t}else oi=1<<o|n<<i|r,si=t}function fw(t){t.return!==null&&(Xo(t,1),HE(t,1,0))}function hw(t){for(;t===ah;)ah=wa[--xa],wa[xa]=null,lh=wa[--xa],wa[xa]=null;for(;t===Es;)Es=On[--Dn],On[Dn]=null,si=On[--Dn],On[Dn]=null,oi=On[--Dn],On[Dn]=null}var kn=null,xn=null,Ye=!1,tr=null;function KE(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,xn=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:oi,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,xn=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(Ye){var e=xn;if(e){var n=e;if(!q1(t,e)){if(gy(t))throw Error(W(418));e=mo(n.nextSibling);var r=kn;e&&q1(t,e)?KE(r,n):(t.flags=t.flags&-4097|2,Ye=!1,kn=t)}}else{if(gy(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ye=!1,kn=t}}}function J1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Id(t){if(t!==kn)return!1;if(!Ye)return J1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fy(t.type,t.memoizedProps)),e&&(e=xn)){if(gy(t))throw GE(),Error(W(418));for(;e;)KE(t,e),e=mo(e.nextSibling)}if(J1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=kn?mo(t.stateNode.nextSibling):null;return!0}function GE(){for(var t=xn;t;)t=mo(t.nextSibling)}function Za(){xn=kn=null,Ye=!1}function pw(t){tr===null?tr=[t]:tr.push(t)}var zL=Ti.ReactCurrentBatchConfig;function Qn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ch=jo(null),uh=null,Sa=null,mw=null;function gw(){mw=Sa=uh=null}function yw(t){var e=ch.current;Je(ch),t._currentValue=e}function vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){uh=t,mw=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(mw!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(uh===null)throw Error(W(308));Sa=t,uh.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var cs=null;function vw(t){cs===null?cs=[t]:cs.push(t)}function qE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vw(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function ww(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,vw(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}function Y1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dh(t,e,n,r){var i=t.updateQueue;qi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=tt({},d,f);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Is|=s,t.lanes=s,t.memoizedState=d}}function X1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var YE=new qC.Component().refs;function wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lp={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=vo(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(lr(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=vo(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(lr(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=vo(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=go(t,i,r),e!==null&&(lr(e,t,r,n),ef(e,t,r))}};function Q1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,o):!0}function XE(t,e,n){var r=!1,i=No,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(i=cn(e)?Cs:Vt.current,r=e.contextTypes,o=(r=r!=null)?Qa(t,i):No),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lp.enqueueReplaceState(e,e.state,null)}function xy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=YE,ww(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Un(o):(o=cn(e)?Cs:Vt.current,i.context=Qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lp.enqueueReplaceState(i,i.state,null),dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===YE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Nd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eS(t){var e=t._init;return e(t._payload)}function QE(t){function e(v,w){if(t){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=wo(v,w),v.index=0,v.sibling=null,v}function o(v,w,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,S,C){return w===null||w.tag!==6?(w=Om(S,v.mode,C),w.return=v,w):(w=i(w,S),w.return=v,w)}function l(v,w,S,C){var I=S.type;return I===ha?u(v,w,S.props.children,C,S.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Gi&&eS(I)===w.type)?(C=i(w,S.props),C.ref=zl(v,w,S),C.return=v,C):(C=af(S.type,S.key,S.props,null,v.mode,C),C.ref=zl(v,w,S),C.return=v,C)}function c(v,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Dm(S,v.mode,C),w.return=v,w):(w=i(w,S.children||[]),w.return=v,w)}function u(v,w,S,C,I){return w===null||w.tag!==7?(w=ms(S,v.mode,C,I),w.return=v,w):(w=i(w,S),w.return=v,w)}function d(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Om(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yd:return S=af(w.type,w.key,w.props,null,v.mode,S),S.ref=zl(v,null,w),S.return=v,S;case fa:return w=Dm(w,v.mode,S),w.return=v,w;case Gi:var C=w._init;return d(v,C(w._payload),S)}if(Xl(w)||Ol(w))return w=ms(w,v.mode,S,null),w.return=v,w;Nd(v,w)}return null}function f(v,w,S,C){var I=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:a(v,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yd:return S.key===I?l(v,w,S,C):null;case fa:return S.key===I?c(v,w,S,C):null;case Gi:return I=S._init,f(v,w,I(S._payload),C)}if(Xl(S)||Ol(S))return I!==null?null:u(v,w,S,C,null);Nd(v,S)}return null}function h(v,w,S,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,a(w,v,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yd:return v=v.get(C.key===null?S:C.key)||null,l(w,v,C,I);case fa:return v=v.get(C.key===null?S:C.key)||null,c(w,v,C,I);case Gi:var b=C._init;return h(v,w,S,b(C._payload),I)}if(Xl(C)||Ol(C))return v=v.get(S)||null,u(w,v,C,I,null);Nd(w,C)}return null}function p(v,w,S,C){for(var I=null,b=null,R=w,k=w=0,_=null;R!==null&&k<S.length;k++){R.index>k?(_=R,R=null):_=R.sibling;var A=f(v,R,S[k],C);if(A===null){R===null&&(R=_);break}t&&R&&A.alternate===null&&e(v,R),w=o(A,w,k),b===null?I=A:b.sibling=A,b=A,R=_}if(k===S.length)return n(v,R),Ye&&Xo(v,k),I;if(R===null){for(;k<S.length;k++)R=d(v,S[k],C),R!==null&&(w=o(R,w,k),b===null?I=R:b.sibling=R,b=R);return Ye&&Xo(v,k),I}for(R=r(v,R);k<S.length;k++)_=h(R,v,k,S[k],C),_!==null&&(t&&_.alternate!==null&&R.delete(_.key===null?k:_.key),w=o(_,w,k),b===null?I=_:b.sibling=_,b=_);return t&&R.forEach(function(P){return e(v,P)}),Ye&&Xo(v,k),I}function g(v,w,S,C){var I=Ol(S);if(typeof I!="function")throw Error(W(150));if(S=I.call(S),S==null)throw Error(W(151));for(var b=I=null,R=w,k=w=0,_=null,A=S.next();R!==null&&!A.done;k++,A=S.next()){R.index>k?(_=R,R=null):_=R.sibling;var P=f(v,R,A.value,C);if(P===null){R===null&&(R=_);break}t&&R&&P.alternate===null&&e(v,R),w=o(P,w,k),b===null?I=P:b.sibling=P,b=P,R=_}if(A.done)return n(v,R),Ye&&Xo(v,k),I;if(R===null){for(;!A.done;k++,A=S.next())A=d(v,A.value,C),A!==null&&(w=o(A,w,k),b===null?I=A:b.sibling=A,b=A);return Ye&&Xo(v,k),I}for(R=r(v,R);!A.done;k++,A=S.next())A=h(R,v,k,A.value,C),A!==null&&(t&&A.alternate!==null&&R.delete(A.key===null?k:A.key),w=o(A,w,k),b===null?I=A:b.sibling=A,b=A);return t&&R.forEach(function(O){return e(v,O)}),Ye&&Xo(v,k),I}function x(v,w,S,C){if(typeof S=="object"&&S!==null&&S.type===ha&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case yd:e:{for(var I=S.key,b=w;b!==null;){if(b.key===I){if(I=S.type,I===ha){if(b.tag===7){n(v,b.sibling),w=i(b,S.props.children),w.return=v,v=w;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Gi&&eS(I)===b.type){n(v,b.sibling),w=i(b,S.props),w.ref=zl(v,b,S),w.return=v,v=w;break e}n(v,b);break}else e(v,b);b=b.sibling}S.type===ha?(w=ms(S.props.children,v.mode,C,S.key),w.return=v,v=w):(C=af(S.type,S.key,S.props,null,v.mode,C),C.ref=zl(v,w,S),C.return=v,v=C)}return s(v);case fa:e:{for(b=S.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(v,w.sibling),w=i(w,S.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Dm(S,v.mode,C),w.return=v,v=w}return s(v);case Gi:return b=S._init,x(v,w,b(S._payload),C)}if(Xl(S))return p(v,w,S,C);if(Ol(S))return g(v,w,S,C);Nd(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,S),w.return=v,v=w):(n(v,w),w=Om(S,v.mode,C),w.return=v,v=w),s(v)):n(v,w)}return x}var el=QE(!0),ZE=QE(!1),ju={},Lr=jo(ju),su=jo(ju),au=jo(ju);function us(t){if(t===ju)throw Error(W(174));return t}function xw(t,e){switch(Ve(au,e),Ve(su,t),Ve(Lr,ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qg(e,t)}Je(Lr),Ve(Lr,e)}function tl(){Je(Lr),Je(su),Je(au)}function eT(t){us(au.current);var e=us(Lr.current),n=Qg(e,t.type);e!==n&&(Ve(su,t),Ve(Lr,n))}function Sw(t){su.current===t&&(Je(Lr),Je(su))}var Ze=jo(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nm=[];function kw(){for(var t=0;t<Nm.length;t++)Nm[t]._workInProgressVersionPrimary=null;Nm.length=0}var tf=Ti.ReactCurrentDispatcher,Rm=Ti.ReactCurrentBatchConfig,Ts=0,et=null,vt=null,bt=null,hh=!1,Mc=!1,lu=0,$L=0;function jt(){throw Error(W(321))}function bw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function Cw(t,e,n,r,i,o){if(Ts=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?WL:HL,t=n(r,i),Mc){o=0;do{if(Mc=!1,lu=0,25<=o)throw Error(W(301));o+=1,bt=vt=null,e.updateQueue=null,tf.current=KL,t=n(r,i)}while(Mc)}if(tf.current=ph,e=vt!==null&&vt.next!==null,Ts=0,bt=vt=et=null,hh=!1,e)throw Error(W(300));return t}function Ew(){var t=lu!==0;return lu=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?et.memoizedState=bt=t:bt=bt.next=t,bt}function Vn(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=bt===null?et.memoizedState:bt.next;if(e!==null)bt=e,vt=t;else{if(t===null)throw Error(W(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},bt===null?et.memoizedState=bt=t:bt=bt.next=t}return bt}function cu(t,e){return typeof e=="function"?e(t):e}function _m(t){var e=Vn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ts&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,et.lanes|=u,Is|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,cr(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Is|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mm(t){var e=Vn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);cr(o,e.memoizedState)||(an=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function tT(){}function nT(t,e){var n=et,r=Vn(),i=e(),o=!cr(r.memoizedState,i);if(o&&(r.memoizedState=i,an=!0),r=r.queue,Tw(oT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,uu(9,iT.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(W(349));Ts&30||rT(n,e,i)}return i}function rT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iT(t,e,n,r){e.value=n,e.getSnapshot=r,sT(e)&&aT(t)}function oT(t,e,n){return n(function(){sT(e)&&aT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function aT(t){var e=yi(t,1);e!==null&&lr(e,t,1,-1)}function tS(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=VL.bind(null,et,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lT(){return Vn().memoizedState}function nf(t,e,n,r){var i=Ir();et.flags|=t,i.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function cp(t,e,n,r){var i=Vn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var s=vt.memoizedState;if(o=s.destroy,r!==null&&bw(r,s.deps)){i.memoizedState=uu(e,n,o,r);return}}et.flags|=t,i.memoizedState=uu(1|e,n,o,r)}function nS(t,e){return nf(8390656,8,t,e)}function Tw(t,e){return cp(2048,8,t,e)}function cT(t,e){return cp(4,2,t,e)}function uT(t,e){return cp(4,4,t,e)}function dT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fT(t,e,n){return n=n!=null?n.concat([t]):null,cp(4,4,dT.bind(null,e,t),n)}function Iw(){}function hT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mT(t,e,n){return Ts&21?(cr(n,e)||(n=vE(),et.lanes|=n,Is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function BL(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{je=n,Rm.transition=r}}function gT(){return Vn().memoizedState}function UL(t,e,n){var r=vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yT(t))vT(e,n);else if(n=qE(t,e,n,r),n!==null){var i=Gt();lr(n,t,r,i),wT(n,e,r)}}function VL(t,e,n){var r=vo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yT(t))vT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,cr(a,s)){var l=e.interleaved;l===null?(i.next=i,vw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qE(t,e,i,r),n!==null&&(i=Gt(),lr(n,t,r,i),wT(n,e,r))}}function yT(t){var e=t.alternate;return t===et||e!==null&&e===et}function vT(t,e){Mc=hh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}var ph={readContext:Un,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},WL={readContext:Un,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:nS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,dT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UL.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:tS,useDebugValue:Iw,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=tS(!1),e=t[0];return t=BL.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Ir();if(Ye){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ct===null)throw Error(W(349));Ts&30||rT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,nS(oT.bind(null,r,o,t),[t]),r.flags|=2048,uu(9,iT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=Ct.identifierPrefix;if(Ye){var n=si,r=oi;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$L++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HL={readContext:Un,useCallback:hT,useContext:Un,useEffect:Tw,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:pT,useReducer:_m,useRef:lT,useState:function(){return _m(cu)},useDebugValue:Iw,useDeferredValue:function(t){var e=Vn();return mT(e,vt.memoizedState,t)},useTransition:function(){var t=_m(cu)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:tT,useSyncExternalStore:nT,useId:gT,unstable_isNewReconciler:!1},KL={readContext:Un,useCallback:hT,useContext:Un,useEffect:Tw,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:pT,useReducer:Mm,useRef:lT,useState:function(){return Mm(cu)},useDebugValue:Iw,useDeferredValue:function(t){var e=Vn();return vt===null?e.memoizedState=t:mT(e,vt.memoizedState,t)},useTransition:function(){var t=Mm(cu)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:tT,useSyncExternalStore:nT,useId:gT,unstable_isNewReconciler:!1};function nl(t,e){try{var n="",r=e;do n+=xD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GL=typeof WeakMap=="function"?WeakMap:Map;function xT(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gh||(gh=!0,My=r),Sy(t,e)},n}function ST(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sy(t,e),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=a2.bind(null,t,e,n),e.then(t,t))}function iS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var qL=Ti.ReactCurrentOwner,an=!1;function Kt(t,e,n,r){e.child=t===null?ZE(e,null,n,r):el(e,t.child,n,r)}function sS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=Cw(t,e,n,r,o,i),n=Ew(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ye&&n&&fw(e),e.flags|=1,Kt(t,e,r,i),e.child)}function aS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kT(t,e,o,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(s,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function kT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nu(o,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,vi(t,e,i)}return ky(t,e,n,r,i)}function bT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ba,gn),gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(ba,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ve(ba,gn),gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ve(ba,gn),gn|=r;return Kt(t,e,i,n),e.child}function CT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ky(t,e,n,r,i){var o=cn(n)?Cs:Vt.current;return o=Qa(e,o),Ma(e,i),n=Cw(t,e,n,r,o,i),r=Ew(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ye&&r&&fw(e),e.flags|=1,Kt(t,e,n,i),e.child)}function lS(t,e,n,r,i){if(cn(n)){var o=!0;sh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)rf(t,e),XE(e,n,r),xy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=cn(n)?Cs:Vt.current,c=Qa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Z1(e,s,r,c),qi=!1;var f=e.memoizedState;s.state=f,dh(e,r,s,i),l=e.memoizedState,a!==r||f!==l||ln.current||qi?(typeof u=="function"&&(wy(e,n,u,r),l=e.memoizedState),(a=qi||Q1(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,JE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qn(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=cn(n)?Cs:Vt.current,l=Qa(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Z1(e,s,r,l),qi=!1,f=e.memoizedState,s.state=f,dh(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||ln.current||qi?(typeof h=="function"&&(wy(e,n,h,r),p=e.memoizedState),(c=qi||Q1(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return by(t,e,n,r,o,i)}function by(t,e,n,r,i,o){CT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&G1(e,n,!1),vi(t,e,o);r=e.stateNode,qL.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=el(e,t.child,null,o),e.child=el(e,null,a,o)):Kt(t,e,a,o),e.memoizedState=r.state,i&&G1(e,n,!0),e.child}function ET(t){var e=t.stateNode;e.pendingContext?K1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K1(t,e.context,!1),xw(t,e.containerInfo)}function cS(t,e,n,r,i){return Za(),pw(i),e.flags|=256,Kt(t,e,n,r),e.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function Ey(t){return{baseLanes:t,cachePool:null,transitions:null}}function TT(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fp(s,r,0,null),t=ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ey(n),e.memoizedState=Cy,t):Nw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JL(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wo(a,o):(o=ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ey(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Cy,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nw(t,e){return e=fp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rd(t,e,n,r){return r!==null&&pw(r),el(e,t.child,null,n),t=Nw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JL(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pm(Error(W(422))),Rd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fp({mode:"visible",children:r.children},i,0,null),o=ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&el(e,t.child,null,s),e.child.memoizedState=Ey(s),e.memoizedState=Cy,o);if(!(e.mode&1))return Rd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=Pm(o,r,void 0),Rd(t,e,s,r)}if(a=(s&t.childLanes)!==0,an||a){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yi(t,i),lr(r,t,i,-1))}return Ow(),r=Pm(Error(W(421))),Rd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xn=mo(i.nextSibling),kn=e,Ye=!0,tr=null,t!==null&&(On[Dn++]=oi,On[Dn++]=si,On[Dn++]=Es,oi=t.id,si=t.overflow,Es=e),e=Nw(e,r.children),e.flags|=4096,e)}function uS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vy(t.return,e,n)}function Am(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function IT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uS(t,n,e);else if(t.tag===19)uS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Am(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Am(e,!0,n,null,o);break;case"together":Am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YL(t,e,n){switch(e.tag){case 3:ET(e),Za();break;case 5:eT(e);break;case 1:cn(e.type)&&sh(e);break;case 4:xw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(ch,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?TT(t,e,n):(Ve(Ze,Ze.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,n)}return vi(t,e,n)}var NT,Ty,RT,_T;NT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ty=function(){};RT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(Lr.current);var o=null;switch(n){case"input":i=qg(t,i),r=qg(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Xg(t,i),r=Xg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ih)}Zg(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};_T=function(t,e,n,r){n!==r&&(e.flags|=4)};function $l(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XL(t,e,n){var r=e.pendingProps;switch(hw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return cn(e.type)&&oh(),Ft(e),null;case 3:return r=e.stateNode,tl(),Je(ln),Je(Vt),kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Oy(tr),tr=null))),Ty(t,e),Ft(e),null;case 5:Sw(e);var i=us(au.current);if(n=e.type,t!==null&&e.stateNode!=null)RT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ft(e),null}if(t=us(Lr.current),Id(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_r]=e,r[ou]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Zl.length;i++)Ge(Zl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":w1(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":S1(r,o),Ge("invalid",r)}Zg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",""+a]):Jc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":vd(r),x1(r,o,!0);break;case"textarea":vd(r),k1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ih)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_r]=e,t[ou]=r,NT(t,e,!1,!1),e.stateNode=t;e:{switch(s=ey(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zl.length;i++)Ge(Zl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":w1(t,r),i=qg(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":S1(t,r),i=Xg(t,r),Ge("invalid",t);break;default:i=r}Zg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?sE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yc(t,l):typeof l=="number"&&Yc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&Qv(t,o,l,s))}switch(n){case"input":vd(t),x1(t,r,!1);break;case"textarea":vd(t),k1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Io(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ia(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)_T(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=us(au.current),us(Lr.current),Id(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Ft(e),null;case 13:if(Je(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&xn!==null&&e.mode&1&&!(e.flags&128))GE(),Za(),e.flags|=98560,o=!1;else if(o=Id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[_r]=e}else Za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),o=!1}else tr!==null&&(Oy(tr),tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?wt===0&&(wt=3):Ow())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return tl(),Ty(t,e),t===null&&ru(e.stateNode.containerInfo),Ft(e),null;case 10:return yw(e.type._context),Ft(e),null;case 17:return cn(e.type)&&oh(),Ft(e),null;case 19:if(Je(Ze),o=e.memoizedState,o===null)return Ft(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)$l(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fh(t),s!==null){for(e.flags|=128,$l(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>rl&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304)}else{if(!r)if(t=fh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Ft(e),null}else 2*ut()-o.renderingStartTime>rl&&n!==1073741824&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function QL(t,e){switch(hw(e),e.tag){case 1:return cn(e.type)&&oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),Je(ln),Je(Vt),kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sw(e),null;case 13:if(Je(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(Ze),null;case 4:return tl(),null;case 10:return yw(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var _d=!1,$t=!1,ZL=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Iy(t,e,n){try{n()}catch(r){ot(t,e,r)}}var dS=!1;function e2(t,e){if(uy=th,t=OE(),dw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dy={focusedElem:t,selectionRange:n},th=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Qn(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){ot(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=dS,dS=!1,p}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Iy(e,n,o)}i=i.next}while(i!==r)}}function up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ny(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MT(t){var e=t.alternate;e!==null&&(t.alternate=null,MT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[ou],delete e[py],delete e[LL],delete e[jL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PT(t){return t.tag===5||t.tag===3||t.tag===4}function fS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ih));else if(r!==4&&(t=t.child,t!==null))for(Ry(t,e,n),t=t.sibling;t!==null;)Ry(t,e,n),t=t.sibling}function _y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_y(t,e,n),t=t.sibling;t!==null;)_y(t,e,n),t=t.sibling}var Nt=null,Zn=!1;function Ai(t,e,n){for(n=n.child;n!==null;)AT(t,e,n),n=n.sibling}function AT(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(np,n)}catch{}switch(n.tag){case 5:$t||ka(n,e);case 6:var r=Nt,i=Zn;Nt=null,Ai(t,e,n),Nt=r,Zn=i,Nt!==null&&(Zn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Zn?(t=Nt,n=n.stateNode,t.nodeType===8?Tm(t.parentNode,n):t.nodeType===1&&Tm(t,n),eu(t)):Tm(Nt,n.stateNode));break;case 4:r=Nt,i=Zn,Nt=n.stateNode.containerInfo,Zn=!0,Ai(t,e,n),Nt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Iy(n,e,s),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!$t&&(ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Ai(t,e,n),$t=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function hS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZL),e.forEach(function(r){var i=c2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,Zn=!1;break e;case 3:Nt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Nt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Nt===null)throw Error(W(160));AT(o,s,i),Nt=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ot(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OT(e,t),e=e.sibling}function OT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),Cr(t),r&4){try{Pc(3,t,t.return),up(3,t)}catch(g){ot(t,t.return,g)}try{Pc(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Yn(e,t),Cr(t),r&512&&n!==null&&ka(n,n.return);break;case 5:if(Yn(e,t),Cr(t),r&512&&n!==null&&ka(n,n.return),t.flags&32){var i=t.stateNode;try{Yc(i,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&tE(i,o),ey(a,s);var c=ey(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?sE(i,d):u==="dangerouslySetInnerHTML"?iE(i,d):u==="children"?Yc(i,d):Qv(i,u,d,c)}switch(a){case"input":Jg(i,o);break;case"textarea":nE(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ia(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ia(i,!!o.multiple,o.defaultValue,!0):Ia(i,!!o.multiple,o.multiple?[]:"",!1))}i[ou]=o}catch(g){ot(t,t.return,g)}}break;case 6:if(Yn(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ot(t,t.return,g)}}break;case 3:if(Yn(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Yn(e,t),Cr(t);break;case 13:Yn(e,t),Cr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Mw=ut())),r&4&&hS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||u,Yn(e,t),$t=c):Yn(e,t),Cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Pc(4,f,f.return);break;case 1:ka(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){mS(d);continue}}h!==null?(h.return=f,Q=h):mS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oE("display",s))}catch(g){ot(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ot(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yn(e,t),Cr(t),r&4&&hS(t);break;case 21:break;default:Yn(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yc(i,""),r.flags&=-33);var o=fS(t);_y(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=fS(t);Ry(t,a,s);break;default:throw Error(W(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t2(t,e,n){Q=t,DT(t)}function DT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_d;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=_d;var c=$t;if(_d=s,($t=l)&&!c)for(Q=i;Q!==null;)s=Q,l=s.child,s.tag===22&&s.memoizedState!==null?gS(i):l!==null?(l.return=s,Q=l):gS(i);for(;o!==null;)Q=o,DT(o),o=o.sibling;Q=i,_d=a,$t=c}pS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):pS(t)}}function pS(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||up(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&X1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&eu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}$t||e.flags&512&&Ny(e)}catch(f){ot(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function mS(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function gS(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{up(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var o=e.return;try{Ny(e)}catch(l){ot(e,o,l)}break;case 5:var s=e.return;try{Ny(e)}catch(l){ot(e,s,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var n2=Math.ceil,mh=Ti.ReactCurrentDispatcher,Rw=Ti.ReactCurrentOwner,zn=Ti.ReactCurrentBatchConfig,Re=0,Ct=null,mt=null,Ot=0,gn=0,ba=jo(0),wt=0,du=null,Is=0,dp=0,_w=0,Ac=null,on=null,Mw=0,rl=1/0,ti=null,gh=!1,My=null,yo=null,Md=!1,so=null,yh=0,Oc=0,Py=null,of=-1,sf=0;function Gt(){return Re&6?ut():of!==-1?of:of=ut()}function vo(t){return t.mode&1?Re&2&&Ot!==0?Ot&-Ot:zL.transition!==null?(sf===0&&(sf=vE()),sf):(t=je,t!==0||(t=window.event,t=t===void 0?16:EE(t.type)),t):1}function lr(t,e,n,r){if(50<Oc)throw Oc=0,Py=null,Error(W(185));Ou(t,n,r),(!(Re&2)||t!==Ct)&&(t===Ct&&(!(Re&2)&&(dp|=n),wt===4&&Zi(t,Ot)),un(t,r),n===1&&Re===0&&!(e.mode&1)&&(rl=ut()+500,ap&&Fo()))}function un(t,e){var n=t.callbackNode;zD(t,e);var r=eh(t,t===Ct?Ot:0);if(r===0)n!==null&&E1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E1(n),e===1)t.tag===0?FL(yS.bind(null,t)):WE(yS.bind(null,t)),OL(function(){!(Re&6)&&Fo()}),n=null;else{switch(wE(r)){case 1:n=rw;break;case 4:n=gE;break;case 16:n=Zf;break;case 536870912:n=yE;break;default:n=Zf}n=VT(n,LT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LT(t,e){if(of=-1,sf=0,Re&6)throw Error(W(327));var n=t.callbackNode;if(Pa()&&t.callbackNode!==n)return null;var r=eh(t,t===Ct?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vh(t,r);else{e=r;var i=Re;Re|=2;var o=FT();(Ct!==t||Ot!==e)&&(ti=null,rl=ut()+500,ps(t,e));do try{o2();break}catch(a){jT(t,a)}while(1);gw(),mh.current=o,Re=i,mt!==null?e=0:(Ct=null,Ot=0,e=wt)}if(e!==0){if(e===2&&(i=oy(t),i!==0&&(r=i,e=Ay(t,i))),e===1)throw n=du,ps(t,0),Zi(t,r),un(t,ut()),n;if(e===6)Zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!r2(i)&&(e=vh(t,r),e===2&&(o=oy(t),o!==0&&(r=o,e=Ay(t,o))),e===1))throw n=du,ps(t,0),Zi(t,r),un(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Qo(t,on,ti);break;case 3:if(Zi(t,r),(r&130023424)===r&&(e=Mw+500-ut(),10<e)){if(eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hy(Qo.bind(null,t,on,ti),e);break}Qo(t,on,ti);break;case 4:if(Zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n2(r/1960))-r,10<r){t.timeoutHandle=hy(Qo.bind(null,t,on,ti),r);break}Qo(t,on,ti);break;case 5:Qo(t,on,ti);break;default:throw Error(W(329))}}}return un(t,ut()),t.callbackNode===n?LT.bind(null,t):null}function Ay(t,e){var n=Ac;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=vh(t,e),t!==2&&(e=on,on=n,e!==null&&Oy(e)),t}function Oy(t){on===null?on=t:on.push.apply(on,t)}function r2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e){for(e&=~_w,e&=~dp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function yS(t){if(Re&6)throw Error(W(327));Pa();var e=eh(t,0);if(!(e&1))return un(t,ut()),null;var n=vh(t,e);if(t.tag!==0&&n===2){var r=oy(t);r!==0&&(e=r,n=Ay(t,r))}if(n===1)throw n=du,ps(t,0),Zi(t,e),un(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,on,ti),un(t,ut()),null}function Pw(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(rl=ut()+500,ap&&Fo())}}function Ns(t){so!==null&&so.tag===0&&!(Re&6)&&Pa();var e=Re;Re|=1;var n=zn.transition,r=je;try{if(zn.transition=null,je=1,t)return t()}finally{je=r,zn.transition=n,Re=e,!(Re&6)&&Fo()}}function Aw(){gn=ba.current,Je(ba)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AL(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(hw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oh();break;case 3:tl(),Je(ln),Je(Vt),kw();break;case 5:Sw(r);break;case 4:tl();break;case 13:Je(Ze);break;case 19:Je(Ze);break;case 10:yw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(Ct=t,mt=t=wo(t.current,null),Ot=gn=e,wt=0,du=null,_w=dp=Is=0,on=Ac=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}cs=null}return t}function jT(t,e){do{var n=mt;try{if(gw(),tf.current=ph,hh){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hh=!1}if(Ts=0,bt=vt=et=null,Mc=!1,lu=0,Rw.current=null,n===null||n.return===null){wt=1,du=e,mt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=iS(s);if(h!==null){h.flags&=-257,oS(h,s,a,o,e),h.mode&1&&rS(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){rS(o,c,e),Ow();break e}l=Error(W(426))}}else if(Ye&&a.mode&1){var x=iS(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),oS(x,s,a,o,e),pw(nl(l,a));break e}}o=l=nl(l,a),wt!==4&&(wt=2),Ac===null?Ac=[o]:Ac.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=xT(o,l,e);Y1(o,v);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yo===null||!yo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=ST(o,a,e);Y1(o,C);break e}}o=o.return}while(o!==null)}$T(n)}catch(I){e=I,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function FT(){var t=mh.current;return mh.current=ph,t===null?ph:t}function Ow(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||!(Is&268435455)&&!(dp&268435455)||Zi(Ct,Ot)}function vh(t,e){var n=Re;Re|=2;var r=FT();(Ct!==t||Ot!==e)&&(ti=null,ps(t,e));do try{i2();break}catch(i){jT(t,i)}while(1);if(gw(),Re=n,mh.current=r,mt!==null)throw Error(W(261));return Ct=null,Ot=0,wt}function i2(){for(;mt!==null;)zT(mt)}function o2(){for(;mt!==null&&!_D();)zT(mt)}function zT(t){var e=UT(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?$T(t):mt=e,Rw.current=null}function $T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QL(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,mt=null;return}}else if(n=XL(n,e,gn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);wt===0&&(wt=5)}function Qo(t,e,n){var r=je,i=zn.transition;try{zn.transition=null,je=1,s2(t,e,n,r)}finally{zn.transition=i,je=r}return null}function s2(t,e,n,r){do Pa();while(so!==null);if(Re&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($D(t,o),t===Ct&&(mt=Ct=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,VT(Zf,function(){return Pa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var s=je;je=1;var a=Re;Re|=4,Rw.current=null,e2(t,n),OT(n,t),TL(dy),th=!!uy,dy=uy=null,t.current=n,t2(n),MD(),Re=a,je=s,zn.transition=o}else t.current=n;if(Md&&(Md=!1,so=t,yh=i),o=t.pendingLanes,o===0&&(yo=null),OD(n.stateNode),un(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gh)throw gh=!1,t=My,My=null,t;return yh&1&&t.tag!==0&&Pa(),o=t.pendingLanes,o&1?t===Py?Oc++:(Oc=0,Py=t):Oc=0,Fo(),null}function Pa(){if(so!==null){var t=wE(yh),e=zn.transition,n=je;try{if(zn.transition=null,je=16>t?16:t,so===null)var r=!1;else{if(t=so,so=null,yh=0,Re&6)throw Error(W(331));var i=Re;for(Re|=4,Q=t.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Pc(8,u,o)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,h=u.return;if(MT(u),u===c){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Q=v;break e}Q=o.return}}var w=t.current;for(Q=w;Q!==null;){s=Q;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Q=S;else e:for(s=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:up(9,a)}}catch(I){ot(a,a.return,I)}if(a===s){Q=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Q=C;break e}Q=a.return}}if(Re=i,Fo(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(np,t)}catch{}r=!0}return r}finally{je=n,zn.transition=e}}return!1}function vS(t,e,n){e=nl(n,e),e=xT(t,e,1),t=go(t,e,1),e=Gt(),t!==null&&(Ou(t,1,e),un(t,e))}function ot(t,e,n){if(t.tag===3)vS(t,t,n);else for(;e!==null;){if(e.tag===3){vS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){t=nl(n,t),t=ST(e,t,1),e=go(e,t,1),t=Gt(),e!==null&&(Ou(e,1,t),un(e,t));break}}e=e.return}}function a2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Ot&n)===n&&(wt===4||wt===3&&(Ot&130023424)===Ot&&500>ut()-Mw?ps(t,0):_w|=n),un(t,e)}function BT(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=Gt();t=yi(t,e),t!==null&&(Ou(t,e,n),un(t,n))}function l2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BT(t,n)}function c2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),BT(t,n)}var UT;UT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,YL(t,e,n);an=!!(t.flags&131072)}else an=!1,Ye&&e.flags&1048576&&HE(e,lh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=Qa(e,Vt.current);Ma(e,n),i=Cw(null,e,r,t,i,n);var o=Ew();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(o=!0,sh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ww(e),i.updater=lp,e.stateNode=i,i._reactInternals=e,xy(e,r,t,n),e=by(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&fw(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d2(r),t=Qn(r,t),i){case 0:e=ky(null,e,r,t,n);break e;case 1:e=lS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=aS(null,e,r,Qn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),lS(t,e,r,i,n);case 3:e:{if(ET(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,JE(t,e),dh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=nl(Error(W(423)),e),e=cS(t,e,r,n,i);break e}else if(r!==i){i=nl(Error(W(424)),e),e=cS(t,e,r,n,i);break e}else for(xn=mo(e.stateNode.containerInfo.firstChild),kn=e,Ye=!0,tr=null,n=ZE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Za(),r===i){e=vi(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return eT(e),t===null&&yy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fy(r,i)?s=null:o!==null&&fy(r,o)&&(e.flags|=32),CT(t,e),Kt(t,e,s,n),e.child;case 6:return t===null&&yy(e),null;case 13:return TT(t,e,n);case 4:return xw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=el(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),sS(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ve(ch,r._currentValue),r._currentValue=s,o!==null)if(cr(o.value,s)){if(o.children===i.children&&!ln.current){e=vi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=Un(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),aS(t,e,r,i,n);case 15:return kT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),rf(t,e),e.tag=1,cn(r)?(t=!0,sh(e)):t=!1,Ma(e,n),XE(e,r,i),xy(e,r,i,n),by(null,e,r,!0,t,n);case 19:return IT(t,e,n);case 22:return bT(t,e,n)}throw Error(W(156,e.tag))};function VT(t,e){return mE(t,e)}function u2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new u2(t,e,n,r)}function Dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d2(t){if(typeof t=="function")return Dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ew)return 11;if(t===tw)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Dw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ha:return ms(n.children,i,o,e);case Zv:s=8,i|=8;break;case Wg:return t=Fn(12,n,e,i|2),t.elementType=Wg,t.lanes=o,t;case Hg:return t=Fn(13,n,e,i),t.elementType=Hg,t.lanes=o,t;case Kg:return t=Fn(19,n,e,i),t.elementType=Kg,t.lanes=o,t;case QC:return fp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YC:s=10;break e;case XC:s=9;break e;case ew:s=11;break e;case tw:s=14;break e;case Gi:s=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Fn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ms(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function fp(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=QC,t.lanes=n,t.stateNode={isHidden:!1},t}function Om(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Dm(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lw(t,e,n,r,i,o,s,a,l){return t=new f2(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ww(o),t}function h2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WT(t){if(!t)return No;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(cn(n))return VE(t,n,e)}return e}function HT(t,e,n,r,i,o,s,a,l){return t=Lw(n,r,!0,t,i,o,s,a,l),t.context=WT(null),n=t.current,r=Gt(),i=vo(n),o=di(r,i),o.callback=e??null,go(n,o,i),t.current.lanes=i,Ou(t,i,r),un(t,r),t}function hp(t,e,n,r){var i=e.current,o=Gt(),s=vo(i);return n=WT(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=go(i,e,s),t!==null&&(lr(t,i,s,o),ef(t,i,s)),s}function wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jw(t,e){wS(t,e),(t=t.alternate)&&wS(t,e)}function p2(){return null}var KT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fw(t){this._internalRoot=t}pp.prototype.render=Fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));hp(t,e,null,null)};pp.prototype.unmount=Fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){hp(null,t,null,null)}),e[gi]=null}};function pp(t){this._internalRoot=t}pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=kE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&CE(t)}};function zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xS(){}function m2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=wh(s);o.call(c)}}var s=HT(e,r,t,0,null,!1,!1,"",xS);return t._reactRootContainer=s,t[gi]=s.current,ru(t.nodeType===8?t.parentNode:t),Ns(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wh(l);a.call(c)}}var l=Lw(t,0,!1,null,null,!1,!1,"",xS);return t._reactRootContainer=l,t[gi]=l.current,ru(t.nodeType===8?t.parentNode:t),Ns(function(){hp(e,l,n,r)}),l}function gp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wh(s);a.call(l)}}hp(e,s,t,i)}else s=m2(n,e,t,i,r);return wh(s)}xE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ql(e.pendingLanes);n!==0&&(iw(e,n|1),un(e,ut()),!(Re&6)&&(rl=ut()+500,Fo()))}break;case 13:Ns(function(){var r=yi(t,1);if(r!==null){var i=Gt();lr(r,t,1,i)}}),jw(t,1)}};ow=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=Gt();lr(e,t,134217728,n)}jw(t,134217728)}};SE=function(t){if(t.tag===13){var e=vo(t),n=yi(t,e);if(n!==null){var r=Gt();lr(n,t,e,r)}jw(t,e)}};kE=function(){return je};bE=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};ny=function(t,e,n){switch(e){case"input":if(Jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sp(r);if(!i)throw Error(W(90));eE(r),Jg(r,i)}}}break;case"textarea":nE(t,n);break;case"select":e=n.value,e!=null&&Ia(t,!!n.multiple,e,!1)}};cE=Pw;uE=Ns;var g2={usingClientEntryPoint:!1,Events:[Lu,ya,sp,aE,lE,Pw]},Bl={findFiberByHostInstance:ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},y2={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hE(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||p2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{np=Pd.inject(y2),Dr=Pd}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(e))throw Error(W(200));return h2(t,e,null,n)};Tn.createRoot=function(t,e){if(!zw(t))throw Error(W(299));var n=!1,r="",i=KT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lw(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,ru(t.nodeType===8?t.parentNode:t),new Fw(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=hE(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Ns(t)};Tn.hydrate=function(t,e,n){if(!mp(e))throw Error(W(200));return gp(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!zw(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=KT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=HT(e,null,t,1,n??null,i,!1,o,s),t[gi]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pp(e)};Tn.render=function(t,e,n){if(!mp(e))throw Error(W(200));return gp(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!mp(t))throw Error(W(40));return t._reactRootContainer?(Ns(function(){gp(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Tn.unstable_batchedUpdates=Pw;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mp(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return gp(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function GT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GT)}catch(t){console.error(t)}}GT(),HC.exports=Tn;var yl=HC.exports;const qT=ep(yl),v2=AC({__proto__:null,default:qT},[yl]);var SS=yl;Ug.createRoot=SS.createRoot,Ug.hydrateRoot=SS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const kS="popstate";function w2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return fu("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rs(i)}return S2(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function il(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x2(){return Math.random().toString(36).substr(2,8)}function bS(t,e){return{usr:t.state,key:t.key,idx:e}}function fu(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||x2()})}function Rs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function S2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ct.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Qe({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=ct.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function f(x,v){a=ct.Push;let w=fu(g.location,x,v);n&&n(w,x),c=u()+1;let S=bS(w,c),C=g.createHref(w);try{s.pushState(S,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function h(x,v){a=ct.Replace;let w=fu(g.location,x,v);n&&n(w,x),c=u();let S=bS(w,c),C=g.createHref(w);s.replaceState(S,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function p(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Rs(x);return w=w.replace(/ $/,"%20"),we(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kS,d),l=x,()=>{i.removeEventListener(kS,d),l=null}},createHref(x){return e(i,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(x){return s.go(x)}};return g}var Fe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fe||(Fe={}));const k2=new Set(["lazy","caseSensitive","path","id","index","children"]);function b2(t){return t.index===!0}function hu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),b2(i)){let l=Qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=Qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=hu(i.children,e,s,r)),l}})}function ss(t,e,n){return n===void 0&&(n="/"),lf(t,e,n,!1)}function lf(t,e,n,r){let i=typeof e=="string"?Ii(e):e,o=vl(i.pathname||"/",n);if(o==null)return null;let s=JT(t);E2(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=L2(o);a=O2(s[l],c,r)}return a}function C2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function JT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fi([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JT(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:P2(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of YT(o.path))i(o,s,l)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=YT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T2=/^:[\w-]+$/,I2=3,N2=2,R2=1,_2=10,M2=-2,CS=t=>t==="*";function P2(t,e){let n=t.split("/"),r=n.length;return n.some(CS)&&(r+=M2),e&&(r+=N2),n.filter(i=>!CS(i)).reduce((i,o)=>i+(T2.test(o)?I2:o===""?R2:_2),r)}function A2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=ES({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=ES({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:fi([o,d.pathname]),pathnameBase:z2(fi([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=fi([o,d.pathnameBase]))}return s}function ES(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=D2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function D2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),il(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return il(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:F2(n,e):e,search:$2(r),hash:B2(i)}}function F2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(t,e){let n=XT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ii(t):(i=Qe({},t),we(!i.pathname||!i.pathname.includes("?"),Lm("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),Lm("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),Lm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=j2(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),z2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class xh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function wp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QT=["post","put","patch","delete"],U2=new Set(QT),V2=["get",...QT],W2=new Set(V2),H2=new Set([301,302,303,307,308]),K2=new Set([307,308]),jm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZT="remix-router-transitions";function J2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=q2;let o={},s=hu(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.unstable_dataStrategy||tj,u=t.unstable_patchRoutesOnNavigation,d=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=1e3,g=new Set,x=null,v=null,w=null,S=t.hydrationData!=null,C=ss(s,t.history.location,l),I=null;if(C==null&&!u){let N=Ht(404,{pathname:t.history.location.pathname}),{matches:M,route:L}=OS(s);C=M,I={[L.id]:N}}C&&!t.hydrationData&&cd(C,s,t.history.location.pathname).active&&(C=null);let b;if(C)if(C.some(N=>N.route.lazy))b=!1;else if(!C.some(N=>N.route.loader))b=!0;else if(d.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null,L=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:N&&N[B.route.id]!==void 0||M&&M[B.route.id]!==void 0:!0;if(M){let B=C.findIndex(Y=>M[Y.route.id]!==void 0);b=C.slice(0,B+1).every(L)}else b=C.every(L)}else b=t.hydrationData!=null;else if(b=!1,C=[],d.v7_partialHydration){let N=cd(null,s,t.history.location.pathname);N.active&&N.matches&&(C=N.matches)}let R,k={historyAction:t.history.action,location:t.history.location,matches:C,initialized:b,navigation:jm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},_=ct.Pop,A=!1,P,O=!1,U=new Map,F=null,V=!1,K=!1,te=[],j=new Set,D=new Map,E=0,J=-1,le=new Map,T=new Set,Se=new Map,Z=new Map,ee=new Set,Te=new Map,De=new Map,Ue=new Map,St;function kr(){if(f=t.history.listen(N=>{let{action:M,location:L,delta:B}=N;if(St){St(),St=void 0;return}il(De.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=l1({currentLocation:k.location,nextLocation:L,historyAction:M});if(Y&&B!=null){let se=new Promise(he=>{St=he});t.history.go(B*-1),ad(Y,{state:"blocked",location:L,proceed(){ad(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),se.then(()=>t.history.go(B))},reset(){let he=new Map(k.blockers);he.set(Y,Ul),dt({blockers:he})}});return}return Jn(M,L)}),n){gj(e,U);let N=()=>yj(e,U);e.addEventListener("pagehide",N),F=()=>e.removeEventListener("pagehide",N)}return k.initialized||Jn(ct.Pop,k.location,{initialHydration:!0}),R}function Ks(){f&&f(),F&&F(),h.clear(),P&&P.abort(),k.fetchers.forEach((N,M)=>tn(M)),k.blockers.forEach((N,M)=>a1(M))}function Kr(N){return h.add(N),()=>h.delete(N)}function dt(N,M){M===void 0&&(M={}),k=Qe({},k,N);let L=[],B=[];d.v7_fetcherPersist&&k.fetchers.forEach((Y,se)=>{Y.state==="idle"&&(ee.has(se)?B.push(se):L.push(se))}),[...h].forEach(Y=>Y(k,{deletedFetchers:B,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),d.v7_fetcherPersist&&(L.forEach(Y=>k.fetchers.delete(Y)),B.forEach(Y=>tn(Y)))}function qn(N,M,L){var B,Y;let{flushSync:se}=L===void 0?{}:L,he=k.actionData!=null&&k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&k.navigation.state==="loading"&&((B=N.state)==null?void 0:B._isRedirect)!==!0,q;M.actionData?Object.keys(M.actionData).length>0?q=M.actionData:q=null:he?q=k.actionData:q=null;let ce=M.loaderData?PS(k.loaderData,M.loaderData,M.matches||[],M.errors):k.loaderData,ne=k.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Le,He)=>ne.set(He,Ul)));let re=A===!0||k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&((Y=N.state)==null?void 0:Y._isRedirect)!==!0;a&&(s=a,a=void 0),V||_===ct.Pop||(_===ct.Push?t.history.push(N,N.state):_===ct.Replace&&t.history.replace(N,N.state));let Pe;if(_===ct.Pop){let Le=U.get(k.location.pathname);Le&&Le.has(N.pathname)?Pe={currentLocation:k.location,nextLocation:N}:U.has(N.pathname)&&(Pe={currentLocation:N,nextLocation:k.location})}else if(O){let Le=U.get(k.location.pathname);Le?Le.add(N.pathname):(Le=new Set([N.pathname]),U.set(k.location.pathname,Le)),Pe={currentLocation:k.location,nextLocation:N}}dt(Qe({},M,{actionData:q,loaderData:ce,historyAction:_,location:N,initialized:!0,navigation:jm,revalidation:"idle",restoreScrollPosition:u1(N,M.matches||k.matches),preventScrollReset:re,blockers:ne}),{viewTransitionOpts:Pe,flushSync:se===!0}),_=ct.Pop,A=!1,O=!1,V=!1,K=!1,te=[]}async function qo(N,M){if(typeof N=="number"){t.history.go(N);return}let L=Dy(k.location,k.matches,l,d.v7_prependBasename,N,d.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:B,submission:Y,error:se}=TS(d.v7_normalizeFormMethod,!1,L,M),he=k.location,q=fu(k.location,B,M&&M.state);q=Qe({},q,t.history.encodeLocation(q));let ce=M&&M.replace!=null?M.replace:void 0,ne=ct.Push;ce===!0?ne=ct.Replace:ce===!1||Y!=null&&er(Y.formMethod)&&Y.formAction===k.location.pathname+k.location.search&&(ne=ct.Replace);let re=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Pe=(M&&M.unstable_flushSync)===!0,Le=l1({currentLocation:he,nextLocation:q,historyAction:ne});if(Le){ad(Le,{state:"blocked",location:q,proceed(){ad(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),qo(N,M)},reset(){let He=new Map(k.blockers);He.set(Le,Ul),dt({blockers:He})}});return}return await Jn(ne,q,{submission:Y,pendingError:se,preventScrollReset:re,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:Pe})}function Gs(){if(ve(),dt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Jn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Jn(_||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:O===!0})}}async function Jn(N,M,L){P&&P.abort(),P=null,_=N,V=(L&&L.startUninterruptedRevalidation)===!0,UO(k.location,k.matches),A=(L&&L.preventScrollReset)===!0,O=(L&&L.enableViewTransition)===!0;let B=a||s,Y=L&&L.overrideNavigation,se=ss(B,M,l),he=(L&&L.flushSync)===!0,q=cd(se,B,M.pathname);if(q.active&&q.matches&&(se=q.matches),!se){let{error:Ie,notFoundMatches:kt,route:ft}=lm(M.pathname);qn(M,{matches:kt,loaderData:{},errors:{[ft.id]:Ie}},{flushSync:he});return}if(k.initialized&&!K&&aj(k.location,M)&&!(L&&L.submission&&er(L.submission.formMethod))){qn(M,{matches:se},{flushSync:he});return}P=new AbortController;let ce=Ys(t.history,M,P.signal,L&&L.submission),ne;if(L&&L.pendingError)ne=[Ca(se).route.id,{type:Fe.error,error:L.pendingError}];else if(L&&L.submission&&er(L.submission.formMethod)){let Ie=await Gr(ce,M,L.submission,se,q.active,{replace:L.replace,flushSync:he});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[kt,ft]=Ie.pendingActionResult;if(yn(ft)&&wp(ft.error)&&ft.error.status===404){P=null,qn(M,{matches:Ie.matches,loaderData:{},errors:{[kt]:ft.error}});return}}se=Ie.matches||se,ne=Ie.pendingActionResult,Y=Fm(M,L.submission),he=!1,q.active=!1,ce=Ys(t.history,ce.url,ce.signal)}let{shortCircuited:re,matches:Pe,loaderData:Le,errors:He}=await od(ce,M,se,q.active,Y,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,he,ne);re||(P=null,qn(M,Qe({matches:Pe||se},AS(ne),{loaderData:Le,errors:He})))}async function Gr(N,M,L,B,Y,se){se===void 0&&(se={}),ve();let he=pj(M,L);if(dt({navigation:he},{flushSync:se.flushSync===!0}),Y){let ne=await ud(B,M.pathname,N.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let{boundaryId:re,error:Pe}=ld(M.pathname,ne);return{matches:ne.partialMatches,pendingActionResult:[re,{type:Fe.error,error:Pe}]}}else if(ne.matches)B=ne.matches;else{let{notFoundMatches:re,error:Pe,route:Le}=lm(M.pathname);return{matches:re,pendingActionResult:[Le.id,{type:Fe.error,error:Pe}]}}}let q,ce=ec(B,M);if(!ce.route.action&&!ce.route.lazy)q={type:Fe.error,error:Ht(405,{method:N.method,pathname:M.pathname,routeId:ce.route.id})};else if(q=(await G("action",k,N,[ce],B,null))[ce.route.id],N.signal.aborted)return{shortCircuited:!0};if(ds(q)){let ne;return se&&se.replace!=null?ne=se.replace:ne=RS(q.response.headers.get("Location"),new URL(N.url),l)===k.location.pathname+k.location.search,await z(N,q,!0,{submission:L,replace:ne}),{shortCircuited:!0}}if(ao(q))throw Ht(400,{type:"defer-action"});if(yn(q)){let ne=Ca(B,ce.route.id);return(se&&se.replace)!==!0&&(_=ct.Push),{matches:B,pendingActionResult:[ne.route.id,q]}}return{matches:B,pendingActionResult:[ce.route.id,q]}}async function od(N,M,L,B,Y,se,he,q,ce,ne,re){let Pe=Y||Fm(M,se),Le=se||he||LS(Pe),He=!V&&(!d.v7_partialHydration||!ce);if(B){if(He){let rt=sd(re);dt(Qe({navigation:Pe},rt!==void 0?{actionData:rt}:{}),{flushSync:ne})}let ye=await ud(L,M.pathname,N.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:rt,error:pn}=ld(M.pathname,ye);return{matches:ye.partialMatches,loaderData:{},errors:{[rt]:pn}}}else if(ye.matches)L=ye.matches;else{let{error:rt,notFoundMatches:pn,route:it}=lm(M.pathname);return{matches:pn,loaderData:{},errors:{[it.id]:rt}}}}let Ie=a||s,[kt,ft]=IS(t.history,k,L,Le,M,d.v7_partialHydration&&ce===!0,d.v7_skipActionErrorRevalidation,K,te,j,ee,Se,T,Ie,l,re);if(cm(ye=>!(L&&L.some(rt=>rt.route.id===ye))||kt&&kt.some(rt=>rt.route.id===ye)),J=++E,kt.length===0&&ft.length===0){let ye=qr();return qn(M,Qe({matches:L,loaderData:{},errors:re&&yn(re[1])?{[re[0]]:re[1].error}:null},AS(re),ye?{fetchers:new Map(k.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(He){let ye={};if(!B){ye.navigation=Pe;let rt=sd(re);rt!==void 0&&(ye.actionData=rt)}ft.length>0&&(ye.fetchers=im(ft)),dt(ye,{flushSync:ne})}ft.forEach(ye=>{D.has(ye.key)&&nn(ye.key),ye.controller&&D.set(ye.key,ye.controller)});let Al=()=>ft.forEach(ye=>nn(ye.key));P&&P.signal.addEventListener("abort",Al);let{loaderResults:Jr,fetcherResults:qs}=await fe(k,L,kt,ft,N);if(N.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Al),ft.forEach(ye=>D.delete(ye.key));let Pi=Ad(Jr);if(Pi)return await z(N,Pi.result,!0,{replace:q}),{shortCircuited:!0};if(Pi=Ad(qs),Pi)return T.add(Pi.key),await z(N,Pi.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:dd,errors:Yr}=MS(k,L,kt,Jr,re,ft,qs,Te);Te.forEach((ye,rt)=>{ye.subscribe(pn=>{(pn||ye.done)&&Te.delete(rt)})}),d.v7_partialHydration&&ce&&k.errors&&Object.entries(k.errors).filter(ye=>{let[rt]=ye;return!kt.some(pn=>pn.route.id===rt)}).forEach(ye=>{let[rt,pn]=ye;Yr=Object.assign(Yr||{},{[rt]:pn})});let fd=qr(),hd=_n(J),pd=fd||hd||ft.length>0;return Qe({matches:L,loaderData:dd,errors:Yr},pd?{fetchers:new Map(k.fetchers)}:{})}function sd(N){if(N&&!yn(N[1]))return{[N[0]]:N[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function im(N){return N.forEach(M=>{let L=k.fetchers.get(M.key),B=Vl(void 0,L?L.data:void 0);k.fetchers.set(M.key,B)}),new Map(k.fetchers)}function om(N,M,L,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(N)&&nn(N);let Y=(B&&B.unstable_flushSync)===!0,se=a||s,he=Dy(k.location,k.matches,l,d.v7_prependBasename,L,d.v7_relativeSplatPath,M,B==null?void 0:B.relative),q=ss(se,he,l),ce=cd(q,se,he);if(ce.active&&ce.matches&&(q=ce.matches),!q){lt(N,M,Ht(404,{pathname:he}),{flushSync:Y});return}let{path:ne,submission:re,error:Pe}=TS(d.v7_normalizeFormMethod,!0,he,B);if(Pe){lt(N,M,Pe,{flushSync:Y});return}let Le=ec(q,ne);if(A=(B&&B.preventScrollReset)===!0,re&&er(re.formMethod)){sm(N,M,ne,Le,q,ce.active,Y,re);return}Se.set(N,{routeId:M,path:ne}),am(N,M,ne,Le,q,ce.active,Y,re)}async function sm(N,M,L,B,Y,se,he,q){ve(),Se.delete(N);function ce(it){if(!it.route.action&&!it.route.lazy){let Xr=Ht(405,{method:q.formMethod,pathname:L,routeId:M});return lt(N,M,Xr,{flushSync:he}),!0}return!1}if(!se&&ce(B))return;let ne=k.fetchers.get(N);ke(N,mj(q,ne),{flushSync:he});let re=new AbortController,Pe=Ys(t.history,L,re.signal,q);if(se){let it=await ud(Y,L,Pe.signal);if(it.type==="aborted")return;if(it.type==="error"){let{error:Xr}=ld(L,it);lt(N,M,Xr,{flushSync:he});return}else if(it.matches){if(Y=it.matches,B=ec(Y,L),ce(B))return}else{lt(N,M,Ht(404,{pathname:L}),{flushSync:he});return}}D.set(N,re);let Le=E,Ie=(await G("action",k,Pe,[B],Y,N))[B.route.id];if(Pe.signal.aborted){D.get(N)===re&&D.delete(N);return}if(d.v7_fetcherPersist&&ee.has(N)){if(ds(Ie)||yn(Ie)){ke(N,Fi(void 0));return}}else{if(ds(Ie))if(D.delete(N),J>Le){ke(N,Fi(void 0));return}else return T.add(N),ke(N,Vl(q)),z(Pe,Ie,!1,{fetcherSubmission:q});if(yn(Ie)){lt(N,M,Ie.error);return}}if(ao(Ie))throw Ht(400,{type:"defer-action"});let kt=k.navigation.location||k.location,ft=Ys(t.history,kt,re.signal),Al=a||s,Jr=k.navigation.state!=="idle"?ss(Al,k.navigation.location,l):k.matches;we(Jr,"Didn't find any matches after fetcher action");let qs=++E;le.set(N,qs);let Pi=Vl(q,Ie.data);k.fetchers.set(N,Pi);let[dd,Yr]=IS(t.history,k,Jr,q,kt,!1,d.v7_skipActionErrorRevalidation,K,te,j,ee,Se,T,Al,l,[B.route.id,Ie]);Yr.filter(it=>it.key!==N).forEach(it=>{let Xr=it.key,f1=k.fetchers.get(Xr),HO=Vl(void 0,f1?f1.data:void 0);k.fetchers.set(Xr,HO),D.has(Xr)&&nn(Xr),it.controller&&D.set(Xr,it.controller)}),dt({fetchers:new Map(k.fetchers)});let fd=()=>Yr.forEach(it=>nn(it.key));re.signal.addEventListener("abort",fd);let{loaderResults:hd,fetcherResults:pd}=await fe(k,Jr,dd,Yr,ft);if(re.signal.aborted)return;re.signal.removeEventListener("abort",fd),le.delete(N),D.delete(N),Yr.forEach(it=>D.delete(it.key));let ye=Ad(hd);if(ye)return z(ft,ye.result,!1);if(ye=Ad(pd),ye)return T.add(ye.key),z(ft,ye.result,!1);let{loaderData:rt,errors:pn}=MS(k,Jr,dd,hd,void 0,Yr,pd,Te);if(k.fetchers.has(N)){let it=Fi(Ie.data);k.fetchers.set(N,it)}_n(qs),k.navigation.state==="loading"&&qs>J?(we(_,"Expected pending action"),P&&P.abort(),qn(k.navigation.location,{matches:Jr,loaderData:rt,errors:pn,fetchers:new Map(k.fetchers)})):(dt({errors:pn,loaderData:PS(k.loaderData,rt,Jr,pn),fetchers:new Map(k.fetchers)}),K=!1)}async function am(N,M,L,B,Y,se,he,q){let ce=k.fetchers.get(N);ke(N,Vl(q,ce?ce.data:void 0),{flushSync:he});let ne=new AbortController,re=Ys(t.history,L,ne.signal);if(se){let Ie=await ud(Y,L,re.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:kt}=ld(L,Ie);lt(N,M,kt,{flushSync:he});return}else if(Ie.matches)Y=Ie.matches,B=ec(Y,L);else{lt(N,M,Ht(404,{pathname:L}),{flushSync:he});return}}D.set(N,ne);let Pe=E,He=(await G("loader",k,re,[B],Y,N))[B.route.id];if(ao(He)&&(He=await Bw(He,re.signal,!0)||He),D.get(N)===ne&&D.delete(N),!re.signal.aborted){if(ee.has(N)){ke(N,Fi(void 0));return}if(ds(He))if(J>Pe){ke(N,Fi(void 0));return}else{T.add(N),await z(re,He,!1);return}if(yn(He)){lt(N,M,He.error);return}we(!ao(He),"Unhandled fetcher deferred data"),ke(N,Fi(He.data))}}async function z(N,M,L,B){let{submission:Y,fetcherSubmission:se,replace:he}=B===void 0?{}:B;M.response.headers.has("X-Remix-Revalidate")&&(K=!0);let q=M.response.headers.get("Location");we(q,"Expected a Location header on the redirect Response"),q=RS(q,new URL(N.url),l);let ce=fu(k.location,q,{_isRedirect:!0});if(n){let Ie=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if($w.test(q)){const kt=t.history.createURL(q);Ie=kt.origin!==e.location.origin||vl(kt.pathname,l)==null}if(Ie){he?e.location.replace(q):e.location.assign(q);return}}P=null;let ne=he===!0||M.response.headers.has("X-Remix-Replace")?ct.Replace:ct.Push,{formMethod:re,formAction:Pe,formEncType:Le}=k.navigation;!Y&&!se&&re&&Pe&&Le&&(Y=LS(k.navigation));let He=Y||se;if(K2.has(M.response.status)&&He&&er(He.formMethod))await Jn(ne,ce,{submission:Qe({},He,{formAction:q}),preventScrollReset:A,enableViewTransition:L?O:void 0});else{let Ie=Fm(ce,Y);await Jn(ne,ce,{overrideNavigation:Ie,fetcherSubmission:se,preventScrollReset:A,enableViewTransition:L?O:void 0})}}async function G(N,M,L,B,Y,se){let he,q={};try{he=await nj(c,N,M,L,B,Y,se,o,i)}catch(ce){return B.forEach(ne=>{q[ne.route.id]={type:Fe.error,error:ce}}),q}for(let[ce,ne]of Object.entries(he))if(cj(ne)){let re=ne.result;q[ce]={type:Fe.redirect,response:oj(re,L,ce,Y,l,d.v7_relativeSplatPath)}}else q[ce]=await ij(ne);return q}async function fe(N,M,L,B,Y){let se=N.matches,he=G("loader",N,Y,L,M,null),q=Promise.all(B.map(async re=>{if(re.matches&&re.match&&re.controller){let Le=(await G("loader",N,Ys(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:Le}}else return Promise.resolve({[re.key]:{type:Fe.error,error:Ht(404,{pathname:re.path})}})})),ce=await he,ne=(await q).reduce((re,Pe)=>Object.assign(re,Pe),{});return await Promise.all([fj(M,ce,Y.signal,se,N.loaderData),hj(M,ne,B)]),{loaderResults:ce,fetcherResults:ne}}function ve(){K=!0,te.push(...cm()),Se.forEach((N,M)=>{D.has(M)&&(j.add(M),nn(M))})}function ke(N,M,L){L===void 0&&(L={}),k.fetchers.set(N,M),dt({fetchers:new Map(k.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function lt(N,M,L,B){B===void 0&&(B={});let Y=Ca(k.matches,M);tn(N),dt({errors:{[Y.route.id]:L},fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function br(N){return d.v7_fetcherPersist&&(Z.set(N,(Z.get(N)||0)+1),ee.has(N)&&ee.delete(N)),k.fetchers.get(N)||G2}function tn(N){let M=k.fetchers.get(N);D.has(N)&&!(M&&M.state==="loading"&&le.has(N))&&nn(N),Se.delete(N),le.delete(N),T.delete(N),ee.delete(N),j.delete(N),k.fetchers.delete(N)}function Jo(N){if(d.v7_fetcherPersist){let M=(Z.get(N)||0)-1;M<=0?(Z.delete(N),ee.add(N)):Z.set(N,M)}else tn(N);dt({fetchers:new Map(k.fetchers)})}function nn(N){let M=D.get(N);we(M,"Expected fetch controller: "+N),M.abort(),D.delete(N)}function Lt(N){for(let M of N){let L=br(M),B=Fi(L.data);k.fetchers.set(M,B)}}function qr(){let N=[],M=!1;for(let L of T){let B=k.fetchers.get(L);we(B,"Expected fetcher: "+L),B.state==="loading"&&(T.delete(L),N.push(L),M=!0)}return Lt(N),M}function _n(N){let M=[];for(let[L,B]of le)if(B<N){let Y=k.fetchers.get(L);we(Y,"Expected fetcher: "+L),Y.state==="loading"&&(nn(L),le.delete(L),M.push(L))}return Lt(M),M.length>0}function $O(N,M){let L=k.blockers.get(N)||Ul;return De.get(N)!==M&&De.set(N,M),L}function a1(N){k.blockers.delete(N),De.delete(N)}function ad(N,M){let L=k.blockers.get(N)||Ul;we(L.state==="unblocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="proceeding"||L.state==="blocked"&&M.state==="unblocked"||L.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+M.state);let B=new Map(k.blockers);B.set(N,M),dt({blockers:B})}function l1(N){let{currentLocation:M,nextLocation:L,historyAction:B}=N;if(De.size===0)return;De.size>1&&il(!1,"A router only supports one blocker at a time");let Y=Array.from(De.entries()),[se,he]=Y[Y.length-1],q=k.blockers.get(se);if(!(q&&q.state==="proceeding")&&he({currentLocation:M,nextLocation:L,historyAction:B}))return se}function lm(N){let M=Ht(404,{pathname:N}),L=a||s,{matches:B,route:Y}=OS(L);return cm(),{notFoundMatches:B,route:Y,error:M}}function ld(N,M){return{boundaryId:Ca(M.partialMatches).route.id,error:Ht(400,{type:"route-discovery",pathname:N,message:M.error!=null&&"message"in M.error?M.error:String(M.error)})}}function cm(N){let M=[];return Te.forEach((L,B)=>{(!N||N(B))&&(L.cancel(),M.push(B),Te.delete(B))}),M}function BO(N,M,L){if(x=N,w=M,v=L||null,!S&&k.navigation===jm){S=!0;let B=u1(k.location,k.matches);B!=null&&dt({restoreScrollPosition:B})}return()=>{x=null,w=null,v=null}}function c1(N,M){return v&&v(N,M.map(B=>C2(B,k.loaderData)))||N.key}function UO(N,M){if(x&&w){let L=c1(N,M);x[L]=w()}}function u1(N,M){if(x){let L=c1(N,M),B=x[L];if(typeof B=="number")return B}return null}function cd(N,M,L){if(u){if(g.has(L))return{active:!1,matches:N};if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:lf(M,L,l,!0)}}else return{active:!0,matches:lf(M,L,l,!0)||[]}}return{active:!1,matches:null}}async function ud(N,M,L){let B=N;for(;;){let Y=a==null,se=a||s;try{await Z2(u,M,B,se,o,i,Ue,L)}catch(ce){return{type:"error",error:ce,partialMatches:B}}finally{Y&&(s=[...s])}if(L.aborted)return{type:"aborted"};let he=ss(se,M,l);if(he)return d1(M,g),{type:"success",matches:he};let q=lf(se,M,l,!0);if(!q||B.length===q.length&&B.every((ce,ne)=>ce.route.id===q[ne].route.id))return d1(M,g),{type:"success",matches:null};B=q}}function d1(N,M){if(M.size>=p){let L=M.values().next().value;M.delete(L)}M.add(N)}function VO(N){o={},a=hu(N,i,void 0,o)}function WO(N,M){let L=a==null;tI(N,M,a||s,o,i),L&&(s=[...s],dt({}))}return R={get basename(){return l},get future(){return d},get state(){return k},get routes(){return s},get window(){return e},initialize:kr,subscribe:Kr,enableScrollRestoration:BO,navigate:qo,fetch:om,revalidate:Gs,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:br,deleteFetcher:Jo,dispose:Ks,getBlocker:$O,deleteBlocker:a1,patchRoutes:WO,_internalFetchControllers:D,_internalActiveDeferreds:Te,_internalSetRoutes:VO},R}function Y2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dy(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=vp(i||".",yp(l,o),vl(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Uw(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:fi([n,u.pathname])),Rs(u)}function TS(t,e,n,r){if(!r||!Y2(r))return{path:n};if(r.formMethod&&!dj(r.formMethod))return{path:n,error:Ht(405,{method:r.formMethod})};let i=()=>({path:n,error:Ht(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=nI(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!er(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[g,x]=p;return""+h+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!er(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Ly(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Ly(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=_S(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=_S(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(er(u.formMethod))return{path:n,submission:u};let d=Ii(n);return e&&d.search&&Uw(d.search)&&l.append("index",""),d.search="?"+l,{path:Rs(d),submission:u}}function X2(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function IS(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p,g){let x=g?yn(g[1])?g[1].error:g[1].data:void 0,v=t.createURL(e.location),w=t.createURL(i),S=g&&yn(g[1])?g[0]:void 0,C=S?X2(n,S):n,I=g?g[1].statusCode:void 0,b=s&&I&&I>=400,R=C.filter((_,A)=>{let{route:P}=_;if(P.lazy)return!0;if(P.loader==null)return!1;if(o)return typeof P.loader!="function"||P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(Q2(e.loaderData,e.matches[A],_)||l.some(F=>F===_.route.id))return!0;let O=e.matches[A],U=_;return NS(_,Qe({currentUrl:v,currentParams:O.params,nextUrl:w,nextParams:U.params},r,{actionResult:x,actionStatus:I,defaultShouldRevalidate:b?!1:a||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||eI(O,U)}))}),k=[];return d.forEach((_,A)=>{if(o||!n.some(V=>V.route.id===_.routeId)||u.has(A))return;let P=ss(h,_.path,p);if(!P){k.push({key:A,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(A),U=ec(P,_.path),F=!1;f.has(A)?F=!1:c.has(A)?(c.delete(A),F=!0):O&&O.state!=="idle"&&O.data===void 0?F=a:F=NS(U,Qe({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:I,defaultShouldRevalidate:b?!1:a})),F&&k.push({key:A,routeId:_.routeId,path:_.path,matches:P,match:U,controller:new AbortController})}),[R,k]}function Q2(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function eI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function NS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Z2(t,e,n,r,i,o,s,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=s.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||tI(u,d,r,i,o)}}),s.set(l,c)),c&&lj(c)&&await c}finally{s.delete(l)}}function tI(t,e,n,r,i){if(t){var o;let s=r[t];we(s,"No route found to patch children into: routeId = "+t);let a=hu(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...a):s.children=a}else{let s=hu(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function ej(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";il(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!k2.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Qe({},e(i),{lazy:void 0}))}async function tj(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function nj(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?ej(h.route,l,a):void 0),d=o.map((h,p)=>{let g=u[p],x=i.some(w=>w.route.id===h.route.id);return Qe({},h,{shouldLoad:x,resolve:async w=>(w&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(x=!0),x?rj(e,r,h,g,w,c):Promise.resolve({type:Fe.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function rj(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((p,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(g=>f(g)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Ht(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Fe.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Ht(404,{pathname:d})}we(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Fe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function ij(t){let{result:e,type:n}=t;if(rI(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Fe.error,error:u}}return n===Fe.error?{type:Fe.error,error:new xh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Fe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Fe.error){if(DS(e)){var r;if(e.data instanceof Error){var i;return{type:Fe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new xh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Fe.error,error:e,statusCode:wp(e)?e.status:void 0}}if(uj(e)){var o,s;return{type:Fe.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(DS(e)){var a,l;return{type:Fe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Fe.data,data:e}}function oj(t,e,n,r,i,o){let s=t.headers.get("Location");if(we(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!$w.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Dy(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function RS(t,e,n){if($w.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=vl(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Ys(t,e,n,r){let i=t.createURL(nI(e)).toString(),o={signal:n};if(r&&er(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Ly(r.formData):o.body=r.formData}return new Request(i,o)}function Ly(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function _S(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function sj(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&yn(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(we(!ds(h),"Cannot handle redirect results in processLoaderData"),yn(h)){let p=h.error;if(u!==void 0&&(p=u,u=void 0),s=s||{},i)s[f]=p;else{let g=Ca(t,f);s[g.route.id]==null&&(s[g.route.id]=p)}o[f]=void 0,l||(l=!0,a=wp(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else ao(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function MS(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=sj(e,r,i,a,!1);return o.forEach(u=>{let{key:d,match:f,controller:h}=u,p=s[d];if(we(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(yn(p)){let g=Ca(t.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=Qe({},c,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(ds(p))we(!1,"Unhandled fetcher revalidation redirect");else if(ao(p))we(!1,"Unhandled fetcher deferred data");else{let g=Fi(p.data);t.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function PS(t,e,n,r){let i=Qe({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function AS(t){return t?yn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ca(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function OS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ht(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new xh(t||500,a,new Error(l),!0)}function Ad(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ds(i))return{key:r,result:i}}}function nI(t){let e=typeof t=="string"?Ii(t):t;return Rs(Qe({},e,{hash:""}))}function aj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lj(t){return typeof t=="object"&&t!=null&&"then"in t}function cj(t){return rI(t.result)&&H2.has(t.result.status)}function ao(t){return t.type===Fe.deferred}function yn(t){return t.type===Fe.error}function ds(t){return(t&&t.type)===Fe.redirect}function DS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function uj(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dj(t){return W2.has(t.toLowerCase())}function er(t){return U2.has(t.toLowerCase())}async function fj(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!eI(u,c)&&(i&&i[c.route.id])!==void 0;ao(l)&&d&&await Bw(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function hj(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&ao(a)&&(we(s,"Expected an AbortController for revalidating fetcher deferred result"),await Bw(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Bw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Fe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Fe.error,error:i}}return{type:Fe.data,data:t.deferredData.data}}}function Uw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ec(t,e){let n=typeof e=="string"?Ii(e).search:e.search;if(t[t.length-1].route.index&&Uw(n||""))return t[t.length-1];let r=XT(t);return r[r.length-1]}function LS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Fm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function pj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gj(t,e){try{let n=t.sessionStorage.getItem(ZT);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function yj(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZT,JSON.stringify(n))}catch(r){il(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const xp=m.createContext(null),iI=m.createContext(null),zo=m.createContext(null),Sp=m.createContext(null),Ni=m.createContext({outlet:null,matches:[],isDataRoute:!1}),oI=m.createContext(null);function vj(t,e){let{relative:n}=e===void 0?{}:e;wl()||we(!1);let{basename:r,navigator:i}=m.useContext(zo),{hash:o,pathname:s,search:a}=aI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:fi([r,s])),i.createHref({pathname:l,search:a,hash:o})}function wl(){return m.useContext(Sp)!=null}function Fu(){return wl()||we(!1),m.useContext(Sp).location}function sI(t){m.useContext(zo).static||m.useLayoutEffect(t)}function pr(){let{isDataRoute:t}=m.useContext(Ni);return t?_j():wj()}function wj(){wl()||we(!1);let t=m.useContext(xp),{basename:e,future:n,navigator:r}=m.useContext(zo),{matches:i}=m.useContext(Ni),{pathname:o}=Fu(),s=JSON.stringify(yp(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return sI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=vp(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}function kp(){let{matches:t}=m.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function aI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(zo),{matches:i}=m.useContext(Ni),{pathname:o}=Fu(),s=JSON.stringify(yp(i,r.v7_relativeSplatPath));return m.useMemo(()=>vp(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function xj(t,e,n,r){wl()||we(!1);let{navigator:i}=m.useContext(zo),{matches:o}=m.useContext(Ni),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Fu(),u;if(e){var d;let x=typeof e=="string"?Ii(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||we(!1),u=x}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=ss(t,{pathname:h}),g=Ej(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fi([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fi([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&g?m.createElement(Sp.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ct.Pop}},g):g}function Sj(){let t=Rj(),e=wp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const kj=m.createElement(Sj,null);class bj extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ni.Provider,{value:this.props.routeContext},m.createElement(oI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cj(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(xp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ni.Provider,{value:e},r)}function Ej(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||we(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,g=null,x=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||kj,l&&(c<0&&f===0?(Mj("route-fallback",!1),p=!0,x=null):c===f&&(p=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),w=()=>{let S;return h?S=g:p?S=x:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(Cj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(bj,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var lI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lI||{}),Sh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sh||{});function Tj(t){let e=m.useContext(xp);return e||we(!1),e}function Ij(t){let e=m.useContext(iI);return e||we(!1),e}function Nj(t){let e=m.useContext(Ni);return e||we(!1),e}function cI(t){let e=Nj(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function Rj(){var t;let e=m.useContext(oI),n=Ij(Sh.UseRouteError),r=cI(Sh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _j(){let{router:t}=Tj(lI.UseNavigateStable),e=cI(Sh.UseNavigateStable),n=m.useRef(!1);return sI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},o)))},[t,e])}const jS={};function Mj(t,e,n){!e&&!jS[t]&&(jS[t]=!0)}function Pj(t){let{to:e,replace:n,state:r,relative:i}=t;wl()||we(!1);let{future:o,static:s}=m.useContext(zo),{matches:a}=m.useContext(Ni),{pathname:l}=Fu(),c=pr(),u=vp(e,yp(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Aj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:o,static:s=!1,future:a}=t;wl()&&we(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:pu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ii(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,g=m.useMemo(()=>{let x=vl(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return g==null?null:m.createElement(zo.Provider,{value:c},m.createElement(Sp.Provider,{children:n,value:g}))}new Promise(()=>{});function Oj(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function Dj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jj(t,e){return t.button===0&&(!e||e==="_self")&&!Lj(t)}const Fj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zj="6";try{window.__reactRouterVersion=zj}catch{}function $j(t,e){return J2({basename:e==null?void 0:e.basename,future:mu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:w2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Bj(),routes:t,mapRouteProperties:Oj,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Bj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mu({},e,{errors:Uj(e.errors)})),e}function Uj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new xh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const Vj=m.createContext({isTransitioning:!1}),Wj=m.createContext(new Map),Hj="startTransition",FS=VC[Hj],Kj="flushSync",zS=v2[Kj];function Gj(t){FS?FS(t):t()}function Wl(t){zS?zS(t):t()}let qj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Jj(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=m.useState(n.state),[s,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[f,h]=m.useState(),[p,g]=m.useState(),x=m.useRef(new Map),{v7_startTransition:v}=r||{},w=m.useCallback(k=>{v?Gj(k):k()},[v]),S=m.useCallback((k,_)=>{let{deletedFetchers:A,unstable_flushSync:P,unstable_viewTransitionOpts:O}=_;A.forEach(F=>x.current.delete(F)),k.fetchers.forEach((F,V)=>{F.data!==void 0&&x.current.set(V,F.data)});let U=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||U){P?Wl(()=>o(k)):w(()=>o(k));return}if(P){Wl(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let F=n.window.document.startViewTransition(()=>{Wl(()=>o(k))});F.finished.finally(()=>{Wl(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),Wl(()=>h(F));return}f?(u&&u.resolve(),f.skipTransition(),g({state:k,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,f,u,x,w]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new qj)},[l]),m.useEffect(()=>{if(u&&s&&n.window){let k=s,_=u.promise,A=n.window.document.startViewTransition(async()=>{w(()=>o(k)),await _});A.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(A)}},[w,s,u,n.window]),m.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),m.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),m.useEffect(()=>{},[]);let C=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,_,A)=>n.navigate(k,{state:_,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(k,_,A)=>n.navigate(k,{replace:!0,state:_,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),I=n.basename||"/",b=m.useMemo(()=>({router:n,navigator:C,static:!1,basename:I}),[n,C,I]),R=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(xp.Provider,{value:b},m.createElement(iI.Provider,{value:i},m.createElement(Wj.Provider,{value:x.current},m.createElement(Vj.Provider,{value:l},m.createElement(Aj,{basename:I,location:i.location,navigationType:i.historyAction,navigator:C,future:R},i.initialized||n.future.v7_partialHydration?m.createElement(Yj,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Yj=m.memo(Xj);function Xj(t){let{routes:e,future:n,state:r}=t;return xj(e,void 0,r,n)}const Qj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kh=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Dj(e,Fj),{basename:h}=m.useContext(zo),p,g=!1;if(typeof c=="string"&&Zj.test(c)&&(p=c,Qj))try{let S=new URL(window.location.href),C=c.startsWith("//")?new URL(S.protocol+c):new URL(c),I=vl(C.pathname,h);C.origin===S.origin&&I!=null?c=I+C.search+C.hash:g=!0}catch{}let x=vj(c,{relative:i}),v=eF(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(S){r&&r(S),S.defaultPrevented||v(S)}return m.createElement("a",mu({},f,{href:p||x,onClick:g||o?r:w,ref:n,target:l}))});var $S;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($S||($S={}));var BS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BS||(BS={}));function eF(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=pr(),c=Fu(),u=aI(t,{relative:s});return m.useCallback(d=>{if(jj(d,n)){d.preventDefault();let f=r!==void 0?r:Rs(c)===Rs(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const tF={theme:"system",setTheme:()=>null},nF=m.createContext(tF);function rF({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,o]=m.useState(()=>localStorage.getItem(n)||e);m.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const s={theme:i,setTheme:a=>{localStorage.setItem(n,a),o(a)}};return y.jsx(nF.Provider,{...r,value:s,children:t})}const iF=1,oF=1e6;let zm=0;function sF(){return zm=(zm+1)%Number.MAX_SAFE_INTEGER,zm.toString()}const $m=new Map,US=t=>{if($m.has(t))return;const e=setTimeout(()=>{$m.delete(t),Dc({type:"REMOVE_TOAST",toastId:t})},oF);$m.set(t,e)},aF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?US(n):t.toasts.forEach(r=>{US(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cf=[];let uf={toasts:[]};function Dc(t){uf=aF(uf,t),cf.forEach(e=>{e(uf)})}function lF({...t}){const e=sF(),n=i=>Dc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Dc({type:"DISMISS_TOAST",toastId:e});return Dc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function cF(){const[t,e]=m.useState(uf);return m.useEffect(()=>(cf.push(e),()=>{const n=cf.indexOf(e);n>-1&&cf.splice(n,1)}),[t]),{...t,toast:lF,dismiss:n=>Dc({type:"DISMISS_TOAST",toastId:n})}}function bp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uF=["color"],dF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=bp(t,uF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fF=["color"],uI=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=bp(t,fF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hF=["color"],pF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=bp(t,hF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mF=["color"],gF=m.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=bp(t,mF);return m.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),m.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Cp(...t){return e=>t.forEach(n=>yF(n,e))}function Be(...t){return m.useCallback(Cp(...t),t)}function vF(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,wF(i,...e)]}function wF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Ro=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(xF);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return y.jsx(jy,{...r,ref:e,children:m.isValidElement(s)?m.cloneElement(s,void 0,a):null})}return y.jsx(jy,{...r,ref:e,children:n})});Ro.displayName="Slot";var jy=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=kF(n);return m.cloneElement(n,{...SF(r,n.props),ref:e?Cp(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});jy.displayName="SlotClone";var dI=({children:t})=>y.jsx(y.Fragment,{children:t});function xF(t){return m.isValidElement(t)&&t.type===dI}function SF(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function kF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vw(t){const e=t+"CollectionProvider",[n,r]=vF(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:p,children:g}=h,x=Pn.useRef(null),v=Pn.useRef(new Map).current;return y.jsx(i,{scope:p,itemMap:v,collectionRef:x,children:g})};s.displayName=e;const a=t+"CollectionSlot",l=Pn.forwardRef((h,p)=>{const{scope:g,children:x}=h,v=o(a,g),w=Be(p,v.collectionRef);return y.jsx(Ro,{ref:w,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Pn.forwardRef((h,p)=>{const{scope:g,children:x,...v}=h,w=Pn.useRef(null),S=Be(p,w),C=o(c,g);return Pn.useEffect(()=>(C.itemMap.set(w,{ref:w,...v}),()=>void C.itemMap.delete(w))),y.jsx(Ro,{[u]:"",ref:S,children:x})});d.displayName=c;function f(h){const p=o(t+"CollectionConsumer",h);return Pn.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((C,I)=>v.indexOf(C.ref.current)-v.indexOf(I.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,r]}function bF(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function xl(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=d=>{var v;const{scope:f,children:h,...p}=d,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})};c.displayName=o+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,CF(i,...e)]}function CF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var EF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=EF.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Ro:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ww(t,e){t&&yl.flushSync(()=>t.dispatchEvent(e))}function at(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IF="DismissableLayer",Fy="dismissableLayer.update",NF="dismissableLayer.pointerDownOutside",RF="dismissableLayer.focusOutside",VS,fI=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ep=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(fI),[u,d]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),p=Be(e,R=>d(R)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),w=u?g.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=v,I=MF(R=>{const k=R.target,_=[...c.branches].some(A=>A.contains(k));!C||_||(i==null||i(R),s==null||s(R),R.defaultPrevented||a==null||a())},f),b=PF(R=>{const k=R.target;[...c.branches].some(A=>A.contains(k))||(o==null||o(R),s==null||s(R),R.defaultPrevented||a==null||a())},f);return TF(R=>{w===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(VS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),WS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=VS)}},[u,f,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),WS())},[u,c]),m.useEffect(()=>{const R=()=>h({});return document.addEventListener(Fy,R),()=>document.removeEventListener(Fy,R)},[]),y.jsx(Ee.div,{...l,ref:p,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,b.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,I.onPointerDownCapture)})});Ep.displayName=IF;var _F="DismissableLayerBranch",hI=m.forwardRef((t,e)=>{const n=m.useContext(fI),r=m.useRef(null),i=Be(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(Ee.div,{...t,ref:i})});hI.displayName=_F;function MF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){pI(NF,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PF(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&pI(RF,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WS(){const t=new CustomEvent(Fy);document.dispatchEvent(t)}function pI(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ww(i,o):i.dispatchEvent(o)}var AF=Ep,OF=hI,wi=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},DF="Portal",Tp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);wi(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?qT.createPortal(y.jsx(Ee.div,{...r,ref:e}),s):null});Tp.displayName=DF;function LF(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Nn=t=>{const{present:e,children:n}=t,r=jF(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Be(r.ref,FF(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Nn.displayName="Presence";function jF(t){const[e,n]=m.useState(),r=m.useRef({}),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=LF(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Od(r.current);o.current=a==="mounted"?c:"none"},[a]),wi(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,h=Od(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),wi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=Od(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=h=>{h.target===e&&(o.current=Od(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Od(t){return(t==null?void 0:t.animationName)||"none"}function FF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ip({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=zF({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=at(n),l=m.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[o,t,i,a]);return[s,l]}function zF({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=at(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var $F="VisuallyHidden",Hw=m.forwardRef((t,e)=>y.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hw.displayName=$F;var Kw="ToastProvider",[Gw,BF,UF]=Vw("Toast"),[mI,zY]=xl("Toast",[UF]),[VF,Np]=mI(Kw),gI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kw}\`. Expected non-empty \`string\`.`),y.jsx(Gw.Provider,{scope:e,children:y.jsx(VF,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(h=>h+1),[]),onToastRemove:m.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};gI.displayName=Kw;var yI="ToastViewport",WF=["F8"],zy="toast.viewportPause",$y="toast.viewportResume",vI=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=WF,label:i="Notifications ({hotkey})",...o}=t,s=Np(yI,n),a=BF(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=Be(e,d,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;m.useEffect(()=>{const x=v=>{var S;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,v=d.current;if(p&&x&&v){const w=()=>{if(!s.isClosePausedRef.current){const b=new CustomEvent(zy);v.dispatchEvent(b),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const b=new CustomEvent($y);v.dispatchEvent(b),s.isClosePausedRef.current=!1}},C=b=>{!x.contains(b.relatedTarget)&&S()},I=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",I),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[p,s.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const C=S.ref.current,I=[C,...rz(C)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const x=d.current;if(x){const v=w=>{var I,b,R;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const k=document.activeElement,_=w.shiftKey;if(w.target===x&&_){(I=c.current)==null||I.focus();return}const O=g({tabbingDirection:_?"backwards":"forwards"}),U=O.findIndex(F=>F===k);Bm(O.slice(U+1))?w.preventDefault():_?(b=c.current)==null||b.focus():(R=u.current)==null||R.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),y.jsxs(OF,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&y.jsx(By,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Bm(x)}}),y.jsx(Gw.Slot,{scope:n,children:y.jsx(Ee.ol,{tabIndex:-1,...o,ref:f})}),p&&y.jsx(By,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Bm(x)}})]})});vI.displayName=yI;var wI="ToastFocusProxy",By=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Np(wI,n);return y.jsx(Hw,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});By.displayName=wI;var Rp="Toast",HF="toast.swipeStart",KF="toast.swipeMove",GF="toast.swipeCancel",qF="toast.swipeEnd",xI=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Ip({prop:r,defaultProp:i,onChange:o});return y.jsx(Nn,{present:n||a,children:y.jsx(XF,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:at(t.onPause),onResume:at(t.onResume),onSwipeStart:oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});xI.displayName=Rp;var[JF,YF]=mI(Rp,{onClose(){}}),XF=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=t,g=Np(Rp,n),[x,v]=m.useState(null),w=Be(e,F=>v(F)),S=m.useRef(null),C=m.useRef(null),I=i||g.duration,b=m.useRef(0),R=m.useRef(I),k=m.useRef(0),{onToastAdd:_,onToastRemove:A}=g,P=at(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),s()}),O=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(k.current),b.current=new Date().getTime(),k.current=window.setTimeout(P,F))},[P]);m.useEffect(()=>{const F=g.viewport;if(F){const V=()=>{O(R.current),c==null||c()},K=()=>{const te=new Date().getTime()-b.current;R.current=R.current-te,window.clearTimeout(k.current),l==null||l()};return F.addEventListener(zy,K),F.addEventListener($y,V),()=>{F.removeEventListener(zy,K),F.removeEventListener($y,V)}}},[g.viewport,I,l,c,O]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(I)},[o,I,g.isClosePausedRef,O]),m.useEffect(()=>(_(),()=>A()),[_,A]);const U=m.useMemo(()=>x?II(x):null,[x]);return g.viewport?y.jsxs(y.Fragment,{children:[U&&y.jsx(QF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),y.jsx(JF,{scope:n,onClose:P,children:yl.createPortal(y.jsx(Gw.ItemSlot,{scope:n,children:y.jsx(AF,{asChild:!0,onEscapeKeyDown:oe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:oe(t.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:oe(t.onPointerMove,F=>{if(!S.current)return;const V=F.clientX-S.current.x,K=F.clientY-S.current.y,te=!!C.current,j=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,E=j?D(0,V):0,J=j?0:D(0,K),le=F.pointerType==="touch"?10:2,T={x:E,y:J},Se={originalEvent:F,delta:T};te?(C.current=T,Dd(KF,d,Se,{discrete:!1})):HS(T,g.swipeDirection,le)?(C.current=T,Dd(HF,u,Se,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(V)>le||Math.abs(K)>le)&&(S.current=null)}),onPointerUp:oe(t.onPointerUp,F=>{const V=C.current,K=F.target;if(K.hasPointerCapture(F.pointerId)&&K.releasePointerCapture(F.pointerId),C.current=null,S.current=null,V){const te=F.currentTarget,j={originalEvent:F,delta:V};HS(V,g.swipeDirection,g.swipeThreshold)?Dd(qF,h,j,{discrete:!0}):Dd(GF,f,j,{discrete:!0}),te.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),QF=t=>{const{__scopeToast:e,children:n,...r}=t,i=Np(Rp,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return tz(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.jsx(Tp,{asChild:!0,children:y.jsx(Hw,{...r,children:o&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},ZF="ToastTitle",SI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});SI.displayName=ZF;var ez="ToastDescription",kI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});kI.displayName=ez;var bI="ToastAction",CI=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(TI,{altText:n,asChild:!0,children:y.jsx(qw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bI}\`. Expected non-empty \`string\`.`),null)});CI.displayName=bI;var EI="ToastClose",qw=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=YF(EI,n);return y.jsx(TI,{asChild:!0,children:y.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,i.onClose)})})});qw.displayName=EI;var TI=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function II(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),nz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...II(r))}}),e}function Dd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ww(i,o):i.dispatchEvent(o)}var HS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function tz(t=()=>{}){const e=at(t);wi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function nz(t){return t.nodeType===t.ELEMENT_NODE}function rz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var iz=gI,NI=vI,RI=xI,_I=SI,MI=kI,PI=CI,AI=qw;function OI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=OI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function oz(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=OI(t))&&(r&&(r+=" "),r+=e);return r}const KS=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,GS=oz,Jw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return GS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=KS(u)||KS(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[g,x]=p;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...c,d,f]:c},[]);return GS(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function DI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sz(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DI(t))&&(r&&(r+=" "),r+=e);return r}const Yw="-",az=t=>{const e=cz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(Yw);return a[0]===""&&a.length!==1&&a.shift(),LI(a,e)||lz(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},LI=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?LI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Yw);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},qS=/^\[(.+)\]$/,lz=t=>{if(qS.test(t)){const e=qS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return dz(Object.entries(t.classGroups),n).forEach(([o,s])=>{Uy(s,r,o,e)}),r},Uy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:JS(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(uz(i)){Uy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Uy(s,JS(e,o),n,r)})})},JS=(t,e)=>{let n=t;return e.split(Yw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uz=t=>t.isThemeGetter,dz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,fz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},jI="!",hz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(r||a.slice(x,x+o)===e)){l.push(a.slice(u,x)),u=x+o;continue}if(v==="/"){d=x;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(jI),p=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},pz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mz=t=>({cache:fz(t.cacheSize),parseClassName:hz(t),...az(t)}),gz=/\s+/,yz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(gz);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const x=pz(u).join(":"),v=d?x+jI:x,w=v+g;if(o.includes(w))continue;o.push(w);const S=i(g,p);for(let C=0;C<S.length;++C){const I=S[C];o.push(v+I)}a=c+(a.length>0?" "+a:a)}return a};function vz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FI(e))&&(r&&(r+=" "),r+=n);return r}const FI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FI(t[r]))&&(n&&(n+=" "),n+=e);return n};function wz(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=mz(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=yz(l,n);return i(l,u),u}return function(){return o(vz.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zI=/^\[(?:([a-z-]+):)?(.+)\]$/i,xz=/^\d+\/\d+$/,Sz=new Set(["px","full","screen"]),kz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ez=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>Aa(t)||Sz.has(t)||xz.test(t),Oi=t=>Sl(t,"length",Oz),Aa=t=>!!t&&!Number.isNaN(Number(t)),Um=t=>Sl(t,"number",Aa),Hl=t=>!!t&&Number.isInteger(Number(t)),Iz=t=>t.endsWith("%")&&Aa(t.slice(0,-1)),me=t=>zI.test(t),Di=t=>kz.test(t),Nz=new Set(["length","size","percentage"]),Rz=t=>Sl(t,Nz,$I),_z=t=>Sl(t,"position",$I),Mz=new Set(["image","url"]),Pz=t=>Sl(t,Mz,Lz),Az=t=>Sl(t,"",Dz),Kl=()=>!0,Sl=(t,e,n)=>{const r=zI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Oz=t=>bz.test(t)&&!Cz.test(t),$I=()=>!1,Dz=t=>Ez.test(t),Lz=t=>Tz.test(t),jz=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),o=Ke("borderRadius"),s=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),c=Ke("grayscale"),u=Ke("hueRotate"),d=Ke("invert"),f=Ke("gap"),h=Ke("gradientColorStops"),p=Ke("gradientColorStopPositions"),g=Ke("inset"),x=Ke("margin"),v=Ke("opacity"),w=Ke("padding"),S=Ke("saturate"),C=Ke("scale"),I=Ke("sepia"),b=Ke("skew"),R=Ke("space"),k=Ke("translate"),_=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",me,e],O=()=>[me,e],U=()=>["",Qr,Oi],F=()=>["auto",Aa,me],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",me],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Aa,me];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[Qr,Oi],blur:["none","",Di,me],brightness:J(),borderColor:[t],borderRadius:["none","","full",Di,me],borderSpacing:O(),borderWidth:U(),contrast:J(),grayscale:D(),hueRotate:J(),invert:D(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Iz,Oi],inset:P(),margin:P(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:D(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),me]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,me]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Hl,me]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Hl,me]},me]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Hl,me]},me]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Um]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Aa,Um]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Oi]}],"underline-offset":[{"underline-offset":["auto",Qr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),_z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Qr,me]}],"outline-w":[{outline:[Qr,Oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Qr,Oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Di,Az]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Di,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Hl,me]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Oi,Um]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Fz=wz(jz);function ge(...t){return Fz(sz(t))}const zz=iz,BI=m.forwardRef(({className:t,...e},n)=>y.jsx(NI,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BI.displayName=NI.displayName;const $z=Jw("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UI=m.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(RI,{ref:r,className:ge($z({variant:e}),t),...n}));UI.displayName=RI.displayName;const Bz=m.forwardRef(({className:t,...e},n)=>y.jsx(PI,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Bz.displayName=PI.displayName;const VI=m.forwardRef(({className:t,...e},n)=>y.jsx(AI,{ref:n,className:ge("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(pF,{className:"h-4 w-4"})}));VI.displayName=AI.displayName;const WI=m.forwardRef(({className:t,...e},n)=>y.jsx(_I,{ref:n,className:ge("text-sm font-semibold [&+div]:text-xs",t),...e}));WI.displayName=_I.displayName;const HI=m.forwardRef(({className:t,...e},n)=>y.jsx(MI,{ref:n,className:ge("text-sm opacity-90",t),...e}));HI.displayName=MI.displayName;function Uz(){const{toasts:t}=cF();return y.jsxs(zz,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return y.jsxs(UI,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(WI,{children:n}),r&&y.jsx(HI,{children:r})]}),i,y.jsx(VI,{})]},e)}),y.jsx(BI,{})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},GI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Wz;const f=o<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hz=function(t){const e=KI(t);return GI.encodeByteArray(e,!0)},qI=function(t){return Hz(t).replace(/\./g,"")},JI=function(t){try{return GI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=()=>Kz().__FIREBASE_DEFAULTS__,qz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JI(t[1]);return e&&JSON.parse(e)},Xw=()=>{try{return Gz()||qz()||Jz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yz=t=>{var e,n;return(n=(e=Xw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YI=()=>{var t;return(t=Xw())===null||t===void 0?void 0:t.config},XI=t=>{var e;return(e=Xw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function Zz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n$(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r$(){try{return typeof indexedDB=="object"}catch{return!1}}function i$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="FirebaseError";class $o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o$,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $o(i,a,r)}}function s$(t,e){return t.replace(a$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a$=/\{\$([^}]+)}/g;function l$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(YS(o)&&YS(s)){if(!bh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c$(t,e){const n=new u$(t,e);return n.subscribe.bind(n)}class u${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p$(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h$(t){return t===Zo?void 0:t}function p$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const g$={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},y$=ze.INFO,v$={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},w$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QI{constructor(e){this.name=e,this._logLevel=y$,this._logHandler=w$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const x$=(t,e)=>e.some(n=>t instanceof n);let XS,QS;function S$(){return XS||(XS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k$(){return QS||(QS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZI=new WeakMap,Vy=new WeakMap,eN=new WeakMap,Wm=new WeakMap,Qw=new WeakMap;function b$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ZI.set(n,t)}).catch(()=>{}),Qw.set(e,t),e}function C$(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vy.set(t,e)}let Wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E$(t){Wy=t(Wy)}function T$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hm(this),e,...n);return eN.set(r,e.sort?e.sort():[e]),xo(r)}:k$().includes(t)?function(...e){return t.apply(Hm(this),e),xo(ZI.get(this))}:function(...e){return xo(t.apply(Hm(this),e))}}function I$(t){return typeof t=="function"?T$(t):(t instanceof IDBTransaction&&C$(t),x$(t,S$())?new Proxy(t,Wy):t)}function xo(t){if(t instanceof IDBRequest)return b$(t);if(Wm.has(t))return Wm.get(t);const e=I$(t);return e!==t&&(Wm.set(t,e),Qw.set(e,t)),e}const Hm=t=>Qw.get(t);function N$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const R$=["get","getKey","getAll","getAllKeys","count"],_$=["put","add","delete","clear"],Km=new Map;function ZS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Km.set(e,o),o}E$(t=>({...t,get:(e,n,r)=>ZS(e,n)||t.get(e,n,r),has:(e,n)=>!!ZS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hy="@firebase/app",ek="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new QI("@firebase/app"),A$="@firebase/app-compat",O$="@firebase/analytics-compat",D$="@firebase/analytics",L$="@firebase/app-check-compat",j$="@firebase/app-check",F$="@firebase/auth",z$="@firebase/auth-compat",$$="@firebase/database",B$="@firebase/data-connect",U$="@firebase/database-compat",V$="@firebase/functions",W$="@firebase/functions-compat",H$="@firebase/installations",K$="@firebase/installations-compat",G$="@firebase/messaging",q$="@firebase/messaging-compat",J$="@firebase/performance",Y$="@firebase/performance-compat",X$="@firebase/remote-config",Q$="@firebase/remote-config-compat",Z$="@firebase/storage",eB="@firebase/storage-compat",tB="@firebase/firestore",nB="@firebase/vertexai",rB="@firebase/firestore-compat",iB="firebase",oB="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="[DEFAULT]",sB={[Hy]:"fire-core",[A$]:"fire-core-compat",[D$]:"fire-analytics",[O$]:"fire-analytics-compat",[j$]:"fire-app-check",[L$]:"fire-app-check-compat",[F$]:"fire-auth",[z$]:"fire-auth-compat",[$$]:"fire-rtdb",[B$]:"fire-data-connect",[U$]:"fire-rtdb-compat",[V$]:"fire-fn",[W$]:"fire-fn-compat",[H$]:"fire-iid",[K$]:"fire-iid-compat",[G$]:"fire-fcm",[q$]:"fire-fcm-compat",[J$]:"fire-perf",[Y$]:"fire-perf-compat",[X$]:"fire-rc",[Q$]:"fire-rc-compat",[Z$]:"fire-gcs",[eB]:"fire-gcs-compat",[tB]:"fire-fst",[rB]:"fire-fst-compat",[nB]:"fire-vertex","fire-js":"fire-js",[iB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,aB=new Map,Gy=new Map;function tk(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gu(t){const e=t.name;if(Gy.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Gy.set(e,t);for(const n of Ch.values())tk(n,t);for(const n of aB.values())tk(n,t);return!0}function tN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ar(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new zu("app","Firebase",lB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=oB;function nN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ky,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=YI()),!n)throw So.create("no-options");const o=Ch.get(i);if(o){if(bh(n,o.options)&&bh(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new m$(i);for(const l of Gy.values())s.addComponent(l);const a=new cB(n,r,s);return Ch.set(i,a),a}function uB(t=Ky){const e=Ch.get(t);if(!e&&t===Ky&&YI())return nN();if(!e)throw So.create("no-app",{appName:t});return e}function Oa(t,e,n){var r;let i=(r=sB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}gu(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="firebase-heartbeat-database",fB=1,yu="firebase-heartbeat-store";let Gm=null;function rN(){return Gm||(Gm=N$(dB,fB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Gm}async function hB(t){try{const n=(await rN()).transaction(yu),r=await n.objectStore(yu).get(iN(t));return await n.done,r}catch(e){if(e instanceof $o)xi.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function nk(t,e){try{const r=(await rN()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,iN(t)),await r.done}catch(n){if(n instanceof $o)xi.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function iN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=1024,mB=30*24*60*60*1e3;class gB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=mB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rk(),{heartbeatsToSend:r,unsentEntries:i}=yB(this._heartbeatsCache.heartbeats),o=qI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xi.warn(n),""}}}function rk(){return new Date().toISOString().substring(0,10)}function yB(t,e=pB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ik(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ik(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r$()?i$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ik(t){return qI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){gu(new ol("platform-logger",e=>new M$(e),"PRIVATE")),gu(new ol("heartbeat",e=>new gB(e),"PRIVATE")),Oa(Hy,ek,t),Oa(Hy,ek,"esm2017"),Oa("fire-js","")}wB("");var xB="firebase",SB="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(xB,SB,"app");var Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mr.apply(this,arguments)};function Uu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function oN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bB=oN,sN=new zu("auth","Firebase",oN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new QI("@firebase/auth");function CB(t,...e){Eh.logLevel<=ze.WARN&&Eh.warn(`Auth (${Bu}): ${t}`,...e)}function df(t,...e){Eh.logLevel<=ze.ERROR&&Eh.error(`Auth (${Bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw Zw(t,...e)}function jr(t,...e){return Zw(t,...e)}function aN(t,e,n){const r=Object.assign(Object.assign({},bB()),{[e]:n});return new zu("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return aN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sN.create(t,...e)}function ue(t,e,...n){if(!t)throw Zw(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function Si(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EB(){return ok()==="http:"||ok()==="https:"}function ok(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EB()||e$()||"connection"in navigator)?navigator.onLine:!0}function IB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Qz()||t$()}get(){return TB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new Vu(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,i={}){return cN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=$u(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Zz()||(c.referrerPolicy="no-referrer"),lN.fetch()(uN(t,t.config.apiHost,n,a),c)})}async function cN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NB),e);try{const i=new MB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ld(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ld(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw aN(t,u,c);ur(t,u)}}catch(i){if(i instanceof $o)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function Wu(t,e,n,r,i={}){const o=await Vo(t,e,n,r,i);return"mfaPendingCredential"in o&&ur(t,"multi-factor-auth-required",{_serverResponse:o}),o}function uN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e0(t.config,i):`${t.config.apiScheme}://${i}`}function _B(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),RB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function sk(t){return t!==void 0&&t.enterprise!==void 0}class PB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _B(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AB(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function dN(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DB(t,e=!1){const n=Bo(t),r=await n.getIdToken(e),i=t0(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Lc(qm(i.auth_time)),issuedAtTime:Lc(qm(i.iat)),expirationTime:Lc(qm(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qm(t){return Number(t)*1e3}function t0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const i=JI(n);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ak(t){const e=t0(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $o&&LB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vu(t,dN(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fN(o.providerUserInfo):[],a=zB(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jy(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function FB(t){const e=Bo(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fN(t){return t.map(e=>{var{providerId:n}=e,r=Uu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(t,e){const n=await cN(t,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=uN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lN.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BB(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ak(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=ak(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await $B(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Da;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Uu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DB(this,e)}reload(){return FB(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await vu(this,OB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:C,isAnonymous:I,providerData:b,stsTokenManager:R}=n;ue(S&&R,e,"internal-error");const k=Da.fromJSON(this.name,R);ue(typeof S=="string",e,"internal-error"),Li(d,e.name),Li(f,e.name),ue(typeof C=="boolean",e,"internal-error"),ue(typeof I=="boolean",e,"internal-error"),Li(h,e.name),Li(p,e.name),Li(g,e.name),Li(x,e.name),Li(v,e.name),Li(w,e.name);const _=new li({uid:S,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:w});return b&&Array.isArray(b)&&(_.providerData=b.map(A=>Object.assign({},A))),x&&(_._redirectEventId=x),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const o=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Th(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?fN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Da;a.updateFromIdToken(r);const l=new li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Map;function ci(t){Si(t instanceof Function,"Expected a class definition");let e=lk.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hN.type="NONE";const ck=hN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ff(this.userKey,i.apiKey,o),this.fullPersistenceKey=ff("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(ci(ck),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ci(ck);const s=ff(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=li._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new La(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new La(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wN(e))return"Blackberry";if(xN(e))return"Webos";if(mN(e))return"Safari";if((e.includes("chrome/")||gN(e))&&!e.includes("edge/"))return"Chrome";if(vN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pN(t=qt()){return/firefox\//i.test(t)}function mN(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gN(t=qt()){return/crios\//i.test(t)}function yN(t=qt()){return/iemobile/i.test(t)}function vN(t=qt()){return/android/i.test(t)}function wN(t=qt()){return/blackberry/i.test(t)}function xN(t=qt()){return/webos/i.test(t)}function n0(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UB(t=qt()){var e;return n0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VB(){return n$()&&document.documentMode===10}function SN(t=qt()){return n0(t)||vN(t)||xN(t)||wN(t)||/windows phone/i.test(t)||yN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e=[]){let n;switch(t){case"Browser":n=uk(qt());break;case"Worker":n=`${uk(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=6;class GB{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:KB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dk(this),this.idTokenSubscription=new dk(this),this.beforeStateQueue=new WB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dN(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(hi(this));const n=e?Bo(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HB(this),n=new GB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return Bo(t)}class dk{constructor(e){this.auth=e,this.observer=null,this.addObserver=c$(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JB(t){_p=t}function bN(t){return _p.loadJS(t)}function YB(){return _p.recaptchaEnterpriseScript}function XB(){return _p.gapiScript}function QB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZB{constructor(){this.enterprise=new e3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t3="recaptcha-enterprise",CN="NO_RECAPTCHA";class n3{constructor(e){this.type=t3,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{AB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new PB(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;sk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(CN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZB().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&sk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YB();l.length!==0&&(l+=a),bN(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Gl(t,e,n,r=!1,i=!1){const o=new n3(t);let s;if(i)s=CN;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yy(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Gl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Gl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Gl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){const n=tN(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bh(o,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function i3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o3(t,e,n){const r=zs(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=EN(e),{host:s,port:a}=s3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||a3()}function EN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s3(t){const e=EN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:fk(s)}}}function fk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function l3(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return Wu(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function d3(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends r0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yy(e,n,"signInWithPassword",c3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return u3(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yy(e,r,"signUpPassword",l3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return d3(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Wu(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="http://localhost";class _s extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Uu(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new _s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:f3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p3(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class i0{constructor(e){var n,r,i,o,s,a;const l=tc(nc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=h3((i=l.mode)!==null&&i!==void 0?i:null);ue(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=p3(e);try{return new i0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i0.parseLink(n);return ue(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends TN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Hu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return to.credential(n,r)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Hu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Hu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){return Wu(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),s=hk(r);return new Ms({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hk(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends $o{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ih(e,n,r,i)}}function IN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,o,e,r):o})}async function g3(t,e,n=!1){const r=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e,n=!1){const{auth:r}=t;if(Ar(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const o=await vu(t,IN(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=t0(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e,n=!1){if(Ar(t.app))return Promise.reject(hi(t));const r="signIn",i=await IN(t,r,e),o=await Ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function v3(t,e){return NN(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w3(t,e,n){if(Ar(t.app))return Promise.reject(hi(t));const r=zs(t),s=await Yy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RN(t),l}),a=await Ms._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function x3(t,e,n){return Ar(t.app)?Promise.reject(hi(t)):v3(Bo(t),kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RN(t),r})}function S3(t,e,n,r){return Bo(t).onIdTokenChanged(e,n,r)}function k3(t,e,n){return Bo(t).beforeAuthStateChanged(e,n)}function b3(t){return Bo(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=1e3,E3=10;class MN extends _N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);VB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,E3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MN.type="LOCAL";const T3=MN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends _N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PN.type="SESSION";const AN=PN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await I3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=o0("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function R3(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function _3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function P3(){return ON()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebaseLocalStorageDb",A3=1,Rh="firebaseLocalStorage",LN="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function O3(){const t=indexedDB.deleteDatabase(DN);return new Ku(t).toPromise()}function Xy(){const t=indexedDB.open(DN,A3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:LN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await O3(),e(await Xy()))})})}async function pk(t,e,n){const r=Pp(t,!0).put({[LN]:e,value:n});return new Ku(r).toPromise()}async function D3(t,e){const n=Pp(t,!1).get(e),r=await new Ku(n).toPromise();return r===void 0?null:r.value}function mk(t,e){const n=Pp(t,!0).delete(e);return new Ku(n).toPromise()}const L3=800,j3=3;class jN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ON()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(P3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await pk(e,Nh,"1"),await mk(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Pp(i,!1).getAll();return new Ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jN.type="LOCAL";const F3=jN;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e){return e?ci(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $3(t){return NN(t.auth,new s0(t),t.bypassAuthState)}function B3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),y3(n,new s0(t),t.bypassAuthState)}async function U3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),g3(n,new s0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $3;case"linkViaPopup":case"linkViaRedirect":return U3;case"reauthViaPopup":case"reauthViaRedirect":return B3;default:ur(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Vu(2e3,1e4);class Ea extends FN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=o0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V3.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="pendingRedirect",hf=new Map;class H3 extends FN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const r=await K3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K3(t,e){const n=J3(e),r=q3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function G3(t,e){hf.set(t._key(),e)}function q3(t){return ci(t._redirectPersistence)}function J3(t){return ff(W3,t.config.apiKey,t.name)}async function Y3(t,e,n=!1){if(Ar(t.app))return Promise.reject(hi(t));const r=zs(t),i=z3(r,e),s=await new H3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=10*60*1e3;class Q3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X3&&this.cachedEventUids.clear(),this.cachedEventUids.has(gk(e))}saveEventToCache(e){this.cachedEventUids.add(gk(e)),this.lastProcessedEventTime=Date.now()}}function gk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n4=/^https?/;async function r4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e4(t);for(const n of e)try{if(i4(n))return}catch{}ur(t,"unauthorized-domain")}function i4(t){const e=qy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!n4.test(n))return!1;if(t4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Vu(3e4,6e4);function yk(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s4(t){return new Promise((e,n)=>{var r,i,o;function s(){yk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yk(),n(jr(t,"network-request-failed"))},timeout:o4.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)s();else{const a=QB("iframefcb");return Fr()[a]=()=>{gapi.load?s():n(jr(t,"network-request-failed"))},bN(`${XB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pf=null,e})}let pf=null;function a4(t){return pf=pf||s4(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Vu(5e3,15e3),c4="__/auth/iframe",u4="emulator/auth/iframe",d4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,u4):`https://${t.config.authDomain}/${c4}`,r={apiKey:e.apiKey,appName:t.name,v:Bu},i=f4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$u(r).slice(1)}`}async function p4(t){const e=await a4(t),n=Fr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:h4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jr(t,"network-request-failed"),a=Fr().setTimeout(()=>{o(s)},l4.get());function l(){Fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g4=500,y4=600,v4="_blank",w4="http://localhost";class vk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x4(t,e,n,r=g4,i=y4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},m4),{width:r.toString(),height:i.toString(),top:o,left:s}),c=qt().toLowerCase();n&&(a=gN(c)?v4:n),pN(c)&&(e=e||w4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(UB(c)&&a!=="_self")return S4(e||"",a),new vk(null);const d=window.open(e||"",a,u);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new vk(d)}function S4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="__/auth/handler",b4="emulator/auth/handler",C4=encodeURIComponent("fac");async function wk(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bu,eventId:i};if(e instanceof TN){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",l$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Hu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${C4}=${encodeURIComponent(l)}`:"";return`${E4(t)}?${$u(a).slice(1)}${c}`}function E4({config:t}){return t.emulator?e0(t,b4):`https://${t.authDomain}/${k4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class T4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AN,this._completeRedirectFn=Y3,this._overrideRedirectResult=G3}async _openPopup(e,n,r,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await wk(e,n,r,qy(),i);return x4(e,s,o0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wk(e,n,r,qy(),i);return R3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p4(e),r=new Q3(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Jm];s!==void 0&&n(!!s),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SN()||mN()||n0()}}const I4=T4;var xk="@firebase/auth",Sk="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(t){gu(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kN(t)},c=new qB(r,i,o,l);return i3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gu(new ol("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new N4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(xk,Sk,R4(t)),Oa(xk,Sk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=5*60,P4=XI("authIdTokenMaxAge")||M4;let kk=null;const A4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P4)return;const i=n==null?void 0:n.token;kk!==i&&(kk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O4(t=uB()){const e=tN(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r3(t,{popupRedirectResolver:I4,persistence:[F3,T3,AN]}),r=XI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=A4(o.toString());k3(n,s,()=>s(n.currentUser)),S3(n,a=>s(a))}}const i=Yz("auth");return i&&o3(n,`http://${i}`),n}function D4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",D4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");const L4={apiKey:"AIzaSyDKtINTR7UD_W_vD5J3Ot-6rqxZd0P_a0A",authDomain:"googleapis.com",projectId:"my-recipe-app-79c51",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:"5209797241"},j4=nN(L4),jd=O4(j4),Ri=Pn.createContext({}),F4=({children:t})=>{const[e,n]=m.useState(),[r,i]=m.useState(!0);return m.useEffect(()=>{jd==null||jd.authStateReady().then(()=>{n(jd),i(!1)})},[]),y.jsx(Ri.Provider,{value:{auth:e,isLoading:r},children:t})};var z4=m.createContext(void 0);function a0(t){const e=m.useContext(z4);return t||e||"ltr"}function $4(t,[e,n]){return Math.min(n,Math.max(e,t))}function B4(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var l0="ScrollArea",[$N,$Y]=xl(l0),[U4,Wn]=$N(l0),BN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(null),[g,x]=m.useState(null),[v,w]=m.useState(0),[S,C]=m.useState(0),[I,b]=m.useState(!1),[R,k]=m.useState(!1),_=Be(e,P=>l(P)),A=a0(i);return y.jsx(U4,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:b,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:R,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:C,children:y.jsx(Ee.div,{dir:A,...s,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});BN.displayName=l0;var UN="ScrollAreaViewport",VN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...s}=t,a=Wn(UN,n),l=m.useRef(null),c=Be(e,l,a.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),y.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:Q4({asChild:i,children:r},u=>y.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});VN.displayName=UN;var Wr="ScrollAreaScrollbar",c0=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Wn(Wr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?y.jsx(V4,{...r,ref:e,forceMount:n}):i.type==="scroll"?y.jsx(W4,{...r,ref:e,forceMount:n}):i.type==="auto"?y.jsx(WN,{...r,ref:e,forceMount:n}):i.type==="always"?y.jsx(u0,{...r,ref:e}):null});c0.displayName=Wr;var V4=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Wn(Wr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(Nn,{present:n||o,children:y.jsx(WN,{"data-state":o?"visible":"hidden",...r,ref:e})})}),W4=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Wn(Wr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Op(()=>l("SCROLL_END"),100),[a,l]=B4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),s()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,o,l,s]),y.jsx(Nn,{present:n||a!=="hidden",children:y.jsx(u0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),WN=m.forwardRef((t,e)=>{const n=Wn(Wr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Op(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return sl(n.viewport,l),sl(n.content,l),y.jsx(Nn,{present:r||o,children:y.jsx(u0,{"data-state":o?"visible":"hidden",...i,ref:e})})}),u0=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Wn(Wr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=JN(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function d(f,h){return Y4(f,s.current,a,h)}return n==="horizontal"?y.jsx(H4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,h=bk(f,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?y.jsx(K4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,h=bk(f,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),H4=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Wn(Wr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=Be(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(KN,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ap(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),XN(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Mh(s.paddingLeft),paddingEnd:Mh(s.paddingRight)}})}})}),K4=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Wn(Wr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=Be(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(KN,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ap(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),XN(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Mh(s.paddingTop),paddingEnd:Mh(s.paddingBottom)}})}})}),[G4,HN]=$N(Wr),KN=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=Wn(Wr,n),[p,g]=m.useState(null),x=Be(e,_=>g(_)),v=m.useRef(null),w=m.useRef(""),S=h.viewport,C=r.content-r.viewport,I=at(u),b=at(l),R=Op(d,10);function k(_){if(v.current){const A=_.clientX-v.current.left,P=_.clientY-v.current.top;c({x:A,y:P})}}return m.useEffect(()=>{const _=A=>{const P=A.target;(p==null?void 0:p.contains(P))&&I(A,C)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[S,p,C,I]),m.useEffect(b,[r,b]),sl(p,R),sl(h.content,R),y.jsx(G4,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:at(o),onThumbPointerUp:at(s),onThumbPositionChange:b,onThumbPointerDown:at(a),children:y.jsx(Ee.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:oe(t.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:oe(t.onPointerMove,k),onPointerUp:oe(t.onPointerUp,_=>{const A=_.target;A.hasPointerCapture(_.pointerId)&&A.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),_h="ScrollAreaThumb",GN=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=HN(_h,t.__scopeScrollArea);return y.jsx(Nn,{present:n||i.hasThumb,children:y.jsx(q4,{ref:e,...r})})}),q4=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Wn(_h,n),s=HN(_h,n),{onThumbPositionChange:a}=s,l=Be(e,d=>s.onThumbChange(d)),c=m.useRef(),u=Op(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const d=o.viewport;if(d){const f=()=>{if(u(),!c.current){const h=X4(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[o.viewport,u,a]),y.jsx(Ee.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),p=d.clientX-h.left,g=d.clientY-h.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:oe(t.onPointerUp,s.onThumbPointerUp)})});GN.displayName=_h;var d0="ScrollAreaCorner",qN=m.forwardRef((t,e)=>{const n=Wn(d0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(J4,{...t,ref:e}):null});qN.displayName=d0;var J4=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Wn(d0,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return sl(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),sl(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?y.jsx(Ee.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Mh(t){return t?parseInt(t,10):0}function JN(t,e){const n=t/e;return isNaN(n)?0:n}function Ap(t){const e=JN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Y4(t,e,n,r="ltr"){const i=Ap(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return YN([l,c],d)(t)}function bk(t,e,n="ltr"){const r=Ap(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=$4(t,l);return YN([0,s],[0,a])(c)}function YN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function XN(t,e){return t>0&&t<e}var X4=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Op(t,e){const n=at(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sl(t,e){const n=at(e);wi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function Q4(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=m.Children.only(r);return m.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var QN=BN,Z4=VN,eU=qN;const Dp=m.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(QN,{ref:r,className:ge("relative overflow-hidden",t),...n,children:[y.jsx(Z4,{className:"h-full w-full rounded-[inherit]",children:e}),y.jsx(ZN,{}),y.jsx(eU,{})]}));Dp.displayName=QN.displayName;const ZN=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>y.jsx(c0,{ref:r,orientation:e,className:ge("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:y.jsx(GN,{className:"relative flex-1 rounded-full bg-border"})}));ZN.displayName=c0.displayName;/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>m.createElement("svg",{ref:l,...nU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eR("lucide",i),...a},[...s.map(([c,u])=>m.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(t,e)=>{const n=m.forwardRef(({className:r,...i},o)=>m.createElement(rU,{ref:o,iconNode:e,className:eR(`lucide-${tU(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Hn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Hn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Hn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Hn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Hn("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Hn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Hn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Hn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Hn("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Hn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Hn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Hn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function sR(t){return`https://${t}-my-recipe-app-3p6i.encr.app`}class lU{constructor(e="prod",n){yt(this,"api");!e.startsWith("http://")&&!e.startsWith("https://")&&(e=sR(e)),typeof n=="string"&&(n={auth:n});const r=new pU(e,n??{});this.api=new Qy.ServiceClient(r)}}var Qy;(t=>{class e{constructor(r){yt(this,"baseClient");this.baseClient=r}async CheckIfSlugIsAvailable(r){return await(await this.baseClient.callAPI("POST","/api/slug/available",JSON.stringify(r))).json()}async CheckIfUsernameIsAvailable(r){return await(await this.baseClient.callAPI("POST","/api/username/available",JSON.stringify(r))).json()}async DeleteRecipe(r){await this.baseClient.callAPI("DELETE",`/api/recipes/${encodeURIComponent(r)}`)}async GenerateFromImages(r){return await(await this.baseClient.callAPI("POST","/api/recipes/generate-from-images",JSON.stringify(r))).json()}async GenerateFromText(r){return await(await this.baseClient.callAPI("POST","/api/recipes/generate-from-text",JSON.stringify(r))).json()}async GetAllRecipes(){return await(await this.baseClient.callAPI("GET","/api/recipes")).json()}async GetMyProfile(){return await(await this.baseClient.callAPI("GET","/api/profile")).json()}async GetRecipe(r,i){return await(await this.baseClient.callAPI("GET",`/api/recipes/${encodeURIComponent(r)}/${encodeURIComponent(i)}`)).json()}async GetRecipesByProfileId(r){return await(await this.baseClient.callAPI("GET",`/api/recipes/${encodeURIComponent(r)}`)).json()}async SaveProfile(r){return await(await this.baseClient.callAPI("POST","/api/profile",JSON.stringify(r))).json()}async SaveRecipe(r){return await(await this.baseClient.callAPI("POST","/api/recipes",JSON.stringify(r))).json()}}t.ServiceClient=e})(Qy||(Qy={}));function Fd(t){const e=[];for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const i of r)e.push(`${n}=${encodeURIComponent(i)}`)}return e.join("&")}function cU(t){return"encore.dev.headers."+btoa(JSON.stringify(t)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class f0{constructor(e,n){yt(this,"ws");yt(this,"hasUpdateHandlers",[]);let r=["encore-ws"];n&&r.push(cU(n)),this.ws=new WebSocket(e,r),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const e=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const n of e)n()}async hasUpdate(){await new Promise(e=>{this.hasUpdateHandlers.push(()=>e(null))})}on(e,n){this.ws.addEventListener(e,n)}off(e,n){this.ws.removeEventListener(e,n)}close(){this.ws.close()}}class uU{constructor(e,n){yt(this,"socket");yt(this,"buffer",[]);this.socket=new f0(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class dU{constructor(e,n){yt(this,"socket");yt(this,"buffer",[]);this.socket=new f0(e,n),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const e of this)return e}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class fU{constructor(e,n){yt(this,"socket");yt(this,"responseValue");let r;this.responseValue=new Promise(i=>r=i),this.socket=new f0(e,n),this.socket.on("message",i=>{r(JSON.parse(i.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(e){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(e))}}const hU=fetch.bind(void 0);class pU{constructor(e,n){yt(this,"baseURL");yt(this,"fetcher");yt(this,"headers");yt(this,"requestInit");yt(this,"authGenerator");if(this.baseURL=e,this.headers={"Content-Type":"application/json"},typeof window>"u"&&(this.headers["User-Agent"]="my-recipe-app-3p6i-Generated-TS-Client (Encore/v1.41.8)"),this.requestInit=n.requestInit??{},n.fetcher!==void 0?this.fetcher=n.fetcher:this.fetcher=hU,n.auth!==void 0){const r=n.auth;typeof r=="function"?this.authGenerator=r:this.authGenerator=()=>r}}async getAuthData(){let e;if(this.authGenerator){const n=this.authGenerator();n instanceof Promise?e=await n:e=n}if(e){const n={};return n.headers={},n.headers.Authorization="Bearer "+e,n}}async createStreamInOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+Fd(r):"";return new uU(this.baseURL+e+s,i)}async createStreamIn(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+Fd(r):"";return new dU(this.baseURL+e+s,i)}async createStreamOut(e,n){let{query:r,headers:i}=n??{};const o=await this.getAuthData();o&&(o.query&&(r={...r,...o.query}),o.headers&&(i={...i,...o.headers}));const s=r?"?"+Fd(r):"";return new fU(this.baseURL+e+s,i)}async callAPI(e,n,r,i){let{query:o,headers:s,...a}=i??{};const l={...this.requestInit,...a,method:e,body:r??null};l.headers={...this.headers,...l.headers,...s};const c=await this.getAuthData();c&&(c.query&&(o={...o,...c.query}),c.headers&&(l.headers={...l.headers,...c.headers}));const u=o?"?"+Fd(o):"",d=await this.fetcher(this.baseURL+n+u,l);if(!d.ok){let f={code:"unknown",message:`request failed: status ${d.status}`};try{const h=await d.text();try{const p=JSON.parse(h);mU(p)?f=p:f.message+=": "+JSON.stringify(p)}catch{f.message+=": "+h}}catch(h){f.message+=": "+String(h)}throw new Ph(d.status,f)}return d}}function mU(t){return t!=null&&gU(t.code)&&typeof t.message=="string"&&(t.details===void 0||t.details===null||typeof t.details=="object")}function gU(t){return t!==void 0&&Object.values(aR).includes(t)}class Ph extends Error{constructor(n,r){super(r.message);yt(this,"status");yt(this,"code");yt(this,"details");Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=Ph.prototype:Object.setPrototypeOf(this,Ph.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=n,this.code=r.code,this.details=r.details}}var aR=(t=>(t.OK="ok",t.Canceled="canceled",t.Unknown="unknown",t.InvalidArgument="invalid_argument",t.DeadlineExceeded="deadline_exceeded",t.NotFound="not_found",t.AlreadyExists="already_exists",t.PermissionDenied="permission_denied",t.ResourceExhausted="resource_exhausted",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.Unimplemented="unimplemented",t.Internal="internal",t.Unavailable="unavailable",t.DataLoss="data_loss",t.Unauthenticated="unauthenticated",t))(aR||{});const ir=t=>{const e=sR("staging");return new lU(e,{auth:t})};function h0(t,e){localStorage.setItem(t,JSON.stringify(e))}function lR(t){const e=localStorage.getItem(t);return e?JSON.parse(e):null}function cR(t){localStorage.removeItem(t)}const jc="profile";async function p0(t){var n,r,i;const e=lR(jc);if(e&&e.id===((n=t.currentUser)==null?void 0:n.uid))return e;cR(jc);try{const o=await((r=t==null?void 0:t.currentUser)==null?void 0:r.getIdToken()),a=await ir(o??void 0).api.GetMyProfile();if(a)return h0(jc,a),a}catch(o){console.log(o)}return{id:(i=t.currentUser)==null?void 0:i.uid,username:""}}function yU(t){h0(jc,t)}function vU(){cR(jc)}const Lp=Jw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-6 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",bae:"min-h-12 px-4 py-2 rounded-md text-2xl font-semibold",icon:"rounded-full h-10 min-w-10",header:"text-2xl h-10 px-3 font-semibold",tag:"rounded-full px-4 py-1 text-2xl font-semibold"}},defaultVariants:{variant:"secondary",size:"bae"}}),xt=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?Ro:"button";return y.jsx(s,{className:ge(Lp({variant:e,size:n,className:t})),ref:o,...i})});xt.displayName="Button";var Ym=0;function uR(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ik()),document.body.insertAdjacentElement("beforeend",t[1]??Ik()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ym--}},[])}function Ik(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xm="focusScope.autoFocusOnMount",Qm="focusScope.autoFocusOnUnmount",Nk={bubbles:!1,cancelable:!0},wU="FocusScope",m0=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=at(i),u=at(o),d=m.useRef(null),f=Be(e,g=>l(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(S){if(h.paused||!a)return;const C=S.target;a.contains(C)?d.current=C:zi(d.current,{select:!0})},x=function(S){if(h.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||zi(d.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const I of S)I.removedNodes.length>0&&zi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,h.paused]),m.useEffect(()=>{if(a){_k.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Xm,Nk);a.addEventListener(Xm,c),a.dispatchEvent(v),v.defaultPrevented||(xU(EU(dR(a)),{select:!0}),document.activeElement===g&&zi(a))}return()=>{a.removeEventListener(Xm,c),setTimeout(()=>{const v=new CustomEvent(Qm,Nk);a.addEventListener(Qm,u),a.dispatchEvent(v),v.defaultPrevented||zi(g??document.body,{select:!0}),a.removeEventListener(Qm,u),_k.remove(h)},0)}}},[a,c,u,h]);const p=m.useCallback(g=>{if(!n&&!r||h.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const w=g.currentTarget,[S,C]=SU(w);S&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&zi(S,{select:!0})):g.shiftKey&&v===S&&(g.preventDefault(),n&&zi(C,{select:!0})):v===w&&g.preventDefault()}},[n,r,h.paused]);return y.jsx(Ee.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});m0.displayName=wU;function xU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zi(r,{select:e}),document.activeElement!==n)return}function SU(t){const e=dR(t),n=Rk(e,t),r=Rk(e.reverse(),t);return[n,r]}function dR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rk(t,e){for(const n of t)if(!kU(n,{upTo:e}))return n}function kU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bU(t){return t instanceof HTMLInputElement&&"select"in t}function zi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bU(t)&&e&&t.select()}}var _k=CU();function CU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Mk(t,e),t.unshift(e)},remove(e){var n;t=Mk(t,e),(n=t[0])==null||n.resume()}}}function Mk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function EU(t){return t.filter(e=>e.tagName!=="A")}var TU=VC["useId".toString()]||(()=>{}),IU=0;function Fa(t){const[e,n]=m.useState(TU());return wi(()=>{t||n(r=>r??String(IU++))},[t]),t||(e?`radix-${e}`:"")}const NU=["top","right","bottom","left"],_o=Math.min,vn=Math.max,Ah=Math.round,zd=Math.floor,Mo=t=>({x:t,y:t}),RU={left:"right",right:"left",bottom:"top",top:"bottom"},_U={start:"end",end:"start"};function Zy(t,e,n){return vn(t,_o(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function bi(t){return t.split("-")[0]}function bl(t){return t.split("-")[1]}function g0(t){return t==="x"?"y":"x"}function y0(t){return t==="y"?"height":"width"}function Po(t){return["top","bottom"].includes(bi(t))?"y":"x"}function v0(t){return g0(Po(t))}function MU(t,e,n){n===void 0&&(n=!1);const r=bl(t),i=v0(t),o=y0(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Oh(s)),[s,Oh(s)]}function PU(t){const e=Oh(t);return[ev(t),e,ev(e)]}function ev(t){return t.replace(/start|end/g,e=>_U[e])}function AU(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function OU(t,e,n,r){const i=bl(t);let o=AU(bi(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(ev)))),o}function Oh(t){return t.replace(/left|right|bottom|top/g,e=>RU[e])}function DU(t){return{top:0,right:0,bottom:0,left:0,...t}}function fR(t){return typeof t!="number"?DU(t):{top:t,right:t,bottom:t,left:t}}function Dh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Pk(t,e,n){let{reference:r,floating:i}=t;const o=Po(e),s=v0(e),a=y0(s),l=bi(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(bl(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const LU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Pk(c,r,l),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:w,y:S,data:C,reset:I}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=S??d,h={...h,[x]:{...h[x],...C}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(c=I.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:u,y:d}=Pk(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function xu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=ki(e,t),p=fR(h),x=a[f?d==="floating"?"reference":"floating":d],v=Dh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},I=Dh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(v.top-I.top+p.top)/C.y,bottom:(I.bottom-v.bottom+p.bottom)/C.y,left:(v.left-I.left+p.left)/C.x,right:(I.right-v.right+p.right)/C.x}}const jU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ki(t,e)||{};if(c==null)return{};const d=fR(u),f={x:n,y:r},h=v0(i),p=y0(h),g=await s.getDimensions(c),x=h==="y",v=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",C=o.reference[p]+o.reference[h]-f[h]-o.floating[p],I=f[h]-o.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let R=b?b[S]:0;(!R||!await(s.isElement==null?void 0:s.isElement(b)))&&(R=a.floating[S]||o.floating[p]);const k=C/2-I/2,_=R/2-g[p]/2-1,A=_o(d[v],_),P=_o(d[w],_),O=A,U=R-g[p]-P,F=R/2-g[p]/2+k,V=Zy(O,F,U),K=!l.arrow&&bl(i)!=null&&F!==V&&o.reference[p]/2-(F<O?A:P)-g[p]/2<0,te=K?F<O?F-O:F-U:0;return{[h]:f[h]+te,data:{[h]:V,centerOffset:F-V-te,...K&&{alignmentOffset:te}},reset:K}}}),FU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...x}=ki(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=bi(i),w=Po(a),S=bi(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=f||(S||!g?[Oh(a)]:PU(a)),b=p!=="none";!f&&b&&I.push(...OU(a,g,p,C));const R=[a,...I],k=await xu(e,x),_=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&_.push(k[v]),d){const F=MU(i,s,C);_.push(k[F[0]],k[F[1]])}if(A=[...A,{placement:i,overflows:_}],!_.every(F=>F<=0)){var P,O;const F=(((P=o.flip)==null?void 0:P.index)||0)+1,V=R[F];if(V)return{data:{index:F,overflows:A},reset:{placement:V}};let K=(O=A.filter(te=>te.overflows[0]<=0).sort((te,j)=>te.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(h){case"bestFit":{var U;const te=(U=A.filter(j=>{if(b){const D=Po(j.placement);return D===w||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,E)=>D+E,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:U[0];te&&(K=te);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function Ak(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ok(t){return NU.some(e=>t[e]>=0)}const zU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ki(t,e);switch(r){case"referenceHidden":{const o=await xu(e,{...i,elementContext:"reference"}),s=Ak(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ok(s)}}}case"escaped":{const o=await xu(e,{...i,altBoundary:!0}),s=Ak(o,n.floating);return{data:{escapedOffsets:s,escaped:Ok(s)}}}default:return{}}}}};async function $U(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=bi(n),a=bl(n),l=Po(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=ki(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const BU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await $U(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},UU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=ki(t,e),c={x:n,y:r},u=await xu(e,l),d=Po(bi(i)),f=g0(d);let h=c[f],p=c[d];if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=h+u[x],S=h-u[v];h=Zy(w,h,S)}if(s){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=p+u[x],S=p-u[v];p=Zy(w,p,S)}const g=a.fn({...e,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[d]:s}}}}}},VU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ki(t,e),u={x:n,y:r},d=Po(i),f=g0(d);let h=u[f],p=u[d];const g=ki(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=f==="y"?"height":"width",C=o.reference[f]-o.floating[S]+x.mainAxis,I=o.reference[f]+o.reference[S]-x.mainAxis;h<C?h=C:h>I&&(h=I)}if(c){var v,w;const S=f==="y"?"width":"height",C=["top","left"].includes(bi(i)),I=o.reference[d]-o.floating[S]+(C&&((v=s.offset)==null?void 0:v[d])||0)+(C?0:x.crossAxis),b=o.reference[d]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[d])||0)-(C?x.crossAxis:0);p<I?p=I:p>b&&(p=b)}return{[f]:h,[d]:p}}}},WU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=ki(t,e),u=await xu(e,c),d=bi(i),f=bl(i),h=Po(i)==="y",{width:p,height:g}=o.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,S=p-u.left-u.right,C=_o(g-u[x],w),I=_o(p-u[v],S),b=!e.middlewareData.shift;let R=C,k=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=w),b&&!f){const A=vn(u.left,0),P=vn(u.right,0),O=vn(u.top,0),U=vn(u.bottom,0);h?k=p-2*(A!==0||P!==0?A+P:vn(u.left,u.right)):R=g-2*(O!==0||U!==0?O+U:vn(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:R});const _=await s.getDimensions(a.floating);return p!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function jp(){return typeof window<"u"}function Cl(t){return hR(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(hR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hR(t){return jp()?t instanceof Node||t instanceof bn(t).Node:!1}function dr(t){return jp()?t instanceof Element||t instanceof bn(t).Element:!1}function $r(t){return jp()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function Dk(t){return!jp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}function Gu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function HU(t){return["table","td","th"].includes(Cl(t))}function Fp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function w0(t){const e=x0(),n=dr(t)?fr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function KU(t){let e=Ao(t);for(;$r(e)&&!al(e);){if(w0(e))return e;if(Fp(e))return null;e=Ao(e)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(t){return["html","body","#document"].includes(Cl(t))}function fr(t){return bn(t).getComputedStyle(t)}function zp(t){return dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ao(t){if(Cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dk(t)&&t.host||Hr(t);return Dk(e)?e.host:e}function pR(t){const e=Ao(t);return al(e)?t.ownerDocument?t.ownerDocument.body:t.body:$r(e)&&Gu(e)?e:pR(e)}function Su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pR(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=bn(i);if(o){const a=tv(s);return e.concat(s,s.visualViewport||[],Gu(i)?i:[],a&&n?Su(a):[])}return e.concat(i,Su(i,[],n))}function tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mR(t){const e=fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ah(n)!==o||Ah(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function S0(t){return dr(t)?t:t.contextElement}function za(t){const e=S0(t);if(!$r(e))return Mo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=mR(e);let s=(o?Ah(n.width):n.width)/r,a=(o?Ah(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const GU=Mo(0);function gR(t){const e=bn(t);return!x0()||!e.visualViewport?GU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Ps(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=S0(t);let s=Mo(1);e&&(r?dr(r)&&(s=za(r)):s=za(t));const a=qU(o,n,r)?gR(o):Mo(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=bn(o),h=r&&dr(r)?bn(r):r;let p=f,g=tv(p);for(;g&&r&&h!==p;){const x=za(g),v=g.getBoundingClientRect(),w=fr(g),S=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,C=v.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=C,p=bn(g),g=tv(p)}}return Dh({width:u,height:d,x:l,y:c})}function JU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Fp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Mo(1);const u=Mo(0),d=$r(r);if((d||!d&&!o)&&((Cl(r)!=="body"||Gu(s))&&(l=zp(r)),$r(r))){const f=Ps(r);c=za(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function YU(t){return Array.from(t.getClientRects())}function nv(t,e){const n=zp(t).scrollLeft;return e?e.left+n:Ps(Hr(t)).left+n}function XU(t){const e=Hr(t),n=zp(t),r=t.ownerDocument.body,i=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+nv(t);const a=-n.scrollTop;return fr(r).direction==="rtl"&&(s+=vn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function QU(t,e){const n=bn(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=x0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function ZU(t,e){const n=Ps(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=$r(t)?za(t):Mo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function Lk(t,e,n){let r;if(e==="viewport")r=QU(t,n);else if(e==="document")r=XU(Hr(t));else if(dr(e))r=ZU(e,n);else{const i=gR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Dh(r)}function yR(t,e){const n=Ao(t);return n===e||!dr(n)||al(n)?!1:fr(n).position==="fixed"||yR(n,e)}function eV(t,e){const n=e.get(t);if(n)return n;let r=Su(t,[],!1).filter(a=>dr(a)&&Cl(a)!=="body"),i=null;const o=fr(t).position==="fixed";let s=o?Ao(t):t;for(;dr(s)&&!al(s);){const a=fr(s),l=w0(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gu(s)&&!l&&yR(t,s))?r=r.filter(u=>u!==s):i=a,s=Ao(s)}return e.set(t,r),r}function tV(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Fp(e)?[]:eV(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=Lk(e,u,i);return c.top=vn(d.top,c.top),c.right=_o(d.right,c.right),c.bottom=_o(d.bottom,c.bottom),c.left=vn(d.left,c.left),c},Lk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nV(t){const{width:e,height:n}=mR(t);return{width:e,height:n}}function rV(t,e,n){const r=$r(e),i=Hr(e),o=n==="fixed",s=Ps(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Mo(0);if(r||!r&&!o)if((Cl(e)!=="body"||Gu(i))&&(a=zp(e)),r){const h=Ps(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=nv(i));let c=0,u=0;if(i&&!r&&!o){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-nv(i,h)}const d=s.left+a.scrollLeft-l.x-c,f=s.top+a.scrollTop-l.y-u;return{x:d,y:f,width:s.width,height:s.height}}function Zm(t){return fr(t).position==="static"}function jk(t,e){if(!$r(t)||fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function vR(t,e){const n=bn(t);if(Fp(t))return n;if(!$r(t)){let i=Ao(t);for(;i&&!al(i);){if(dr(i)&&!Zm(i))return i;i=Ao(i)}return n}let r=jk(t,e);for(;r&&HU(r)&&Zm(r);)r=jk(r,e);return r&&al(r)&&Zm(r)&&!w0(r)?n:r||KU(t)||n}const iV=async function(t){const e=this.getOffsetParent||vR,n=this.getDimensions,r=await n(t.floating);return{reference:rV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oV(t){return fr(t).direction==="rtl"}const sV={convertOffsetParentRelativeRectToViewportRelativeRect:JU,getDocumentElement:Hr,getClippingRect:tV,getOffsetParent:vR,getElementRects:iV,getClientRects:YU,getDimensions:nV,getScale:za,isElement:dr,isRTL:oV};function aV(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=zd(u),p=zd(i.clientWidth-(c+d)),g=zd(i.clientHeight-(u+f)),x=zd(c),w={rootMargin:-h+"px "+-p+"px "+-g+"px "+-x+"px",threshold:vn(0,_o(1,l))||1};let S=!0;function C(I){const b=I[0].intersectionRatio;if(b!==l){if(!S)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return s(!0),o}function lV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=S0(t),u=i||o?[...c?Su(c):[],...Su(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?aV(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?Ps(t):null;l&&x();function x(){const v=Ps(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const cV=BU,uV=UU,dV=FU,fV=WU,hV=zU,Fk=jU,pV=VU,mV=(t,e,n)=>{const r=new Map,i={platform:sV,...n},o={...i.platform,_c:r};return LU(t,e,{...i,platform:o})};var mf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Lh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Lh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Lh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function wR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zk(t,e){const n=wR(t);return Math.round(e*n)/n}function eg(t){const e=m.useRef(t);return mf(()=>{e.current=t}),e}function gV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=m.useState(r);Lh(f,r)||h(r);const[p,g]=m.useState(null),[x,v]=m.useState(null),w=m.useCallback(j=>{j!==b.current&&(b.current=j,g(j))},[]),S=m.useCallback(j=>{j!==R.current&&(R.current=j,v(j))},[]),C=o||p,I=s||x,b=m.useRef(null),R=m.useRef(null),k=m.useRef(u),_=l!=null,A=eg(l),P=eg(i),O=eg(c),U=m.useCallback(()=>{if(!b.current||!R.current)return;const j={placement:e,strategy:n,middleware:f};P.current&&(j.platform=P.current),mV(b.current,R.current,j).then(D=>{const E={...D,isPositioned:O.current!==!1};F.current&&!Lh(k.current,E)&&(k.current=E,yl.flushSync(()=>{d(E)}))})},[f,e,n,P,O]);mf(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const F=m.useRef(!1);mf(()=>(F.current=!0,()=>{F.current=!1}),[]),mf(()=>{if(C&&(b.current=C),I&&(R.current=I),C&&I){if(A.current)return A.current(C,I,U);U()}},[C,I,U,A,_]);const V=m.useMemo(()=>({reference:b,floating:R,setReference:w,setFloating:S}),[w,S]),K=m.useMemo(()=>({reference:C,floating:I}),[C,I]),te=m.useMemo(()=>{const j={position:n,left:0,top:0};if(!K.floating)return j;const D=zk(K.floating,u.x),E=zk(K.floating,u.y);return a?{...j,transform:"translate("+D+"px, "+E+"px)",...wR(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:E}},[n,a,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:U,refs:V,elements:K,floatingStyles:te}),[u,U,V,K,te])}const yV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Fk({element:r.current,padding:i}).fn(n):{}:r?Fk({element:r,padding:i}).fn(n):{}}}},vV=(t,e)=>({...cV(t),options:[t,e]}),wV=(t,e)=>({...uV(t),options:[t,e]}),xV=(t,e)=>({...pV(t),options:[t,e]}),SV=(t,e)=>({...dV(t),options:[t,e]}),kV=(t,e)=>({...fV(t),options:[t,e]}),bV=(t,e)=>({...hV(t),options:[t,e]}),CV=(t,e)=>({...yV(t),options:[t,e]});var EV="Arrow",xR=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return y.jsx(Ee.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});xR.displayName=EV;var TV=xR;function IV(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,NV(i,...e)]}function NV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function RV(t){const[e,n]=m.useState(void 0);return wi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var k0="Popper",[SR,kR]=IV(k0),[_V,bR]=SR(k0),CR=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return y.jsx(_V,{scope:e,anchor:r,onAnchorChange:i,children:n})};CR.displayName=k0;var ER="PopperAnchor",TR=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=bR(ER,n),s=m.useRef(null),a=Be(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:y.jsx(Ee.div,{...i,ref:a})});TR.displayName=ER;var b0="PopperContent",[MV,PV]=SR(b0),IR=m.forwardRef((t,e)=>{var Te,De,Ue,St,kr,Ks;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,x=bR(b0,n),[v,w]=m.useState(null),S=Be(e,Kr=>w(Kr)),[C,I]=m.useState(null),b=RV(C),R=(b==null?void 0:b.width)??0,k=(b==null?void 0:b.height)??0,_=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],O=P.length>0,U={padding:A,boundary:P.filter(OV),altBoundary:O},{refs:F,floatingStyles:V,placement:K,isPositioned:te,middlewareData:j}=gV({strategy:"fixed",placement:_,whileElementsMounted:(...Kr)=>lV(...Kr,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[vV({mainAxis:i+k,alignmentAxis:s}),l&&wV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?xV():void 0,...U}),l&&SV({...U}),kV({...U,apply:({elements:Kr,rects:dt,availableWidth:qn,availableHeight:qo})=>{const{width:Gs,height:Jn}=dt.reference,Gr=Kr.floating.style;Gr.setProperty("--radix-popper-available-width",`${qn}px`),Gr.setProperty("--radix-popper-available-height",`${qo}px`),Gr.setProperty("--radix-popper-anchor-width",`${Gs}px`),Gr.setProperty("--radix-popper-anchor-height",`${Jn}px`)}}),C&&CV({element:C,padding:a}),DV({arrowWidth:R,arrowHeight:k}),f&&bV({strategy:"referenceHidden",...U})]}),[D,E]=_R(K),J=at(p);wi(()=>{te&&(J==null||J())},[te,J]);const le=(Te=j.arrow)==null?void 0:Te.x,T=(De=j.arrow)==null?void 0:De.y,Se=((Ue=j.arrow)==null?void 0:Ue.centerOffset)!==0,[Z,ee]=m.useState();return wi(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:te?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(St=j.transformOrigin)==null?void 0:St.x,(kr=j.transformOrigin)==null?void 0:kr.y].join(" "),...((Ks=j.hide)==null?void 0:Ks.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(MV,{scope:n,placedSide:D,onArrowChange:I,arrowX:le,arrowY:T,shouldHideArrow:Se,children:y.jsx(Ee.div,{"data-side":D,"data-align":E,...g,ref:S,style:{...g.style,animation:te?void 0:"none"}})})})});IR.displayName=b0;var NR="PopperArrow",AV={top:"bottom",right:"left",bottom:"top",left:"right"},RR=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=PV(NR,r),s=AV[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(TV,{...i,ref:n,style:{...i.style,display:"block"}})})});RR.displayName=NR;function OV(t){return t!==null}var DV=t=>({name:"transformOrigin",options:t,fn(e){var x,v,w;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=_R(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=s?d:`${f}px`,g=`${-l}px`):c==="top"?(p=s?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=s?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=s?d:`${h}px`),{data:{x:p,y:g}}}});function _R(t){const[e,n="center"]=t.split("-");return[e,n]}var LV=CR,jV=TR,FV=IR,zV=RR;function $V(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,x=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:x,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=m.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,BV(i,...e)]}function BV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var tg="rovingFocusGroup.onEntryFocus",UV={bubbles:!1,cancelable:!0},$p="RovingFocusGroup",[rv,MR,VV]=Vw($p),[WV,PR]=$V($p,[VV]),[HV,KV]=WV($p),AR=m.forwardRef((t,e)=>y.jsx(rv.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(rv.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(GV,{...t,ref:e})})}));AR.displayName=$p;var GV=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=m.useRef(null),h=Be(e,f),p=a0(o),[g=null,x]=Ip({prop:s,defaultProp:a,onChange:l}),[v,w]=m.useState(!1),S=at(c),C=MR(n),I=m.useRef(!1),[b,R]=m.useState(0);return m.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(tg,S),()=>k.removeEventListener(tg,S)},[S]),y.jsx(HV,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(k=>x(k),[x]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:m.useCallback(()=>R(k=>k-1),[]),children:y.jsx(Ee.div,{tabIndex:v||b===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{I.current=!0}),onFocus:oe(t.onFocus,k=>{const _=!I.current;if(k.target===k.currentTarget&&_&&!v){const A=new CustomEvent(tg,UV);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=C().filter(K=>K.focusable),O=P.find(K=>K.active),U=P.find(K=>K.id===g),V=[O,U,...P].filter(Boolean).map(K=>K.ref.current);LR(V,u)}}I.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),OR="RovingFocusGroupItem",DR=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Fa(),l=o||a,c=KV(OR,n),u=c.currentTabStopId===l,d=MR(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return m.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),y.jsx(rv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:y.jsx(Ee.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:oe(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=YV(p,c.orientation,c.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=d().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const w=v.indexOf(p.currentTarget);v=c.loop?XV(v,w+1):v.slice(w+1)}setTimeout(()=>LR(v))}})})})});DR.displayName=OR;var qV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YV(t,e,n){const r=JV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qV[r]}function LR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function XV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QV=AR,ZV=DR,eW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xs=new WeakMap,$d=new WeakMap,Bd={},ng=0,jR=function(t){return t&&(t.host||jR(t.parentNode))},tW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nW=function(t,e,n,r){var i=tW(e,Array.isArray(t)?t:[t]);Bd[n]||(Bd[n]=new WeakMap);var o=Bd[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(Xs.get(f)||0)+1,x=(o.get(f)||0)+1;Xs.set(f,g),o.set(f,x),s.push(f),g===1&&p&&$d.set(f,!0),x===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),ng++,function(){s.forEach(function(d){var f=Xs.get(d)-1,h=o.get(d)-1;Xs.set(d,f),o.set(d,h),f||($d.has(d)||d.removeAttribute(r),$d.delete(d)),h||d.removeAttribute(n)}),ng--,ng||(Xs=new WeakMap,Xs=new WeakMap,$d=new WeakMap,Bd={})}},FR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||eW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),nW(r,i,n,"aria-hidden")):function(){return null}},gf="right-scroll-bar-position",yf="width-before-scroll-bar",rW="with-scroll-bars-hidden",iW="--removed-body-scroll-bar-size";function rg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oW(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var sW=typeof window<"u"?m.useLayoutEffect:m.useEffect,$k=new WeakMap;function aW(t,e){var n=oW(e||null,function(r){return t.forEach(function(i){return rg(i,r)})});return sW(function(){var r=$k.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||rg(a,null)}),o.forEach(function(a){i.has(a)||rg(a,s)})}$k.set(n,t)},[t]),n}function lW(t){return t}function cW(t,e){e===void 0&&(e=lW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function uW(t){t===void 0&&(t={});var e=cW(null);return e.options=Mr({async:!0,ssr:!1},t),e}var zR=function(t){var e=t.sideCar,n=Uu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Mr({},n))};zR.isSideCarExport=!0;function dW(t,e){return t.useMedium(e),zR}var $R=uW(),ig=function(){},Bp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:ig,onWheelCapture:ig,onTouchMoveCapture:ig}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,w=t.gapMode,S=Uu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,I=aW([n,e]),b=Mr(Mr({},S),i);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:$R,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?m.cloneElement(m.Children.only(a),Mr(Mr({},b),{ref:I})):m.createElement(v,Mr({},b,{className:l,ref:I}),a))});Bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bp.classNames={fullWidth:yf,zeroRight:gf};var Bk,fW=function(){if(Bk)return Bk;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fW();return e&&t.setAttribute("nonce",e),t}function pW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hW())&&(pW(e,n),mW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yW=function(){var t=gW();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BR=function(){var t=yW(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},vW={left:0,top:0,right:0,gap:0},og=function(t){return parseInt(t||"",10)||0},wW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[og(n),og(r),og(i)]},xW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vW;var e=wW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SW=BR(),$a="data-scroll-locked",kW=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(iW,": ").concat(a,`px;
  }
`)},Uk=function(){var t=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(t)?t:0},bW=function(){m.useEffect(function(){return document.body.setAttribute($a,(Uk()+1).toString()),function(){var t=Uk()-1;t<=0?document.body.removeAttribute($a):document.body.setAttribute($a,t.toString())}},[])},CW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;bW();var o=m.useMemo(function(){return xW(i)},[i]);return m.createElement(SW,{styles:kW(o,!e,i,n?"":"!important")})},iv=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{iv=!1}var Qs=iv?{passive:!1}:!1,EW=function(t){return t.tagName==="TEXTAREA"},UR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EW(t)&&n[e]==="visible")},TW=function(t){return UR(t,"overflowY")},IW=function(t){return UR(t,"overflowX")},Vk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VR(t,r);if(i){var o=WR(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},NW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},RW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VR=function(t,e){return t==="v"?TW(e):IW(e)},WR=function(t,e){return t==="v"?NW(e):RW(e)},_W=function(t,e){return t==="h"&&e==="rtl"?-1:1},MW=function(t,e,n,r,i){var o=_W(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=WR(t,a),p=h[0],g=h[1],x=h[2],v=g-x-o*p;(p||v)&&VR(t,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(f)<1||!i&&-s>f))&&(c=!0),c},Vd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wk=function(t){return[t.deltaX,t.deltaY]},Hk=function(t){return t&&"current"in t?t.current:t},PW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OW=0,Zs=[];function DW(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(OW++)[0],o=m.useState(BR)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=kB([t.lockRef.current],(t.shards||[]).map(Hk),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=Vd(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-v[0],C="deltaY"in g?g.deltaY:w[1]-v[1],I,b=g.target,R=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&R==="h"&&b.type==="range")return!1;var k=Vk(R,b);if(!k)return!0;if(k?I=R:(I=R==="v"?"h":"v",k=Vk(R,b)),!k)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=I),!I)return!0;var _=r.current||I;return MW(_,x,g,_==="h"?S:C,!0)},[]),l=m.useCallback(function(g){var x=g;if(!(!Zs.length||Zs[Zs.length-1]!==o)){var v="deltaY"in x?Wk(x):Vd(x),w=e.current.filter(function(I){return I.name===x.type&&(I.target===x.target||x.target===I.shadowParent)&&PW(I.delta,v)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(Hk).filter(Boolean).filter(function(I){return I.contains(x.target)}),C=S.length>0?a(x,S[0]):!s.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(g,x,v,w){var S={name:g,delta:x,target:v,should:w,shadowParent:LW(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),u=m.useCallback(function(g){n.current=Vd(g),r.current=void 0},[]),d=m.useCallback(function(g){c(g.type,Wk(g),g.target,a(g,t.lockRef.current))},[]),f=m.useCallback(function(g){c(g.type,Vd(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Zs.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Qs),document.addEventListener("touchmove",l,Qs),document.addEventListener("touchstart",u,Qs),function(){Zs=Zs.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Qs),document.removeEventListener("touchmove",l,Qs),document.removeEventListener("touchstart",u,Qs)}},[]);var h=t.removeScrollBar,p=t.inert;return m.createElement(m.Fragment,null,p?m.createElement(o,{styles:AW(i)}):null,h?m.createElement(CW,{gapMode:t.gapMode}):null)}function LW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jW=dW($R,DW);var HR=m.forwardRef(function(t,e){return m.createElement(Bp,Mr({},t,{ref:e,sideCar:jW}))});HR.classNames=Bp.classNames;const KR=HR;var ov=["Enter"," "],FW=["ArrowDown","PageUp","Home"],GR=["ArrowUp","PageDown","End"],zW=[...FW,...GR],$W={ltr:[...ov,"ArrowRight"],rtl:[...ov,"ArrowLeft"]},BW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qu="Menu",[ku,UW,VW]=Vw(qu),[$s,qR]=xl(qu,[VW,kR,PR]),Up=kR(),JR=PR(),[WW,Bs]=$s(qu),[HW,Ju]=$s(qu),YR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=Up(e),[l,c]=m.useState(null),u=m.useRef(!1),d=at(o),f=a0(i);return m.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),y.jsx(LV,{...a,children:y.jsx(WW,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:y.jsx(HW,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};YR.displayName=qu;var KW="MenuAnchor",C0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Up(n);return y.jsx(jV,{...i,...r,ref:e})});C0.displayName=KW;var E0="MenuPortal",[GW,XR]=$s(E0,{forceMount:void 0}),QR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Bs(E0,e);return y.jsx(GW,{scope:e,forceMount:n,children:y.jsx(Nn,{present:n||o.open,children:y.jsx(Tp,{asChild:!0,container:i,children:r})})})};QR.displayName=E0;var $n="MenuContent",[qW,T0]=$s($n),ZR=m.forwardRef((t,e)=>{const n=XR($n,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Bs($n,t.__scopeMenu),s=Ju($n,t.__scopeMenu);return y.jsx(ku.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||o.open,children:y.jsx(ku.Slot,{scope:t.__scopeMenu,children:s.modal?y.jsx(JW,{...i,ref:e}):y.jsx(YW,{...i,ref:e})})})})}),JW=m.forwardRef((t,e)=>{const n=Bs($n,t.__scopeMenu),r=m.useRef(null),i=Be(e,r);return m.useEffect(()=>{const o=r.current;if(o)return FR(o)},[]),y.jsx(I0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YW=m.forwardRef((t,e)=>{const n=Bs($n,t.__scopeMenu);return y.jsx(I0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I0=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...g}=t,x=Bs($n,n),v=Ju($n,n),w=Up(n),S=JR(n),C=UW(n),[I,b]=m.useState(null),R=m.useRef(null),k=Be(e,R,x.onContentChange),_=m.useRef(0),A=m.useRef(""),P=m.useRef(0),O=m.useRef(null),U=m.useRef("right"),F=m.useRef(0),V=p?KR:m.Fragment,K=p?{as:Ro,allowPinchZoom:!0}:void 0,te=D=>{var Te,De;const E=A.current+D,J=C().filter(Ue=>!Ue.disabled),le=document.activeElement,T=(Te=J.find(Ue=>Ue.ref.current===le))==null?void 0:Te.textValue,Se=J.map(Ue=>Ue.textValue),Z=l5(Se,E,T),ee=(De=J.find(Ue=>Ue.textValue===Z))==null?void 0:De.ref.current;(function Ue(St){A.current=St,window.clearTimeout(_.current),St!==""&&(_.current=window.setTimeout(()=>Ue(""),1e3))})(E),ee&&setTimeout(()=>ee.focus())};m.useEffect(()=>()=>window.clearTimeout(_.current),[]),uR();const j=m.useCallback(D=>{var J,le;return U.current===((J=O.current)==null?void 0:J.side)&&u5(D,(le=O.current)==null?void 0:le.area)},[]);return y.jsx(qW,{scope:n,searchRef:A,onItemEnter:m.useCallback(D=>{j(D)&&D.preventDefault()},[j]),onItemLeave:m.useCallback(D=>{var E;j(D)||((E=R.current)==null||E.focus(),b(null))},[j]),onTriggerLeave:m.useCallback(D=>{j(D)&&D.preventDefault()},[j]),pointerGraceTimerRef:P,onPointerGraceIntentChange:m.useCallback(D=>{O.current=D},[]),children:y.jsx(V,{...K,children:y.jsx(m0,{asChild:!0,trapped:i,onMountAutoFocus:oe(o,D=>{var E;D.preventDefault(),(E=R.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:y.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:y.jsx(QV,{asChild:!0,...S,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:b,onEntryFocus:oe(l,D=>{v.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(FV,{role:"menu","aria-orientation":"vertical","data-state":m_(x.open),"data-radix-menu-content":"",dir:v.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:oe(g.onKeyDown,D=>{const J=D.target.closest("[data-radix-menu-content]")===D.currentTarget,le=D.ctrlKey||D.altKey||D.metaKey,T=D.key.length===1;J&&(D.key==="Tab"&&D.preventDefault(),!le&&T&&te(D.key));const Se=R.current;if(D.target!==Se||!zW.includes(D.key))return;D.preventDefault();const ee=C().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);GR.includes(D.key)&&ee.reverse(),s5(ee)}),onBlur:oe(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(_.current),A.current="")}),onPointerMove:oe(t.onPointerMove,bu(D=>{const E=D.target,J=F.current!==D.clientX;if(D.currentTarget.contains(E)&&J){const le=D.clientX>F.current?"right":"left";U.current=le,F.current=D.clientX}}))})})})})})})});ZR.displayName=$n;var XW="MenuGroup",N0=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{role:"group",...r,ref:e})});N0.displayName=XW;var QW="MenuLabel",e_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{...r,ref:e})});e_.displayName=QW;var jh="MenuItem",Kk="menu.itemSelect",Vp=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=m.useRef(null),s=Ju(jh,t.__scopeMenu),a=T0(jh,t.__scopeMenu),l=Be(e,o),c=m.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(Kk,{bubbles:!0,cancelable:!0});d.addEventListener(Kk,h=>r==null?void 0:r(h),{once:!0}),Ww(d,f),f.defaultPrevented?c.current=!1:s.onClose()}};return y.jsx(t_,{...i,ref:l,disabled:n,onClick:oe(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:oe(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:oe(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||ov.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Vp.displayName=jh;var t_=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=T0(jh,n),a=JR(n),l=m.useRef(null),c=Be(e,l),[u,d]=m.useState(!1),[f,h]=m.useState("");return m.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[o.children]),y.jsx(ku.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:y.jsx(ZV,{asChild:!0,...a,focusable:!r,children:y.jsx(Ee.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:oe(t.onPointerMove,bu(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,bu(p=>s.onItemLeave(p))),onFocus:oe(t.onFocus,()=>d(!0)),onBlur:oe(t.onBlur,()=>d(!1))})})})}),ZW="MenuCheckboxItem",n_=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return y.jsx(a_,{scope:t.__scopeMenu,checked:n,children:y.jsx(Vp,{role:"menuitemcheckbox","aria-checked":Fh(n)?"mixed":n,...i,ref:e,"data-state":_0(n),onSelect:oe(i.onSelect,()=>r==null?void 0:r(Fh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});n_.displayName=ZW;var r_="MenuRadioGroup",[e5,t5]=$s(r_,{value:void 0,onValueChange:()=>{}}),i_=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=at(r);return y.jsx(e5,{scope:t.__scopeMenu,value:n,onValueChange:o,children:y.jsx(N0,{...i,ref:e})})});i_.displayName=r_;var o_="MenuRadioItem",s_=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=t5(o_,t.__scopeMenu),o=n===i.value;return y.jsx(a_,{scope:t.__scopeMenu,checked:o,children:y.jsx(Vp,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":_0(o),onSelect:oe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});s_.displayName=o_;var R0="MenuItemIndicator",[a_,n5]=$s(R0,{checked:!1}),l_=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=n5(R0,n);return y.jsx(Nn,{present:r||Fh(o.checked)||o.checked===!0,children:y.jsx(Ee.span,{...i,ref:e,"data-state":_0(o.checked)})})});l_.displayName=R0;var r5="MenuSeparator",c_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});c_.displayName=r5;var i5="MenuArrow",u_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Up(n);return y.jsx(zV,{...i,...r,ref:e})});u_.displayName=i5;var o5="MenuSub",[BY,d_]=$s(o5),rc="MenuSubTrigger",f_=m.forwardRef((t,e)=>{const n=Bs(rc,t.__scopeMenu),r=Ju(rc,t.__scopeMenu),i=d_(rc,t.__scopeMenu),o=T0(rc,t.__scopeMenu),s=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),y.jsx(C0,{asChild:!0,...c,children:y.jsx(t_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":m_(n.open),...t,ref:Cp(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,bu(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:oe(t.onPointerLeave,bu(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,x=g==="right",v=x?-5:5,w=f[x?"left":"right"],S=f[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:w,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:w,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,d=>{var h;const f=o.searchRef.current!=="";t.disabled||f&&d.key===" "||$W[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});f_.displayName=rc;var h_="MenuSubContent",p_=m.forwardRef((t,e)=>{const n=XR($n,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Bs($n,t.__scopeMenu),s=Ju($n,t.__scopeMenu),a=d_(h_,t.__scopeMenu),l=m.useRef(null),c=Be(e,l);return y.jsx(ku.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||o.open,children:y.jsx(ku.Slot,{scope:t.__scopeMenu,children:y.jsx(I0,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:oe(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:oe(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=BW[s.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});p_.displayName=h_;function m_(t){return t?"open":"closed"}function Fh(t){return t==="indeterminate"}function _0(t){return Fh(t)?"indeterminate":t?"checked":"unchecked"}function s5(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function a5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function l5(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=a5(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function c5(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function u5(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return c5(n,e)}function bu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var d5=YR,f5=C0,h5=QR,p5=ZR,m5=N0,g5=e_,y5=Vp,v5=n_,w5=i_,x5=s_,S5=l_,k5=c_,b5=u_,C5=f_,E5=p_,M0="DropdownMenu",[T5,UY]=xl(M0,[qR]),en=qR(),[I5,g_]=T5(M0),y_=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=en(e),c=m.useRef(null),[u=!1,d]=Ip({prop:i,defaultProp:o,onChange:s});return y.jsx(I5,{scope:e,triggerId:Fa(),triggerRef:c,contentId:Fa(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:y.jsx(d5,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};y_.displayName=M0;var v_="DropdownMenuTrigger",w_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=g_(v_,n),s=en(n);return y.jsx(f5,{asChild:!0,...s,children:y.jsx(Ee.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cp(e,o.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});w_.displayName=v_;var N5="DropdownMenuPortal",x_=t=>{const{__scopeDropdownMenu:e,...n}=t,r=en(e);return y.jsx(h5,{...r,...n})};x_.displayName=N5;var S_="DropdownMenuContent",k_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=g_(S_,n),o=en(n),s=m.useRef(!1);return y.jsx(p5,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k_.displayName=S_;var R5="DropdownMenuGroup",_5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(m5,{...i,...r,ref:e})});_5.displayName=R5;var M5="DropdownMenuLabel",b_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(g5,{...i,...r,ref:e})});b_.displayName=M5;var P5="DropdownMenuItem",C_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(y5,{...i,...r,ref:e})});C_.displayName=P5;var A5="DropdownMenuCheckboxItem",E_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(v5,{...i,...r,ref:e})});E_.displayName=A5;var O5="DropdownMenuRadioGroup",D5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(w5,{...i,...r,ref:e})});D5.displayName=O5;var L5="DropdownMenuRadioItem",T_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(x5,{...i,...r,ref:e})});T_.displayName=L5;var j5="DropdownMenuItemIndicator",I_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(S5,{...i,...r,ref:e})});I_.displayName=j5;var F5="DropdownMenuSeparator",N_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(k5,{...i,...r,ref:e})});N_.displayName=F5;var z5="DropdownMenuArrow",$5=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(b5,{...i,...r,ref:e})});$5.displayName=z5;var B5="DropdownMenuSubTrigger",R_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(C5,{...i,...r,ref:e})});R_.displayName=B5;var U5="DropdownMenuSubContent",__=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return y.jsx(E5,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});__.displayName=U5;var V5=y_,W5=w_,H5=x_,M_=k_,P_=b_,A_=C_,O_=E_,D_=T_,L_=I_,j_=N_,F_=R_,z_=__;const K5=V5,G5=W5,q5=m.forwardRef(({className:t,inset:e,children:n,...r},i)=>y.jsxs(F_,{ref:i,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,y.jsx(uI,{className:"ml-auto h-4 w-4"})]}));q5.displayName=F_.displayName;const J5=m.forwardRef(({className:t,...e},n)=>y.jsx(z_,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));J5.displayName=z_.displayName;const $_=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(H5,{children:y.jsx(M_,{ref:r,sideOffset:e,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));$_.displayName=M_.displayName;const na=m.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(A_,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));na.displayName=A_.displayName;const Y5=m.forwardRef(({className:t,children:e,checked:n,...r},i)=>y.jsxs(O_,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(L_,{children:y.jsx(dF,{className:"h-4 w-4"})})}),e]}));Y5.displayName=O_.displayName;const X5=m.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(D_,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(L_,{children:y.jsx(gF,{className:"h-4 w-4 fill-current"})})}),e]}));X5.displayName=D_.displayName;const sv=m.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(P_,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));sv.displayName=P_.displayName;const ic=m.forwardRef(({className:t,...e},n)=>y.jsx(j_,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));ic.displayName=j_.displayName;function B_(){const t=pr(),{auth:e}=m.useContext(Ri),[n,r]=m.useState(),i=e==null?void 0:e.currentUser;m.useEffect(()=>{(async()=>{if(e!=null&&e.currentUser)try{const d=await p0(e);d.username.length===0?t("/complete-profile"):r(d)}catch(d){console.log(d)}})()},[e]);const o=async()=>{e&&(await b3(e),vU(),t("/"))},s=async()=>{t("/recipes")},a=async()=>{t(`/recipes/${n==null?void 0:n.username}`)},l=()=>{t("/login")},c=()=>{t("/signup")};return y.jsxs(K5,{children:[y.jsx(G5,{asChild:!0,children:n!=null&&n.username?y.jsx(xt,{size:"icon",variant:"secondary",className:"text-2xl font-bold",title:"User Menu",children:n.username.slice(0,1).toUpperCase()}):y.jsx(xt,{size:"icon",variant:"secondary",title:"User Menu",children:y.jsx(aU,{})})}),y.jsx($_,{className:"w-64",children:i!=null&&i.uid?y.jsxs(y.Fragment,{children:[y.jsx(sv,{className:"text-2xl",children:n==null?void 0:n.username}),y.jsx(ic,{}),y.jsx(na,{onClick:a,className:"text-2xl",children:"My Recipes"}),y.jsx(ic,{}),y.jsx(na,{onClick:o,className:"text-2xl",children:"Log Out"})]}):y.jsxs(y.Fragment,{children:[y.jsx(sv,{className:"text-2xl",children:"Welcome Guest!"}),y.jsx(ic,{}),y.jsx(na,{onClick:s,className:"text-2xl",children:"All Recipes"}),y.jsx(ic,{}),y.jsx(na,{onClick:l,className:"text-2xl",children:"Log In"}),y.jsx(na,{onClick:c,className:"text-2xl",children:"Sign Up"})]})})]})}const Q5=({item:t})=>{const e=pr(),n=()=>{e(`/recipes/${t.username}/${t.slug}`)};return y.jsxs(xt,{variant:"secondary",className:"justify-between pr-1 text-left text-wrap",onClick:n,children:[y.jsx("div",{children:t.title}),y.jsx("div",{className:"min-w-8 ml-4",children:y.jsx(iU,{size:30})})]},t.id)},sn=m.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:ge("flex h-9 w-full rounded-md border-2 border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));sn.displayName="Input";var Z5="Separator",Gk="horizontal",e6=["horizontal","vertical"],U_=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=Gk,...i}=t,o=t6(r)?r:Gk,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return y.jsx(Ee.div,{"data-orientation":o,...a,...i,ref:e})});U_.displayName=Z5;function t6(t){return e6.includes(t)}var V_=U_;const or=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>y.jsx(V_,{ref:i,decorative:n,orientation:e,className:ge("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));or.displayName=V_.displayName;const W_=m.forwardRef(({...t},e)=>y.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));W_.displayName="Breadcrumb";const H_=m.forwardRef(({className:t,...e},n)=>y.jsx("ol",{ref:n,className:ge("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));H_.displayName="BreadcrumbList";const av=m.forwardRef(({className:t,...e},n)=>y.jsx("li",{ref:n,className:ge("inline-flex items-center gap-1.5",t),...e}));av.displayName="BreadcrumbItem";const n6=m.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?Ro:"a";return y.jsx(i,{ref:r,className:ge("transition-colors hover:text-foreground text-2xl",e),...n})});n6.displayName="BreadcrumbLink";const r6=m.forwardRef(({className:t,...e},n)=>y.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:ge("font-normal text-foreground",t),...e}));r6.displayName="BreadcrumbPage";const K_=({children:t,className:e,...n})=>y.jsx("li",{role:"presentation","aria-hidden":"true",className:ge("[&>svg]:w-6 [&>svg]:h-6 pt-1",e),...n,children:t??y.jsx(uI,{})});K_.displayName="BreadcrumbSeparator";function G_(){const{username:t}=kp();return y.jsx(W_,{children:y.jsxs(H_,{children:[y.jsx(av,{children:y.jsx(kh,{to:"/recipes",className:"transition-colors hover:text-foreground text-2xl",children:"recipes"})}),t&&y.jsxs(y.Fragment,{children:[y.jsx(K_,{}),y.jsx(av,{children:y.jsx(kh,{to:`/recipes/${t}`,className:"transition-colors hover:text-foreground text-2xl",children:t})})]})]})})}function q_({fetchRecipes:t,cacheKey:e}){const{auth:n}=m.useContext(Ri),r=n==null?void 0:n.currentUser,i=pr(),[o,s]=m.useState([]),[a,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(""),[h,p]=m.useState("All"),[g,x]=m.useState(!1),[v,w]=m.useState(!1),S=m.useRef(null),C=P=>{f(P.target.value)},I=()=>{i("/upload/")},b=()=>{i("/recipes/")},R=()=>{f(""),x(!g)};m.useEffect(()=>{g&&S.current&&S.current.focus()},[g]),m.useEffect(()=>{(async()=>{var U;const O=lR(e);O&&k(JSON.parse(O));try{const F=await((U=n==null?void 0:n.currentUser)==null?void 0:U.getIdToken()),V=ir(F??void 0),K=await t(V);k(K),h0(e,JSON.stringify(K))}catch(F){console.error(F)}})()},[e,t]);const k=P=>{if(!P.Recipes||P.Recipes.length===0){w(!0);return}w(!1);const O=P.Recipes.map(V=>({...V,tags:V.tags&&V.tags.length?V.tags:["Uncategorized"]}));s(O);let U=O.reduce((V,K)=>V.concat(K.tags??[]),["All"]);const F=Array.from(new Set(U)).sort((V,K)=>V==="All"?-1:K==="All"||V==="Uncategorized"?1:K==="Uncategorized"?-1:V.localeCompare(K));l(F),p("All")},_=()=>{let O=a.filter(U=>h==="All"||U.toLowerCase()===h.toLowerCase()).filter(U=>U!="All").map(U=>{var F=o.filter(V=>{var K;return(K=V.tags)==null?void 0:K.some(te=>te.toLowerCase()===U.toLowerCase())}).sort((V,K)=>V.title.localeCompare(K.title));return{tag:U,recipes:F}});d.length>0&&(O=O.map(U=>({tag:U.tag,recipes:U.recipes.filter(F=>F.title.toLowerCase().includes(d.toLowerCase()))})).filter(U=>U.recipes.length>0)),u(O)},A=P=>{p(P)};return m.useEffect(()=>{o.length>0&&_()},[o,d,h]),y.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 pb-0 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(B_,{}),y.jsx(G_,{})]}),y.jsxs("div",{className:"flex gap-2",children:[!v&&y.jsx(xt,{size:"icon",variant:"ghost",onClick:R,title:"Search",children:y.jsx(Tk,{})}),(r==null?void 0:r.uid)&&y.jsx(xt,{size:"icon",variant:"ghost",onClick:I,title:"Add Recipe",children:y.jsx(rR,{})})]})]}),a&&a.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 p-4",children:a==null?void 0:a.map(P=>y.jsx(xt,{size:"tag",variant:h===P?"default":"secondary",className:h===P?"text-background":"",onClick:()=>A(P),children:P},P))}),g&&y.jsx("div",{className:"flex px-4 pb-4",children:y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(Tk,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{ref:S,placeholder:"Search recipes",className:"pl-11 h-12 text-2xl",value:d,onChange:C})]})}),v&&y.jsxs("div",{className:"flex flex-col px-4 py-16",children:[y.jsx("div",{className:"flex-grow text-2xl text-center",children:"It looks like there aren't any recipes here yet."}),y.jsx("div",{className:"flex flex-row py-8 gap-4 justify-center",children:y.jsx(xt,{onClick:b,children:"View All Recipes"})})]}),y.jsxs(Dp,{className:"h-full w-full",children:[c==null?void 0:c.map(P=>{var O;return y.jsxs("div",{children:[y.jsxs("div",{className:"px-4 mb-2 text-2xl flex gap-2 items-center",children:[y.jsx("div",{className:"w-2",children:y.jsx(or,{className:"bg-muted-foreground"})}),y.jsx("span",{className:"text-muted-foreground",children:P.tag}),y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})})]}),y.jsx("div",{className:"px-4 mb-6 gap-2 flex flex-col",children:(O=P.recipes)==null?void 0:O.map(U=>y.jsx(Q5,{item:U},U.id))})]},P.tag)}),y.jsx("div",{className:"pb-14"})]})]})}function i6(){return y.jsx(q_,{cacheKey:"all_recipes_response",fetchRecipes:t=>t.api.GetAllRecipes()})}var o6="Label",J_=m.forwardRef((t,e)=>y.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));J_.displayName=o6;var Y_=J_;const s6=Jw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=m.forwardRef(({className:t,...e},n)=>y.jsx(Y_,{ref:n,className:ge(s6(),t),...e}));_t.displayName=Y_.displayName;function a6(){const t=pr(),{auth:e}=m.useContext(Ri),[n,r]=m.useState(),[i,o]=m.useState(""),[s,a]=m.useState(""),[l,c]=m.useState();m.useEffect(()=>{(async()=>{if(e)try{const h=await p0(e);h&&h.username.length>0&&t(`/recipes/${h.username}`),r(h)}catch(h){console.log(h)}})()},[e]);const u=async()=>{var f,h;try{const p=await((f=e==null?void 0:e.currentUser)==null?void 0:f.getIdToken()),x=await ir(p??void 0).api.SaveProfile({id:((h=e==null?void 0:e.currentUser)==null?void 0:h.uid)||"",username:i});yU(x),t(`/recipes/${x.username}`)}catch(p){console.error(p)}},d=async f=>{const h=f.target.value;if(a(""),o(h),c(!1),f.type==="blur"){if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(h)){a("Please only use lowercase letters and numbers separated by hyphens.");return}try{(await ir(void 0).api.CheckIfUsernameIsAvailable({username:h})).available?c(!0):a(`${h} is already in use`)}catch(x){console.error(x)}}};return y.jsx("div",{className:"h-full mx-auto max-w-4xl ",children:y.jsxs("form",{className:"loginForm",children:[y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Complete Profile"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"signupEmail",className:"text-2xl font-semibold",children:"Username"}),y.jsx(sn,{id:"username",type:"username",className:"mt-2 h-12 text-2xl","aria-describedby":"username",placeholder:"ex. my-username",value:i,onChange:d,onBlur:d}),s.length>0&&y.jsxs("div",{className:"flex gap-4 items-center pt-2",children:[y.jsx(oR,{}),y.jsx("div",{className:"text-xl",children:s})]})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsx(xt,{type:"submit",onClick:u,disabled:i.length<=0||s.length>0||!l,children:"Complete"})})]})})}const P0=m.createContext({});function l6(){const{dom:t,editor:e,setLoading:n,editorFactory:r}=m.useContext(P0),i=m.useRef(null);return m.useEffect(()=>{const o=i.current;if(!r||!o)return;t.current=o;const s=r(o);if(s)return n(!0),s.create().then(a=>{e.current=a}).finally(()=>{n(!1)}).catch(console.error),()=>{var a;(a=e.current)==null||a.destroy()}},[t,e,r,n]),i}const c6=()=>{const t=l6();return Pn.createElement("div",{"data-milkdown-root":!0,ref:t})},Ba=({children:t})=>{const e=m.useRef(void 0),[n,r]=m.useState(void 0),i=m.useRef(),[o,s]=m.useState(!0),a=m.useMemo(()=>({loading:o,dom:e,editor:i,setLoading:s,editorFactory:n,setEditorFactory:r}),[o,n]);return Pn.createElement(P0.Provider,{value:a},t)};function u6(t,e=[]){const n=m.useContext(P0),r=m.useCallback(t,e);return m.useLayoutEffect(()=>{n.setEditorFactory(()=>r)},[n,r]),{loading:n.loading,get:()=>n.editor.current}}let Wd;const d6=new Uint8Array(16);function f6(){if(!Wd&&(Wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wd(d6)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function h6(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const p6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qk={randomUUID:p6};function m6(t,e,n){if(qk.randomUUID&&!e&&!t)return qk.randomUUID();t=t||{};const r=t.random||(t.rng||f6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return h6(r)}var Rn=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t))(Rn||{});let Kn=class extends Error{constructor(e,n){super(n),this.name="MilkdownError",this.code=e}};const g6=(t,e)=>typeof e=="function"?"[Function]":e,ll=t=>JSON.stringify(t,g6);function y6(t){return new Kn(Rn.docTypeError,`Doc type error, unsupported type: ${ll(t)}`)}function v6(t){return new Kn(Rn.contextNotFound,`Context "${t}" not found, do you forget to inject it?`)}function w6(t){return new Kn(Rn.timerNotFound,`Timer "${t}" not found, do you forget to record it?`)}function A0(){return new Kn(Rn.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function x6(...t){const e=t.reduce((n,r)=>{if(!r)return n;const i=o=>Array.isArray(o)?o.map(s=>i(s)).join(", "):o.toJSON?ll(o.toJSON()):o.spec?ll(o.spec):o.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new Kn(Rn.createNodeInParserFail,e)}function X_(){return new Kn(Rn.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function S6(t){return new Kn(Rn.parserMatchError,`Cannot match target parser for node: ${ll(t)}.`)}function k6(t){return new Kn(Rn.serializerMatchError,`Cannot match target serializer for node: ${ll(t)}.`)}function Us(t){return new Kn(Rn.expectDomTypeError,`Expect to be a dom, but get: ${ll(t)}.`)}function b6(){return new Kn(Rn.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function C6(t){return new Kn(Rn.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`)}function E6(t){return new Kn(Rn.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${t}" in schema.`)}var Q_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ie=(t,e,n)=>(Q_(t,e,"read from private field"),n?n.call(t):e.get(t)),st=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_e=(t,e,n,r)=>(Q_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let Z_=class{constructor(){this.sliceMap=new Map,this.get=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!n){const r=typeof e=="string"?e:e.name;throw v6(r)}return n},this.remove=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);n&&this.sliceMap.delete(n.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(n=>n.type.name===e):this.sliceMap.has(e.id)}};var Er,$i,oc;let T6=class{constructor(e,n,r){st(this,Er,void 0),st(this,$i,void 0),st(this,oc,void 0),_e(this,Er,[]),_e(this,oc,()=>{ie(this,Er).forEach(i=>i(ie(this,$i)))}),this.set=i=>{_e(this,$i,i),ie(this,oc).call(this)},this.get=()=>ie(this,$i),this.update=i=>{_e(this,$i,i(ie(this,$i))),ie(this,oc).call(this)},this.type=r,_e(this,$i,n),e.set(r.id,this)}on(e){return ie(this,Er).push(e),()=>{_e(this,Er,ie(this,Er).filter(n=>n!==e))}}once(e){const n=this.on(r=>{e(r),n()});return n}off(e){_e(this,Er,ie(this,Er).filter(n=>n!==e))}offAll(){_e(this,Er,[])}};Er=new WeakMap,$i=new WeakMap,oc=new WeakMap;let I6=class{constructor(e,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=e,this._typeInfo=()=>{throw A0()}}create(e,n=this._defaultValue){return new T6(e,n,this)}};const Me=(t,e)=>new I6(t,e);var vf,wf,xf,ra,sc,es,ac,lc,cc;let N6=class{constructor(e,n,r){st(this,vf,void 0),st(this,wf,void 0),st(this,xf,void 0),st(this,ra,void 0),st(this,sc,void 0),st(this,es,void 0),st(this,ac,void 0),st(this,lc,void 0),st(this,cc,void 0),_e(this,ra,new Set),_e(this,sc,new Set),_e(this,es,new Map),_e(this,ac,new Map),this.read=()=>({metadata:ie(this,vf),injectedSlices:[...ie(this,ra)].map(i=>({name:typeof i=="string"?i:i.name,value:ie(this,lc).call(this,i)})),consumedSlices:[...ie(this,sc)].map(i=>({name:typeof i=="string"?i:i.name,value:ie(this,lc).call(this,i)})),recordedTimers:[...ie(this,es)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ie(this,cc).call(this,i)})),waitTimers:[...ie(this,ac)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:ie(this,cc).call(this,i)}))}),this.onRecord=i=>{ie(this,es).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{ie(this,es).delete(i)},this.onDone=i=>{const o=ie(this,es).get(i);o&&(o.duration=Date.now()-o.start)},this.onWait=(i,o)=>{const s=Date.now();o.finally(()=>{ie(this,ac).set(i,{duration:Date.now()-s})})},this.onInject=i=>{ie(this,ra).add(i)},this.onRemove=i=>{ie(this,ra).delete(i)},this.onUse=i=>{ie(this,sc).add(i)},_e(this,lc,i=>ie(this,wf).get(i).get()),_e(this,cc,i=>ie(this,xf).get(i).status),_e(this,wf,e),_e(this,xf,n),_e(this,vf,r)}};vf=new WeakMap,wf=new WeakMap,xf=new WeakMap,ra=new WeakMap,sc=new WeakMap,es=new WeakMap,ac=new WeakMap,lc=new WeakMap,cc=new WeakMap;var Bi,Ui,Sf,Xn;const R6=class eM{constructor(e,n,r){st(this,Bi,void 0),st(this,Ui,void 0),st(this,Sf,void 0),st(this,Xn,void 0),this.produce=i=>i&&Object.keys(i).length?new eM(ie(this,Bi),ie(this,Ui),{...i}):this,this.inject=(i,o)=>{var s;const a=i.create(ie(this,Bi).sliceMap);return o!=null&&a.set(o),(s=ie(this,Xn))==null||s.onInject(i),this},this.remove=i=>{var o;return ie(this,Bi).remove(i),(o=ie(this,Xn))==null||o.onRemove(i),this},this.record=i=>{var o;return i.create(ie(this,Ui).store),(o=ie(this,Xn))==null||o.onRecord(i),this},this.clearTimer=i=>{var o;return ie(this,Ui).remove(i),(o=ie(this,Xn))==null||o.onClear(i),this},this.isInjected=i=>ie(this,Bi).has(i),this.isRecorded=i=>ie(this,Ui).has(i),this.use=i=>{var o;return(o=ie(this,Xn))==null||o.onUse(i),ie(this,Bi).get(i)},this.get=i=>this.use(i).get(),this.set=(i,o)=>this.use(i).set(o),this.update=(i,o)=>this.use(i).update(o),this.timer=i=>ie(this,Ui).get(i),this.done=i=>{var o;this.timer(i).done(),(o=ie(this,Xn))==null||o.onDone(i)},this.wait=i=>{var o;const s=this.timer(i).start();return(o=ie(this,Xn))==null||o.onWait(i,s),s},this.waitTimers=async i=>{await Promise.all(this.get(i).map(o=>this.wait(o)))},_e(this,Bi,e),_e(this,Ui,n),_e(this,Sf,r),r&&_e(this,Xn,new N6(e,n,r))}get meta(){return ie(this,Sf)}get inspector(){return ie(this,Xn)}};Bi=new WeakMap,Ui=new WeakMap,Sf=new WeakMap,Xn=new WeakMap;let _6=R6,M6=class{constructor(){this.store=new Map,this.get=e=>{const n=this.store.get(e.id);if(!n)throw w6(e.name);return n},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}};var ia,ts,uc,Vi,dc,kf;let P6=class{constructor(e,n){st(this,ia,void 0),st(this,ts,void 0),st(this,uc,void 0),st(this,Vi,void 0),st(this,dc,void 0),st(this,kf,void 0),_e(this,ia,null),_e(this,ts,null),_e(this,Vi,"pending"),this.start=()=>(ie(this,ia)??_e(this,ia,new Promise((r,i)=>{_e(this,ts,o=>{o instanceof CustomEvent&&o.detail.id===ie(this,uc)&&(_e(this,Vi,"resolved"),ie(this,dc).call(this),o.stopImmediatePropagation(),r())}),ie(this,kf).call(this,()=>{ie(this,Vi)==="pending"&&_e(this,Vi,"rejected"),ie(this,dc).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),_e(this,Vi,"pending"),addEventListener(this.type.name,ie(this,ts))})),ie(this,ia)),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:ie(this,uc)}});dispatchEvent(r)},_e(this,dc,()=>{ie(this,ts)&&removeEventListener(this.type.name,ie(this,ts))}),_e(this,kf,r=>{setTimeout(()=>{r()},this.type.timeout)}),_e(this,uc,Symbol(n.name)),this.type=n,e.set(n.id,this)}get status(){return ie(this,Vi)}};ia=new WeakMap,ts=new WeakMap,uc=new WeakMap,Vi=new WeakMap,dc=new WeakMap,kf=new WeakMap;let A6=class{constructor(e,n=3e3){this.create=r=>new P6(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=n}};const Wo=(t,e=3e3)=>new A6(t,e);function Rt(t){this.content=t}Rt.prototype={constructor:Rt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Rt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Rt(n)},addToStart:function(t,e){return new Rt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Rt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Rt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Rt.from(t),t.size?new Rt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Rt.from(t),t.size?new Rt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Rt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Rt.from=function(t){if(t instanceof Rt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Rt(e)};function tM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=tM(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function nM(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=nM(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class H{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new H(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new H(r,i)}cutByIndex(e,n){return e==n?H.empty:e==0&&n==this.content.length?this:new H(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new H(i,o)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return tM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return nM(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Hd(0,e);if(e==this.size)return Hd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Hd(r+1,s):Hd(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return H.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new H(n||e,r)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const sg={index:0,offset:0};function Hd(t,e){return sg.index=t,sg.offset=e,sg}function zh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!zh(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!zh(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Ce{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ce.none;if(e instanceof Ce)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Ce.none=[];class $h extends Error{}class X{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=iM(this.content,e+this.openStart,n);return r&&new X(r,this.openStart,this.openEnd)}removeBetween(e,n){return new X(rM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return X.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(H.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new X(e,r,i)}}X.empty=new X(H.empty,0,0);function rM(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(rM(o.content,e-i-1,n-i-1)))}function iM(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=iM(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function O6(t,e,n){if(n.openStart>t.depth)throw new $h("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new $h("Inconsistent open depths");return oM(t,e,n,0)}function oM(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=oM(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return ys(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=D6(n,t);return ys(o,aM(t,s,a,e,r))}else return ys(o,Bh(t,e,r))}function sM(t,e){if(!e.type.compatibleContent(t.type))throw new $h("Cannot join "+e.type.name+" onto "+t.type.name)}function lv(t,e,n){let r=t.node(n);return sM(r,e.node(n)),r}function gs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Fc(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(gs(t.nodeAfter,r),o++));for(let a=o;a<s;a++)gs(i.child(a),r);e&&e.depth==n&&e.textOffset&&gs(e.nodeBefore,r)}function ys(t,e){return t.type.checkContent(e),t.copy(e)}function aM(t,e,n,r,i){let o=t.depth>i&&lv(t,e,i+1),s=r.depth>i&&lv(n,r,i+1),a=[];return Fc(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(sM(o,s),gs(ys(o,aM(t,e,n,r,i+1)),a)):(o&&gs(ys(o,Bh(t,e,i+1)),a),Fc(e,n,i,a),s&&gs(ys(s,Bh(n,r,i+1)),a)),Fc(r,null,i,a),new H(a)}function Bh(t,e,n){let r=[];if(Fc(null,t,n,r),t.depth>n){let i=lv(t,e,n+1);gs(ys(i,Bh(t,e,n+1)),r)}return Fc(e,null,n,r),new H(r)}function D6(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(H.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Cu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ce.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new lM(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Cu(n,r,o)}static resolveCached(e,n){let r=Jk.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else Jk.set(e,r=new L6);let i=r.elts[r.i]=Cu.resolve(e,n);return r.i=(r.i+1)%j6,i}}class L6{constructor(){this.elts=[],this.i=0}}const j6=12,Jk=new WeakMap;class lM{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const F6=Object.create(null);let ko=class cv{constructor(e,n,r,i=Ce.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||H.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&zh(this.attrs,n||e.defaultAttrs||F6)&&Ce.sameSet(this.marks,r||Ce.none)}copy(e=null){return e==this.content?this:new cv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new cv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return X.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new X(c,i.depth-s,o.depth-s)}replace(e,n,r){return O6(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Cu.resolveCached(this,e)}resolveNoCache(e){return Cu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=H.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ce.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ce.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=H.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};ko.prototype.text=void 0;class Uh extends ko{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Uh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Uh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class As{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new z6(e,n);if(r.next==null)return As.empty;let i=uM(r);r.next&&r.err("Unexpected trailing text");let o=K6(H6(i));return G6(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return H.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}As.empty=new As(!0);class z6{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function uM(t){let e=[];do e.push($6(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function $6(t){let e=[];do e.push(B6(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function B6(t){let e=W6(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=U6(t,e);else break;return e}function Yk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function U6(t,e){let n=Yk(t),r=n;return t.eat(",")&&(t.next!="}"?r=Yk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function V6(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function W6(t){if(t.eat("(")){let e=uM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=V6(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function H6(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function dM(t,e){return e-t}function Xk(t,e){let n=[];return r(e),n.sort(dM);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function K6(t){let e=Object.create(null);return n(Xk(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Xk(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new As(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(dM);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function G6(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function hM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function pM(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function mM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new J6(t,r,e[r]);return n}let Qk=class gM{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mM(e,r.attrs),this.defaultAttrs=fM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==As.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ko(this,this.computeAttrs(e),H.from(n),Ce.setFrom(r))}createChecked(e=null,n,r){return n=H.from(n),this.checkContent(n),new ko(this,this.computeAttrs(e),n,Ce.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=H.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(H.empty,!0);return o?new ko(this,e,n.append(o),Ce.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ce.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new gM(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function q6(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class J6{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?q6(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Wp{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=mM(e,i.attrs),this.excluded=null;let o=fM(this.attrs);this.instance=o?new Ce(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ce(this,hM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Wp(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Y6{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Rt.from(e.nodes),n.marks=Rt.from(e.marks||{}),this.nodes=Qk.compile(this.spec.nodes,this),this.marks=Wp.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=As.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Zk(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Zk(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Uh(r,r.defaultAttrs,e,Ce.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ko.fromJSON(this,e)}markFromJSON(e){return Ce.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Zk(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function X6(t){return t.tag!=null}function Q6(t){return t.style!=null}class cl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(X6(i))this.tags.push(i);else if(Q6(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new tb(this,n,!1);return r.addAll(e,Ce.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new tb(this,n,!0);return r.addAll(e,Ce.none,n.from,n.to),X.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(tH(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=nb(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=nb(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new cl(e,cl.schemaRules(e)))}}const yM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Z6={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vM={ol:!0,ul:!0},Vh=1,Wh=2,zc=4;function eb(t,e,n){return e!=null?(e?Vh:0)|(e==="full"?Wh:0):t&&t.whitespace=="pre"?Vh|Wh:n&~zc}class Kd{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Ce.none,this.match=o||(s&zc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(H.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Vh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=H.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!yM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class tb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=eb(null,n.preserveWhitespace,0)|(r?zc:0);i?o=new Kd(i.type,i.attrs,Ce.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Kd(null,null,Ce.none,!0,null,s):o=new Kd(e.schema.topNodeType,null,Ce.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Wh||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Vh)i.options&Wh?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;vM.hasOwnProperty(i)&&this.parser.normalizeLists&&eH(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:Z6.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(yM.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=s&&s.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ce.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):rb(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=eb(e,o,s.options);s.options&zc&&s.content.length==0&&(a|=zc);let l=Ce.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):rb(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Kd(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function eH(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&vM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function tH(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function nb(t){let e={};for(let n in t)e[n]=t[n];return e}function rb(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class El{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ag(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=bf(ag(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&bf(ag(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return bf(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new El(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=ib(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return ib(e.marks)}}function ib(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ag(t){return t.document||window.document}const ob=new WeakMap;function nH(t){let e=ob.get(t);return e===void 0&&ob.set(t,e=rH(t)),e}function rH(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function bf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=nH(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=bf(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const iH={};function O0(t,e){const n=e||iH,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wM(t,r,i)}function wM(t,e,n){if(oH(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return sb(t.children,e,n)}return Array.isArray(t)?sb(t,e,n):""}function sb(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=wM(t[i],e,n);return r.join("")}function oH(t){return!!(t&&typeof t=="object")}const ab=document.createElement("i");function D0(t){const e="&"+t+";";ab.innerHTML=e;const n=ab.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ci(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Ln(t,e){return t.length>0?(Ci(t,t.length,0,e),t):e}const lb={}.hasOwnProperty;function sH(t){const e={};let n=-1;for(;++n<t.length;)aH(e,t[n]);return e}function aH(t,e){let n;for(n in e){const i=(lb.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){lb.call(i,s)||(i[s]=[]);const a=o[s];lH(i[s],Array.isArray(a)?a:a?[a]:[])}}}function lH(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ci(t,0,0,r)}function xM(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ua(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pr=Ho(/[A-Za-z]/),sr=Ho(/[\dA-Za-z]/),cH=Ho(/[#-'*+\--9=?A-Z^-~]/);function uv(t){return t!==null&&(t<32||t===127)}const dv=Ho(/\d/),uH=Ho(/[\dA-Fa-f]/),dH=Ho(/[!-/:-@[-`{-~]/);function de(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Ae(t){return t===-2||t===-1||t===32}const fH=Ho(/\p{P}|\p{S}/u),hH=Ho(/\s/);function Ho(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function We(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Ae(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ae(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const pH={tokenize:mH};function mH(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),We(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return de(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const gH={tokenize:yH},cb={tokenize:vH};function yH(t){const e=this,n=[];let r=0,i,o,s;return a;function a(S){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(S)}return c(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const C=e.events.length;let I=C,b;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){b=e.events[I][1].end;break}v(r);let R=C;for(;R<e.events.length;)e.events[R][1].end=Object.assign({},b),R++;return Ci(e.events,I+1,0,e.events.slice(C)),e.events.length=R,c(S)}return a(S)}function c(S){if(r===n.length){if(!i)return f(S);if(i.currentConstruct&&i.currentConstruct.concrete)return p(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(cb,u,d)(S)}function u(S){return i&&w(),v(r),f(S)}function d(S){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(S)}function f(S){return e.containerState={},t.attempt(cb,h,p)(S)}function h(S){return r++,n.push([e.currentConstruct,e.containerState]),f(S)}function p(S){if(S===null){i&&w(),v(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),g(S)}function g(S){if(S===null){x(t.exit("chunkFlow"),!0),v(0),t.consume(S);return}return de(S)?(t.consume(S),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),g)}function x(S,C){const I=e.sliceStream(S);if(C&&I.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(I),e.parser.lazy[S.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<s&&(!i.events[b][1].end||i.events[b][1].end.offset>s))return;const R=e.events.length;let k=R,_,A;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(_){A=e.events[k][1].end;break}_=!0}for(v(r),b=R;b<e.events.length;)e.events[b][1].end=Object.assign({},A),b++;Ci(e.events,k+1,0,e.events.slice(R)),e.events.length=b}}function v(S){let C=n.length;for(;C-- >S;){const I=n[C];e.containerState=I[1],I[0].exit.call(e,t)}n.length=S}function w(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function vH(t,e,n){return We(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ub(t){if(t===null||dn(t)||hH(t))return 1;if(fH(t))return 2}function L0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const fv={name:"attention",tokenize:xH,resolveAll:wH};function wH(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);db(d,-l),db(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ln(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ln(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Ln(c,L0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ln(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Ln(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Ci(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function xH(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ub(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=ub(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?d:d&&(i||!f)),c._close=!!(o===42?f:f&&(u||!d)),e(l)}}function db(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const SH={name:"autolink",tokenize:kH};function kH(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(h){return Pr(h)?(t.consume(h),s):h===64?n(h):c(h)}function s(h){return h===43||h===45||h===46||sr(h)?(r=1,a(h)):c(h)}function a(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||sr(h))&&r++<32?(t.consume(h),a):(r=0,c(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||uv(h)?n(h):(t.consume(h),l)}function c(h){return h===64?(t.consume(h),u):cH(h)?(t.consume(h),c):n(h)}function u(h){return sr(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,u):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):f(h)}function f(h){if((h===45||sr(h))&&r++<63){const p=h===45?f:d;return t.consume(h),p}return n(h)}}const Hp={tokenize:bH,partial:!0};function bH(t,e,n){return r;function r(o){return Ae(o)?We(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||de(o)?e(o):n(o)}}const SM={name:"blockQuote",tokenize:CH,continuation:{tokenize:EH},exit:TH};function CH(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ae(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function EH(t,e,n){const r=this;return i;function i(s){return Ae(s)?We(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(SM,e,n)(s)}}function TH(t){t.exit("blockQuote")}const kM={name:"characterEscape",tokenize:IH};function IH(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return dH(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const bM={name:"characterReference",tokenize:NH};function NH(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=sr,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=uH,u):(t.enter("characterReferenceValue"),o=7,s=dv,u(d))}function u(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return s===sr&&!D0(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),u):n(d)}}const fb={tokenize:_H,partial:!0},hb={name:"codeFenced",tokenize:RH,concrete:!0};function RH(t,e,n){const r=this,i={tokenize:I,partial:!0};let o=0,s=0,a;return l;function l(b){return c(b)}function c(b){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=b,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(b)}function u(b){return b===a?(s++,t.consume(b),u):s<3?n(b):(t.exit("codeFencedFenceSequence"),Ae(b)?We(t,d,"whitespace")(b):d(b))}function d(b){return b===null||de(b)?(t.exit("codeFencedFence"),r.interrupt?e(b):t.check(fb,g,C)(b)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===null||de(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(b)):Ae(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),We(t,h,"whitespace")(b)):b===96&&b===a?n(b):(t.consume(b),f)}function h(b){return b===null||de(b)?d(b):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||de(b)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(b)):b===96&&b===a?n(b):(t.consume(b),p)}function g(b){return t.attempt(i,C,x)(b)}function x(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),v}function v(b){return o>0&&Ae(b)?We(t,w,"linePrefix",o+1)(b):w(b)}function w(b){return b===null||de(b)?t.check(fb,g,C)(b):(t.enter("codeFlowValue"),S(b))}function S(b){return b===null||de(b)?(t.exit("codeFlowValue"),w(b)):(t.consume(b),S)}function C(b){return t.exit("codeFenced"),e(b)}function I(b,R,k){let _=0;return A;function A(V){return b.enter("lineEnding"),b.consume(V),b.exit("lineEnding"),P}function P(V){return b.enter("codeFencedFence"),Ae(V)?We(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):O(V)}function O(V){return V===a?(b.enter("codeFencedFenceSequence"),U(V)):k(V)}function U(V){return V===a?(_++,b.consume(V),U):_>=s?(b.exit("codeFencedFenceSequence"),Ae(V)?We(b,F,"whitespace")(V):F(V)):k(V)}function F(V){return V===null||de(V)?(b.exit("codeFencedFence"),R(V)):k(V)}}}function _H(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const lg={name:"codeIndented",tokenize:PH},MH={tokenize:AH,partial:!0};function PH(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),We(t,o,"linePrefix",4+1)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):de(c)?t.attempt(MH,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||de(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function AH(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):de(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):We(t,o,"linePrefix",4+1)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):de(s)?i(s):n(s)}}const OH={name:"codeText",tokenize:jH,resolve:DH,previous:LH};function DH(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function LH(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jH(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,u(d)):de(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||de(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",c(d))}}class FH{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ql(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ql(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ql(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ql(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ql(this.left,n.reverse())}}}function ql(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function CM(t){const e={};let n=-1,r,i,o,s,a,l,c;const u=new FH(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,zH(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=u.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Ci(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function zH(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,d,f=-1,h=n,p=0,g=0;const x=[g];for(;h;){for(;t.get(++i)[1]!==h;);o.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,x.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),f=x.length;f--;){const v=a.slice(x[f],x[f+1]),w=o.pop();l.push([w,w+v.length-1]),t.splice(w,2,v)}for(l.reverse(),f=-1;++f<l.length;)c[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return c}const $H={tokenize:VH,resolve:UH},BH={tokenize:WH,partial:!0};function UH(t){return CM(t),t}function VH(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):de(a)?t.check(BH,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function WH(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),We(t,o,"linePrefix")}function o(s){if(s===null||de(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function EM(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),f):v===null||v===32||v===41||uv(v)?n(v):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(v))}function f(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||de(v)?n(v):(t.consume(v),v===92?p:h)}function p(v){return v===60||v===62||v===92?(t.consume(v),h):h(v)}function g(v){return!u&&(v===null||v===41||dn(v))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,g):v===41?(t.consume(v),u--,g):v===null||v===32||v===40||uv(v)?n(v):(t.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(t.consume(v),g):g(v)}}function TM(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(o),u}function u(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):de(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||de(h)||a++>999?(t.exit("chunkString"),u(h)):(t.consume(h),l||(l=!Ae(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),a++,d):d(h)}}function IM(t,e,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===s?(t.exit(o),l(s)):f===null?n(f):de(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),We(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||de(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===s||f===92?(t.consume(f),u):u(f)}}function $c(t,e){let n;return r;function r(i){return de(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ae(i)?We(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const HH={name:"definition",tokenize:GH},KH={tokenize:qH,partial:!0};function GH(t,e,n){const r=this;let i;return o;function o(h){return t.enter("definition"),s(h)}function s(h){return TM.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return dn(h)?$c(t,c)(h):c(h)}function c(h){return EM(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return t.attempt(KH,d,d)(h)}function d(h){return Ae(h)?We(t,f,"whitespace")(h):f(h)}function f(h){return h===null||de(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function qH(t,e,n){return r;function r(a){return dn(a)?$c(t,i)(a):n(a)}function i(a){return IM(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ae(a)?We(t,s,"whitespace")(a):s(a)}function s(a){return a===null||de(a)?e(a):n(a)}}const JH={name:"hardBreakEscape",tokenize:YH};function YH(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return de(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const XH={name:"headingAtx",tokenize:ZH,resolve:QH};function QH(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ci(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function ZH(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||dn(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||de(u)?(t.exit("atxHeading"),e(u)):Ae(u)?We(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||dn(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const e8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pb=["pre","script","style","textarea"],t8={name:"htmlFlow",tokenize:o8,resolveTo:i8,concrete:!0},n8={tokenize:a8,partial:!0},r8={tokenize:s8,partial:!0};function i8(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function o8(t,e,n){const r=this;let i,o,s,a,l;return c;function c(T){return u(T)}function u(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),d}function d(T){return T===33?(t.consume(T),f):T===47?(t.consume(T),o=!0,g):T===63?(t.consume(T),i=3,r.interrupt?e:E):Pr(T)?(t.consume(T),s=String.fromCharCode(T),x):n(T)}function f(T){return T===45?(t.consume(T),i=2,h):T===91?(t.consume(T),i=5,a=0,p):Pr(T)?(t.consume(T),i=4,r.interrupt?e:E):n(T)}function h(T){return T===45?(t.consume(T),r.interrupt?e:E):n(T)}function p(T){const Se="CDATA[";return T===Se.charCodeAt(a++)?(t.consume(T),a===Se.length?r.interrupt?e:O:p):n(T)}function g(T){return Pr(T)?(t.consume(T),s=String.fromCharCode(T),x):n(T)}function x(T){if(T===null||T===47||T===62||dn(T)){const Se=T===47,Z=s.toLowerCase();return!Se&&!o&&pb.includes(Z)?(i=1,r.interrupt?e(T):O(T)):e8.includes(s.toLowerCase())?(i=6,Se?(t.consume(T),v):r.interrupt?e(T):O(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):o?w(T):S(T))}return T===45||sr(T)?(t.consume(T),s+=String.fromCharCode(T),x):n(T)}function v(T){return T===62?(t.consume(T),r.interrupt?e:O):n(T)}function w(T){return Ae(T)?(t.consume(T),w):A(T)}function S(T){return T===47?(t.consume(T),A):T===58||T===95||Pr(T)?(t.consume(T),C):Ae(T)?(t.consume(T),S):A(T)}function C(T){return T===45||T===46||T===58||T===95||sr(T)?(t.consume(T),C):I(T)}function I(T){return T===61?(t.consume(T),b):Ae(T)?(t.consume(T),I):S(T)}function b(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),l=T,R):Ae(T)?(t.consume(T),b):k(T)}function R(T){return T===l?(t.consume(T),l=null,_):T===null||de(T)?n(T):(t.consume(T),R)}function k(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||dn(T)?I(T):(t.consume(T),k)}function _(T){return T===47||T===62||Ae(T)?S(T):n(T)}function A(T){return T===62?(t.consume(T),P):n(T)}function P(T){return T===null||de(T)?O(T):Ae(T)?(t.consume(T),P):n(T)}function O(T){return T===45&&i===2?(t.consume(T),K):T===60&&i===1?(t.consume(T),te):T===62&&i===4?(t.consume(T),J):T===63&&i===3?(t.consume(T),E):T===93&&i===5?(t.consume(T),D):de(T)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(n8,le,U)(T)):T===null||de(T)?(t.exit("htmlFlowData"),U(T)):(t.consume(T),O)}function U(T){return t.check(r8,F,le)(T)}function F(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),V}function V(T){return T===null||de(T)?U(T):(t.enter("htmlFlowData"),O(T))}function K(T){return T===45?(t.consume(T),E):O(T)}function te(T){return T===47?(t.consume(T),s="",j):O(T)}function j(T){if(T===62){const Se=s.toLowerCase();return pb.includes(Se)?(t.consume(T),J):O(T)}return Pr(T)&&s.length<8?(t.consume(T),s+=String.fromCharCode(T),j):O(T)}function D(T){return T===93?(t.consume(T),E):O(T)}function E(T){return T===62?(t.consume(T),J):T===45&&i===2?(t.consume(T),E):O(T)}function J(T){return T===null||de(T)?(t.exit("htmlFlowData"),le(T)):(t.consume(T),J)}function le(T){return t.exit("htmlFlow"),e(T)}}function s8(t,e,n){const r=this;return i;function i(s){return de(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function a8(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Hp,e,n)}}const l8={name:"htmlText",tokenize:c8};function c8(t,e,n){const r=this;let i,o,s;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),I):E===63?(t.consume(E),S):Pr(E)?(t.consume(E),k):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),o=0,p):Pr(E)?(t.consume(E),w):n(E)}function u(E){return E===45?(t.consume(E),h):n(E)}function d(E){return E===null?n(E):E===45?(t.consume(E),f):de(E)?(s=d,te(E)):(t.consume(E),d)}function f(E){return E===45?(t.consume(E),h):d(E)}function h(E){return E===62?K(E):E===45?f(E):d(E)}function p(E){const J="CDATA[";return E===J.charCodeAt(o++)?(t.consume(E),o===J.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(t.consume(E),x):de(E)?(s=g,te(E)):(t.consume(E),g)}function x(E){return E===93?(t.consume(E),v):g(E)}function v(E){return E===62?K(E):E===93?(t.consume(E),v):g(E)}function w(E){return E===null||E===62?K(E):de(E)?(s=w,te(E)):(t.consume(E),w)}function S(E){return E===null?n(E):E===63?(t.consume(E),C):de(E)?(s=S,te(E)):(t.consume(E),S)}function C(E){return E===62?K(E):S(E)}function I(E){return Pr(E)?(t.consume(E),b):n(E)}function b(E){return E===45||sr(E)?(t.consume(E),b):R(E)}function R(E){return de(E)?(s=R,te(E)):Ae(E)?(t.consume(E),R):K(E)}function k(E){return E===45||sr(E)?(t.consume(E),k):E===47||E===62||dn(E)?_(E):n(E)}function _(E){return E===47?(t.consume(E),K):E===58||E===95||Pr(E)?(t.consume(E),A):de(E)?(s=_,te(E)):Ae(E)?(t.consume(E),_):K(E)}function A(E){return E===45||E===46||E===58||E===95||sr(E)?(t.consume(E),A):P(E)}function P(E){return E===61?(t.consume(E),O):de(E)?(s=P,te(E)):Ae(E)?(t.consume(E),P):_(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,U):de(E)?(s=O,te(E)):Ae(E)?(t.consume(E),O):(t.consume(E),F)}function U(E){return E===i?(t.consume(E),i=void 0,V):E===null?n(E):de(E)?(s=U,te(E)):(t.consume(E),U)}function F(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||dn(E)?_(E):(t.consume(E),F)}function V(E){return E===47||E===62||dn(E)?_(E):n(E)}function K(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function te(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),j}function j(E){return Ae(E)?We(t,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):D(E)}function D(E){return t.enter("htmlTextData"),s(E)}}const j0={name:"labelEnd",tokenize:m8,resolveTo:p8,resolveAll:h8},u8={tokenize:g8},d8={tokenize:y8},f8={tokenize:v8};function h8(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function p8(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Ln(a,t.slice(o+1,o+r+3)),a=Ln(a,[["enter",u,e]]),a=Ln(a,L0(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Ln(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Ln(a,t.slice(s+1)),a=Ln(a,[["exit",l,e]]),Ci(t,o,t.length,a),t}function m8(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(Ua(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(u8,u,s?u:d)(f):f===91?t.attempt(d8,u,s?c:d)(f):s?u(f):d(f)}function c(f){return t.attempt(f8,u,d)(f)}function u(f){return e(f)}function d(f){return o._balanced=!0,n(f)}}function g8(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return dn(d)?$c(t,o)(d):o(d)}function o(d){return d===41?u(d):EM(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return dn(d)?$c(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?IM(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return dn(d)?$c(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function y8(t,e,n){const r=this;return i;function i(a){return TM.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function v8(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const w8={name:"labelStartImage",tokenize:x8,resolveAll:j0.resolveAll};function x8(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const S8={name:"labelStartLink",tokenize:k8,resolveAll:j0.resolveAll};function k8(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const cg={name:"lineEnding",tokenize:b8};function b8(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),We(t,e,"linePrefix")}}const Cf={name:"thematicBreak",tokenize:C8};function C8(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||de(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Ae(c)?We(t,a,"whitespace")(c):a(c))}}const rn={name:"list",tokenize:I8,continuation:{tokenize:N8},exit:_8},E8={tokenize:M8,partial:!0},T8={tokenize:R8,partial:!0};function I8(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:dv(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Cf,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return dv(h)&&++s<10?(t.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Hp,r.interrupt?n:u,t.attempt(E8,f,d))}function u(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return Ae(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function N8(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Hp,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,We(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ae(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(T8,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,We(t,t.attempt(rn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function R8(t,e,n){const r=this;return We(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function _8(t){t.exit(this.containerState.type)}function M8(t,e,n){const r=this;return We(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const s=r.events[r.events.length-1];return!Ae(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const mb={name:"setextUnderline",tokenize:A8,resolveTo:P8};function P8(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function A8(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Ae(c)?We(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||de(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const O8={tokenize:D8};function D8(t){const e=this,n=t.attempt(Hp,r,t.attempt(this.parser.constructs.flowInitial,i,We(t,t.attempt(this.parser.constructs.flow,i,t.attempt($H,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const L8={resolveAll:RM()},j8=NM("string"),F8=NM("text");function NM(t){return{tokenize:e,resolveAll:RM(t==="text"?z8:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function RM(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function z8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function $8(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:w,enter:S,exit:C,attempt:R(I),check:R(b),interrupt:R(b,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:f,now:p,defineSkip:g,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function d(P){return s=Ln(s,P),x(),s[s.length-1]!==null?[]:(k(e,0),c.events=L0(o,c.events,c),c.events)}function f(P,O){return U8(h(P),O)}function h(P){return B8(s,P)}function p(){const{line:P,column:O,offset:U,_index:F,_bufferIndex:V}=r;return{line:P,column:O,offset:U,_index:F,_bufferIndex:V}}function g(P){i[P.line]=P.column,A()}function x(){let P;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(P){u=u(P)}function w(P){de(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,A()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function S(P,O){const U=O||{};return U.type=P,U.start=p(),c.events.push(["enter",U,c]),a.push(U),U}function C(P){const O=a.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function I(P,O){k(P,O.from)}function b(P,O){O.restore()}function R(P,O){return U;function U(F,V,K){let te,j,D,E;return Array.isArray(F)?le(F):"tokenize"in F?le([F]):J(F);function J(ee){return Te;function Te(De){const Ue=De!==null&&ee[De],St=De!==null&&ee.null,kr=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(St)?St:St?[St]:[]];return le(kr)(De)}}function le(ee){return te=ee,j=0,ee.length===0?K:T(ee[j])}function T(ee){return Te;function Te(De){return E=_(),D=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?Z():ee.tokenize.call(O?Object.assign(Object.create(c),O):c,l,Se,Z)(De)}}function Se(ee){return P(D,E),V}function Z(ee){return E.restore(),++j<te.length?T(te[j]):K}}}function k(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Ci(c.events,O,c.events.length-O,P.resolve(c.events.slice(O),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function _(){const P=p(),O=c.previous,U=c.currentConstruct,F=c.events.length,V=Array.from(a);return{restore:K,from:F};function K(){r=P,c.previous=O,c.currentConstruct=U,c.events.length=F,a=V,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function B8(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function U8(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const V8={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:SM},W8={91:HH},H8={[-2]:lg,[-1]:lg,32:lg},K8={35:XH,42:Cf,45:[mb,Cf],60:t8,61:mb,95:Cf,96:hb,126:hb},G8={38:bM,92:kM},q8={[-5]:cg,[-4]:cg,[-3]:cg,33:w8,38:bM,42:fv,60:[SH,l8],91:S8,92:[JH,kM],93:j0,95:fv,96:OH},J8={null:[fv,L8]},Y8={null:[42,95]},X8={null:[]},Q8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Y8,contentInitial:W8,disable:X8,document:V8,flow:K8,flowInitial:H8,insideSpan:J8,string:G8,text:q8},Symbol.toStringTag,{value:"Module"}));function Z8(t){const n=sH([Q8,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(pH),document:i(gH),flow:i(O8),string:i(j8),text:i(F8)};return r;function i(o){return s;function s(a){return $8(r,o,a)}}}function e9(t){for(;!CM(t););return t}const gb=/[\0\t\n\r]/g;function t9(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,d,f,h;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(gb.lastIndex=d,c=gb.exec(o),f=c&&c.index!==void 0?c.index:o.length,h=o.charCodeAt(f),!c){e=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const n9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _M(t){return t.replace(n9,r9)}function r9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return xM(n.slice(o?2:1),o?16:10)}return D0(n)||t}function Bc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yb(t.position):"start"in t||"end"in t?yb(t):"line"in t||"column"in t?hv(t):""}function hv(t){return vb(t&&t.line)+":"+vb(t&&t.column)}function yb(t){return hv(t&&t.start)+"-"+hv(t&&t.end)}function vb(t){return t&&typeof t=="number"?t:1}const MM={}.hasOwnProperty;function i9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),o9(n)(e9(Z8(n).document().write(t9()(t,e,!0))))}function o9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Gr),autolinkProtocol:_,autolinkEmail:_,atxHeading:o(qn),blockQuote:o(St),characterEscape:_,characterReference:_,codeFenced:o(kr),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(kr,s),codeText:o(Ks,s),codeTextData:_,data:_,codeFlowValue:_,definition:o(Kr),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(dt),hardBreakEscape:o(qo),hardBreakTrailing:o(qo),htmlFlow:o(Gs,s),htmlFlowData:_,htmlText:o(Gs,s),htmlTextData:_,image:o(Jn),label:s,link:o(Gr),listItem:o(sd),listItemValue:f,listOrdered:o(od,d),listUnordered:o(od),paragraph:o(im),reference:T,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(qn),strong:o(om),thematicBreak:o(am)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:Ue,autolinkProtocol:De,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:ee,characterReference:Te,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:l(v),codeText:l(V),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:w,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(U),htmlFlowData:A,htmlText:l(F),htmlTextData:A,image:l(te),label:D,labelText:j,lineEnding:P,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Se,resourceDestinationString:E,resourceTitleString:J,resource:le,setextHeading:l(k),setextHeadingLineSequence:R,setextHeadingText:b,strong:l(),thematicBreak:l()}};PM(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const fe={stack:[G],tokenStack:[],config:e,enter:a,exit:c,buffer:s,resume:u,data:n},ve=[];let ke=-1;for(;++ke<z.length;)if(z[ke][1].type==="listOrdered"||z[ke][1].type==="listUnordered")if(z[ke][0]==="enter")ve.push(ke);else{const lt=ve.pop();ke=i(z,lt,ke)}for(ke=-1;++ke<z.length;){const lt=e[z[ke][0]];MM.call(lt,z[ke][1].type)&&lt[z[ke][1].type].call(Object.assign({sliceSerialize:z[ke][2].sliceSerialize},fe),z[ke][1])}if(fe.tokenStack.length>0){const lt=fe.tokenStack[fe.tokenStack.length-1];(lt[1]||wb).call(fe,void 0,lt[0])}for(G.position={start:ji(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:ji(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)G=e.transforms[ke](G)||G;return G}function i(z,G,fe){let ve=G-1,ke=-1,lt=!1,br,tn,Jo,nn;for(;++ve<=fe;){const Lt=z[ve];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?ke++:ke--,nn=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(br&&!nn&&!ke&&!Jo&&(Jo=ve),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!ke&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||ke===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(br){let qr=ve;for(tn=void 0;qr--;){const _n=z[qr];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;tn&&(z[tn][1].type="lineEndingBlank",lt=!0),_n[1].type="lineEnding",tn=qr}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}Jo&&(!tn||Jo<tn)&&(br._spread=!0),br.end=Object.assign({},tn?z[tn][1].start:Lt[1].end),z.splice(tn||ve,0,["exit",br,Lt[2]]),ve++,fe++}if(Lt[1].type==="listItemPrefix"){const qr={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};br=qr,z.splice(ve,0,["enter",qr,Lt[2]]),ve++,fe++,Jo=void 0,nn=!0}}}return z[G][1]._spread=lt,fe}function o(z,G){return fe;function fe(ve){a.call(this,z(ve),ve),G&&G.call(this,ve)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(z,G,fe){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,fe]),z.position={start:ji(G.start),end:void 0}}function l(z){return G;function G(fe){z&&z.call(this,fe),c.call(this,fe)}}function c(z,G){const fe=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==z.type&&(G?G.call(this,z,ve[0]):(ve[1]||wb).call(this,z,ve[0]));else throw new Error("Cannot close `"+z.type+"` ("+Bc({start:z.start,end:z.end})+"): its not open");fe.position.end=ji(z.end)}function u(){return O0(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function h(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function p(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function w(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Ua(this.sliceSerialize(z)).toLowerCase()}function S(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function C(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function I(z){const G=this.stack[this.stack.length-1];if(!G.depth){const fe=this.sliceSerialize(z).length;G.depth=fe}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function R(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function _(z){const fe=this.stack[this.stack.length-1].children;let ve=fe[fe.length-1];(!ve||ve.type!=="text")&&(ve=sm(),ve.position={start:ji(z.start),end:void 0},fe.push(ve)),this.stack.push(ve)}function A(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=ji(z.end)}function P(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=G.children[G.children.length-1];fe.position.end=ji(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(G.type)&&(_.call(this,z),A.call(this,z))}function O(){this.data.atHardBreak=!0}function U(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function F(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function V(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function K(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function te(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function j(z){const G=this.sliceSerialize(z),fe=this.stack[this.stack.length-2];fe.label=_M(G),fe.identifier=Ua(G).toLowerCase()}function D(){const z=this.stack[this.stack.length-1],G=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const ve=z.children;fe.children=ve}else fe.alt=G}function E(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function J(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function le(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Se(z){const G=this.resume(),fe=this.stack[this.stack.length-1];fe.label=G,fe.identifier=Ua(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Z(z){this.data.characterReferenceType=z.type}function ee(z){const G=this.sliceSerialize(z),fe=this.data.characterReferenceType;let ve;fe?(ve=xM(G,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=D0(G);const ke=this.stack[this.stack.length-1];ke.value+=ve}function Te(z){const G=this.stack.pop();G.position.end=ji(z.end)}function De(z){A.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function Ue(z){A.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function St(){return{type:"blockquote",children:[]}}function kr(){return{type:"code",lang:null,meta:null,value:""}}function Ks(){return{type:"inlineCode",value:""}}function Kr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dt(){return{type:"emphasis",children:[]}}function qn(){return{type:"heading",depth:0,children:[]}}function qo(){return{type:"break"}}function Gs(){return{type:"html",value:""}}function Jn(){return{type:"image",title:null,url:"",alt:null}}function Gr(){return{type:"link",title:null,url:"",children:[]}}function od(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function sd(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function im(){return{type:"paragraph",children:[]}}function om(){return{type:"strong",children:[]}}function sm(){return{type:"text",value:""}}function am(){return{type:"thematicBreak"}}}function ji(t){return{line:t.line,column:t.column,offset:t.offset}}function PM(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?PM(t,r):s9(t,r)}}function s9(t,e){let n;for(n in e)if(MM.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function wb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bc({start:e.start,end:e.end})+") is still open")}function pv(t){const e=this;e.parser=n;function n(r){return i9(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const xb={}.hasOwnProperty;function a9(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&xb.call(i,t)){const l=String(i[t]);s=xb.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const l9={}.hasOwnProperty;function AM(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)AM(t,e.extensions[n]);for(r in e)if(l9.call(e,r))switch(r){case"extensions":break;case"unsafe":{Sb(t[r],e[r]);break}case"join":{Sb(t[r],e[r]);break}case"handlers":{c9(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Sb(t,e){e&&t.push(...e)}function c9(t,e){e&&Object.assign(t,e)}function u9(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),d9);return i(),s}function d9(t,e,n){return">"+(n?"":" ")+t}function OM(t,e){return kb(t,e.inConstruct,!0)&&!kb(t,e.notInConstruct,!1)}function kb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function bb(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&OM(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function f9(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function mv(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function h9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function p9(t,e,n,r){const i=h9(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(mv(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(o,m9);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(f9(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function m9(t,e,n){return(n?"":"    ")+t}function F0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function g9(t,e,n,r){const i=F0(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function y9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}DM.peek=v9;function DM(t,e,n,r){const i=y9(n),o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function v9(t,e,n){return n.options.emphasis||"*"}const z0=function(t){if(t==null)return k9;if(typeof t=="function")return Kp(t);if(typeof t=="object")return Array.isArray(t)?w9(t):x9(t);if(typeof t=="string")return S9(t);throw new Error("Expected function, string, or object as test")};function w9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=z0(t[n]);return Kp(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function x9(t){const e=t;return Kp(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function S9(t){return Kp(e);function e(n){return n&&n.type===t}}function Kp(t){return e;function e(n,r,i){return!!(b9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function k9(){return!0}function b9(t){return t!==null&&typeof t=="object"&&"type"in t}const LM=[],C9=!0,gv=!1,yv="skip";function E9(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=z0(i),s=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=LM,p,g,x;if((!e||o(l,c,u[u.length-1]||void 0))&&(h=T9(n(l,u)),h[0]===gv))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==yv)for(g=(r?v.children.length:-1)+s,x=u.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(p=a(w,g,x)(),p[0]===gv)return p;g=typeof p[1]=="number"?p[1]:g+s}}return h}}}function T9(t){return Array.isArray(t)?t:typeof t=="number"?[C9,t]:t==null?LM:[t]}function Tl(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),E9(t,o,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return s(l,d,u)}}function jM(t,e){let n=!1;return Tl(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,gv}),!!((!t.depth||t.depth<3)&&O0(t)&&(e.options.setext||n))}function I9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(jM(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}FM.peek=N9;function FM(t){return t.value||""}function N9(){return"<"}zM.peek=R9;function zM(t,e,n,r){const i=F0(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function R9(){return"!"}$M.peek=_9;function $M(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function _9(){return"!"}BM.peek=M9;function BM(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function M9(){return"`"}function UM(t,e){const n=O0(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}VM.peek=P9;function VM(t,e,n,r){const i=F0(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(UM(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(t,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function P9(t,e,n){return UM(t,n)?"<":"["}WM.peek=A9;function WM(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function A9(){return"["}function $0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function O9(t){const e=$0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function D9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function HM(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function L9(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?D9(n):$0(n);const a=t.ordered?s==="."?")":".":O9(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),HM(n)===s&&u){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),c}function j9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function F9(t,e,n,r){const i=j9(n);let o=n.bulletCurrent||$0(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function z9(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const $9=z0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function B9(t,e,n,r){return(t.children.some(function(s){return $9(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function U9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}KM.peek=V9;function KM(t,e,n,r){const i=U9(n),o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function V9(t,e,n){return n.options.strong||"*"}function W9(t,e,n,r){return n.safe(t.value,r)}function H9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function K9(t,e,n){const r=(HM(n)+(n.options.ruleSpaces?" ":"")).repeat(H9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const G9={blockquote:u9,break:bb,code:p9,definition:g9,emphasis:DM,hardBreak:bb,heading:I9,html:FM,image:zM,imageReference:$M,inlineCode:BM,link:VM,linkReference:WM,list:L9,listItem:F9,paragraph:z9,root:B9,strong:KM,text:W9,thematicBreak:K9},q9=[J9];function J9(t,e,n,r){if(e.type==="code"&&mv(e,r)&&(t.type==="list"||t.type===e.type&&mv(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&jM(e,r))?void 0:n.spread?1:0}const Yo=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Y9=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yo},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yo},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yo},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yo},{atBreak:!0,character:"~"}];function X9(t){return t.label||!t.identifier?t.label||"":_M(t.identifier)}function Q9(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Z9(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let d=e.handle.handlers[i[s+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function eK(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,s.push(o.move(e.handle(l,t,e,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(tK(l,i[a+1],t,e)))}return r.pop(),s.join("")}function tK(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const nK=/\r?\n|\r/g;function rK(t,e){const n=[];let r=0,i=0,o;for(;o=nK.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(a){n.push(e(a,i,!a))}}function iK(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const u=t.unsafe[a];if(!OM(t.stack,u))continue;const d=t.compilePattern(u);let f;for(;f=d.exec(r);){const h="before"in u||!!u.atBreak,p="after"in u,g=f.index+(h?f[1].length:0);i.includes(g)?(s[g].before&&!h&&(s[g].before=!1),s[g].after&&!p&&(s[g].after=!1)):(i.push(g),s[g]={before:h,after:p})}}i.sort(oK);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[a-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&o.push(Cb(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return o.push(Cb(r.slice(l,c),n.after)),o.join("")}function oK(t,e){return t-e}function Cb(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(t.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(t.slice(a)),i.join("")}function sK(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,o=d.length===1?o+f.length:1+f.length+r,u}}function aK(t,e={}){const n={enter:i,indentLines:rK,associationId:X9,containerPhrasing:dK,containerFlow:fK,createTracker:sK,compilePattern:Q9,safe:hK,stack:[],unsafe:[...Y9],join:[...q9],handlers:{...G9},options:{},indexStack:[],handle:void 0};AM(n,e),n.options.tightDefinitions&&n.join.push(uK),n.handle=a9("type",{invalid:lK,unknown:cK,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function lK(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function cK(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function uK(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function dK(t,e){return Z9(t,this,e)}function fK(t,e){return eK(t,this,e)}function hK(t,e){return iK(this,t,e)}function vv(t){const e=this;e.compiler=n;function n(r){return aK(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Eb(t){if(t)throw t}var Ef=Object.prototype.hasOwnProperty,GM=Object.prototype.toString,Tb=Object.defineProperty,Ib=Object.getOwnPropertyDescriptor,Nb=function(e){return typeof Array.isArray=="function"?Array.isArray(e):GM.call(e)==="[object Array]"},Rb=function(e){if(!e||GM.call(e)!=="[object Object]")return!1;var n=Ef.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Ef.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Ef.call(e,i)},_b=function(e,n){Tb&&n.name==="__proto__"?Tb(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Mb=function(e,n){if(n==="__proto__")if(Ef.call(e,n)){if(Ib)return Ib(e,n).value}else return;return e[n]},pK=function t(){var e,n,r,i,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=Mb(a,n),i=Mb(e,n),a!==i&&(u&&i&&(Rb(i)||(o=Nb(i)))?(o?(o=!1,s=r&&Nb(r)?r:[]):s=r&&Rb(r)?r:{},_b(a,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&_b(a,{name:n,newValue:i}));return a};const ug=ep(pK);function wv(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mK(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...c){const u=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?gK(u,a)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function gK(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}class hn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Bc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}hn.prototype.file="";hn.prototype.name="";hn.prototype.reason="";hn.prototype.message="";hn.prototype.stack="";hn.prototype.column=void 0;hn.prototype.line=void 0;hn.prototype.ancestors=void 0;hn.prototype.cause=void 0;hn.prototype.fatal=void 0;hn.prototype.place=void 0;hn.prototype.ruleId=void 0;hn.prototype.source=void 0;const Nr={basename:yK,dirname:vK,extname:wK,join:xK,sep:"/"};function yK(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Yu(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function vK(t){if(Yu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function wK(t){Yu(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function xK(...t){let e=-1,n;for(;++e<t.length;)Yu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":SK(n)}function SK(t){Yu(t);const e=t.codePointAt(0)===47;let n=kK(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function kK(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Yu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bK={cwd:CK};function CK(){return"/"}function xv(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function EK(t){if(typeof t=="string")t=new URL(t);else if(!xv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return TK(t)}function TK(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const dg=["history","path","basename","stem","extname","dirname"];class IK{constructor(e){let n;e?xv(e)?n={path:e}:typeof e=="string"||NK(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":bK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<dg.length;){const o=dg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)dg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Nr.basename(this.path):void 0}set basename(e){hg(e,"basename"),fg(e,"basename"),this.path=Nr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Nr.dirname(this.path):void 0}set dirname(e){Pb(this.basename,"dirname"),this.path=Nr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Nr.extname(this.path):void 0}set extname(e){if(fg(e,"extname"),Pb(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xv(e)&&(e=EK(e)),hg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Nr.basename(this.path,this.extname):void 0}set stem(e){hg(e,"stem"),fg(e,"stem"),this.path=Nr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new hn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fg(t,e){if(t&&t.includes(Nr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Nr.sep+"`")}function hg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Pb(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function NK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const RK=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},_K={}.hasOwnProperty;class B0 extends RK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mK()}copy(){const e=new B0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ug(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gg("data",this.frozen),this.namespace[e]=n,this):_K.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Gd(e),r=this.parser||this.Parser;return pg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),pg("process",this.parser||this.Parser),mg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=Gd(e),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const h=d,p=r.stringify(h,f);PK(p)?f.value=p:f.result=p,c(u,f)});function c(u,d){u||!d?s(u):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),pg("processSync",this.parser||this.Parser),mg("processSync",this.compiler||this.Compiler),this.process(e,i),Ob("processSync","process",n),r;function i(o,s){n=!0,Eb(o),r=s}}run(e,n,r){Ab(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=Gd(n);i.run(e,l,c);function c(u,d,f){const h=d||e;u?a(u):s?s(h):r(void 0,h,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),Ob("runSync","run",r),i;function o(s,a){Eb(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=Gd(n),i=this.compiler||this.Compiler;return mg("stringify",i),Ab(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(gg("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=ug(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[h,...p]=u;const g=r[f][1];wv(g)&&wv(h)&&(h=ug(!0,g,h)),r[f]=[c,h,...p]}}}}const Sv=new B0().freeze();function pg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ab(t){if(!wv(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ob(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Gd(t){return MK(t)?t:new IK(t)}function MK(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function PK(t){return typeof t=="string"||AK(t)}function AK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var qM=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xe=(t,e,n)=>(qM(t,e,"read from private field"),n?n.call(t):e.get(t)),ht=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},qe=(t,e,n,r)=>(qM(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);let JM=class{},YM=class{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var n;(n=this.top())==null||n.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw X_();return e}}},OK=class XM extends JM{constructor(e,n,r){super(),this.type=e,this.content=n,this.attrs=r}push(e,...n){this.content.push(e,...n)}pop(){return this.content.pop()}static create(e,n,r){return new XM(e,n,r)}};var Tr,fc,Tf,If,Nf,hc,pc;const kv=class extends YM{constructor(e){super(),ht(this,Tr,void 0),ht(this,fc,void 0),ht(this,Tf,void 0),ht(this,If,void 0),ht(this,Nf,void 0),ht(this,hc,void 0),ht(this,pc,void 0),qe(this,Tr,Ce.none),qe(this,fc,n=>n.isText),qe(this,Tf,(n,r)=>{if(xe(this,fc).call(this,n)&&xe(this,fc).call(this,r)&&Ce.sameSet(n.marks,r.marks))return this.schema.text(n.text+r.text,n.marks)}),qe(this,If,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!r)throw S6(n);return r}),qe(this,Nf,n=>{const r=xe(this,If).call(this,n);r.spec.parseMarkdown.runner(this,n,r)}),this.injectRoot=(n,r,i)=>(this.openNode(r,i),this.next(n.children),this),this.openNode=(n,r)=>(this.open(OK.create(n,[],r)),this),qe(this,hc,()=>{qe(this,Tr,Ce.none);const n=this.close();return xe(this,pc).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>(xe(this,hc).call(this),this),qe(this,pc,(n,r,i)=>{const o=n.createAndFill(r,i,xe(this,Tr));if(!o)throw x6(n,r,i);return this.push(o),o}),this.addNode=(n,r,i)=>(xe(this,pc).call(this,n,r,i),this),this.openMark=(n,r)=>{const i=n.create(r);return qe(this,Tr,i.addToSet(xe(this,Tr))),this},this.closeMark=n=>(qe(this,Tr,n.removeFromSet(xe(this,Tr))),this),this.addText=n=>{const r=this.top();if(!r)throw X_();const i=r.pop(),o=this.schema.text(n,xe(this,Tr));if(!i)return r.push(o),this;const s=xe(this,Tf).call(this,i,o);return s?(r.push(s),this):(r.push(i,o),this)},this.build=()=>{let n;do n=xe(this,hc).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(r=>xe(this,Nf).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(n,r)=>{const i=n.runSync(n.parse(r),r);return this.next(i),this},this.schema=e}};Tr=new WeakMap,fc=new WeakMap,Tf=new WeakMap,If=new WeakMap,Nf=new WeakMap,hc=new WeakMap,pc=new WeakMap,kv.create=(t,e)=>{const n=new kv(t);return r=>(n.run(e,r),n.toDoc())};let DK=kv;const bv=class extends JM{constructor(e,n,r,i={}){super(),this.type=e,this.children=n,this.value=r,this.props=i,this.push=(o,...s)=>{this.children||(this.children=[]),this.children.push(o,...s)},this.pop=()=>{var o;return(o=this.children)==null?void 0:o.pop()}}};bv.create=(t,e,n,r={})=>new bv(t,e,n,r);let Db=bv;const LK=t=>Object.prototype.hasOwnProperty.call(t,"size");var ei,mc,Rf,_f,gc,Mf,yc,Pf,Af,oa,ns,Of,vc;const Cv=class extends YM{constructor(e){super(),ht(this,ei,void 0),ht(this,mc,void 0),ht(this,Rf,void 0),ht(this,_f,void 0),ht(this,gc,void 0),ht(this,Mf,void 0),ht(this,yc,void 0),ht(this,Pf,void 0),ht(this,Af,void 0),ht(this,oa,void 0),ht(this,ns,void 0),ht(this,Of,void 0),ht(this,vc,void 0),qe(this,ei,Ce.none),qe(this,mc,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!r)throw k6(n.type);return r}),qe(this,Rf,n=>xe(this,mc).call(this,n).spec.toMarkdown.runner(this,n)),qe(this,_f,(n,r)=>xe(this,mc).call(this,n).spec.toMarkdown.runner(this,n,r)),qe(this,gc,n=>{const{marks:r}=n,i=o=>o.type.spec.priority??50;[...r].sort((o,s)=>i(o)-i(s)).every(o=>!xe(this,_f).call(this,o,n))&&xe(this,Rf).call(this,n),r.forEach(o=>xe(this,vc).call(this,o))}),qe(this,Mf,(n,r)=>{var i;if(n.type===r||((i=n.children)==null?void 0:i.length)!==1)return n;const o=c=>{var u;if(c.type===r)return c;if(((u=c.children)==null?void 0:u.length)!==1)return null;const[d]=c.children;return d?o(d):null},s=o(n);if(!s)return n;const a=s.children?[...s.children]:void 0,l={...n,children:a};return l.children=a,s.children=[l],s}),qe(this,yc,n=>{const{children:r}=n;return r&&(n.children=r.reduce((i,o,s)=>{if(s===0)return[o];const a=i.at(-1);if(a&&a.isMark&&o.isMark){o=xe(this,Mf).call(this,o,a.type);const{children:l,...c}=o,{children:u,...d}=a;if(o.type===a.type&&l&&u&&JSON.stringify(c)===JSON.stringify(d)){const f={...d,children:[...u,...l]};return i.slice(0,-1).concat(xe(this,yc).call(this,f))}}return i.concat(o)},[])),n}),qe(this,Pf,n=>{const r={...n.props,type:n.type};return n.children&&(r.children=n.children),n.value&&(r.value=n.value),r}),this.openNode=(n,r,i)=>(this.open(Db.create(n,void 0,r,i)),this),qe(this,Af,(n,r)=>{let i="",o="";const s=n.children;let a=-1,l=-1;const c=d=>{d&&d.forEach((f,h)=>{f.type==="text"&&f.value&&(a<0&&(a=h),l=h)})};if(s){c(s);const d=s==null?void 0:s[l],f=s==null?void 0:s[a];d&&d.value.endsWith(" ")&&(o=d.value.match(/ +$/)[0],d.value=d.value.trimEnd()),f&&f.value.startsWith(" ")&&(i=f.value.match(/^ +/)[0],f.value=f.value.trimStart())}i.length&&xe(this,ns).call(this,"text",void 0,i);const u=r();return o.length&&xe(this,ns).call(this,"text",void 0,o),u}),qe(this,oa,(n=!1)=>{const r=this.close(),i=()=>xe(this,ns).call(this,r.type,r.children,r.value,r.props);return n?xe(this,Af).call(this,r,i):i()}),this.closeNode=()=>(xe(this,oa).call(this),this),qe(this,ns,(n,r,i,o)=>{const s=Db.create(n,r,i,o),a=xe(this,yc).call(this,xe(this,Pf).call(this,s));return this.push(a),a}),this.addNode=(n,r,i,o)=>(xe(this,ns).call(this,n,r,i,o),this),qe(this,Of,(n,r,i,o)=>n.isInSet(xe(this,ei))?this:(qe(this,ei,n.addToSet(xe(this,ei))),this.openNode(r,i,{...o,isMark:!0}))),qe(this,vc,n=>{n.isInSet(xe(this,ei))&&(qe(this,ei,n.type.removeFromSet(xe(this,ei))),xe(this,oa).call(this,!0))}),this.withMark=(n,r,i,o)=>(xe(this,Of).call(this,n,r,i,o),this),this.closeMark=n=>(xe(this,vc).call(this,n),this),this.build=()=>{let n=null;do n=xe(this,oa).call(this);while(this.size());return n},this.next=n=>LK(n)?(n.forEach(r=>{xe(this,gc).call(this,r)}),this):(xe(this,gc).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=e}};ei=new WeakMap,mc=new WeakMap,Rf=new WeakMap,_f=new WeakMap,gc=new WeakMap,Mf=new WeakMap,yc=new WeakMap,Pf=new WeakMap,Af=new WeakMap,oa=new WeakMap,ns=new WeakMap,Of=new WeakMap,vc=new WeakMap,Cv.create=(t,e)=>{const n=new Cv(t);return r=>(n.run(r),n.toString(e))};let jK=Cv;const QM=65535,ZM=Math.pow(2,16);function FK(t,e){return t+e*ZM}function Lb(t){return t&QM}function zK(t){return(t-(t&QM))/ZM}const eP=1,tP=2,Df=4,nP=8;class Ev{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nP)>0}get deletedBefore(){return(this.delInfo&(eP|Df))>0}get deletedAfter(){return(this.delInfo&(tP|Df))>0}get deletedAcross(){return(this.delInfo&Df)>0}}class wn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&wn.empty)return wn.empty}recover(e){let n=0,r=Lb(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+zK(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:FK(a/3,e-l),g=e==l?tP:e==d?eP:Df;return(n<0?e!=l:e!=d)&&(g|=nP),new Ev(h,g,p)}i+=u-c}return r?e+i:new Ev(e+i,0,null)}touches(e,n){let r=0,i=Lb(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new wn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?wn.empty:new wn(e<0?[0,-e,0]:[0,0,e])}}wn.empty=new wn([]);class Va{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Va(this.maps,this.mirror,e,n)}copy(){return new Va(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Va;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Ev(e,i,null)}}const yg=Object.create(null);class Wt{getMap(){return wn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=yg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in yg)throw new RangeError("Duplicate use of step JSON ID "+e);return yg[e]=n,n.prototype.jsonID=e,n}}class gt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new gt(e,null)}static fail(e){return new gt(null,e)}static fromReplace(e,n,r,i){try{return gt.ok(e.replace(n,r,i))}catch(o){if(o instanceof $h)return gt.fail(o.message);throw o}}}function U0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(U0(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return H.fromArray(r)}class ui extends Wt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new X(U0(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return gt.fromReplace(e,this.from,this.to,o)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ui(n.pos,r.pos,this.mark)}merge(e){return e instanceof ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ui(n.from,n.to,e.markFromJSON(n.mark))}}Wt.jsonID("addMark",ui);class Or extends Wt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new X(U0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return gt.fromReplace(e,this.from,this.to,r)}invert(){return new ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Or(n.pos,r.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Or(n.from,n.to,e.markFromJSON(n.mark))}}Wt.jsonID("removeMark",Or);class lo extends Wt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return gt.fromReplace(e,this.pos,this.pos+1,new X(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new lo(this.pos,n.marks[i]);return new lo(this.pos,this.mark)}}return new ul(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lo(n.pos,e.markFromJSON(n.mark))}}Wt.jsonID("addNodeMark",lo);class ul extends Wt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return gt.fromReplace(e,this.pos,this.pos+1,new X(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new lo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ul(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ul(n.pos,e.markFromJSON(n.mark))}}Wt.jsonID("removeNodeMark",ul);class Mt extends Wt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Tv(e,this.from,this.to)?gt.fail("Structure replace would overwrite content"):gt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new wn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Mt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?X.empty:new X(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Mt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?X.empty:new X(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Mt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Mt(n.from,n.to,X.fromJSON(e,n.slice),!!n.structure)}}Wt.jsonID("replace",Mt);class Ut extends Wt{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Tv(e,this.from,this.gapFrom)||Tv(e,this.gapTo,this.to)))return gt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return gt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?gt.fromReplace(e,this.from,this.to,r):gt.fail("Content does not fit in gap")}getMap(){return new wn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ut(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ut(n.from,n.to,n.gapFrom,n.gapTo,X.fromJSON(e,n.slice),n.insert,!!n.structure)}}Wt.jsonID("replaceAround",Ut);function Tv(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function $K(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Or(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new ui(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function BK(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Wp){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Or(s.from,s.to,s.style)))}function V0(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Mt(a,u,X.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Or(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new X(H.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Mt(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(H.empty,!0);t.replace(a,a,new X(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function UK(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Gp(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!UK(i,o,s))break}return null}function VK(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=H.empty,d=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=H.from(r.node(p).copy(u)),d++):l--;let f=H.empty,h=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=H.from(i.node(p).copy(f)),h++):c++;t.step(new Ut(l,c,s,a,new X(u.append(f),d,h),u.size-d,!0))}function rP(t,e,n=null,r=t){let i=WK(t,e),o=i&&HK(r,e);return o?i.map(jb).concat({type:e,attrs:n}).concat(o.map(jb)):null}function jb(t){return{type:t,attrs:null}}function WK(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function HK(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function KK(t,e,n){let r=H.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=H.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ut(i,o,i,o,new X(r,0,0),n.length,!0))}function GK(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&qK(t.doc,t.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&oP(t,s,a,o),V0(t,t.mapping.slice(o).map(a,1),r,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new Ut(d,f,d+1,f-1,new X(H.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&iP(t,s,a,o),!1}})}function iP(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function oP(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function qK(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function JK(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ut(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new X(H.from(s),0,0),1,!0))}function Uc(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function YK(t,e,n=1,r){let i=t.doc.resolve(e),o=H.empty,s=H.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=H.from(i.node(a).copy(o));let u=r&&r[c];s=H.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Mt(e,e,new X(o.append(s),n,n),!0))}function qp(t,e){let n=t.resolve(e),r=n.index();return QK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function XK(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function QK(t,e){return!!(t&&e&&!t.isLeaf&&XK(t,e))}function ZK(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);oP(t,u.node(),u.before(),a)}s.inlineContent&&V0(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Mt(c,l.map(e+n,-1),X.empty,!0)),r===!0){let u=t.doc.resolve(c);iP(t,u.node(),u.before(),t.steps.length)}return t}function e7(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function t7(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function W0(t,e,n=e,r=X.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return sP(i,o,r)?new Mt(e,n,r):new n7(i,o,r).fit()}function sP(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class n7{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=H.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=H.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new X(o,s,a);return e>-1?new Ut(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Mt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=vg(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(H.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new X(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vg(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new X(wc(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new X(wc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),x=d.matchType(g.type);if(!x)break;c++,(c>1||l==0||g.content.size)&&(d=x,u.push(aP(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=xc(this.placed,n,H.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=a;g<h;g++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=p?e==0?X.empty:new X(wc(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new X(wc(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!wg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=wg(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=wg(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=xc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=xc(this.placed,this.depth,H.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(H.empty,!0);n.childCount&&(this.placed=xc(this.placed,this.frontier.length,n))}}function wc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wc(t.firstChild.content,e-1,n)))}function xc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(xc(t.lastChild.content,e-1,n)))}function vg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function aP(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,aP(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(H.empty,!0)))),t.copy(r)}function wg(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!r7(n,o.content,s)?a:null}function r7(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function i7(t){return t.spec.defining||t.spec.definingForContent}function o7(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(sP(i,o,r))return t.step(new Mt(e,n,r));let s=cP(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=i7(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<s.length;g++){let x=s[(g+l)%s.length],v=!0;x<0&&(v=!1,x=-x);let w=i.node(x-1),S=i.index(x-1);if(w.canReplaceWith(S,S,p.type,p.marks))return t.replace(i.before(x),v?o.after(x):n,new X(lP(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function lP(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(lP(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(H.empty,!0))}return t}function s7(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=e7(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new X(H.from(r),0,0))}function a7(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=cP(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function cP(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Wa extends Wt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return gt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return gt.fromReplace(e,this.pos,this.pos+1,new X(H.from(i),0,n.isLeaf?0:1))}getMap(){return wn.empty}invert(e){return new Wa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wa(n.pos,n.attr,n.value)}}Wt.jsonID("attr",Wa);class Eu extends Wt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return gt.ok(r)}getMap(){return wn.empty}invert(e){return new Eu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Eu(n.attr,n.value)}}Wt.jsonID("docAttr",Eu);let dl=class extends Error{};dl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};dl.prototype=Object.create(Error.prototype);dl.prototype.constructor=dl;dl.prototype.name="TransformError";class l7{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Va}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new dl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=X.empty){let i=W0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new X(H.from(r),0,0))}delete(e,n){return this.replace(e,n,X.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return o7(this,e,n,r),this}replaceRangeWith(e,n,r){return s7(this,e,n,r),this}deleteRange(e,n){return a7(this,e,n),this}lift(e,n){return VK(this,e,n),this}join(e,n=1){return ZK(this,e,n),this}wrap(e,n){return KK(this,e,n),this}setBlockType(e,n=e,r,i=null){return GK(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return JK(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Wa(e,n,r)),this}setDocAttribute(e,n){return this.step(new Eu(e,n)),this}addNodeMark(e,n){return this.step(new lo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ce)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ul(e,n)),this}split(e,n=1,r){return YK(this,e,n,r),this}addMark(e,n,r){return $K(this,e,n,r),this}removeMark(e,n,r){return BK(this,e,n,r),this}clearIncompatible(e,n,r){return V0(this,e,n,r),this}}const xg=Object.create(null);class Ne{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Iv(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=X.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?X.empty:n),a==0&&$b(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),$b(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Oe(e):sa(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?sa(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):sa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Cn(e.node(0))}static atStart(e){return sa(e,e,0,0,1)||new Cn(e)}static atEnd(e){return sa(e,e,e.content.size,e.childCount,-1)||new Cn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=xg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in xg)throw new RangeError("Duplicate use of selection JSON ID "+e);return xg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Oe.between(this.$anchor,this.$head).getBookmark()}}Ne.prototype.visible=!0;class Iv{constructor(e,n){this.$from=e,this.$to=n}}let Fb=!1;function zb(t){!Fb&&!t.parent.inlineContent&&(Fb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Oe extends Ne{constructor(e,n=e){zb(e),zb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ne.near(r);let i=e.resolve(n.map(this.anchor));return new Oe(i.parent.inlineContent?i:r,r)}replace(e,n=X.empty){if(super.replace(e,n),n==X.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Oe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Oe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ne.findFrom(n,r,!0)||Ne.findFrom(n,-r,!0);if(o)n=o.$head;else return Ne.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ne.findFrom(e,-r,!0)||Ne.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Oe(e,n)}}Ne.jsonID("text",Oe);class Jp{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Jp(e.map(this.anchor),e.map(this.head))}resolve(e){return Oe.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Ne{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ne.near(o):new pe(o)}content(){return new X(H.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new H0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Ne.jsonID("node",pe);class H0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Jp(r,r):new H0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):Ne.near(n)}}class Cn extends Ne{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=X.empty){if(n==X.empty){e.delete(0,e.doc.content.size);let r=Ne.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Cn(e)}map(e){return new Cn(e)}eq(e){return e instanceof Cn}getBookmark(){return c7}}Ne.jsonID("all",Cn);const c7={map(){return this},resolve(t){return new Cn(t)}};function sa(t,e,n,r,i,o=!1){if(e.inlineContent)return Oe.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&pe.isSelectable(a))return pe.create(t,n-(i<0?a.nodeSize:0))}else{let l=sa(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function $b(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Mt||i instanceof Ut))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Ne.near(t.doc.resolve(s),n))}const Bb=1,qd=2,Ub=4;class u7 extends l7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bb)&~qd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Bb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qd,this}ensureMarks(e){return Ce.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~qd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ce.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ne.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ub,this}get scrolledIntoView(){return(this.updated&Ub)>0}}function Vb(t,e){return!e||!t?t:t.bind(e)}class Sc{constructor(e,n,r){this.name=e,this.init=Vb(n.init,r),this.apply=Vb(n.apply,r)}}const d7=[new Sc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sc("selection",{init(t,e){return t.selection||Ne.atStart(e.doc)},apply(t){return t.selection}}),new Sc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Sg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=d7.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sc(r.key,r.spec.state,r))})}}class Ta{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ta(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new u7(this)}static create(e){let n=new Sg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ta(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Sg(this.schema,e.plugins),r=n.fields,i=new Ta(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Sg(e.schema,e.plugins),o=new Ta(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ko.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ne.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function uP(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=uP(i,e,{})),n[r]=i}return n}class mr{constructor(e){this.spec=e,this.props={},e.props&&uP(e.props,this,this.props),this.key=e.key?e.key.key:dP("plugin")}getState(e){return e[this.key]}}const kg=Object.create(null);function dP(t){return t in kg?t+"$"+ ++kg[t]:(kg[t]=0,t+"$")}class gr{constructor(e="key"){this.key=dP(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class yr{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?f7(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function f7(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}const h7=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to);e(s)}return!0}}return!1};new yr(/--$/,"");new yr(/\.\.\.$/,"");new yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"");new yr(/"$/,"");new yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"");new yr(/'$/,"");function K0(t,e,n=null,r){return new yr(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,c=i.tr.delete(s,a),u=c.doc.resolve(s),d=u.blockRange(),f=d&&rP(d,e,l);if(!f)return null;c.wrap(d,f);let h=c.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&qp(c.doc,s-1)&&(!r||r(o,h))&&c.join(s-1),c})}function fP(t,e,n=null){return new yr(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}const Oo=typeof navigator<"u"?navigator:null,Wb=typeof document<"u"?document:null,Vs=Oo&&Oo.userAgent||"",Nv=/Edge\/(\d+)/.exec(Vs),hP=/MSIE \d/.exec(Vs),Rv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vs),G0=!!(hP||Rv||Nv);hP?document.documentMode:Rv?+Rv[1]:Nv&&+Nv[1];const p7=!G0&&/gecko\/(\d+)/i.test(Vs);p7&&+(/Firefox\/(\d+)/.exec(Vs)||[0,0])[1];const Hb=!G0&&/Chrome\/(\d+)/.exec(Vs);Hb&&+Hb[1];const m7=!G0&&!!Oo&&/Apple Computer/.test(Oo.vendor),g7=m7&&(/Mobile\/\w+/.test(Vs)||!!Oo&&Oo.maxTouchPoints>2);g7||Oo&&/Mac/.test(Oo.platform);const y7=!!Wb&&"webkitFontSmoothing"in Wb.documentElement.style;y7&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];function bg(t,e,n,r,i,o){if(t.composing)return!1;const s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"")+r;for(let c=0;c<i.length;c++){const u=i[c].match.exec(l),d=u&&u[0]&&i[c].handler(s,u,e-(u[0].length-r.length),n);if(d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:n,text:r})),!0}return!1}const v7=new gr("MILKDOWN_CUSTOM_INPUTRULES");function w7({rules:t}){const e=new mr({key:v7,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return bg(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&bg(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?bg(n,i.pos,i.pos,`
`,t,e):!1}}});return e}function Yp(t,e,n={}){return new yr(t,(r,i,o,s)=>{var a,l,c,u;const{tr:d}=r,f=i.length;let h=i[f-1],p=i[0],g=[],x=s;const v={group:h,fullMatch:p,start:o,end:s},w=(a=n.updateCaptured)==null?void 0:a.call(n,v);if(Object.assign(v,w),{group:h,fullMatch:p,start:o,end:s}=v,p===null||(h==null?void 0:h.trim())==="")return null;if(h){const S=p.search(/\S/),C=o+p.indexOf(h),I=C+h.length;g=(l=d.storedMarks)!=null?l:[],I<s&&d.delete(I,s),C>o&&d.delete(o+S,C),x=o+S+h.length;const b=(c=n.getAttr)==null?void 0:c.call(n,i);d.addMark(o,x,e.create(b)),d.setStoredMarks(g),(u=n.beforeDispatch)==null||u.call(n,{match:i,start:o,end:s,tr:d})}return d})}function x7(t,e){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function S7(t,e){if(!(t instanceof pe))return;const{node:n,$from:r}=t;if(x7(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const q0=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function k7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const pP=(t,e,n)=>{let r=k7(t,n);if(!r)return!1;let i=gP(r);if(!i){let s=r.blockRange(),a=s&&Gp(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(vP(t,i,e,-1))return!0;if(r.parent.content.size==0&&(fl(o,"end")||pe.isSelectable(o)))for(let s=r.depth;;s--){let a=W0(t.doc,r.before(s),r.after(s),X.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(fl(o,"end")?Ne.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):pe.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function fl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const mP=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=gP(r)}let s=o&&o.nodeBefore;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function gP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function b7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const C7=(t,e,n)=>{let r=b7(t,n);if(!r)return!1;let i=yP(r);if(!i)return!1;let o=i.nodeAfter;if(vP(t,i,e,1))return!0;if(r.parent.content.size==0&&(fl(o,"start")||pe.isSelectable(o))){let s=W0(t.doc,r.before(),r.after(),X.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(fl(o,"start")?Ne.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):pe.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},E7=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=yP(r)}let s=o&&o.nodeAfter;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function yP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const T7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function J0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const I7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=J0(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ne.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},N7=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Cn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=J0(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Oe.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},R7=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Uc(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Gp(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function _7(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!Uc(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof Oe||e.selection instanceof Cn)&&s.deleteSelection();let a=r.depth==0?null:J0(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,o,r),c=l?[l]:o&&a?[{type:a}]:void 0,u=Uc(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&Uc(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),!u)return!1;if(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a){let d=s.mapping.map(r.before()),f=s.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}return n&&n(s.scrollIntoView()),!0}}const M7=_7(),P7=(t,e)=>(e&&e(t.tr.setSelection(new Cn(t.doc))),!0);function A7(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||qp(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function vP(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&A7(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=H.empty;for(let v=s.length-1;v>=0;v--)p=H.from(s[v].create(null,p));p=H.from(i.copy(p));let g=t.tr.step(new Ut(e.pos-1,h,e.pos,h,new X(p,1,0),s.length,!0)),x=g.doc.resolve(h+2*s.length);x.nodeAfter&&x.nodeAfter.type==i.type&&qp(g.doc,x.pos)&&g.join(x.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Ne.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Gp(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&fl(o,"start",!0)&&fl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=H.empty;for(let S=p.length-1;S>=0;S--)v=H.from(p[S].copy(v));let w=t.tr.step(new Ut(e.pos-p.length,e.pos+o.nodeSize,e.pos+x,e.pos+o.nodeSize-x,new X(v,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function wP(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Oe.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const O7=wP(-1),D7=wP(1);function Y0(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&rP(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Tu(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function L7(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:o,$to:s}=e[i],a=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!r&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function j7(t){let e=[];for(let n=0;n<t.length;n++){let{$from:r,$to:i}=t[n];r.doc.nodesBetween(r.pos,i.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=r.pos&&s+o.nodeSize<=i.pos)return s+1>r.pos&&e.push(new Iv(r,r.doc.resolve(s+1))),r=r.doc.resolve(s+1+o.content.size),!1}),r.pos<i.pos&&e.push(new Iv(r,i))}return e}function X0(t,e=null,n){let r=(n&&n.removeWhenPresent)!==!1,i=(n&&n.enterInlineAtoms)!==!1;return function(o,s){let{empty:a,$cursor:l,ranges:c}=o.selection;if(a&&!l||!L7(o.doc,c,t,i))return!1;if(s)if(l)t.isInSet(o.storedMarks||l.marks())?s(o.tr.removeStoredMark(t)):s(o.tr.addStoredMark(t.create(e)));else{let u,d=o.tr;i||(c=j7(c)),r?u=!c.some(f=>o.doc.rangeHasMark(f.$from.pos,f.$to.pos,t)):u=!c.every(f=>{let h=!1;return d.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,g,x)=>{if(h)return!1;h=!t.isInSet(p.marks)&&!!x&&x.type.allowsMarkType(t)&&!(p.isText&&/^\s*$/.test(p.textBetween(Math.max(0,f.$from.pos-g),Math.min(p.nodeSize,f.$to.pos-g))))}),!h});for(let f=0;f<c.length;f++){let{$from:h,$to:p}=c[f];if(!u)d.removeMark(h.pos,p.pos,t);else{let g=h.pos,x=p.pos,v=h.nodeAfter,w=p.nodeBefore,S=v&&v.isText?/^\s*/.exec(v.text)[0].length:0,C=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;g+S<x&&(g+=S,x-=C),d.addMark(g,x,t.create(e))}}s(d.scrollIntoView())}return!0}}function Xp(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let Cg=Xp(q0,pP,mP),Kb=Xp(q0,C7,E7);const ii={Enter:Xp(T7,N7,R7,M7),"Mod-Enter":I7,Backspace:Cg,"Mod-Backspace":Cg,"Shift-Backspace":Cg,Delete:Kb,"Mod-Delete":Kb,"Mod-a":P7},xP={"Ctrl-h":ii.Backspace,"Alt-Backspace":ii["Mod-Backspace"],"Ctrl-d":ii.Delete,"Ctrl-Alt-Backspace":ii["Mod-Delete"],"Alt-Delete":ii["Mod-Delete"],"Alt-d":ii["Mod-Delete"],"Ctrl-a":O7,"Ctrl-e":D7};for(let t in ii)xP[t]=ii[t];const F7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,z7=F7?xP:ii;var Do={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$7=typeof navigator<"u"&&/Mac/.test(navigator.platform),B7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Pt=0;Pt<10;Pt++)Do[48+Pt]=Do[96+Pt]=String(Pt);for(var Pt=1;Pt<=24;Pt++)Do[Pt+111]="F"+Pt;for(var Pt=65;Pt<=90;Pt++)Do[Pt]=String.fromCharCode(Pt+32),Hh[Pt]=String.fromCharCode(Pt);for(var Eg in Do)Hh.hasOwnProperty(Eg)||(Hh[Eg]=Do[Eg]);function U7(t){var e=$7&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||B7&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Hh:Do)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const V7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function W7(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))V7?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function H7(t){let e=Object.create(null);for(let n in t)e[W7(n)]=t[n];return e}function Tg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function SP(t){return new mr({props:{handleKeyDown:K7(t)}})}function K7(t){let e=H7(t);return function(n,r){let i=U7(r),o,s=e[Tg(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Tg(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Do[r.keyCode])&&o!=i){let a=e[Tg(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const At=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Iu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _v=null;const ni=function(t,e,n){let r=_v||(_v=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},G7=function(){_v=null},Os=function(t,e,n,r){return n&&(Gb(t,e,n,r,-1)||Gb(t,e,n,r,1))},q7=/^(img|br|input|textarea|hr)$/i;function Gb(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:jn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Xu(t)||q7.test(t.nodeName)||t.contentEditable=="false")return!1;e=At(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?jn(t):0}else return!1}}function jn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function J7(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=jn(t)}else if(t.parentNode&&!Xu(t))e=At(t),t=t.parentNode;else return null}}function Y7(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Xu(t))e=At(t)+1,t=t.parentNode;else return null}}function X7(t,e,n){for(let r=e==0,i=e==jn(t);r||i;){if(t==n)return!0;let o=At(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==jn(t)}}function Xu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Qp=function(t){return t.focusNode&&Os(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function as(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Q7(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Z7(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(jn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(jn(r.startContainer),r.startOffset)}}}const Br=typeof navigator<"u"?navigator:null,qb=typeof document<"u"?document:null,Ko=Br&&Br.userAgent||"",Mv=/Edge\/(\d+)/.exec(Ko),kP=/MSIE \d/.exec(Ko),Pv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ko),fn=!!(kP||Pv||Mv),bo=kP?document.documentMode:Pv?+Pv[1]:Mv?+Mv[1]:0,hr=!fn&&/gecko\/(\d+)/i.test(Ko);hr&&+(/Firefox\/(\d+)/.exec(Ko)||[0,0])[1];const Av=!fn&&/Chrome\/(\d+)/.exec(Ko),Bt=!!Av,bP=Av?+Av[1]:0,Jt=!fn&&!!Br&&/Apple Computer/.test(Br.vendor),hl=Jt&&(/Mobile\/\w+/.test(Ko)||!!Br&&Br.maxTouchPoints>2),An=hl||(Br?/Mac/.test(Br.platform):!1),eG=Br?/Win/.test(Br.platform):!1,nr=/Android \d/.test(Ko),Qu=!!qb&&"webkitFontSmoothing"in qb.documentElement.style,tG=Qu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function nG(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zr(t,e){return typeof t=="number"?t:t[e]}function rG(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Jb(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Iu(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?nG(o):rG(a),u=0,d=0;if(e.top<c.top+Zr(r,"top")?d=-(c.top-e.top+Zr(i,"top")):e.bottom>c.bottom-Zr(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Zr(i,"top")-c.top:e.bottom-c.bottom+Zr(i,"bottom")),e.left<c.left+Zr(r,"left")?u=-(c.left-e.left+Zr(i,"left")):e.right>c.right-Zr(r,"right")&&(u=e.right-c.right+Zr(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function iG(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:CP(t.dom)}}function CP(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Iu(r));return e}function oG({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;EP(n,r==0?0:r-e)}function EP(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ea=null;function sG(t){if(t.setActive)return t.setActive();if(ea)return t.focus(ea);let e=CP(t);t.focus(ea==null?{get preventScroll(){return ea={preventScroll:!0},!0}}:void 0),ea||(ea=!1,EP(e,0))}function TP(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ni(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(o=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?aG(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:TP(n,i)}function aG(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Wi(r,1);if(o.top!=o.bottom&&Q0(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Q0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function lG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function cG(t,e,n){let{node:r,offset:i}=TP(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function uG(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function IP(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Q0(e,c))return IP(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function dG(t,e){let n=t.dom.ownerDocument,r,i=0,o=Z7(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!Q0(e,c)||(s=IP(t.dom,e,c),!s))return null}if(Jt)for(let c=s;r&&c;c=Iu(c))c.draggable&&(r=void 0);if(s=lG(s,e),r){if(hr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Qu&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=uG(t,r,i,e))}a==null&&(a=cG(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Yb(t){return t.top<t.bottom||t.left<t.right}function Wi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Yb(r))return r}return Array.prototype.find.call(n,Yb)||t.getBoundingClientRect()}const fG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function NP(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Qu||hr;if(r.nodeType==3)if(s&&(fG.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Wi(ni(r,i,i),n);if(hr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Wi(ni(r,i-1,i-1),-1);if(c.top==l.top){let u=Wi(ni(r,i,i+1),-1);if(u.top!=l.top)return Jl(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Jl(Wi(ni(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==jn(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Ig(l.getBoundingClientRect(),!1)}if(o==null&&i<jn(r)){let l=r.childNodes[i];if(l.nodeType==1)return Ig(l.getBoundingClientRect(),!0)}return Ig(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==jn(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ni(l,jn(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Jl(Wi(c,1),!1)}if(o==null&&i<jn(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ni(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Jl(Wi(c,-1),!0)}return Jl(Wi(r.nodeType==3?ni(r):r,-n),n>=0)}function Jl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ig(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function RP(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function hG(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return RP(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=NP(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ni(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const pG=/[\u0590-\u08ac]/;function mG(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return a?!pG.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:RP(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),x=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),x}):r.pos==r.start()||r.pos==r.end()}let Xb=null,Qb=null,Zb=!1;function gG(t,e,n){return Xb==e&&Qb==n?Zb:(Xb=e,Qb=n,Zb=n=="up"||n=="down"?hG(t,e,n):mG(t,e,n))}const Bn=0,eC=1,fs=2,Ur=3;class Zu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Bn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>At(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof MP){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof _P&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?At(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?At(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=At(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=At(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(o>h&&s<g)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((hr||Jt)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:At(g)+1});break}let x=p.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(hr&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&Jt)&&Os(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Os(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?fs:eC,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ur:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?fs:Ur}r=s}this.dirty=fs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?fs:eC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class _P extends Zu{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Bn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class yG extends Zu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ds extends Zu{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=El.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ds(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ur&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Bn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Bn}}slice(e,n,r){let i=Ds.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Dv(o,n,s,r)),e>0&&(o=Dv(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Co extends Zu{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=El.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=OP(u,r,n),c?l=new vG(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new Zp(e,n,r,i,u,f,o):new Co(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,n,r){return this.dirty==Bn&&e.eq(this.node)&&Kh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new xG(this,s&&s.node,e);bG(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ce.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==fs)&&(s&&this.protectLocalComposition(e,s),PP(this.contentDOM,this.children,e),hl&&CG(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Oe)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=EG(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new yG(this,o,n,i);e.input.compositionNodes.push(s),this.children=Dv(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Ur||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Bn}updateOuterDeco(e){if(Kh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=AP(this.dom,this.nodeDOM,Ov(this.outerDeco,this.node,n),Ov(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tC(t,e,n,r,i){OP(r,e,t);let o=new Co(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Zp extends Co{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ur||this.dirty!=Bn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Bn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Bn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Zp(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ur)}get domAtom(){return!1}isText(e){return this.node.text==e}}class MP extends Zu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Bn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vG extends Co{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Ur)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function PP(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=nC(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Ds){let l=r?r.previousSibling:t.lastChild;PP(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=nC(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Vc=function(t){t&&(this.nodeName=t)};Vc.prototype=Object.create(null);const hs=[new Vc];function Ov(t,e,n){if(t.length==0)return hs;let r=n?hs[0]:new Vc,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Vc(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Vc(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function AP(t,e,n,r){if(n==hs&&r==hs)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=hs[0]),i=l}wG(i,a||hs[0],s)}return i}function wG(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function OP(t,e,n){return AP(t,t,hs,Ov(e,n,t.nodeType!=1))}function Kh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function nC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xG{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=SG(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Bn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ds.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Ur&&s.dom==s.contentDOM&&(s.dirty=fs),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Co){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ur&&Kh(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=fs,d.updateChildren(i,s+1),d.dirty=Bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Kh(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Co.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Co.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new _P(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ds;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Jt||Bt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new MP(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function SG(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ds)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function kG(t,e){return t.type.side-e.type.side}function bG(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let x=i[s++];x.widget&&(u?(d||(d=[u])).push(x):u=x)}if(u)if(d){d.sort(kG);for(let x=0;x<d.length;x++)n(d[x],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=o&&a.splice(x--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let x=p;s<i.length&&i[s].from<x&&(x=i[s].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<p&&(l=f.cut(x-o),f=f.cut(0,x-o),p=x,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;let g=f.isInline&&!f.isLeaf?a.filter(x=>!x.inline):a.slice();r(f,g,e.forChild(o,f),h),o=p}}function CG(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function EG(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Dv(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Z0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Qp(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&pe.isSelectable(d)&&i.parent&&!(d.isInline&&X7(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new pe(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=ex(t,u,a,d)}return c}function DP(t){return t.editable?t.hasFocus():jP(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function pi(t,e=!1){let n=t.state.selection;if(LP(t,n),!!DP(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Bt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Os(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)IG(t);else{let{anchor:r,head:i}=n,o,s;rC&&!(n instanceof Oe)&&(n.$from.parent.inlineContent||(o=iC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=iC(t,n.to))),t.docView.setSelection(r,i,t.root,e),rC&&(o&&oC(o),s&&oC(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&TG(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const rC=Jt||Bt&&bP<63;function iC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Jt&&i&&i.contentEditable=="false")return Ng(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ng(i);if(o)return Ng(o)}}function Ng(t){return t.contentEditable="true",Jt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function oC(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function TG(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!DP(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function IG(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,At(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&fn&&bo<=11&&(r.disabled=!0,r.disabled=!1)}function LP(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sC(t)}function sC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ex(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Oe.between(e,n,r)}function aC(t){return t.editable&&!t.hasFocus()?!1:jP(t)}function jP(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function NG(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Os(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Lv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ne.findFrom(o,e)}function Ji(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function lC(t,e,n){let r=t.state.selection;if(r instanceof Oe)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ji(t,new Oe(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Lv(t.state,e);return i&&i instanceof pe?Ji(t,i):!1}else if(!(An&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?pe.isSelectable(o)?Ji(t,new pe(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Qu?Ji(t,new Oe(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return Ji(t,new Oe(e>0?r.$to:r.$from));{let i=Lv(t.state,e);return i?Ji(t,i):!1}}}function Gh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Wc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ta(t,e){return e<0?RG(t):_G(t)}function RG(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(hr&&n.nodeType==1&&r<Gh(n)&&Wc(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Wc(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(FP(n))break;{let a=n.previousSibling;for(;a&&Wc(a,-1);)i=n.parentNode,o=At(a),a=a.previousSibling;if(a)n=a,r=Gh(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?jv(t,n,r):i&&jv(t,i,o)}function _G(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Gh(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Wc(a,1))o=n,s=++r;else break}else{if(FP(n))break;{let a=n.nextSibling;for(;a&&Wc(a,1);)o=a.parentNode,s=At(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Gh(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&jv(t,o,s)}function FP(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function MG(t,e){for(;t&&e==t.childNodes.length&&!Xu(t);)e=At(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function PG(t,e){for(;t&&!e&&!Xu(t);)e=At(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function jv(t,e,n){if(e.nodeType!=3){let o,s;(s=MG(e,n))?(e=s,n=0):(o=PG(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Qp(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&pi(t)},50)}function cC(t,e){let n=t.state.doc.resolve(e);if(!(Bt||eG)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function uC(t,e,n){let r=t.state.selection;if(r instanceof Oe&&!r.empty||n.indexOf("s")>-1||An&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Lv(t.state,e);if(s&&s instanceof pe)return Ji(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Cn?Ne.near(s,e):Ne.findFrom(s,e);return a?Ji(t,a):!1}return!1}function dC(t,e){if(!(t.state.selection instanceof Oe))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function fC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function AG(t){if(!Jt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;fC(t,r,"true"),setTimeout(()=>fC(t,r,"false"),20)}return!1}function OG(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function DG(t,e){let n=e.keyCode,r=OG(e);if(n==8||An&&n==72&&r=="c")return dC(t,-1)||ta(t,-1);if(n==46&&!e.shiftKey||An&&n==68&&r=="c")return dC(t,1)||ta(t,1);if(n==13||n==27)return!0;if(n==37||An&&n==66&&r=="c"){let i=n==37?cC(t,t.state.selection.from)=="ltr"?-1:1:-1;return lC(t,i,r)||ta(t,i)}else if(n==39||An&&n==70&&r=="c"){let i=n==39?cC(t,t.state.selection.from)=="ltr"?1:-1:1;return lC(t,i,r)||ta(t,i)}else{if(n==38||An&&n==80&&r=="c")return uC(t,-1,r)||ta(t,-1);if(n==40||An&&n==78&&r=="c")return AG(t)||uC(t,1,r)||ta(t,1);if(r==(An?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function zP(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||El.fromSchema(t.state.schema),a=HP(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=WP[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function $P(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new X(H.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):X.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=El.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=s.appendChild(document.createElement("p"));g&&x.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=zG(n),Qu&&$G(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||cl.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!LG.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=BG(hC(a,+u[1],+u[2]),u[4]);else if(a=X.maxOpen(jG(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=hC(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const LG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jG(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&UP(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=VP(s[s.length-1],o.length));let u=BP(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return H.from(s)}return t}function BP(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,H.from(t));return t}function UP(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=UP(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(H.from(BP(n,t,i+1))))}}function VP(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,VP(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(H.empty,!0);return t.copy(n.append(r))}function Fv(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=Fv(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(H.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function hC(t,e,n){return e<t.openStart&&(t=new X(Fv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new X(Fv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const WP={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let pC=null;function HP(){return pC||(pC=document.implementation.createHTMLDocument("title"))}function FG(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function zG(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=HP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&WP[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=FG(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function $G(t){let e=t.querySelectorAll(Bt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function BG(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=H.from(l.create(r[a+1],i)),o++,s++}return new X(i,o,s)}const Yt={},Xt={},UG={touchstart:!0,touchmove:!0};class VG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WG(t){for(let e in Yt){let n=Yt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{KG(t,r)&&!tx(t,r)&&(t.editable||!(r.type in Xt))&&n(t,r)},UG[e]?{passive:!0}:void 0)}Jt&&t.dom.addEventListener("input",()=>null),zv(t)}function co(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function HG(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function zv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>tx(t,r))})}function tx(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function KG(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function GG(t,e){!tx(t,e)&&Yt[e.type]&&(t.editable||!(e.type in Xt))&&Yt[e.type](t,e)}Xt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!GP(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(nr&&Bt&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),hl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,as(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||DG(t,n)?n.preventDefault():co(t,"key")};Xt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Xt.keypress=(t,e)=>{let n=e;if(GP(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||An&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Oe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function em(t){return{left:t.clientX,top:t.clientY}}function qG(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function nx(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ha(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function JG(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(Ha(t,new pe(n),"pointer"),!0):!1}function YG(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof pe&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(pe.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Ha(t,pe.create(t.state.doc,i),"pointer"),!0):!1}function XG(t,e,n,r,i){return nx(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?YG(t,n):JG(t,n))}function QG(t,e,n,r){return nx(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function ZG(t,e,n,r){return nx(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||eq(t,n,r)}function eq(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ha(t,Oe.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ha(t,Oe.create(r,a+1,a+1+s.content.size),"pointer");else if(pe.isSelectable(s))Ha(t,pe.create(r,a),"pointer");else continue;return!0}}function rx(t){return qh(t)}const KP=An?"metaKey":"ctrlKey";Yt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=rx(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&qG(n,t.input.lastClick)&&!n[KP]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(em(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new tq(t,s,n,!!r)):(o=="doubleClick"?QG:ZG)(t,s.pos,s.inside,n)?n.preventDefault():co(t,"pointer"))};class tq{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[KP],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof pe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),co(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>pi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(em(e))),this.updateAllowDefault(e),this.allowDefault||!n?co(this.view,"pointer"):XG(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Jt&&this.mightDrag&&!this.mightDrag.node.isAtom||Bt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ha(this.view,Ne.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):co(this.view,"pointer")}move(e){this.updateAllowDefault(e),co(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Yt.touchstart=t=>{t.input.lastTouch=Date.now(),rx(t),co(t,"pointer")};Yt.touchmove=t=>{t.input.lastTouch=Date.now(),co(t,"pointer")};Yt.contextmenu=t=>rx(t);function GP(t,e){return t.composing?!0:Jt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const nq=nr?5e3:-1;Xt.compositionstart=Xt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Oe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),qh(t,!0),t.markCursor=null;else if(qh(t,!e.selection.empty),hr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}qP(t,nq)};Xt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,qP(t,20))};function qP(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>qh(t),e))}function JP(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=iq());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function rq(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=J7(e.focusNode,e.focusOffset),r=Y7(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function iq(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function qh(t,e=!1){if(!(nr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),JP(t),e||t.docView&&t.docView.dirty){let n=Z0(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function oq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Nu=fn&&bo<15||hl&&tG<604;Yt.copy=Xt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Nu?null:n.clipboardData,s=r.content(),{dom:a,text:l}=zP(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):oq(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function aq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ru(t,r.value,null,i,e):Ru(t,r.textContent,r.innerHTML,i,e)},50)}function Ru(t,e,n,r,i){let o=$P(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||X.empty)))return!0;if(!o)return!1;let s=sq(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function YP(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Xt.paste=(t,e)=>{let n=e;if(t.composing&&!nr)return;let r=Nu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ru(t,YP(r),r.getData("text/html"),i,n)?n.preventDefault():aq(t,n)};class XP{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const QP=An?"altKey":"ctrlKey";Yt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(em(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof pe?i.to-1:i.to))){if(r&&r.mightDrag)s=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=pe.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=zP(t,a);(!n.dataTransfer.files.length||!Bt||bP>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Nu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nu||n.dataTransfer.setData("text/plain",c),t.dragging=new XP(u,!n[QP],s)};Yt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Xt.dragover=Xt.dragenter=(t,e)=>e.preventDefault();Xt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(em(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=$P(t,YP(n.dataTransfer),Nu?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[QP]);if(t.someProp("handleDrop",p=>p(t,n,s||X.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?t7(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&pe.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new pe(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,x,v,w)=>p=w),c.setSelection(ex(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Yt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&pi(t)},20))};Yt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Yt.beforeinput=(t,e)=>{if(Bt&&nr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,as(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Xt)Yt[t]=Xt[t];function _u(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Jh{constructor(e,n){this.toDOM=e,this.spec=n||vs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Sn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Jh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_u(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Eo{constructor(e,n){this.attrs=e,this.spec=n||vs}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Sn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Eo&&_u(this.attrs,e.attrs)&&_u(this.spec,e.spec)}static is(e){return e.type instanceof Eo}destroy(){}}class ix{constructor(e,n){this.attrs=e,this.spec=n||vs}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Sn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof ix&&_u(this.attrs,e.attrs)&&_u(this.spec,e.spec)}destroy(){}}class Sn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Sn(e,e,new Jh(n,r))}static inline(e,n,r,i){return new Sn(e,n,new Eo(r,i))}static node(e,n,r,i){return new Sn(e,n,new ix(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Eo}get widget(){return this.type instanceof Jh}}const aa=[],vs={};class pt{constructor(e,n){this.local=e.length?e:aa,this.children=n.length?n:aa}static create(e,n){return n.length?Yh(n,e,0,vs):zt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==zt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||vs)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?lq(this.children,s||[],e,n,r,i,o):s?new pt(s.sort(ws),aa):zt}add(e,n){return n.length?this==zt?pt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=eA(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Yh(u,a,c+1,vs)),o+=3}});let s=ZP(o?tA(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new pt(s.length?this.local.concat(s).sort(ws):this.local,i||this.children)}remove(e){return e.length==0||this==zt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=zt?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new pt(i,r):zt}forChild(e,n){if(this==zt)return this;if(n.isLeaf)return pt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Eo){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new pt(i.sort(ws),aa);return r?new io([a,r]):a}return r||zt}eq(e){if(this==e)return!0;if(!(e instanceof pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ox(this.localsInner(e))}localsInner(e){if(this==zt)return aa;if(e.inlineContent||!this.local.some(Eo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Eo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}pt.empty=new pt([],[]);pt.removeOverlap=ox;const zt=pt.empty;class io{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,vs));return io.from(r)}forChild(e,n){if(n.isLeaf)return pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=zt&&(o instanceof io?r=r.concat(o.members):r.push(o))}return io.from(r)}eq(e){if(!(e instanceof io)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?ox(r?n:n.sort(ws)):aa}static from(e){switch(e.length){case 0:return zt;case 1:return e[0];default:return new io(e.every(n=>n instanceof pt)?e:e.reduce((n,r)=>n.concat(r instanceof pt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function lq(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let x=g-p-(h-f);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||f>w+u-d)continue;let S=a[v]+u-d;h>=S?a[v+1]=f<=S?-2:-1:f>=u&&x&&(a[v]+=x,a[v+1]+=x)}d+=x}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:p,offset:g}=r.content.findIndex(d),x=r.maybeChild(p);if(x&&g==d&&g+x.nodeSize==h){let v=a[c+2].mapInner(n,x,u+1,t[c]+o+1,s);v!=zt?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=cq(a,t,e,n,i,o,s),u=Yh(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new pt(e.sort(ws),a)}function ZP(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Sn(i.from+e,i.to+e,i.type))}return n}function cq(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function eA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function tA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Yh(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=eA(t,a,l+n);if(c){o=!0;let u=Yh(c,a,n+l+1,r);u!=zt&&i.push(l,l+a.nodeSize,u)}});let s=ZP(o?tA(t):t,-n).sort(ws);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new pt(s,i):zt}function ws(t,e){return t.from-e.from||t.to-e.to}function ox(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),mC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),mC(e,i,r.copy(o.from,r.to)));break}}}return e}function mC(t,e,n){for(;e<t.length&&ws(n,t[e])>0;)e++;t.splice(e,0,n)}function Rg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=zt&&e.push(r)}),t.cursorWrapper&&e.push(pt.create(t.state.doc,[t.cursorWrapper.deco])),io.from(e)}const uq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},dq=fn&&bo<=11;class fq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class hq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new fq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);fn&&bo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),dq&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,uq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(aC(this.view)){if(this.suppressingSelectionUpdates)return pi(this.view);if(fn&&bo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Os(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Iu(o))n.add(o);for(let o=e.anchorNode;o;o=Iu(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&aC(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(hr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||gq(e,d)!=h)&&f.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qp(r)&&(c=Z0(e))&&c.eq(Ne.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,pi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),pq(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||pi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(fn&&bo<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?At(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?At(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gC=new WeakMap,yC=!1;function pq(t){if(!gC.has(t)&&(gC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=hr,yC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yC=!0}}function vC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Os(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function mq(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return vC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?vC(t,n):null}function gq(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function yq(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Qp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Bt&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let v=r.childNodes[x-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){o=x;break}if(!w||w.size)break}let d=t.state.doc,f=t.someProp("domParser")||cl.fromSchema(t.state.schema),h=d.resolve(s),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:vq,context:h});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),p={anchor:x+s,head:v+s}}return{doc:g,sel:p,from:s,to:a}}function vq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Jt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Jt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function xq(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=Z0(t,_);if(A&&!t.state.selection.eq(A)){if(Bt&&nr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",O=>O(t,as(13,"Enter"))))return;let P=t.state.tr.setSelection(A);_=="pointer"?P.setMeta("pointer",!0):_=="key"&&P.scrollIntoView(),o&&P.setMeta("composition",o),t.dispatch(P)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=yq(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=bq(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(hl&&t.input.lastIOSEnter>Date.now()-225||nr)&&i.some(_=>_.nodeType==1&&!wq.test(_.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",_=>_(t,as(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Oe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let _=wC(t,t.state.doc,c.sel);if(_&&!_.eq(t.state.selection)){let A=t.state.tr.setSelection(_);o&&A.setMeta("composition",o),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Oe&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),fn&&bo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),x=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),w=g.sameParent(x)&&g.parent.inlineContent&&v.end()>=p.endA,S;if((hl&&t.input.lastIOSEnter>Date.now()-225&&(!w||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(x)&&(S=Ne.findFrom(c.doc.resolve(g.pos+1),1,!0))&&S.head==x.pos)&&t.someProp("handleKeyDown",_=>_(t,as(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&kq(u,p.start,p.endA,g,x)&&t.someProp("handleKeyDown",_=>_(t,as(8,"Backspace")))){nr&&Bt&&t.domObserver.suppressSelectionUpdates();return}Bt&&nr&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),nr&&!w&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,x=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,as(13,"Enter"))})},20));let C=p.start,I=p.endA,b,R,k;if(w){if(g.pos==x.pos)fn&&bo<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>pi(t),20)),b=t.state.tr.delete(C,I),R=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(k=Sq(g.parent.content.cut(g.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))b=t.state.tr,k.type=="add"?b.addMark(C,I,k.mark):b.removeMark(C,I,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let _=g.parent.textBetween(g.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",A=>A(t,C,I,_)))return;b=t.state.tr.insertText(_,C,I)}}if(b||(b=t.state.tr.replace(C,I,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let _=wC(t,b.doc,c.sel);_&&!(Bt&&nr&&t.composing&&_.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(_.head==C||_.head==b.mapping.map(I)-1)||fn&&_.empty&&_.head==C)&&b.setSelection(_)}R&&b.ensureMarks(R),o&&b.setMeta("composition",o),t.dispatch(b.scrollIntoView())}function wC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ex(t,e.resolve(n.anchor),e.resolve(n.head))}function Sq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(H.from(c).eq(t))return{mark:a,type:s}}function kq(t,e,n,r,i){if(n-e<=i.pos-r.pos||_g(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(_g(o,!0,!0));return!s.parent.isTextblock||s.pos>n||_g(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function _g(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function bq(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&xC(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&xC(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function xC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Cq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new VG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(EC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=bC(this),kC(this),this.nodeViews=CC(this),this.docView=tC(this.state.doc,SC(this),Rg(this),this.dom,this),this.domObserver=new hq(this,(r,i,o,s)=>xq(this,r,i,o,s)),this.domObserver.start(),WG(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&zv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(EC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(JP(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=CC(this);Tq(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&zv(this),this.editable=bC(this),kC(this);let l=Rg(this),c=SC(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&iG(this);if(s){this.domObserver.stop();let h=d&&(fn||Bt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Eq(i.selection,e.selection);if(d){let p=Bt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rq(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=tC(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&NG(this))?pi(this,h):(LP(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&oG(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Jb(this,n.getBoundingClientRect(),e)}else Jb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new XP(e.slice,e.move,i<0?void 0:pe.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(fn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&sG(this.dom),pi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return dG(this,e)}coordsAtPos(e,n=1){return NP(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return gG(this,n||this.state,e)}pasteHTML(e,n){return Ru(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ru(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(HG(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Rg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,G7())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return GG(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Jt&&this.root.nodeType===11&&Q7(this.dom.ownerDocument)==this.dom&&mq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function SC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Sn.node(0,t.state.doc.content.size,e)]}function kC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function bC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Eq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function CC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Tq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function EC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var nA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ae=(t,e,n)=>(nA(t,e,"read from private field"),n?n.call(t):e.get(t)),It=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Xe=(t,e,n,r)=>(nA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Go(t,e){return t.meta={package:"@milkdown/core",group:"System",...e},t}const rA={strong:(t,e,n,r)=>{const i=t.marker||n.options.strong||"*",o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a},emphasis:(t,e,n,r)=>{const i=t.marker||n.options.emphasis||"*",o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}},Hc=Me({},"editorView"),kc=Me({},"editorState"),Mg=Me([],"initTimer"),TC=Me({},"editor"),Mu=Me([],"inputRules"),Vr=Me([],"prosePlugins"),Pu=Me([],"remarkPlugins"),$v=Me([],"nodeView"),Bv=Me([],"markView"),xs=Me(Sv().use(pv).use(vv),"remark"),Kc=Me({handlers:rA},"remarkStringifyOptions"),Lf=Wo("ConfigReady");function Iq(t){const e=n=>(n.record(Lf),async()=>(await t(n),n.done(Lf),()=>{n.clearTimer(Lf)}));return Go(e,{displayName:"Config"}),e}const Ss=Wo("InitReady");function Nq(t){const e=n=>(n.inject(TC,t).inject(Vr,[]).inject(Pu,[]).inject(Mu,[]).inject($v,[]).inject(Bv,[]).inject(Kc,{handlers:rA}).inject(xs,Sv().use(pv).use(vv)).inject(Mg,[Lf]).record(Ss),async()=>{await n.waitTimers(Mg);const r=n.get(Kc);return n.set(xs,Sv().use(pv).use(vv,r)),n.done(Ss),()=>{n.remove(TC).remove(Vr).remove(Pu).remove(Mu).remove($v).remove(Bv).remove(Kc).remove(xs).remove(Mg).clearTimer(Ss)}});return Go(e,{displayName:"Init"}),e}const zr=Wo("SchemaReady"),Pg=Me([],"schemaTimer"),To=Me({},"schema"),Ka=Me([],"nodes"),Ga=Me([],"marks");function IC(t){var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}}const iA=t=>(t.inject(To,{}).inject(Ka,[]).inject(Ga,[]).inject(Pg,[Ss]).record(zr),async()=>{await t.waitTimers(Pg);const e=t.get(xs),n=t.get(Pu).reduce((s,a)=>s.use(a.plugin,a.options),e);t.set(xs,n);const r=Object.fromEntries(t.get(Ka).map(([s,a])=>[s,IC(a)])),i=Object.fromEntries(t.get(Ga).map(([s,a])=>[s,IC(a)])),o=new Y6({nodes:r,marks:i});return t.set(To,o),t.done(zr),()=>{t.remove(To).remove(Ka).remove(Ga).remove(Pg).clearTimer(zr)}});Go(iA,{displayName:"Schema"});var la,rs;let oA=class{constructor(){It(this,la,void 0),It(this,rs,void 0),Xe(this,la,new Z_),Xe(this,rs,null),this.setCtx=e=>{Xe(this,rs,e)}}get ctx(){return ae(this,rs)}create(e,n){const r=e.create(ae(this,la).sliceMap);return r.set(n),r}get(e){return ae(this,la).get(e).get()}remove(e){return ae(this,la).remove(e)}call(e,n){if(ae(this,rs)==null)throw b6();const r=this.get(e)(n),i=ae(this,rs).get(Hc);return r(i.state,i.dispatch,i)}};la=new WeakMap,rs=new WeakMap;function Rq(t="cmdKey"){return Me(()=>()=>!1,t)}const $e=Me(new oA,"commands"),Ag=Me([zr],"commandsTimer"),Gc=Wo("CommandsReady"),sA=t=>{const e=new oA;return e.setCtx(t),t.inject($e,e).inject(Ag,[zr]).record(Gc),async()=>(await t.waitTimers(Ag),t.done(Gc),()=>{t.remove($e).remove(Ag).clearTimer(Gc)})};Go(sA,{displayName:"Commands"});const jf=Wo("ParserReady"),aA=()=>{throw A0()},Ff=Me(aA,"parser"),Og=Me([],"parserTimer"),lA=t=>(t.inject(Ff,aA).inject(Og,[zr]).record(jf),async()=>{await t.waitTimers(Og);const e=t.get(xs),n=t.get(To);return t.set(Ff,DK.create(n,e)),t.done(jf),()=>{t.remove(Ff).remove(Og).clearTimer(jf)}});Go(lA,{displayName:"Parser"});const qc=Wo("SerializerReady"),Dg=Me([],"serializerTimer"),cA=()=>{throw A0()},zf=Me(cA,"serializer"),uA=t=>(t.inject(zf,cA).inject(Dg,[zr]).record(qc),async()=>{await t.waitTimers(Dg);const e=t.get(xs),n=t.get(To);return t.set(zf,jK.create(n,e)),t.done(qc),()=>{t.remove(zf).remove(Dg).clearTimer(qc)}});Go(uA,{displayName:"Serializer"});const $f=Me("","defaultValue"),Lg=Me(t=>t,"stateOptions"),jg=Me([],"editorStateTimer"),Bf=Wo("EditorStateReady");function _q(t,e,n){if(typeof t=="string")return e(t);if(t.type==="html")return cl.fromSchema(n).parse(t.dom);if(t.type==="json")return ko.fromJSON(n,t.value);throw y6(t)}const Mq=new gr("MILKDOWN_STATE_TRACKER");function Pq(t){const e=Xp(h7,q0,pP,mP);return t.Backspace=e,t}const dA=t=>(t.inject($f,"").inject(kc,{}).inject(Lg,e=>e).inject(jg,[jf,qc,Gc]).record(Bf),async()=>{await t.waitTimers(jg);const e=t.get(To),n=t.get(Ff),r=t.get(Mu),i=t.get(Lg),o=t.get(Vr),s=t.get($f),a=_q(s,n,e),l=[...o,new mr({key:Mq,state:{init:()=>{},apply:(d,f,h,p)=>{t.set(kc,p)}}}),w7({rules:r}),SP(Pq(z7))];t.set(Vr,l);const c=i({schema:e,doc:a,plugins:l}),u=Ta.create(c);return t.set(kc,u),t.done(Bf),()=>{t.remove($f).remove(kc).remove(Lg).remove(jg).clearTimer(Bf)}});Go(dA,{displayName:"EditorState"});const Uf=Wo("EditorViewReady"),Fg=Me([],"editorViewTimer"),Vf=Me({},"editorViewOptions"),Wf=Me(null,"root"),Uv=Me(null,"rootDOM"),Vv=Me({},"rootAttrs");function Aq(t,e){const n=document.createElement("div");n.className="milkdown",t.appendChild(n),e.set(Uv,n);const r=e.get(Vv);return Object.entries(r).forEach(([i,o])=>n.setAttribute(i,o)),n}function Oq(t){t.classList.add("editor"),t.setAttribute("role","textbox")}const Dq=new gr("MILKDOWN_VIEW_CLEAR"),fA=t=>(t.inject(Wf,document.body).inject(Hc,{}).inject(Vf,{}).inject(Uv,null).inject(Vv,{}).inject(Fg,[Bf]).record(Uf),async()=>{await t.wait(Ss);const e=t.get(Wf)||document.body,n=typeof e=="string"?document.querySelector(e):e;t.update(Vr,l=>[new mr({key:Dq,view:c=>{const u=n?Aq(n,t):void 0;return(()=>{if(u&&n){const d=c.dom;n.replaceChild(u,d),u.appendChild(d)}})(),{destroy:()=>{u!=null&&u.parentNode&&(u==null||u.parentNode.replaceChild(c.dom,u)),u==null||u.remove()}}}}),...l]),await t.waitTimers(Fg);const r=t.get(kc),i=t.get(Vf),o=Object.fromEntries(t.get($v)),s=Object.fromEntries(t.get(Bv)),a=new Cq(n,{state:r,nodeViews:o,markViews:s,...i});return Oq(a.dom),t.set(Hc,a),t.done(Uf),()=>{a==null||a.destroy(),t.remove(Wf).remove(Hc).remove(Vf).remove(Uv).remove(Vv).remove(Fg).clearTimer(Uf)}});Go(fA,{displayName:"EditorView"});var ca,Mn,Hi,bc,Hf,Kf,mn,Ki,ua,Gf,da,Cc,qf,is,Ec;const Lq=class hA{constructor(){It(this,ca,void 0),It(this,Mn,void 0),It(this,Hi,void 0),It(this,bc,void 0),It(this,Hf,void 0),It(this,Kf,void 0),It(this,mn,void 0),It(this,Ki,void 0),It(this,ua,void 0),It(this,Gf,void 0),It(this,da,void 0),It(this,Cc,void 0),It(this,qf,void 0),It(this,is,void 0),It(this,Ec,void 0),Xe(this,ca,!1),Xe(this,Mn,"Idle"),Xe(this,Hi,[]),Xe(this,bc,()=>{}),Xe(this,Hf,new Z_),Xe(this,Kf,new M6),Xe(this,mn,new Map),Xe(this,Ki,new Map),Xe(this,ua,new _6(ae(this,Hf),ae(this,Kf))),Xe(this,Gf,()=>{const e=Iq(async r=>{await Promise.all(ae(this,Hi).map(i=>i(r)))}),n=[iA,lA,uA,sA,dA,fA,Nq(this),e];ae(this,da).call(this,n,ae(this,Ki))}),Xe(this,da,(e,n)=>{e.forEach(r=>{const i=ae(this,ua).produce(ae(this,ca)?r.meta:void 0),o=r(i);n.set(r,{ctx:i,handler:o,cleanup:void 0})})}),Xe(this,Cc,(e,n=!1)=>Promise.all([e].flat().map(r=>{const i=ae(this,mn).get(r),o=i==null?void 0:i.cleanup;return n?ae(this,mn).delete(r):ae(this,mn).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof o=="function"?o():o}))),Xe(this,qf,async()=>{await Promise.all([...ae(this,Ki).entries()].map(([e,{cleanup:n}])=>typeof n=="function"?n():n)),ae(this,Ki).clear()}),Xe(this,is,e=>{Xe(this,Mn,e),ae(this,bc).call(this,e)}),Xe(this,Ec,e=>[...e.entries()].map(async([n,r])=>{const{ctx:i,handler:o}=r;if(!o)return;const s=await o();e.set(n,{ctx:i,handler:o,cleanup:s})})),this.enableInspector=(e=!0)=>(Xe(this,ca,e),this),this.onStatusChange=e=>(Xe(this,bc,e),this),this.config=e=>(ae(this,Hi).push(e),this),this.removeConfig=e=>(Xe(this,Hi,ae(this,Hi).filter(n=>n!==e)),this),this.use=e=>{const n=[e].flat();return n.flat().forEach(r=>{ae(this,mn).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),ae(this,Mn)==="Created"&&ae(this,da).call(this,n,ae(this,mn)),this},this.remove=async e=>ae(this,Mn)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(e))},50)})):(await ae(this,Cc).call(this,[e].flat(),!0),this),this.create=async()=>ae(this,Mn)==="OnCreate"?this:(ae(this,Mn)==="Created"&&await this.destroy(),ae(this,is).call(this,"OnCreate"),ae(this,Gf).call(this),ae(this,da).call(this,[...ae(this,mn).keys()],ae(this,mn)),await Promise.all([ae(this,Ec).call(this,ae(this,Ki)),ae(this,Ec).call(this,ae(this,mn))].flat()),ae(this,is).call(this,"Created"),this),this.destroy=async(e=!1)=>ae(this,Mn)==="Destroyed"||ae(this,Mn)==="OnDestroy"?this:ae(this,Mn)==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(e))},50)}):(e&&Xe(this,Hi,[]),ae(this,is).call(this,"OnDestroy"),await ae(this,Cc).call(this,[...ae(this,mn).keys()],e),await ae(this,qf).call(this),ae(this,is).call(this,"Destroyed"),this),this.action=e=>e(ae(this,ua)),this.inspect=()=>ae(this,ca)?[...ae(this,Ki).values(),...ae(this,mn).values()].map(({ctx:e})=>{var n;return(n=e==null?void 0:e.inspector)==null?void 0:n.read()}).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new hA}get ctx(){return ae(this,ua)}get status(){return ae(this,Mn)}};ca=new WeakMap,Mn=new WeakMap,Hi=new WeakMap,bc=new WeakMap,Hf=new WeakMap,Kf=new WeakMap,mn=new WeakMap,Ki=new WeakMap,ua=new WeakMap,Gf=new WeakMap,da=new WeakMap,Cc=new WeakMap,qf=new WeakMap,is=new WeakMap,Ec=new WeakMap;let jq=Lq;var Fq="Expected a function",NC=0/0,zq="[object Symbol]",$q=/^\s+|\s+$/g,Bq=/^[-+]0x[0-9a-f]+$/i,Uq=/^0b[01]+$/i,Vq=/^0o[0-7]+$/i,Wq=parseInt,Hq=typeof md=="object"&&md&&md.Object===Object&&md,Kq=typeof self=="object"&&self&&self.Object===Object&&self,Gq=Hq||Kq||Function("return this")(),qq=Object.prototype,Jq=qq.toString,Yq=Math.max,Xq=Math.min,zg=function(){return Gq.Date.now()};function Qq(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Fq);e=RC(e)||0,Wv(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Yq(RC(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(b){var R=r,k=i;return r=i=void 0,c=b,s=t.apply(k,R),s}function p(b){return c=b,a=setTimeout(v,e),u?h(b):s}function g(b){var R=b-l,k=b-c,_=e-R;return d?Xq(_,o-k):_}function x(b){var R=b-l,k=b-c;return l===void 0||R>=e||R<0||d&&k>=o}function v(){var b=zg();if(x(b))return w(b);a=setTimeout(v,g(b))}function w(b){return a=void 0,f&&r?h(b):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(zg())}function I(){var b=zg(),R=x(b);if(r=arguments,i=this,l=b,R){if(a===void 0)return p(l);if(d)return a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),s}return I.cancel=S,I.flush=C,I}function Wv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Zq(t){return!!t&&typeof t=="object"}function eJ(t){return typeof t=="symbol"||Zq(t)&&Jq.call(t)==zq}function RC(t){if(typeof t=="number")return t;if(eJ(t))return NC;if(Wv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace($q,"");var n=Uq.test(t);return n||Vq.test(t)?Wq(t.slice(2),n?2:8):Bq.test(t)?NC:+t}var tJ=Qq;const nJ=ep(tJ);class pA{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const Hv=Me(new pA,"listener"),rJ=new gr("MILKDOWN_LISTENER"),mA=t=>(t.inject(Hv,new pA),async()=>{await t.wait(Ss);const e=t.get(Hv),{listeners:n}=e;n.beforeMount.forEach(a=>a(t)),await t.wait(qc);const r=t.get(zf);let i=null,o=null;const s=new mr({key:rJ,view:()=>({destroy:()=>{n.destroy.forEach(a=>a(t))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(a=>a(t)),!1),blur:()=>(n.blur.forEach(a=>a(t)),!1)}},state:{init:(a,l)=>{i=l.doc,o=r(l.doc)},apply:a=>!a.docChanged||a.getMeta("addToHistory")===!1?void 0:nJ(()=>{const{doc:l}=a;if(n.updated.length>0&&i&&!i.eq(l)&&n.updated.forEach(c=>{c(t,l,i)}),n.markdownUpdated.length>0&&i&&!i.eq(l)){const c=r(l);n.markdownUpdated.forEach(u=>{u(t,c,o)}),o=c}i=l},200)()}});t.update(Vr,a=>a.concat(s)),await t.wait(Uf),n.mounted.forEach(a=>a(t))});mA.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};let iJ=t=>crypto.getRandomValues(new Uint8Array(t)),oJ=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let a=n(i),l=i;for(;l--;)if(s+=t[a[l]&r]||"",s.length===o)return s}}},sJ=(t,e=21)=>oJ(t,e,iJ);sJ("abcedfghicklmn",10);function nt(t,e){const n=Rq(t),r=i=>async()=>{r.key=n,await i.wait(Gc);const o=e(i);return i.get($e).create(n,o),r.run=s=>i.get($e).call(t,s),()=>{i.get($e).remove(n)}};return r}function vr(t){const e=n=>async()=>{await n.wait(zr);const r=t(n);return n.update(Mu,i=>[...i,r]),e.inputRule=r,()=>{n.update(Mu,i=>i.filter(o=>o!==r))}};return e}function aJ(t,e){const n=r=>async()=>{const i=e(r);return r.update(Ga,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Ga,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(To).marks[t];if(!i)throw E6(t);return i},n}function sx(t,e){const n=r=>async()=>{const i=e(r);return r.update(Ka,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(Ka,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(To).nodes[t];if(!i)throw C6(t);return i},n}function Il(t){let e;const n=r=>async()=>(await r.wait(zr),e=t(r),r.update(Vr,i=>[...i,e]),()=>{r.update(Vr,i=>i.filter(o=>o!==e))});return n.plugin=()=>e,n.key=()=>e.spec.key,n}function lJ(t){const e=n=>async()=>{await n.wait(zr);const r=t(n),i=SP(r);return n.update(Vr,o=>[...o,i]),e.keymap=r,()=>{n.update(Vr,o=>o.filter(s=>s!==i))}};return e}function _i(t,e){const n=Me(t,e),r=i=>(i.inject(n),()=>()=>{i.remove(n)});return r.key=n,r}function wr(t,e){const n=_i(e,t),r=sx(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.node=r,i.type=o=>r.type(o),i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>s=>()=>{const a=s.get(n.key),l=o(a)(s);s.update(Ka,c=>[...c.filter(u=>u[0]!==t),[t,l]]),i.schema=l},i}function tm(t,e){const n=_i(e,t),r=aJ(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.mark=r,i.type=r.type,i.schema=r.schema,i.ctx=n,i.key=n.key,i.extendSchema=o=>s=>()=>{const a=s.get(n.key),l=o(a)(s);s.update(Ga,c=>[...c.filter(u=>u[0]!==t),[t,l]]),i.schema=l},i}function Gn(t,e){const n=Object.fromEntries(Object.entries(e).map(([s,{shortcuts:a}])=>[s,a])),r=_i(n,`${t}Keymap`),i=lJ(s=>{const a=s.get(r.key),l=Object.entries(e).flatMap(([c,{command:u}])=>[a[c]].flat().map(d=>[d,u(s)]));return Object.fromEntries(l)}),o=[r,i];return o.ctx=r,o.shortcuts=i,o.key=r.key,o.keymap=i.keymap,o}const xr=(t,e=()=>({}))=>_i(e,`${t}Attr`),nm=(t,e=()=>({}))=>_i(e,`${t}Attr`);function ed(t,e,n){const r=_i(n??{},t),i=s=>async()=>{await s.wait(Ss);const a={plugin:e(s),options:s.get(r.key)};return s.update(Pu,l=>[...l,a]),()=>{s.update(Pu,l=>l.filter(c=>c!==a))}},o=[r,i];return o.id=t,o.plugin=i,o.options=r,o}function gA(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function cJ(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const uJ=[["","ss"],["","Ss"],["","ae"],["","Ae"],["","oe"],["","Oe"],["","ue"],["","Ue"],["","A"],["","A"],["","A"],["","A"],["","Ae"],["","A"],["","AE"],["","C"],["","E"],["","E"],["","E"],["","E"],["","I"],["","I"],["","I"],["","I"],["","D"],["","N"],["","O"],["","O"],["","O"],["","O"],["","Oe"],["","O"],["","O"],["","U"],["","U"],["","U"],["","Ue"],["","U"],["","Y"],["","TH"],["","ss"],["","a"],["","a"],["","a"],["","a"],["","ae"],["","a"],["","ae"],["","c"],["","e"],["","e"],["","e"],["","e"],["","i"],["","i"],["","i"],["","i"],["","d"],["","n"],["","o"],["","o"],["","o"],["","o"],["","oe"],["","o"],["","o"],["","u"],["","u"],["","u"],["","ue"],["","u"],["","y"],["","th"],["","y"],["","SS"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","i"],["","I"],["","i"],["","I"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","u"],["","U"],["","u"],["","U"],["","y"],["","Y"],["","a"],["","A"],["","D"],["","d"],["","i"],["","I"],["","u"],["","U"],["","o"],["","O"],["","u"],["","U"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","i"],["","I"],["","i"],["","I"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","y"],["","Y"],["","y"],["","Y"],["","y"],["","Y"],["","y"],["","Y"],["","e"],["","a"],["","a"],["","w"],["","i"],["","y"],["","a"],["","b"],["","t"],["","t"],["","th"],["","j"],["","h"],["","kh"],["","d"],["","dh"],["","r"],["","z"],["","s"],["","sh"],["","s"],["","d"],["","t"],["","z"],["","e"],["","gh"],["","_"],["","f"],["","q"],["","k"],["","l"],["","m"],["","n"],["","h"],["","w"],["","a"],["","y"],["","a"],["","u"],["","i"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","ch"],["","k"],["","g"],["","p"],["","zh"],["","y"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","p"],["","z"],["","c"],["","d"],["","d"],["","r"],["","r"],["","z"],["","g"],["","x"],["","g"],["","n"],["","e"],["","e"],["","ai"],["","t"],["","d"],["","r"],["","n"],["","h"],["","h"],["","e"],["","A"],["","a"],["","B"],["","b"],["","V"],["","v"],["","G"],["","g"],["","D"],["","d"],["","ye"],["","Ye"],["","yE"],["","YE"],["","E"],["","e"],["","Yo"],["","yo"],["","Zh"],["","zh"],["","Z"],["","z"],["","I"],["","i"],["","iy"],["","Iy"],["","IY"],["","iY"],["","Y"],["","y"],["","K"],["","k"],["","L"],["","l"],["","M"],["","m"],["","N"],["","n"],["","O"],["","o"],["","P"],["","p"],["","R"],["","r"],["","S"],["","s"],["","T"],["","t"],["","U"],["","u"],["","F"],["","f"],["","Kh"],["","kh"],["","Ts"],["","ts"],["","Ch"],["","ch"],["","Sh"],["","sh"],["","Sch"],["","sch"],["",""],["",""],["","Y"],["","y"],["",""],["",""],["","E"],["","e"],["","Yu"],["","yu"],["","Ya"],["","ya"],["","a"],["","A"],["","s"],["","S"],["","t"],["","T"],["","t"],["","T"],["","s"],["","S"],["","c"],["","C"],["","g"],["","G"],["","i"],["","I"],["","a"],["","A"],["","b"],["","B"],["","g"],["","G"],["","d"],["","D"],["","ye"],["","Ye"],["","z"],["","Z"],["","e"],["","E"],["","y"],["","Y"],["","t"],["","T"],["","zh"],["","Zh"],["","i"],["","I"],["","l"],["","L"],["","kh"],["","Kh"],["","ts"],["","Ts"],["","k"],["","K"],["","h"],["","H"],["","dz"],["","Dz"],["","gh"],["","Gh"],["","tch"],["","Tch"],["","m"],["","M"],["","y"],["","Y"],["","n"],["","N"],["","sh"],["","Sh"],["","vo"],["","Vo"],["","ch"],["","Ch"],["","p"],["","P"],["","j"],["","J"],["","r"],["","R"],["","s"],["","S"],["","v"],["","V"],["","t"],["","T"],["","r"],["","R"],["","c"],["","C"],["","u"],["","U"],["","U"],["","p"],["","P"],["","q"],["","Q"],["","o"],["","O"],["","f"],["","F"],["","yev"],["","a"],["","b"],["","g"],["","d"],["","e"],["","v"],["","z"],["","t"],["","i"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","zh"],["","r"],["","s"],["","t"],["","u"],["","ph"],["","q"],["","gh"],["","k"],["","sh"],["","ch"],["","ts"],["","dz"],["","ts"],["","tch"],["","kh"],["","j"],["","h"],["","c"],["","d"],["","e"],["","n"],["","r"],["","s"],["","t"],["","u"],["","z"],["","C"],["","D"],["","E"],["","N"],["","R"],["","S"],["","T"],["","U"],["","Z"],["","h"],["","sh"],["","n"],["","r"],["","b"],["","lh"],["","k"],["","a"],["","v"],["","m"],["","f"],["","dh"],["","th"],["","l"],["","g"],["","gn"],["","s"],["","d"],["","z"],["","t"],["","y"],["","p"],["","j"],["","ch"],["","tt"],["","hh"],["","kh"],["","th"],["","z"],["","sh"],["","s"],["","d"],["","t"],["","z"],["","a"],["","gh"],["","q"],["","w"],["","a"],["","aa"],["","i"],["","ee"],["","u"],["","oo"],["","e"],["","ey"],["","o"],["","oa"],["",""],["","a"],["","v"],["","g"],["","d"],["","e"],["","z"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","a"],["","e"],["","i"],["","o"],["","y"],["","i"],["","o"],["","s"],["","i"],["","y"],["","y"],["","i"],["","A"],["","B"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","R"],["","S"],["","T"],["","Y"],["","F"],["","X"],["","PS"],["","O"],["","A"],["","E"],["","I"],["","O"],["","Y"],["","I"],["","O"],["","I"],["","Y"],["","a"],["","e"],["","g"],["","i"],["","k"],["","l"],["","n"],["","u"],["","A"],["","E"],["","G"],["","I"],["","K"],["","L"],["","N"],["","U"],["","c"],["","s"],["","z"],["","C"],["","S"],["","Z"],["","a"],["","c"],["","e"],["","e"],["","i"],["","s"],["","u"],["","u"],["","z"],["","A"],["","C"],["","E"],["","E"],["","I"],["","S"],["","U"],["","U"],["","Kj"],["","kj"],["","Lj"],["","lj"],["","Nj"],["","nj"],["","Ts"],["","ts"],["","a"],["","c"],["","e"],["","l"],["","n"],["","s"],["","z"],["","z"],["","A"],["","C"],["","E"],["","L"],["","N"],["","S"],["","Z"],["","Z"],["","Ye"],["","I"],["","Yi"],["","G"],["","ye"],["","i"],["","yi"],["","g"],["","IJ"],["","ij"],["","c"],["","Y"],["","b"],["","t"],["","Bo"],["","B"],["","CE"],["","C"],["","Cr"],["","F"],["","m"],["","N"],["","Pt"],["","Rs"],["","W"],["","s"],["","E"],["","K"],["","T"],["","Dp"],["","S"],["","P"],["","G"],["","A"],["","S"],["","C"],["","tt"],["","S"],["","T"],["","R"],["","L"],["","P"],["","B"],["","$"],["","c"],["","Y"],["","W"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","C"],["","D"],["","g"],["","J"],["","K"],["","N"],["","O"],["","P"],["","Q"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","f"],["","h"],["","i"],["","j"],["","h"],["","l"],["","m"],["","n"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","D"],["","E"],["","F"],["","G"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","D"],["","E"],["","F"],["","G"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","l"],["","j"],["","A"],["","B"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","R"],["","TH"],["","S"],["","T"],["","Y"],["","F"],["","x"],["","PS"],["","O"],["","D"],["","a"],["","b"],["","g"],["","d"],["","e"],["","z"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","d"],["","E"],["","TH"],["","K"],["","f"],["","r"],["","p"],["","A"],["","V"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","S"],["","TH"],["","S"],["","T"],["","Y"],["","F"],["","X"],["","PS"],["","O"],["","D"],["","a"],["","v"],["","g"],["","d"],["","e"],["","z"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","a"],["","e"],["","i"],["","k"],["","f"],["","r"],["","p"],["","A"],["","B"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","R"],["","TH"],["","S"],["","T"],["","Y"],["","F"],["","X"],["","PS"],["","O"],["","D"],["","a"],["","v"],["","g"],["","d"],["","e"],["","z"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","a"],["","e"],["","i"],["","k"],["","f"],["","r"],["","p"],["","A"],["","V"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","S"],["","TH"],["","S"],["","T"],["","Y"],["","F"],["","X"],["","PS"],["","O"],["","D"],["","av"],["","g"],["","d"],["","e"],["","z"],["","i"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","a"],["","e"],["","i"],["","k"],["","f"],["","r"],["","p"],["","F"],["","f"],["","(a)"],["","(b)"],["","(c)"],["","(d)"],["","(e)"],["","(f)"],["","(g)"],["","(h)"],["","(i)"],["","(j)"],["","(k)"],["","(l)"],["","(m)"],["","(n)"],["","(o)"],["","(p)"],["","(q)"],["","(r)"],["","(s)"],["","(t)"],["","(u)"],["","(v)"],["","(w)"],["","(x)"],["","(y)"],["","(z)"],["","(A)"],["","(B)"],["","(C)"],["","(D)"],["","(E)"],["","(F)"],["","(G)"],["","(H)"],["","(I)"],["","(J)"],["","(K)"],["","(L)"],["","(N)"],["","(O)"],["","(P)"],["","(Q)"],["","(R)"],["","(S)"],["","(T)"],["","(U)"],["","(V)"],["","(W)"],["","(X)"],["","(Y)"],["","(Z)"],["","(a)"],["","(b)"],["","(b)"],["","(c)"],["","(e)"],["","(f)"],["","(g)"],["","(h)"],["","(i)"],["","(j)"],["","(k)"],["","(l)"],["","(m)"],["","(n)"],["","(o)"],["","(p)"],["","(q)"],["","(r)"],["","(s)"],["","(t)"],["","(u)"],["","(v)"],["","(w)"],["","(x)"],["","(y)"],["","(z)"],["","C"],["","c"],["","G"],["","g"],["","H"],["","h"],["","Z"],["","z"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","10"],["","11"],["","12"],["","13"],["","14"],["","15"],["","16"],["","17"],["","18"],["","19"],["","20"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","10"],["","11"],["","12"],["","13"],["","14"],["","15"],["","16"],["","17"],["","18"],["","19"],["","20"],["","1."],["","2."],["","3."],["","4."],["","5."],["","6."],["","7."],["","8."],["","9."],["","10."],["","11."],["","12."],["","13."],["","14."],["","15."],["","16."],["","17."],["","18."],["","19."],["","20."],["","0"],["","11"],["","12"],["","13"],["","14"],["","15"],["","16"],["","17"],["","18"],["","19"],["","20"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","10"],["","0"],["","&"],["","&"],["","&"],["","&"],["","&"],["","&"],["",'"'],["",'"'],["",'"'],["","?!"],["","?!"],["","?!"],["","?!"],["","/"],["","\\"],["","AR"],["","V"],["","V"],["","VR"],["","VF"],["","2"],["","5"],["","f"],["","W"],["","U"],["","V"],["","T"],["","V"],["","MB"],["","VB"],["","3B"],["","3B"],["","100"],["","BACK"],["","END"],["","ON!"],["","SOON"],["","TOP"],["","18"],["","abc"],["","ABCD"],["","abcd"],["","1234"],["","T&@%"],["#","#"],["*","*"],["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["","10"],["","A"],["","B"],["","AB"],["","CL"],["","O"],["","P"],["","SOS"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"]],dJ=(t,e)=>{for(const[n,r]of e)t=t.replace(new RegExp(cJ(n),"g"),r);return t};function fJ(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={customReplacements:[],...e};const n=new Map([...uJ,...e.customReplacements]);return t=t.normalize(),t=dJ(t,n),t=t.normalize("NFD").replace(/\p{Diacritic}/gu,"").normalize(),t}const hJ=[["&"," and "],[""," unicorn "],[""," love "]],pJ=t=>t.replace(/([A-Z]{2,})(\d+)/g,"$1 $2").replace(/([a-z\d]+)([A-Z]{2,})/g,"$1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z\d]+)/g,"$1 $2"),mJ=(t,e)=>{const n=gA(e);return t.replace(new RegExp(`${n}{2,}`,"g"),e).replace(new RegExp(`^${n}|${n}$`,"g"),"")},gJ=t=>{let e="a-z\\d";if(e+=t.lowercase?"":"A-Z",t.preserveCharacters.length>0)for(const n of t.preserveCharacters){if(n===t.separator)throw new Error(`The separator character \`${t.separator}\` cannot be included in preserved characters: ${t.preserveCharacters}`);e+=gA(n)}return new RegExp(`[^${e}]+`,"g")};function yJ(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={separator:"-",lowercase:!0,decamelize:!0,customReplacements:[],preserveLeadingUnderscore:!1,preserveTrailingDash:!1,preserveCharacters:[],...e};const n=e.preserveLeadingUnderscore&&t.startsWith("_"),r=e.preserveTrailingDash&&t.endsWith("-"),i=new Map([...hJ,...e.customReplacements]);t=fJ(t,{customReplacements:i}),e.decamelize&&(t=pJ(t));const o=gJ(e);return e.lowercase&&(t=t.toLowerCase()),t=t.replace(/([a-zA-Z\d]+)'([ts])(\s|$)/g,"$1$2$3"),t=t.replace(o,e.separator),t=t.replace(/\\/g,""),e.separator&&(t=mJ(t,e.separator)),n&&(t=`_${t}`),r&&(t=`${t}-`),t}function vJ(t,e){return function(n,r){let{$from:i,$to:o,node:s}=n.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let d=H.empty,f=i.index(-1)?1:i.index(-2)?2:3;for(let v=i.depth-f;v>=i.depth-3;v--)d=H.from(i.node(v).copy(d));let h=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(H.from(t.createAndFill()));let p=i.before(i.depth-(f-1)),g=n.tr.replace(p,i.after(-h),new X(d,4-f,0)),x=-1;g.doc.nodesBetween(p,g.doc.content.size,(v,w)=>{if(x>-1)return!1;v.isTextblock&&v.content.size==0&&(x=w+1)}),x>-1&&g.setSelection(Ne.near(g.doc.resolve(x))),r(g.scrollIntoView())}return!0}let l=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,c=n.tr.delete(i.pos,o.pos),u=l?[e?{type:t,attrs:e}:null,{type:l}]:void 0;return Uc(c.doc,i.pos,2,u)?(r&&r(c.split(i.pos,2,u).scrollIntoView()),!0):!1}}function yA(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?wJ(e,n,t,o):xJ(e,n,o):!0:!1}}function wJ(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ut(o-1,s,o,s,new X(H.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new lM(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Gp(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return qp(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function xJ(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?H.empty:H.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Ut(d-(a?1:0),f+(l?1:0),d+1,f-1,new X((a?H.empty:H.from(i.copy(H.empty))).append(l?H.empty:H.from(i.copy(H.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function SJ(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=H.from(c?t.create():null),d=new X(H.from(t.create(null,H.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Ut(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function kJ(t){const e=new Map;if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Tl(t,"definition",function(r){const i=_C(r.identifier);i&&!e.get(i)&&e.set(i,r)}),n;function n(r){const i=_C(r);return e.get(i)}}function _C(t){return String(t||"").toUpperCase()}function bJ(){return function(t){const e=kJ(t);Tl(t,function(n,r,i){if(n.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[yv,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i&&typeof r=="number")return i.children[r]=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children},[yv,r]}})}}function vA(t,e){var n;if(!(e.childCount>=1&&((n=e.lastChild)==null?void 0:n.type.name)==="hardbreak")){t.next(e.content);return}const r=[];e.content.forEach((i,o,s)=>{s!==e.childCount-1&&r.push(i)}),t.next(H.fromArray(r))}function $(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-commonmark",...e}}),t}const ax=nm("emphasis");$(ax,{displayName:"Attr<emphasis>",group:"Emphasis"});const Nl=tm("emphasis",t=>({attrs:{marker:{default:t.get(Kc).emphasis||"*"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",t.get(ax.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,n)=>{e.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));$(Nl.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});$(Nl.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const lx=nt("ToggleEmphasis",t=>()=>X0(Nl.type(t)));$(lx,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const wA=vr(t=>Yp(/(?:^|[^*])\*([^*]+)\*$/,Nl.type(t),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:n+1}}));$(wA,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const xA=vr(t=>Yp(/(?:^|[^_])_([^_]+)_$/,Nl.type(t),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:n+1}}));$(xA,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const cx=Gn("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:t=>{const e=t.get($e);return()=>e.call(lx.key)}}});$(cx.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});$(cx.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const ux=nm("strong");$(ux,{displayName:"Attr<strong>",group:"Strong"});const td=tm("strong",t=>({attrs:{marker:{default:t.get(Kc).strong||"*"}},parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",t.get(ux.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,n)=>{e.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));$(td.mark,{displayName:"MarkSchema<strong>",group:"Strong"});$(td.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const dx=nt("ToggleStrong",t=>()=>X0(td.type(t)));$(dx,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const SA=vr(t=>Yp(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,td.type(t),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));$(SA,{displayName:"InputRule<strong>",group:"Strong"});const fx=Gn("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:t=>{const e=t.get($e);return()=>e.call(dx.key)}}});$(fx.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});$(fx.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const hx=nm("inlineCode");$(hx,{displayName:"Attr<inlineCode>",group:"InlineCode"});const uo=tm("inlineCode",t=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",t.get(hx.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}));$(uo.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});$(uo.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const px=nt("ToggleInlineCode",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:s}=r;return e.doc.rangeHasMark(o,s,uo.type(t))?(n==null||n(i.removeMark(o,s,uo.type(t))),!0):(Object.keys(e.schema.marks).filter(a=>a!==uo.type.name).map(a=>e.schema.marks[a]).forEach(a=>{i.removeMark(o,s,a)}),n==null||n(i.addMark(o,s,uo.type(t).create())),!0)});$(px,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const kA=vr(t=>Yp(/(?:\`)([^\`]+)(?:\`)$/,uo.type(t)));$(kA,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const mx=Gn("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:t=>{const e=t.get($e);return()=>e.call(px.key)}}});$(mx.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});$(mx.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const gx=nm("link");$(gx,{displayName:"Attr<link>",group:"Link"});const qa=tm("link",t=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...t.get(gx.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,n,r)=>{const i=n.url,o=n.title;e.openMark(r,{href:i,title:o}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,n)=>{e.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));$(qa.mark,{displayName:"MarkSchema<link>",group:"Link"});const bA=nt("ToggleLink",t=>(e={})=>X0(qa.type(t),e));$(bA,{displayName:"Command<toggleLinkCommand>",group:"Link"});const CA=nt("UpdateLink",t=>(e={})=>(n,r)=>{if(!r)return!1;let i,o=-1;const{selection:s}=n,{from:a,to:l}=s;if(n.doc.nodesBetween(a,a===l?l+1:l,(p,g)=>{if(qa.type(t).isInSet(p.marks))return i=p,o=g,!1}),!i)return!1;const c=i.marks.find(({type:p})=>p===qa.type(t));if(!c)return!1;const u=o,d=o+i.nodeSize,{tr:f}=n,h=qa.type(t).create({...c.attrs,...e});return h?(r(f.removeMark(u,d,c).addMark(u,d,h).setSelection(new Oe(f.selection.$anchor)).scrollIntoView()),!0):!1});$(CA,{displayName:"Command<updateLinkCommand>",group:"Link"});const EA=sx("doc",()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}}));$(EA,{displayName:"NodeSchema<doc>",group:"Doc"});const yx=xr("paragraph");$(yx,{displayName:"Attr<paragraph>",group:"Paragraph"});const Ws=wr("paragraph",t=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",t.get(yx.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{e.openNode("paragraph"),vA(e,n),e.closeNode()}}}));$(Ws.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});$(Ws.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const vx=nt("TurnIntoText",t=>()=>Tu(Ws.type(t)));$(vx,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const wx=Gn("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:t=>{const e=t.get($e);return()=>e.call(vx.key)}}});$(wx.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});$(wx.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const CJ=Array(6).fill(0).map((t,e)=>e+1);function EJ(t){return yJ(t.textContent)}const rm=_i(EJ,"headingIdGenerator");$(rm,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const xx=xr("heading");$(xx,{displayName:"Attr<heading>",group:"Heading"});const Hs=wr("heading",t=>{const e=t.get(rm.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:CJ.map(n=>({tag:`h${n}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Us(r);return{level:n,id:r.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...t.get(xx.key)(n),id:n.attrs.id||e(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,r,i)=>{const o=r.depth;n.openNode(i,{level:o}),n.next(r.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,r)=>{n.openNode("heading",void 0,{depth:r.attrs.level}),vA(n,r),n.closeNode()}}}});$(Hs.node,{displayName:"NodeSchema<heading>",group:"Heading"});$(Hs.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const TA=vr(t=>fP(/^(?<hashes>#+)\s$/,Hs.type(t),e=>{var n,r;const i=((r=(n=e.groups)==null?void 0:n.hashes)==null?void 0:r.length)||0,o=t.get(Hc),{$from:s}=o.state.selection,a=s.node();if(a.type.name==="heading"){let l=Number(a.attrs.level)+Number(i);return l>6&&(l=6),{level:l}}return{level:i}}));$(TA,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Yi=nt("WrapInHeading",t=>e=>(e??(e=1),e<1?Tu(Ws.type(t)):Tu(Hs.type(t),{level:e})));$(Yi,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const Sx=nt("DowngradeHeading",t=>()=>(e,n,r)=>{const{$from:i}=e.selection,o=i.node();if(o.type!==Hs.type(t)||!e.selection.empty||i.parentOffset!==0)return!1;const s=o.attrs.level-1;return s?(n==null||n(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...o.attrs,level:s})),!0):Tu(Ws.type(t))(e,n,r)});$(Sx,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const kx=Gn("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:t=>{const e=t.get($e);return()=>e.call(Yi.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:t=>{const e=t.get($e);return()=>e.call(Sx.key)}}});$(kx.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});$(kx.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const bx=xr("blockquote");$(bx,{displayName:"Attr<blockquote>",group:"Blockquote"});const nd=wr("blockquote",t=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",t.get(bx.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}));$(nd.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});$(nd.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const IA=vr(t=>K0(/^\s*>\s$/,nd.type(t)));$(IA,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const Cx=nt("WrapInBlockquote",t=>()=>Y0(nd.type(t)));$(Cx,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const Ex=Gn("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:t=>{const e=t.get($e);return()=>e.call(Cx.key)}}});$(Ex.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});$(Ex.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const Tx=xr("codeBlock",()=>({pre:{},code:{}}));$(Tx,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const rd=wr("code_block",t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{language:e.dataset.language}}}],toDOM:e=>{const n=t.get(Tx.key)(e);return["pre",{...n.pre,"data-language":e.attrs.language},["code",n.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,n,r)=>{const i=n.lang,o=n.value;e.openNode(r,{language:i}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,n)=>{var r;e.addNode("code",void 0,((r=n.content.firstChild)==null?void 0:r.text)||"",{lang:n.attrs.language})}}}));$(rd.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});$(rd.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const NA=vr(t=>fP(/^```(?<language>[a-z]*)?[\s\n]$/,rd.type(t),e=>{var n;return{language:((n=e.groups)==null?void 0:n.language)??""}}));$(NA,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const Ix=nt("CreateCodeBlock",t=>(e="")=>Tu(rd.type(t),{language:e}));$(Ix,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const TJ=nt("UpdateCodeBlockLanguage",()=>({pos:t,language:e}={pos:-1,language:""})=>(n,r)=>t>=0?(r==null||r(n.tr.setNodeAttribute(t,"language",e)),!0):!1);$(TJ,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const Nx=Gn("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:t=>{const e=t.get($e);return()=>e.call(Ix.key)}}});$(Nx.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});$(Nx.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const Rx=xr("image");$(Rx,{displayName:"Attr<image>",group:"Image"});const Rl=wr("image",t=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...t.get(Rx.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,n,r)=>{const i=n.url,o=n.alt,s=n.title;e.addNode(r,{src:i,alt:o,title:s})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,n)=>{e.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));$(Rl.node,{displayName:"NodeSchema<image>",group:"Image"});$(Rl.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const RA=nt("InsertImage",t=>(e={})=>(n,r)=>{if(!r)return!0;const{src:i="",alt:o="",title:s=""}=e,a=Rl.type(t).create({src:i,alt:o,title:s});return a&&r(n.tr.replaceSelectionWith(a).scrollIntoView()),!0});$(RA,{displayName:"Command<insertImageCommand>",group:"Image"});const _A=nt("UpdateImage",t=>(e={})=>(n,r)=>{const i=S7(n.selection,Rl.type(t));if(!i)return!1;const{node:o,pos:s}=i,a={...o.attrs},{src:l,alt:c,title:u}=e;return l!==void 0&&(a.src=l),c!==void 0&&(a.alt=c),u!==void 0&&(a.title=u),r==null||r(n.tr.setNodeMarkup(s,void 0,a).scrollIntoView()),!0});$(_A,{displayName:"Command<updateImageCommand>",group:"Image"});const IJ=vr(t=>new yr(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,n,r,i)=>{const[o,s,a="",l]=n;return o?e.tr.replaceWith(r,i,Rl.type(t).create({src:a,alt:s,title:l})):null}));$(IJ,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const Xh=xr("hardbreak",t=>({"data-type":"hardbreak","data-is-inline":t.attrs.isInline}));$(Xh,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const ks=wr("hardbreak",t=>({inline:!0,group:"inline",attrs:{isInline:{default:!1}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",t.get(Xh.key)(e)," "]:["br",t.get(Xh.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,n,r)=>{var i;e.addNode(r,{isInline:!!((i=n.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,n)=>{n.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));$(ks.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});$(ks.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const _x=nt("InsertHardbreak",t=>()=>(e,n)=>{var r;const{selection:i,tr:o}=e;if(!(i instanceof Oe))return!1;if(i.empty){const s=i.$from.node();if(s.childCount>0&&((r=s.lastChild)==null?void 0:r.type.name)==="hardbreak")return n==null||n(o.replaceRangeWith(i.to-1,i.to,e.schema.node("paragraph")).setSelection(Ne.near(o.doc.resolve(i.to))).scrollIntoView()),!0}return n==null||n(o.setMeta("hardbreak",!0).replaceSelectionWith(ks.type(t).create()).scrollIntoView()),!0});$(_x,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const Mx=Gn("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:t=>{const e=t.get($e);return()=>e.call(_x.key)}}});$(Mx.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});$(Mx.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const Px=xr("hr");$(Px,{displayName:"Attr<hr>",group:"Hr"});const id=wr("hr",t=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",t.get(Px.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));$(id.node,{displayName:"NodeSchema<hr>",group:"Hr"});$(id.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const MA=vr(t=>new yr(/^(?:---|___\s|\*\*\*\s)$/,(e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,id.type(t).create()),o}));$(MA,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const PA=nt("InsertHr",t=>()=>(e,n)=>{if(!n)return!0;const r=Ws.node.type(t).create(),{tr:i,selection:o}=e,{from:s}=o,a=id.type(t).create();if(!a)return!0;const l=i.replaceSelectionWith(a).insert(s,r),c=Ne.findFrom(l.doc.resolve(s),1,!0);return c&&n(l.setSelection(c).scrollIntoView()),!0});$(PA,{displayName:"Command<insertHrCommand>",group:"Hr"});const Ax=xr("bulletList");$(Ax,{displayName:"Attr<bulletList>",group:"BulletList"});const _l=wr("bullet_list",t=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{spread:e.dataset.spread}}}],toDOM:e=>["ul",{...t.get(Ax.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"false";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread==="true"}).next(n.content).closeNode()}}}));$(_l.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});$(_l.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const AA=vr(t=>K0(/^\s*([-+*])\s$/,_l.type(t)));$(AA,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const Ox=nt("WrapInBulletList",t=>()=>Y0(_l.type(t)));$(Ox,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const Dx=Gn("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:t=>{const e=t.get($e);return()=>e.call(Ox.key)}}});$(Dx.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});$(Dx.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const Lx=xr("orderedList");$(Lx,{displayName:"Attr<orderedList>",group:"OrderedList"});const Ml=wr("ordered_list",t=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...t.get(Lx.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));$(Ml.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});$(Ml.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const OA=vr(t=>K0(/^\s*(\d+)\.\s$/,Ml.type(t),e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])));$(OA,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const jx=nt("WrapInOrderedList",t=>()=>Y0(Ml.type(t)));$(jx,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const Fx=Gn("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:t=>{const e=t.get($e);return()=>e.call(jx.key)}}});$(Fx.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});$(Fx.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const zx=xr("listItem");$(zx,{displayName:"Attr<listItem>",group:"ListItem"});const Ei=wr("list_item",t=>({group:"listItem",content:"(paragraph|blockquote) block*",attrs:{label:{default:""},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Us(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread}}}],toDOM:e=>["li",{...t.get(zx.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"",o=n.label!=null?"ordered":"bullet",s=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:s}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));$(Ei.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});$(Ei.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const $x=nt("SinkListItem",t=>()=>SJ(Ei.type(t)));$($x,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const Bx=nt("LiftListItem",t=>()=>yA(Ei.type(t)));$(Bx,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const Ux=nt("SplitListItem",t=>()=>vJ(Ei.type(t)));$(Ux,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function NJ(t){return(e,n,r)=>{const{selection:i}=e;if(!(i instanceof Oe))return!1;const{empty:o,$from:s}=i;if(!o||s.parentOffset!==0)return!1;const a=s.node(-1);return a.type!==Ei.type(t)||a.firstChild!==s.node()||s.node(-2).childCount>1?!1:yA(Ei.type(t))(e,n,r)}}const Vx=nt("LiftFirstListItem",t=>()=>NJ(t));$(Vx,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const Wx=Gn("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:t=>{const e=t.get($e);return()=>e.call(Ux.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:t=>{const e=t.get($e);return()=>e.call($x.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:t=>{const e=t.get($e);return()=>e.call(Bx.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:t=>{const e=t.get($e);return()=>e.call(Vx.key)}}});$(Wx.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});$(Wx.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const DA=sx("text",()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}}));$(DA,{displayName:"NodeSchema<text>",group:"Text"});const Hx=xr("html");$(Hx,{displayName:"Attr<html>",group:"Html"});const Kx=wr("html",t=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:""}},toDOM:e=>{const n=document.createElement("span"),r={...t.get(Hx.key)(e),"data-value":e.attrs.value,"data-type":"html"};return n.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,n,r)=>{e.addNode(r,{value:n.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,n)=>{e.addNode("html",void 0,n.attrs.value)}}}));$(Kx.node,{displayName:"NodeSchema<html>",group:"Html"});$(Kx.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const RJ=[EA,yx,Ws,rm,xx,Hs,Xh,ks,bx,nd,Tx,rd,Px,id,Rx,Rl,Ax,_l,Lx,Ml,zx,Ei,ax,Nl,ux,td,hx,uo,gx,qa,Hx,Kx,DA].flat(),_J=[IA,AA,OA,NA,MA,TA].flat(),MJ=[wA,xA,kA,SA],PJ=[vx,Cx,Yi,Sx,Ix,_x,PA,RA,_A,jx,Ox,$x,Ux,Bx,Vx,lx,px,dx,bA,CA],AJ=[Ex,Nx,Mx,kx,Wx,Fx,Dx,wx,cx,mx,fx].flat(),Gx=ed("remarkAddOrderInList",()=>()=>t=>{Tl(t,"list",e=>{if(e.ordered){const n=e.start??1;e.children.forEach((r,i)=>{r.label=i+n})}})});$(Gx.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});$(Gx.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const qx=ed("remarkLineBreak",()=>()=>t=>{const e=/[\t ]*(?:\r?\n|\r)/g;Tl(t,"text",(n,r,i)=>{if(!n.value||typeof n.value!="string")return;const o=[];let s=0;e.lastIndex=0;let a=e.exec(n.value);for(;a;){const l=a.index;s!==l&&o.push({type:"text",value:n.value.slice(s,l)}),o.push({type:"break",data:{isInline:!0}}),s=l+a[0].length,a=e.exec(n.value)}if(o.length>0&&i&&typeof r=="number")return s<n.value.length&&o.push({type:"text",value:n.value.slice(s)}),i.children.splice(r,1,...o),r+o.length})});$(qx.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});$(qx.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const Jx=ed("remarkInlineLink",()=>bJ);$(Jx.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});$(Jx.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const OJ=t=>!!t.children,DJ=t=>t.type==="html";function LJ(t,e){return n(t,0,null)[0];function n(r,i,o){if(OJ(r)){const s=[];for(let a=0,l=r.children.length;a<l;a++){const c=r.children[a];if(c){const u=n(c,a,r);if(u)for(let d=0,f=u.length;d<f;d++){const h=u[d];h&&s.push(h)}}}r.children=s}return e(r,i,o)}}const Yx=ed("remarkHTMLTransformer",()=>()=>t=>{LJ(t,(e,n,r)=>DJ(e)?((r==null?void 0:r.type)==="root"&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});$(Yx.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});$(Yx.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const Xx=ed("remarkMarker",()=>()=>(t,e)=>{const n=r=>e.value.charAt(r.position.start.offset);Tl(t,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=n(r)})});$(Xx.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});$(Xx.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const LA=Il(()=>{let t=!1;const e=new gr("MILKDOWN_INLINE_NODES_CURSOR"),n=new mr({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,o=i.nodeBefore,s=i.nodeAfter;return!!(o&&s&&o.isInline&&!o.isText&&s.isInline&&!s.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>t?(t=!1,requestAnimationFrame(()=>{if(n.getState(r.state)){const o=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:r=>(n.getState(r.state)&&(t=!0),!1),beforeinput:(r,i)=>{if(n.getState(r.state)&&i instanceof InputEvent&&i.data&&!t){const o=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(r){if(n.getState(r)){const i=r.selection.$from.pos,o=document.createElement("span"),s=Sn.widget(i,o,{side:-1}),a=document.createElement("span"),l=Sn.widget(i,a);return setTimeout(()=>{o.contentEditable="true",a.contentEditable="true"}),pt.create(r.doc,[s,l])}return pt.empty}}});return n});$(LA,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const jA=Il(t=>new mr({key:new gr("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof Mt))return;const{from:s}=o;return r.tr.setNodeMarkup(s,ks.type(t),void 0,[])}if(o instanceof ui){let s=r.tr;const{from:a,to:l}=o;return r.doc.nodesBetween(a,l,(c,u)=>{c.type===ks.type(t)&&(s=s.setNodeMarkup(u,ks.type(t),void 0,[]))}),s}}}));$(jA,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const Qx=_i(["table","code_block"],"hardbreakFilterNodes");$(Qx,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const FA=Il(t=>{const e=t.get(Qx.key);return new mr({key:new gr("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,r)=>{const i=n.getMeta("hardbreak"),[o]=n.steps;if(i&&o){const{from:s}=o,a=r.doc.resolve(s);let l=a.depth,c=!0;for(;l>0;)e.includes(a.node(l).type.name)&&(c=!1),l--;return c}return!0}})});$(FA,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const zA=Il(t=>{const e=new gr("MILKDOWN_HEADING_ID"),n=r=>{if(r.composing)return;const i=t.get(rm.key),o=r.state.tr.setMeta("addToHistory",!1);let s=!1;r.state.doc.descendants((a,l)=>{if(a.type===Hs.type(t)){if(a.textContent.trim().length===0)return;const c=a.attrs,u=i(a);c.id!==u&&(s=!0,o.setMeta(e,!0).setNodeMarkup(l,void 0,{...c,id:u}))}}),s&&r.dispatch(o)};return new mr({key:e,view:r=>(n(r),{update:(i,o)=>{i.state.doc.eq(o.doc)||n(i)}})})});$(zA,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const $A=Il(t=>{const e=n=>{if(n.composing||!n.editable)return;const r=Ml.type(t),i=_l.type(t),o=Ei.type(t),s=n.state,a=(u,d)=>{let f=!1;const h=`${d+1}.`;return u.label!==h&&(u.label=h,f=!0),f};let l=s.tr,c=!1;s.doc.descendants((u,d,f,h)=>{if(u.type===i){const p=u.maybeChild(0);(p==null?void 0:p.type)===o&&p.attrs.listType==="ordered"&&(c=!0,l.setNodeMarkup(d,r,{spread:"true"}),u.descendants((g,x,v,w)=>{if(g.type===o){const S={...g.attrs};a(S,w)&&(l=l.setNodeMarkup(x,void 0,S))}return!1}))}else if(u.type===o&&(f==null?void 0:f.type)===r){const p={...u.attrs};let g=!1;p.listType!=="ordered"&&(p.listType="ordered",g=!0),f!=null&&f.maybeChild(0)&&(g=a(p,h)),g&&(l=l.setNodeMarkup(d,void 0,p),c=!0)}}),c&&n.dispatch(l.setMeta("addToHistory",!1))};return new mr({key:new gr("MILKDOWN_KEEP_LIST_ORDER"),view:n=>(e(n),{update:r=>{e(r)}})})});$($A,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const jJ=[jA,Qx,FA,LA,Gx,Jx,qx,Yx,Xx,zA,$A].flat(),FJ=[RJ,_J,MJ,PJ,AJ,jJ].flat();var Qh=200,Et=function(){};Et.prototype.append=function(e){return e.length?(e=Et.from(e),!this.length&&e||e.length<Qh&&this.leafAppend(e)||this.length<Qh&&e.leafPrepend(this)||this.appendInner(e)):this};Et.prototype.prepend=function(e){return e.length?Et.from(e).append(this):this};Et.prototype.appendInner=function(e){return new zJ(this,e)};Et.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Et.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Et.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Et.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Et.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Et.from=function(e){return e instanceof Et?e:e&&e.length?new BA(e):Et.empty};var BA=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Qh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Qh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Et);Et.empty=new BA([]);var zJ=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Et);const $J=500;class rr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Rr(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new Rr(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new rr(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Rr(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>UJ&&(a=BJ(a,c),s-=c),new rr(a.append(o),s)}remapping(e,n){let r=new Va;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new rr(this.items.append(e.map(n=>new Rr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),x=f.selection&&f.selection.map(o.slice(l+1,h));x&&a++,r.push(new Rr(p,g,x))}else r.push(new Rr(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new Rr(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new rr(u,a);return d.emptyItemCount()>$J&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Rr(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new rr(Et.from(i.reverse()),o)}}rr.empty=new rr(Et.empty,0);function BJ(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Rr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Rr(n.getMap().invert(),n,this.selection)}}}class Xi{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const UJ=20;function VJ(t,e,n,r){let i=n.getMeta(bs),o;if(i)return i.historyState;n.getMeta(KJ)&&(t=new Xi(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(bs))return s.getMeta(bs).redo?new Xi(t.done.addTransform(n,void 0,r,Jf(e)),t.undone,MC(n.mapping.maps),t.prevTime,t.prevComposition):new Xi(t.done,t.undone.addTransform(n,void 0,r,Jf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!WJ(n,t.prevRanges)),c=s?$g(t.prevRanges,n.mapping):MC(n.mapping.maps);return new Xi(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Jf(e)),rr.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Xi(t.done.rebased(n,o),t.undone.rebased(n,o),$g(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Xi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),$g(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function WJ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function MC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function $g(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function HJ(t,e,n){let r=Jf(e),i=bs.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Xi(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(bs,{redo:n,historyState:l})}let Bg=!1,PC=null;function Jf(t){let e=t.plugins;if(PC!=e){Bg=!1,PC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Bg=!0;break}}return Bg}const bs=new gr("history"),KJ=new gr("closeHistory");function GJ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new mr({key:bs,state:{init(){return new Xi(rr.empty,rr.empty,null,0,-1)},apply(e,n,r){return VJ(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?VA:r=="historyRedo"?WA:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function UA(t,e){return(n,r)=>{let i=bs.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=HJ(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const VA=UA(!1,!0),WA=UA(!0,!0);function Pl(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-history",...e}}),t}const Zx=nt("Undo",()=>()=>VA);Pl(Zx,{displayName:"Command<undo>"});const e1=nt("Redo",()=>()=>WA);Pl(e1,{displayName:"Command<redo>"});const t1=_i({},"historyProviderConfig");Pl(t1,{displayName:"Ctx<historyProviderConfig>"});const HA=Il(t=>GJ(t.get(t1.key)));Pl(HA,{displayName:"Ctx<historyProviderPlugin>"});const n1=Gn("historyKeymap",{Undo:{shortcuts:"Mod-z",command:t=>{const e=t.get($e);return()=>e.call(Zx.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:t=>{const e=t.get($e);return()=>e.call(e1.key)}}});Pl(n1.ctx,{displayName:"KeymapCtx<history>"});Pl(n1.shortcuts,{displayName:"Keymap<history>"});const qJ=[t1,HA,n1,Zx,e1].flat(),JJ="",Ja=({content:t,setContent:e,isEditable:n})=>{const r=m.useRef(n);return u6(i=>jq.make().config(o=>{o.set(Wf,i),o.set($f,t||JJ),o.get(Hv).markdownUpdated((s,a)=>{e(a)}),o.update(Vf,s=>({...s,editable:()=>r.current}))}).use(mA).use(FJ).use(qJ)),m.useEffect(()=>{r.current=n},[n]),y.jsx(c6,{})};var r1="Dialog",[KA,GA]=xl(r1),[YJ,Sr]=KA(r1),qA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Ip({prop:r,defaultProp:i,onChange:o});return y.jsx(YJ,{scope:e,triggerRef:a,contentRef:l,contentId:Fa(),titleId:Fa(),descriptionId:Fa(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};qA.displayName=r1;var JA="DialogTrigger",YA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(JA,n),o=Be(e,i.triggerRef);return y.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":s1(i.open),...r,ref:o,onClick:oe(t.onClick,i.onOpenToggle)})});YA.displayName=JA;var i1="DialogPortal",[XJ,XA]=KA(i1,{forceMount:void 0}),QA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Sr(i1,e);return y.jsx(XJ,{scope:e,forceMount:n,children:m.Children.map(r,s=>y.jsx(Nn,{present:n||o.open,children:y.jsx(Tp,{asChild:!0,container:i,children:s})}))})};QA.displayName=i1;var Zh="DialogOverlay",ZA=m.forwardRef((t,e)=>{const n=XA(Zh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Sr(Zh,t.__scopeDialog);return o.modal?y.jsx(Nn,{present:r||o.open,children:y.jsx(QJ,{...i,ref:e})}):null});ZA.displayName=Zh;var QJ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(Zh,n);return y.jsx(KR,{as:Ro,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ee.div,{"data-state":s1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ls="DialogContent",eO=m.forwardRef((t,e)=>{const n=XA(Ls,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Sr(Ls,t.__scopeDialog);return y.jsx(Nn,{present:r||o.open,children:o.modal?y.jsx(ZJ,{...i,ref:e}):y.jsx(eY,{...i,ref:e})})});eO.displayName=Ls;var ZJ=m.forwardRef((t,e)=>{const n=Sr(Ls,t.__scopeDialog),r=m.useRef(null),i=Be(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return FR(o)},[]),y.jsx(tO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault())})}),eY=m.forwardRef((t,e)=>{const n=Sr(Ls,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return y.jsx(tO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),tO=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Sr(Ls,n),l=m.useRef(null),c=Be(e,l);return uR(),y.jsxs(y.Fragment,{children:[y.jsx(m0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:y.jsx(Ep,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":s1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(nY,{titleId:a.titleId}),y.jsx(iY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),o1="DialogTitle",nO=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(o1,n);return y.jsx(Ee.h2,{id:i.titleId,...r,ref:e})});nO.displayName=o1;var rO="DialogDescription",iO=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(rO,n);return y.jsx(Ee.p,{id:i.descriptionId,...r,ref:e})});iO.displayName=rO;var oO="DialogClose",sO=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Sr(oO,n);return y.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>i.onOpenChange(!1))})});sO.displayName=oO;function s1(t){return t?"open":"closed"}var aO="DialogTitleWarning",[tY,lO]=bF(aO,{contentName:Ls,titleName:o1,docsSlug:"dialog"}),nY=({titleId:t})=>{const e=lO(aO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rY="DialogDescriptionWarning",iY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lO(rY).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},oY=qA,sY=YA,aY=QA,lY=ZA,cY=eO,uY=nO,dY=iO,cO=sO,uO="AlertDialog",[fY,rX]=xl(uO,[GA]),Mi=GA(),dO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mi(e);return y.jsx(oY,{...r,...n,modal:!0})};dO.displayName=uO;var hY="AlertDialogTrigger",fO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(sY,{...i,...r,ref:e})});fO.displayName=hY;var pY="AlertDialogPortal",hO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mi(e);return y.jsx(aY,{...r,...n})};hO.displayName=pY;var mY="AlertDialogOverlay",pO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(lY,{...i,...r,ref:e})});pO.displayName=mY;var Ya="AlertDialogContent",[gY,yY]=fY(Ya),mO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=Mi(n),s=m.useRef(null),a=Be(e,s),l=m.useRef(null);return y.jsx(tY,{contentName:Ya,titleName:gO,docsSlug:"alert-dialog",children:y.jsx(gY,{scope:n,cancelRef:l,children:y.jsxs(cY,{role:"alertdialog",...o,...i,ref:a,onOpenAutoFocus:oe(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[y.jsx(dI,{children:r}),y.jsx(wY,{contentRef:s})]})})})});mO.displayName=Ya;var gO="AlertDialogTitle",yO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(uY,{...i,...r,ref:e})});yO.displayName=gO;var vO="AlertDialogDescription",wO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(dY,{...i,...r,ref:e})});wO.displayName=vO;var vY="AlertDialogAction",xO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Mi(n);return y.jsx(cO,{...i,...r,ref:e})});xO.displayName=vY;var SO="AlertDialogCancel",kO=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=yY(SO,n),o=Mi(n),s=Be(e,i);return y.jsx(cO,{...o,...r,ref:s})});kO.displayName=SO;var wY=({contentRef:t})=>{const e=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${vO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},xY=dO,SY=fO,kY=hO,bO=pO,CO=mO,EO=xO,TO=kO,IO=yO,NO=wO;const bY=xY,CY=SY,EY=kY,RO=m.forwardRef(({className:t,...e},n)=>y.jsx(bO,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));RO.displayName=bO.displayName;const _O=m.forwardRef(({className:t,...e},n)=>y.jsxs(EY,{children:[y.jsx(RO,{}),y.jsx(CO,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));_O.displayName=CO.displayName;const MO=({className:t,...e})=>y.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});MO.displayName="AlertDialogHeader";const PO=({className:t,...e})=>y.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});PO.displayName="AlertDialogFooter";const AO=m.forwardRef(({className:t,...e},n)=>y.jsx(IO,{ref:n,className:ge("text-lg font-semibold",t),...e}));AO.displayName=IO.displayName;const OO=m.forwardRef(({className:t,...e},n)=>y.jsx(NO,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));OO.displayName=NO.displayName;const DO=m.forwardRef(({className:t,...e},n)=>y.jsx(EO,{ref:n,className:ge(Lp(),t),...e}));DO.displayName=EO.displayName;const LO=m.forwardRef(({className:t,...e},n)=>y.jsx(TO,{ref:n,className:ge(Lp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));LO.displayName=TO.displayName;function TY(){const t=pr(),{auth:e}=m.useContext(Ri),{username:n,slug:r}=kp(),[i,o]=m.useState(void 0),[s,a]=m.useState(!0),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,g]=m.useState(""),[x,v]=m.useState(""),[w,S]=m.useState([]),[C,I]=m.useState(""),[b,R]=m.useState(""),[k,_]=m.useState(""),[A,P]=m.useState(0),[O,U]=m.useState(0);m.useEffect(()=>{(async()=>{if(!(!n||!r||!e)){try{const ee=await F(),De=await ir(ee??void 0).api.GetRecipe(n,r);(await p0(e)).username!=n&&K(),V(De)}catch(ee){console.error(ee)}a(!1)}})()},[n,r,e]);const F=async()=>{var Z;if(!i){const ee=await((Z=e==null?void 0:e.currentUser)==null?void 0:Z.getIdToken());return o(ee),ee}return i},V=Z=>{d(Z.id),h(Z.profile_id),g(Z.title),v(Z.slug),S(Z.tags??[]),I(Z.ingredients),R(Z.instructions),_(Z.notes),U(Z.cook_temp_deg_f),P(Z.cook_time_minutes)},K=async()=>{t("/recipes/"+n+"/"+r)},te=Z=>{g(Z.target.value)},j=async Z=>{const ee=Z.target.value;if(c(""),v(ee),Z.type==="blur"&&ee!==r){if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(ee)){c("Please only use lowercase letters and numbers separated by hyphens.");return}try{const Ue=await F();(await ir(Ue??void 0).api.CheckIfSlugIsAvailable({slug:ee})).available||c(`${ee} is already in use`)}catch(Ue){console.error(Ue)}}},D=Z=>{P(Number(Z.target.value))},E=Z=>{U(Number(Z.target.value))},J=async()=>{S([...w,"Tag"])},le=(Z,ee)=>{w[Z]=ee.target.value.trim(),(w[Z]===void 0||w[Z]===null||w[Z]==="")&&w.splice(Z,1),S([...w])},T=async()=>{try{const Z=w.filter(De=>De!=null&&De!=null&&De!="");S(Z);const ee=await F();await ir(ee??void 0).api.SaveRecipe({id:u||m6(),profile_id:f,slug:x,title:p,instructions:b,ingredients:C,notes:k,cook_temp_deg_f:O,cook_time_minutes:A,tags:Array.from(new Set(Z))}),t("/recipes/"+n+"/"+x)}catch(Z){console.error(Z)}},Se=async()=>{if(u)try{const Z=await F();await ir(Z??void 0).api.DeleteRecipe(u),t("/recipes/")}catch(Z){console.error(Z)}};return y.jsxs("div",{className:"h-screen mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(xt,{size:"icon",variant:"ghost",onClick:K,role:"link",title:"Back to Recipe",children:y.jsx(tR,{size:30})}),y.jsx("div",{className:"text-2xl font-semibold",children:"Edit Recipe"})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx(xt,{size:"header",variant:"secondary",disabled:l.length>0,onClick:T,children:"Save Changes"})})]}),y.jsx(or,{}),!s&&y.jsxs(Dp,{className:"h-full w-full",children:[y.jsxs("div",{className:"p-4",children:[y.jsx(_t,{htmlFor:"title",className:"text-2xl font-semibold",children:"Recipe Name"}),y.jsx(sn,{id:"title",className:"mt-2 h-12 text-2xl",value:p,onChange:te})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(_t,{htmlFor:"title",className:"text-2xl font-semibold",children:"URL Segment (ex. /recipe-name)"}),y.jsx(sn,{id:"title",className:"mt-2 h-12 text-2xl",value:x,onChange:j,onBlur:j}),l.length>0&&y.jsxs("div",{className:"flex gap-4 items-center pt-2",children:[y.jsx(oR,{}),y.jsx("div",{className:"text-xl",children:l})]})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(_t,{className:"text-2xl font-semibold",children:"Tags"}),y.jsxs("div",{className:"w-full flex-wrap flex pt-2 gap-2",children:[w==null?void 0:w.map((Z,ee)=>y.jsx(sn,{defaultValue:Z,onBlur:Te=>le(ee,Te),className:"rounded-full px-3 h-10 text-2xl w-36"},Z+ee)),y.jsx(xt,{size:"icon",className:"rounded-full",onClick:J,children:y.jsx(rR,{})})]})]}),y.jsxs("div",{className:"p-4 pt-0 flex gap-2",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"time",className:"text-2xl font-semibold",children:"Time (min)"}),y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(iR,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{id:"time",className:"mt-2 pl-11 h-12 text-2xl",value:A,onChange:D})]})]}),y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"temp",className:"text-2xl font-semibold",children:"Temperature (F)"}),y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(nR,{className:"absolute left-3 top-3 h-6 w-6 text-muted-foreground"}),y.jsx(sn,{id:"temp",className:"mt-2 pl-11 h-12 text-2xl",value:O,onChange:E})]})]})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(_t,{className:"text-2xl font-semibold",children:"Ingredients"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:C,setContent:I,isEditable:!0})})})]}),y.jsxs("div",{className:"p-4 pt-0",children:[y.jsx(_t,{className:"text-2xl font-semibold",children:"Instructions"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:b,setContent:R,isEditable:!0})})})]}),y.jsxs("div",{className:"p-4 py-0",children:[y.jsx(_t,{className:"text-2xl font-semibold",children:"Notes"}),y.jsx("div",{className:"ProseMirrorEdit text-2xl pt-2",children:y.jsx(Ba,{children:y.jsx(Ja,{content:k,setContent:_,isEditable:!0})})})]}),y.jsx(or,{className:"my-16 mx-4"}),y.jsxs("div",{className:"px-4 flex flex-row gap-2 items-center justify-center",children:[y.jsx(Ek,{}),y.jsx("div",{className:"text-3xl font-semibold",children:"DANGER ZONE"}),y.jsx(Ek,{})]}),y.jsx("div",{className:"flex p-4 py-16 justify-center",children:y.jsx("div",{className:"flex justify-center",children:y.jsxs(bY,{children:[y.jsx(CY,{asChild:!0,children:y.jsxs(xt,{variant:"destructive",children:[y.jsx(sU,{className:"mr-2"})," Delete Recipe"]})}),y.jsxs(_O,{children:[y.jsxs(MO,{children:[y.jsx(AO,{className:"text-2xl",children:"Are you absolutely sure?"}),y.jsx(OO,{className:"text-xl",children:"This action cannot be undone. This will permanently delete your recipe."})]}),y.jsxs(PO,{children:[y.jsx(LO,{children:"Cancel"}),y.jsx(DO,{className:ge(Lp({variant:"destructive"})),onClick:Se,children:"Confirm"})]})]})]})})})]})]})}function IY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),l=async c=>{c.preventDefault();try{await x3(t,n,i),e("/")}catch{a("You entered a wrong username or password.")}};return y.jsx("div",{className:"h-full mx-auto max-w-xl",children:y.jsxs("form",{children:[s&&y.jsx("div",{role:"alert",className:"px-4 pt-6 pb-0  text-2xl",children:s}),y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Log in"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"email",className:"text-2xl font-semibold",children:"Email Address"}),y.jsx("div",{className:"flex-grow",children:y.jsx(sn,{type:"email",className:"mt-2 h-12 text-2xl",id:"exampleInputEmail1",placeholder:"name@example.com",value:n,onChange:c=>r(c.target.value)})})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"inputPassword",className:"text-2xl font-semibold",children:"Password"}),y.jsx("div",{className:"flex-grow",children:y.jsx(sn,{type:"password",className:"mt-2 h-12 text-2xl",id:"inputPassword",placeholder:"Password",value:i,onChange:c=>o(c.target.value)})})]})}),y.jsx("div",{className:"p-4 pt-0",children:y.jsx(xt,{type:"submit",onClick:l,children:"Log in"})}),y.jsx("div",{className:"p-4 pt-0 text-xl",children:y.jsx(kh,{to:"/signup",children:"Sign up for an account"})})]})})}function NY(){var b;const t=pr(),{username:e,slug:n}=kp(),{auth:r}=m.useContext(Ri),[i,o]=m.useState(!0),[s,a]=m.useState(),[l,c]=m.useState([]),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,g]=m.useState(""),[x,v]=m.useState(0),[w,S]=m.useState(0);m.useEffect(()=>{(async()=>{var k;if(!(!e||!n)){try{const _=await((k=r==null?void 0:r.currentUser)==null?void 0:k.getIdToken()),P=await ir(_??void 0).api.GetRecipe(e,n);C(P)}catch(_){console.error(_)}o(!1)}})()},[e,n]);const C=R=>{a(R),c(R.tags??[]),d(R.ingredients),h(R.instructions),g(R.notes),S(R.cook_temp_deg_f),v(R.cook_time_minutes)},I=async()=>{t("/recipes/"+e+"/"+n+"/edit")};return y.jsxs("div",{className:"h-full mx-auto max-w-4xl flex flex-col",children:[y.jsxs("div",{className:"flex p-4 gap-4 justify-between",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(B_,{}),y.jsx(G_,{})]}),((b=r==null?void 0:r.currentUser)==null?void 0:b.uid)&&r.currentUser.uid===(s==null?void 0:s.profile_id)&&y.jsx(xt,{size:"icon",variant:"ghost",onClick:I,title:"Edit Recipe",children:y.jsx(oU,{})})]}),y.jsx(or,{}),!i&&y.jsxs(Dp,{className:"h-full w-full",children:[y.jsx("div",{className:"text-4xl px-4 pt-4 font-semibold text-center",children:s==null?void 0:s.title}),(l==null?void 0:l.length)>0&&y.jsx("div",{className:"px-4 pt-2 text-3xl flex flex-row items-center justify-center gap-x-2",children:y.jsx("div",{className:"flex gap-2",children:l==null?void 0:l.map((R,k)=>y.jsx("div",{className:"rounded-full border-2 border-input px-3 bg-secondary text-secondary-foreground text-xl font-semibold",children:R},R+k))})}),(x>0||w>0)&&y.jsxs("div",{className:"px-4 pt-2 text-3xl flex flex-row items-center justify-center gap-x-2 font-semibold",children:[x>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx(iR,{size:26})," ",x,"min"]}),w>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx(nR,{size:26})," ",w,"F"]})]}),y.jsx(or,{className:"m-4"}),y.jsxs("div",{className:"px-4 pb-4 flex flex-col flex-grow items-start gap-2 transition-all ",children:[y.jsx("div",{className:"text-3xl font-semibold",children:"Ingredients"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:u,setContent:d,isEditable:!1})})}),y.jsx(or,{className:"my-2"}),y.jsx("div",{className:"text-3xl font-semibold",children:"Instructions"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:f,setContent:h,isEditable:!1})})}),p.length>0&&y.jsxs(y.Fragment,{children:[y.jsx(or,{className:"my-2"}),y.jsx("div",{className:"text-3xl font-semibold",children:"Notes"}),y.jsx("div",{className:"text-2xl text-foreground w-full",children:y.jsx(Ba,{children:y.jsx(Ja,{content:p,setContent:g,isEditable:!1})})})]})]})]})]})}function RY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),[l,c]=m.useState(""),u=async d=>{if(d.preventDefault(),i===s)try{await w3(t,n,i),e("/")}catch{c("Sorry, something went wrong. Please try again.")}else c("Passwords don't match. Please try again.")};return y.jsx("div",{className:"h-full mx-auto max-w-4xl ",children:y.jsxs("form",{className:"loginForm",children:[l&&y.jsx("div",{role:"alert",children:l}),y.jsx("div",{className:"p-4 py-6 text-center text-4xl font-semibold",children:"Sign up"}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"signupEmail",className:"text-2xl font-semibold",children:"Email Address"}),y.jsx(sn,{id:"signupEmail",type:"email",className:"mt-2 h-12 text-2xl","aria-describedby":"emailHelp",placeholder:"name@example.com",value:n,onChange:d=>r(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"signupPassword",className:"text-2xl font-semibold",children:"Password"}),y.jsx(sn,{id:"signupPassword",type:"password",className:"mt-2 h-12 text-2xl",placeholder:"Password",value:i,onChange:d=>o(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsxs("div",{className:"flex-grow",children:[y.jsx(_t,{htmlFor:"confirmPassword",className:"text-2xl font-semibold",children:"Confirm Password"}),y.jsx(sn,{id:"confirmPassword",type:"password",className:"mt-2 h-12 text-2xl",placeholder:"Confirm Password",value:s,onChange:d=>a(d.target.value)})]})}),y.jsx("div",{className:"p-4 pt-0 flex gap-2",children:y.jsx(xt,{type:"submit",onClick:d=>u(d),children:"Sign up"})}),y.jsx("div",{className:"p-4 pt-0 text-xl",children:y.jsx(kh,{to:"/login",children:"Already have an account?"})})]})})}const jO=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("rounded-xl border bg-card text-card-foreground shadow",t),...e}));jO.displayName="Card";const _Y=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));_Y.displayName="CardHeader";const MY=m.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:ge("font-semibold leading-none tracking-tight",t),...e}));MY.displayName="CardTitle";const PY=m.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));PY.displayName="CardDescription";const FO=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));FO.displayName="CardContent";const AY=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));AY.displayName="CardFooter";const zO=m.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:ge("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));zO.displayName="Textarea";function OY(){const{auth:t}=m.useContext(Ri),e=pr(),[n,r]=m.useState(!1),[i,o]=m.useState(!1),[s,a]=m.useState([]),[l,c]=m.useState(""),u=()=>{e("/recipes/")},d=g=>{const x=Array.from(g.target.files||[]),v=[];x.forEach(w=>{const S=new FileReader;S.onloadend=()=>{var I;const C=((I=S.result)==null?void 0:I.toString().split(",")[1])||"";v.push({filename:w.name,content:C,mime_type:w.type}),v.length===x.length&&a(b=>[...b,...v])},S.readAsDataURL(w)})},f=g=>{c(g.target.value)},h=async()=>{var g;try{r(!0);const x=await((g=t==null?void 0:t.currentUser)==null?void 0:g.getIdToken()),w=await ir(x??void 0).api.GenerateFromImages({files:s});e(`/recipes/${w.username}/${w.slug}`)}catch(x){console.error("Submit images failed:",x)}finally{r(!1)}},p=async()=>{var g;try{o(!0);const x=await((g=t==null?void 0:t.currentUser)==null?void 0:g.getIdToken()),w=await ir(x??void 0).api.GenerateFromText({text:l});e(`/recipes/${w.username}/${w.slug}`)}catch(x){console.error("Submit text failed:",x)}finally{o(!1)}};return y.jsxs("div",{className:"h-full mx-auto max-w-4xl ",children:[y.jsxs("div",{className:"p-4 flex flex-row gap-4 items-center",children:[y.jsx(xt,{size:"icon",variant:"ghost",onClick:u,role:"link",title:"Back to Recipes",children:y.jsx(tR,{size:30})}),y.jsx("div",{className:"text-2xl font-semibold",children:"Add Recipe"})]}),y.jsx(jO,{className:"rounded-none pt-4",children:y.jsxs(FO,{className:"p-4 pt-0 flex flex-col",children:[y.jsx(_t,{htmlFor:"file",className:"text-2xl font-semibold",children:"From Images:"}),y.jsx(sn,{id:"file",type:"file",accept:"image/*;capture=camera",multiple:!0,onChange:d,className:"p-0 my-2 cursor-pointer file:cursor-pointer h-13 text-2xl file:mr-3 file:px-4 file:py-2 f font-semibold file:text-2xl file:font-semibold file:bg-secondary file:text-secondary-foreground file:shadow file:hover:bg-secondary/80"}),s.length!==0&&y.jsx("div",{children:y.jsx(xt,{variant:"default",onClick:h,disabled:i||n,children:n?y.jsxs(y.Fragment,{children:[y.jsx(Ck,{className:"mr-2 h-5 w-5 animate-spin"})," Adding recipe"]}):"Submit Images"})}),n&&y.jsx("div",{className:"text-2xl",children:"You will be redirected to the new recipe once adding is complete."}),y.jsxs("div",{className:"my-4 text-2xl flex gap-2 items-center",children:[y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})}),y.jsx("span",{className:"text-muted-foreground",children:"OR"}),y.jsx("div",{className:"flex-grow",children:y.jsx(or,{className:"bg-muted-foreground"})})]}),y.jsx(_t,{htmlFor:"recipeText",className:"text-2xl font-semibold",children:"From Text:"}),y.jsx(zO,{id:"recipeText",className:"text-xl my-2",placeholder:"Insert your recipe text here.",value:l,onChange:f,disabled:i||n}),l.trim().length>0&&y.jsx("div",{children:y.jsx(xt,{variant:"default",onClick:p,disabled:i||n,children:i?y.jsxs(y.Fragment,{children:[y.jsx(Ck,{className:"mr-2 h-5 w-5 animate-spin"})," Adding recipe"]}):"Submit Text"})}),i&&y.jsx("div",{className:"text-2xl",children:"You will be redirected to the new recipe once adding is complete."})]})})]})}function DY(){const{username:t}=kp();return y.jsx(q_,{cacheKey:`user_recipes_${t}`,fetchRecipes:e=>e.api.GetRecipesByProfileId(t)})}const LY=$j([{path:"/",element:y.jsx(Pj,{to:"/recipes",replace:!0})},{path:"/recipes",element:y.jsx(i6,{})},{path:"/recipes/:username",element:y.jsx(DY,{})},{path:"/recipes/:username/:slug",element:y.jsx(NY,{})},{path:"/recipes/:username/:slug/edit",element:y.jsx(TY,{})},{path:"/upload",element:y.jsx(OY,{})},{path:"/login",element:y.jsx(IY,{})},{path:"/signup",element:y.jsx(RY,{})},{path:"/complete-profile",element:y.jsx(a6,{})}]);Ug.createRoot(document.getElementById("root")).render(y.jsx(Pn.StrictMode,{children:y.jsxs(rF,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[y.jsx(F4,{children:y.jsx(Jj,{router:LY})}),y.jsx(Uz,{})]})}));
